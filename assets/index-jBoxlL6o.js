(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function t(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=t(s);fetch(s.href,i)}})();var nN=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function wm(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var zT={exports:{}},uh={},UT={exports:{}},Sn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rN;function n5(){if(rN)return Sn;rN=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),a=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),h=Symbol.iterator;function m(W){return W===null||typeof W!="object"?null:(W=h&&W[h]||W["@@iterator"],typeof W=="function"?W:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,A={};function P(W,Y,Z){this.props=W,this.context=Y,this.refs=A,this.updater=Z||x}P.prototype.isReactComponent={},P.prototype.setState=function(W,Y){if(typeof W!="object"&&typeof W!="function"&&W!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,W,Y,"setState")},P.prototype.forceUpdate=function(W){this.updater.enqueueForceUpdate(this,W,"forceUpdate")};function S(){}S.prototype=P.prototype;function C(W,Y,Z){this.props=W,this.context=Y,this.refs=A,this.updater=Z||x}var I=C.prototype=new S;I.constructor=C,w(I,P.prototype),I.isPureReactComponent=!0;var _=Array.isArray,D=Object.prototype.hasOwnProperty,F={current:null},O={key:!0,ref:!0,__self:!0,__source:!0};function L(W,Y,Z){var se,me={},Ce=null,be=null;if(Y!=null)for(se in Y.ref!==void 0&&(be=Y.ref),Y.key!==void 0&&(Ce=""+Y.key),Y)D.call(Y,se)&&!O.hasOwnProperty(se)&&(me[se]=Y[se]);var Se=arguments.length-2;if(Se===1)me.children=Z;else if(1<Se){for(var Le=Array(Se),Ue=0;Ue<Se;Ue++)Le[Ue]=arguments[Ue+2];me.children=Le}if(W&&W.defaultProps)for(se in Se=W.defaultProps,Se)me[se]===void 0&&(me[se]=Se[se]);return{$$typeof:n,type:W,key:Ce,ref:be,props:me,_owner:F.current}}function B(W,Y){return{$$typeof:n,type:W.type,key:Y,ref:W.ref,props:W.props,_owner:W._owner}}function j(W){return typeof W=="object"&&W!==null&&W.$$typeof===n}function M(W){var Y={"=":"=0",":":"=2"};return"$"+W.replace(/[=:]/g,function(Z){return Y[Z]})}var ee=/\/+/g;function ue(W,Y){return typeof W=="object"&&W!==null&&W.key!=null?M(""+W.key):Y.toString(36)}function J(W,Y,Z,se,me){var Ce=typeof W;(Ce==="undefined"||Ce==="boolean")&&(W=null);var be=!1;if(W===null)be=!0;else switch(Ce){case"string":case"number":be=!0;break;case"object":switch(W.$$typeof){case n:case e:be=!0}}if(be)return be=W,me=me(be),W=se===""?"."+ue(be,0):se,_(me)?(Z="",W!=null&&(Z=W.replace(ee,"$&/")+"/"),J(me,Y,Z,"",function(Ue){return Ue})):me!=null&&(j(me)&&(me=B(me,Z+(!me.key||be&&be.key===me.key?"":(""+me.key).replace(ee,"$&/")+"/")+W)),Y.push(me)),1;if(be=0,se=se===""?".":se+":",_(W))for(var Se=0;Se<W.length;Se++){Ce=W[Se];var Le=se+ue(Ce,Se);be+=J(Ce,Y,Z,Le,me)}else if(Le=m(W),typeof Le=="function")for(W=Le.call(W),Se=0;!(Ce=W.next()).done;)Ce=Ce.value,Le=se+ue(Ce,Se++),be+=J(Ce,Y,Z,Le,me);else if(Ce==="object")throw Y=String(W),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(W).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.");return be}function ae(W,Y,Z){if(W==null)return W;var se=[],me=0;return J(W,se,"","",function(Ce){return Y.call(Z,Ce,me++)}),se}function oe(W){if(W._status===-1){var Y=W._result;Y=Y(),Y.then(function(Z){(W._status===0||W._status===-1)&&(W._status=1,W._result=Z)},function(Z){(W._status===0||W._status===-1)&&(W._status=2,W._result=Z)}),W._status===-1&&(W._status=0,W._result=Y)}if(W._status===1)return W._result.default;throw W._result}var re={current:null},X={transition:null},H={ReactCurrentDispatcher:re,ReactCurrentBatchConfig:X,ReactCurrentOwner:F};function Q(){throw Error("act(...) is not supported in production builds of React.")}return Sn.Children={map:ae,forEach:function(W,Y,Z){ae(W,function(){Y.apply(this,arguments)},Z)},count:function(W){var Y=0;return ae(W,function(){Y++}),Y},toArray:function(W){return ae(W,function(Y){return Y})||[]},only:function(W){if(!j(W))throw Error("React.Children.only expected to receive a single React element child.");return W}},Sn.Component=P,Sn.Fragment=t,Sn.Profiler=s,Sn.PureComponent=C,Sn.StrictMode=r,Sn.Suspense=c,Sn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=H,Sn.act=Q,Sn.cloneElement=function(W,Y,Z){if(W==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+W+".");var se=w({},W.props),me=W.key,Ce=W.ref,be=W._owner;if(Y!=null){if(Y.ref!==void 0&&(Ce=Y.ref,be=F.current),Y.key!==void 0&&(me=""+Y.key),W.type&&W.type.defaultProps)var Se=W.type.defaultProps;for(Le in Y)D.call(Y,Le)&&!O.hasOwnProperty(Le)&&(se[Le]=Y[Le]===void 0&&Se!==void 0?Se[Le]:Y[Le])}var Le=arguments.length-2;if(Le===1)se.children=Z;else if(1<Le){Se=Array(Le);for(var Ue=0;Ue<Le;Ue++)Se[Ue]=arguments[Ue+2];se.children=Se}return{$$typeof:n,type:W.type,key:me,ref:Ce,props:se,_owner:be}},Sn.createContext=function(W){return W={$$typeof:a,_currentValue:W,_currentValue2:W,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},W.Provider={$$typeof:i,_context:W},W.Consumer=W},Sn.createElement=L,Sn.createFactory=function(W){var Y=L.bind(null,W);return Y.type=W,Y},Sn.createRef=function(){return{current:null}},Sn.forwardRef=function(W){return{$$typeof:l,render:W}},Sn.isValidElement=j,Sn.lazy=function(W){return{$$typeof:d,_payload:{_status:-1,_result:W},_init:oe}},Sn.memo=function(W,Y){return{$$typeof:p,type:W,compare:Y===void 0?null:Y}},Sn.startTransition=function(W){var Y=X.transition;X.transition={};try{W()}finally{X.transition=Y}},Sn.unstable_act=Q,Sn.useCallback=function(W,Y){return re.current.useCallback(W,Y)},Sn.useContext=function(W){return re.current.useContext(W)},Sn.useDebugValue=function(){},Sn.useDeferredValue=function(W){return re.current.useDeferredValue(W)},Sn.useEffect=function(W,Y){return re.current.useEffect(W,Y)},Sn.useId=function(){return re.current.useId()},Sn.useImperativeHandle=function(W,Y,Z){return re.current.useImperativeHandle(W,Y,Z)},Sn.useInsertionEffect=function(W,Y){return re.current.useInsertionEffect(W,Y)},Sn.useLayoutEffect=function(W,Y){return re.current.useLayoutEffect(W,Y)},Sn.useMemo=function(W,Y){return re.current.useMemo(W,Y)},Sn.useReducer=function(W,Y,Z){return re.current.useReducer(W,Y,Z)},Sn.useRef=function(W){return re.current.useRef(W)},Sn.useState=function(W){return re.current.useState(W)},Sn.useSyncExternalStore=function(W,Y,Z){return re.current.useSyncExternalStore(W,Y,Z)},Sn.useTransition=function(){return re.current.useTransition()},Sn.version="18.3.1",Sn}var sN;function Em(){return sN||(sN=1,UT.exports=n5()),UT.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iN;function r5(){if(iN)return uh;iN=1;var n=Em(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function a(l,c,p){var d,h={},m=null,x=null;p!==void 0&&(m=""+p),c.key!==void 0&&(m=""+c.key),c.ref!==void 0&&(x=c.ref);for(d in c)r.call(c,d)&&!i.hasOwnProperty(d)&&(h[d]=c[d]);if(l&&l.defaultProps)for(d in c=l.defaultProps,c)h[d]===void 0&&(h[d]=c[d]);return{$$typeof:e,type:l,key:m,ref:x,props:h,_owner:s.current}}return uh.Fragment=t,uh.jsx=a,uh.jsxs=a,uh}var aN;function s5(){return aN||(aN=1,zT.exports=r5()),zT.exports}var he=s5(),_e=Em();const Ha=wm(_e);var Fy={},qT={exports:{}},Ei={},$T={exports:{}},WT={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oN;function i5(){return oN||(oN=1,(function(n){function e(X,H){var Q=X.length;X.push(H);e:for(;0<Q;){var W=Q-1>>>1,Y=X[W];if(0<s(Y,H))X[W]=H,X[Q]=Y,Q=W;else break e}}function t(X){return X.length===0?null:X[0]}function r(X){if(X.length===0)return null;var H=X[0],Q=X.pop();if(Q!==H){X[0]=Q;e:for(var W=0,Y=X.length,Z=Y>>>1;W<Z;){var se=2*(W+1)-1,me=X[se],Ce=se+1,be=X[Ce];if(0>s(me,Q))Ce<Y&&0>s(be,me)?(X[W]=be,X[Ce]=Q,W=Ce):(X[W]=me,X[se]=Q,W=se);else if(Ce<Y&&0>s(be,Q))X[W]=be,X[Ce]=Q,W=Ce;else break e}}return H}function s(X,H){var Q=X.sortIndex-H.sortIndex;return Q!==0?Q:X.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;n.unstable_now=function(){return i.now()}}else{var a=Date,l=a.now();n.unstable_now=function(){return a.now()-l}}var c=[],p=[],d=1,h=null,m=3,x=!1,w=!1,A=!1,P=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function I(X){for(var H=t(p);H!==null;){if(H.callback===null)r(p);else if(H.startTime<=X)r(p),H.sortIndex=H.expirationTime,e(c,H);else break;H=t(p)}}function _(X){if(A=!1,I(X),!w)if(t(c)!==null)w=!0,oe(D);else{var H=t(p);H!==null&&re(_,H.startTime-X)}}function D(X,H){w=!1,A&&(A=!1,S(L),L=-1),x=!0;var Q=m;try{for(I(H),h=t(c);h!==null&&(!(h.expirationTime>H)||X&&!M());){var W=h.callback;if(typeof W=="function"){h.callback=null,m=h.priorityLevel;var Y=W(h.expirationTime<=H);H=n.unstable_now(),typeof Y=="function"?h.callback=Y:h===t(c)&&r(c),I(H)}else r(c);h=t(c)}if(h!==null)var Z=!0;else{var se=t(p);se!==null&&re(_,se.startTime-H),Z=!1}return Z}finally{h=null,m=Q,x=!1}}var F=!1,O=null,L=-1,B=5,j=-1;function M(){return!(n.unstable_now()-j<B)}function ee(){if(O!==null){var X=n.unstable_now();j=X;var H=!0;try{H=O(!0,X)}finally{H?ue():(F=!1,O=null)}}else F=!1}var ue;if(typeof C=="function")ue=function(){C(ee)};else if(typeof MessageChannel<"u"){var J=new MessageChannel,ae=J.port2;J.port1.onmessage=ee,ue=function(){ae.postMessage(null)}}else ue=function(){P(ee,0)};function oe(X){O=X,F||(F=!0,ue())}function re(X,H){L=P(function(){X(n.unstable_now())},H)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(X){X.callback=null},n.unstable_continueExecution=function(){w||x||(w=!0,oe(D))},n.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<X?Math.floor(1e3/X):5},n.unstable_getCurrentPriorityLevel=function(){return m},n.unstable_getFirstCallbackNode=function(){return t(c)},n.unstable_next=function(X){switch(m){case 1:case 2:case 3:var H=3;break;default:H=m}var Q=m;m=H;try{return X()}finally{m=Q}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(X,H){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var Q=m;m=X;try{return H()}finally{m=Q}},n.unstable_scheduleCallback=function(X,H,Q){var W=n.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?W+Q:W):Q=W,X){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=Q+Y,X={id:d++,callback:H,priorityLevel:X,startTime:Q,expirationTime:Y,sortIndex:-1},Q>W?(X.sortIndex=Q,e(p,X),t(c)===null&&X===t(p)&&(A?(S(L),L=-1):A=!0,re(_,Q-W))):(X.sortIndex=Y,e(c,X),w||x||(w=!0,oe(D))),X},n.unstable_shouldYield=M,n.unstable_wrapCallback=function(X){var H=m;return function(){var Q=m;m=H;try{return X.apply(this,arguments)}finally{m=Q}}}})(WT)),WT}var lN;function a5(){return lN||(lN=1,$T.exports=i5()),$T.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uN;function o5(){if(uN)return Ei;uN=1;var n=Em(),e=a5();function t(u){for(var f="https://reactjs.org/docs/error-decoder.html?invariant="+u,T=1;T<arguments.length;T++)f+="&args[]="+encodeURIComponent(arguments[T]);return"Minified React error #"+u+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function i(u,f){a(u,f),a(u+"Capture",f)}function a(u,f){for(s[u]=f,u=0;u<f.length;u++)r.add(f[u])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},h={};function m(u){return c.call(h,u)?!0:c.call(d,u)?!1:p.test(u)?h[u]=!0:(d[u]=!0,!1)}function x(u,f,T,N){if(T!==null&&T.type===0)return!1;switch(typeof f){case"function":case"symbol":return!0;case"boolean":return N?!1:T!==null?!T.acceptsBooleans:(u=u.toLowerCase().slice(0,5),u!=="data-"&&u!=="aria-");default:return!1}}function w(u,f,T,N){if(f===null||typeof f>"u"||x(u,f,T,N))return!0;if(N)return!1;if(T!==null)switch(T.type){case 3:return!f;case 4:return f===!1;case 5:return isNaN(f);case 6:return isNaN(f)||1>f}return!1}function A(u,f,T,N,R,K,pe){this.acceptsBooleans=f===2||f===3||f===4,this.attributeName=N,this.attributeNamespace=R,this.mustUseProperty=T,this.propertyName=u,this.type=f,this.sanitizeURL=K,this.removeEmptyString=pe}var P={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(u){P[u]=new A(u,0,!1,u,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(u){var f=u[0];P[f]=new A(f,1,!1,u[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(u){P[u]=new A(u,2,!1,u.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(u){P[u]=new A(u,2,!1,u,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(u){P[u]=new A(u,3,!1,u.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(u){P[u]=new A(u,3,!0,u,null,!1,!1)}),["capture","download"].forEach(function(u){P[u]=new A(u,4,!1,u,null,!1,!1)}),["cols","rows","size","span"].forEach(function(u){P[u]=new A(u,6,!1,u,null,!1,!1)}),["rowSpan","start"].forEach(function(u){P[u]=new A(u,5,!1,u.toLowerCase(),null,!1,!1)});var S=/[\-:]([a-z])/g;function C(u){return u[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(u){var f=u.replace(S,C);P[f]=new A(f,1,!1,u,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(u){var f=u.replace(S,C);P[f]=new A(f,1,!1,u,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(u){var f=u.replace(S,C);P[f]=new A(f,1,!1,u,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(u){P[u]=new A(u,1,!1,u.toLowerCase(),null,!1,!1)}),P.xlinkHref=new A("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(u){P[u]=new A(u,1,!1,u.toLowerCase(),null,!0,!0)});function I(u,f,T,N){var R=P.hasOwnProperty(f)?P[f]:null;(R!==null?R.type!==0:N||!(2<f.length)||f[0]!=="o"&&f[0]!=="O"||f[1]!=="n"&&f[1]!=="N")&&(w(f,T,R,N)&&(T=null),N||R===null?m(f)&&(T===null?u.removeAttribute(f):u.setAttribute(f,""+T)):R.mustUseProperty?u[R.propertyName]=T===null?R.type===3?!1:"":T:(f=R.attributeName,N=R.attributeNamespace,T===null?u.removeAttribute(f):(R=R.type,T=R===3||R===4&&T===!0?"":""+T,N?u.setAttributeNS(N,f,T):u.setAttribute(f,T))))}var _=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,D=Symbol.for("react.element"),F=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),L=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),j=Symbol.for("react.provider"),M=Symbol.for("react.context"),ee=Symbol.for("react.forward_ref"),ue=Symbol.for("react.suspense"),J=Symbol.for("react.suspense_list"),ae=Symbol.for("react.memo"),oe=Symbol.for("react.lazy"),re=Symbol.for("react.offscreen"),X=Symbol.iterator;function H(u){return u===null||typeof u!="object"?null:(u=X&&u[X]||u["@@iterator"],typeof u=="function"?u:null)}var Q=Object.assign,W;function Y(u){if(W===void 0)try{throw Error()}catch(T){var f=T.stack.trim().match(/\n( *(at )?)/);W=f&&f[1]||""}return`
`+W+u}var Z=!1;function se(u,f){if(!u||Z)return"";Z=!0;var T=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(f)if(f=function(){throw Error()},Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(f,[])}catch(Qe){var N=Qe}Reflect.construct(u,[],f)}else{try{f.call()}catch(Qe){N=Qe}u.call(f.prototype)}else{try{throw Error()}catch(Qe){N=Qe}u()}}catch(Qe){if(Qe&&N&&typeof Qe.stack=="string"){for(var R=Qe.stack.split(`
`),K=N.stack.split(`
`),pe=R.length-1,Ae=K.length-1;1<=pe&&0<=Ae&&R[pe]!==K[Ae];)Ae--;for(;1<=pe&&0<=Ae;pe--,Ae--)if(R[pe]!==K[Ae]){if(pe!==1||Ae!==1)do if(pe--,Ae--,0>Ae||R[pe]!==K[Ae]){var ke=`
`+R[pe].replace(" at new "," at ");return u.displayName&&ke.includes("<anonymous>")&&(ke=ke.replace("<anonymous>",u.displayName)),ke}while(1<=pe&&0<=Ae);break}}}finally{Z=!1,Error.prepareStackTrace=T}return(u=u?u.displayName||u.name:"")?Y(u):""}function me(u){switch(u.tag){case 5:return Y(u.type);case 16:return Y("Lazy");case 13:return Y("Suspense");case 19:return Y("SuspenseList");case 0:case 2:case 15:return u=se(u.type,!1),u;case 11:return u=se(u.type.render,!1),u;case 1:return u=se(u.type,!0),u;default:return""}}function Ce(u){if(u==null)return null;if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u;switch(u){case O:return"Fragment";case F:return"Portal";case B:return"Profiler";case L:return"StrictMode";case ue:return"Suspense";case J:return"SuspenseList"}if(typeof u=="object")switch(u.$$typeof){case M:return(u.displayName||"Context")+".Consumer";case j:return(u._context.displayName||"Context")+".Provider";case ee:var f=u.render;return u=u.displayName,u||(u=f.displayName||f.name||"",u=u!==""?"ForwardRef("+u+")":"ForwardRef"),u;case ae:return f=u.displayName||null,f!==null?f:Ce(u.type)||"Memo";case oe:f=u._payload,u=u._init;try{return Ce(u(f))}catch{}}return null}function be(u){var f=u.type;switch(u.tag){case 24:return"Cache";case 9:return(f.displayName||"Context")+".Consumer";case 10:return(f._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return u=f.render,u=u.displayName||u.name||"",f.displayName||(u!==""?"ForwardRef("+u+")":"ForwardRef");case 7:return"Fragment";case 5:return f;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ce(f);case 8:return f===L?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof f=="function")return f.displayName||f.name||null;if(typeof f=="string")return f}return null}function Se(u){switch(typeof u){case"boolean":case"number":case"string":case"undefined":return u;case"object":return u;default:return""}}function Le(u){var f=u.type;return(u=u.nodeName)&&u.toLowerCase()==="input"&&(f==="checkbox"||f==="radio")}function Ue(u){var f=Le(u)?"checked":"value",T=Object.getOwnPropertyDescriptor(u.constructor.prototype,f),N=""+u[f];if(!u.hasOwnProperty(f)&&typeof T<"u"&&typeof T.get=="function"&&typeof T.set=="function"){var R=T.get,K=T.set;return Object.defineProperty(u,f,{configurable:!0,get:function(){return R.call(this)},set:function(pe){N=""+pe,K.call(this,pe)}}),Object.defineProperty(u,f,{enumerable:T.enumerable}),{getValue:function(){return N},setValue:function(pe){N=""+pe},stopTracking:function(){u._valueTracker=null,delete u[f]}}}}function st(u){u._valueTracker||(u._valueTracker=Ue(u))}function Ze(u){if(!u)return!1;var f=u._valueTracker;if(!f)return!0;var T=f.getValue(),N="";return u&&(N=Le(u)?u.checked?"true":"false":u.value),u=N,u!==T?(f.setValue(u),!0):!1}function it(u){if(u=u||(typeof document<"u"?document:void 0),typeof u>"u")return null;try{return u.activeElement||u.body}catch{return u.body}}function pt(u,f){var T=f.checked;return Q({},f,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:T??u._wrapperState.initialChecked})}function It(u,f){var T=f.defaultValue==null?"":f.defaultValue,N=f.checked!=null?f.checked:f.defaultChecked;T=Se(f.value!=null?f.value:T),u._wrapperState={initialChecked:N,initialValue:T,controlled:f.type==="checkbox"||f.type==="radio"?f.checked!=null:f.value!=null}}function ct(u,f){f=f.checked,f!=null&&I(u,"checked",f,!1)}function Ye(u,f){ct(u,f);var T=Se(f.value),N=f.type;if(T!=null)N==="number"?(T===0&&u.value===""||u.value!=T)&&(u.value=""+T):u.value!==""+T&&(u.value=""+T);else if(N==="submit"||N==="reset"){u.removeAttribute("value");return}f.hasOwnProperty("value")?rt(u,f.type,T):f.hasOwnProperty("defaultValue")&&rt(u,f.type,Se(f.defaultValue)),f.checked==null&&f.defaultChecked!=null&&(u.defaultChecked=!!f.defaultChecked)}function We(u,f,T){if(f.hasOwnProperty("value")||f.hasOwnProperty("defaultValue")){var N=f.type;if(!(N!=="submit"&&N!=="reset"||f.value!==void 0&&f.value!==null))return;f=""+u._wrapperState.initialValue,T||f===u.value||(u.value=f),u.defaultValue=f}T=u.name,T!==""&&(u.name=""),u.defaultChecked=!!u._wrapperState.initialChecked,T!==""&&(u.name=T)}function rt(u,f,T){(f!=="number"||it(u.ownerDocument)!==u)&&(T==null?u.defaultValue=""+u._wrapperState.initialValue:u.defaultValue!==""+T&&(u.defaultValue=""+T))}var St=Array.isArray;function Et(u,f,T,N){if(u=u.options,f){f={};for(var R=0;R<T.length;R++)f["$"+T[R]]=!0;for(T=0;T<u.length;T++)R=f.hasOwnProperty("$"+u[T].value),u[T].selected!==R&&(u[T].selected=R),R&&N&&(u[T].defaultSelected=!0)}else{for(T=""+Se(T),f=null,R=0;R<u.length;R++){if(u[R].value===T){u[R].selected=!0,N&&(u[R].defaultSelected=!0);return}f!==null||u[R].disabled||(f=u[R])}f!==null&&(f.selected=!0)}}function jt(u,f){if(f.dangerouslySetInnerHTML!=null)throw Error(t(91));return Q({},f,{value:void 0,defaultValue:void 0,children:""+u._wrapperState.initialValue})}function qt(u,f){var T=f.value;if(T==null){if(T=f.children,f=f.defaultValue,T!=null){if(f!=null)throw Error(t(92));if(St(T)){if(1<T.length)throw Error(t(93));T=T[0]}f=T}f==null&&(f=""),T=f}u._wrapperState={initialValue:Se(T)}}function mn(u,f){var T=Se(f.value),N=Se(f.defaultValue);T!=null&&(T=""+T,T!==u.value&&(u.value=T),f.defaultValue==null&&u.defaultValue!==T&&(u.defaultValue=T)),N!=null&&(u.defaultValue=""+N)}function Fe(u){var f=u.textContent;f===u._wrapperState.initialValue&&f!==""&&f!==null&&(u.value=f)}function Me(u){switch(u){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ce(u,f){return u==null||u==="http://www.w3.org/1999/xhtml"?Me(f):u==="http://www.w3.org/2000/svg"&&f==="foreignObject"?"http://www.w3.org/1999/xhtml":u}var we,De=(function(u){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(f,T,N,R){MSApp.execUnsafeLocalFunction(function(){return u(f,T,N,R)})}:u})(function(u,f){if(u.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in u)u.innerHTML=f;else{for(we=we||document.createElement("div"),we.innerHTML="<svg>"+f.valueOf().toString()+"</svg>",f=we.firstChild;u.firstChild;)u.removeChild(u.firstChild);for(;f.firstChild;)u.appendChild(f.firstChild)}});function $e(u,f){if(f){var T=u.firstChild;if(T&&T===u.lastChild&&T.nodeType===3){T.nodeValue=f;return}}u.textContent=f}var nt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ot=["Webkit","ms","Moz","O"];Object.keys(nt).forEach(function(u){ot.forEach(function(f){f=f+u.charAt(0).toUpperCase()+u.substring(1),nt[f]=nt[u]})});function Zt(u,f,T){return f==null||typeof f=="boolean"||f===""?"":T||typeof f!="number"||f===0||nt.hasOwnProperty(u)&&nt[u]?(""+f).trim():f+"px"}function fn(u,f){u=u.style;for(var T in f)if(f.hasOwnProperty(T)){var N=T.indexOf("--")===0,R=Zt(T,f[T],N);T==="float"&&(T="cssFloat"),N?u.setProperty(T,R):u[T]=R}}var ut=Q({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function xn(u,f){if(f){if(ut[u]&&(f.children!=null||f.dangerouslySetInnerHTML!=null))throw Error(t(137,u));if(f.dangerouslySetInnerHTML!=null){if(f.children!=null)throw Error(t(60));if(typeof f.dangerouslySetInnerHTML!="object"||!("__html"in f.dangerouslySetInnerHTML))throw Error(t(61))}if(f.style!=null&&typeof f.style!="object")throw Error(t(62))}}function Be(u,f){if(u.indexOf("-")===-1)return typeof f.is=="string";switch(u){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xe=null;function de(u){return u=u.target||u.srcElement||window,u.correspondingUseElement&&(u=u.correspondingUseElement),u.nodeType===3?u.parentNode:u}var Ke=null,ht=null,ve=null;function at(u){if(u=gu(u)){if(typeof Ke!="function")throw Error(t(280));var f=u.stateNode;f&&(f=dc(f),Ke(u.stateNode,u.type,f))}}function Pt(u){ht?ve?ve.push(u):ve=[u]:ht=u}function Mt(){if(ht){var u=ht,f=ve;if(ve=ht=null,at(u),f)for(u=0;u<f.length;u++)at(f[u])}}function Ht(u,f){return u(f)}function tn(){}var _n=!1;function Jn(u,f,T){if(_n)return u(f,T);_n=!0;try{return Ht(u,f,T)}finally{_n=!1,(ht!==null||ve!==null)&&(tn(),Mt())}}function Hn(u,f){var T=u.stateNode;if(T===null)return null;var N=dc(T);if(N===null)return null;T=N[f];e:switch(f){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(N=!N.disabled)||(u=u.type,N=!(u==="button"||u==="input"||u==="select"||u==="textarea")),u=!N;break e;default:u=!1}if(u)return null;if(T&&typeof T!="function")throw Error(t(231,f,typeof T));return T}var Zn=!1;if(l)try{var Kn={};Object.defineProperty(Kn,"passive",{get:function(){Zn=!0}}),window.addEventListener("test",Kn,Kn),window.removeEventListener("test",Kn,Kn)}catch{Zn=!1}function br(u,f,T,N,R,K,pe,Ae,ke){var Qe=Array.prototype.slice.call(arguments,3);try{f.apply(T,Qe)}catch(gt){this.onError(gt)}}var yr=!1,Jr=null,Ot=!1,fs=null,qs={onError:function(u){yr=!0,Jr=u}};function Oi(u,f,T,N,R,K,pe,Ae,ke){yr=!1,Jr=null,br.apply(qs,arguments)}function ai(u,f,T,N,R,K,pe,Ae,ke){if(Oi.apply(this,arguments),yr){if(yr){var Qe=Jr;yr=!1,Jr=null}else throw Error(t(198));Ot||(Ot=!0,fs=Qe)}}function gr(u){var f=u,T=u;if(u.alternate)for(;f.return;)f=f.return;else{u=f;do f=u,(f.flags&4098)!==0&&(T=f.return),u=f.return;while(u)}return f.tag===3?T:null}function wr(u){if(u.tag===13){var f=u.memoizedState;if(f===null&&(u=u.alternate,u!==null&&(f=u.memoizedState)),f!==null)return f.dehydrated}return null}function Zr(u){if(gr(u)!==u)throw Error(t(188))}function oi(u){var f=u.alternate;if(!f){if(f=gr(u),f===null)throw Error(t(188));return f!==u?null:u}for(var T=u,N=f;;){var R=T.return;if(R===null)break;var K=R.alternate;if(K===null){if(N=R.return,N!==null){T=N;continue}break}if(R.child===K.child){for(K=R.child;K;){if(K===T)return Zr(R),u;if(K===N)return Zr(R),f;K=K.sibling}throw Error(t(188))}if(T.return!==N.return)T=R,N=K;else{for(var pe=!1,Ae=R.child;Ae;){if(Ae===T){pe=!0,T=R,N=K;break}if(Ae===N){pe=!0,N=R,T=K;break}Ae=Ae.sibling}if(!pe){for(Ae=K.child;Ae;){if(Ae===T){pe=!0,T=K,N=R;break}if(Ae===N){pe=!0,N=K,T=R;break}Ae=Ae.sibling}if(!pe)throw Error(t(189))}}if(T.alternate!==N)throw Error(t(190))}if(T.tag!==3)throw Error(t(188));return T.stateNode.current===T?u:f}function Qr(u){return u=oi(u),u!==null?Lr(u):null}function Lr(u){if(u.tag===5||u.tag===6)return u;for(u=u.child;u!==null;){var f=Lr(u);if(f!==null)return f;u=u.sibling}return null}var Li=e.unstable_scheduleCallback,li=e.unstable_cancelCallback,Di=e.unstable_shouldYield,xa=e.unstable_requestPaint,En=e.unstable_now,es=e.unstable_getCurrentPriorityLevel,ts=e.unstable_ImmediatePriority,va=e.unstable_UserBlockingPriority,ui=e.unstable_NormalPriority,oo=e.unstable_LowPriority,Ta=e.unstable_IdlePriority,ns=null,Dr=null;function Sa(u){if(Dr&&typeof Dr.onCommitFiberRoot=="function")try{Dr.onCommitFiberRoot(ns,u,void 0,(u.current.flags&128)===128)}catch{}}var Er=Math.clz32?Math.clz32:lo,$s=Math.log,Rr=Math.LN2;function lo(u){return u>>>=0,u===0?32:31-($s(u)/Rr|0)|0}var Es=64,ci=4194304;function hs(u){switch(u&-u){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return u&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return u}}function ms(u,f){var T=u.pendingLanes;if(T===0)return 0;var N=0,R=u.suspendedLanes,K=u.pingedLanes,pe=T&268435455;if(pe!==0){var Ae=pe&~R;Ae!==0?N=hs(Ae):(K&=pe,K!==0&&(N=hs(K)))}else pe=T&~R,pe!==0?N=hs(pe):K!==0&&(N=hs(K));if(N===0)return 0;if(f!==0&&f!==N&&(f&R)===0&&(R=N&-N,K=f&-f,R>=K||R===16&&(K&4194240)!==0))return f;if((N&4)!==0&&(N|=T&16),f=u.entangledLanes,f!==0)for(u=u.entanglements,f&=N;0<f;)T=31-Er(f),R=1<<T,N|=u[T],f&=~R;return N}function Ri(u,f){switch(u){case 1:case 2:case 4:return f+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function uo(u,f){for(var T=u.suspendedLanes,N=u.pingedLanes,R=u.expirationTimes,K=u.pendingLanes;0<K;){var pe=31-Er(K),Ae=1<<pe,ke=R[pe];ke===-1?((Ae&T)===0||(Ae&N)!==0)&&(R[pe]=Ri(Ae,f)):ke<=f&&(u.expiredLanes|=Ae),K&=~Ae}}function Fi(u){return u=u.pendingLanes&-1073741825,u!==0?u:u&1073741824?1073741824:0}function Ps(){var u=Es;return Es<<=1,(Es&4194240)===0&&(Es=64),u}function pi(u){for(var f=[],T=0;31>T;T++)f.push(u);return f}function As(u,f,T){u.pendingLanes|=f,f!==536870912&&(u.suspendedLanes=0,u.pingedLanes=0),u=u.eventTimes,f=31-Er(f),u[f]=T}function Ns(u,f){var T=u.pendingLanes&~f;u.pendingLanes=f,u.suspendedLanes=0,u.pingedLanes=0,u.expiredLanes&=f,u.mutableReadLanes&=f,u.entangledLanes&=f,f=u.entanglements;var N=u.eventTimes;for(u=u.expirationTimes;0<T;){var R=31-Er(T),K=1<<R;f[R]=0,N[R]=-1,u[R]=-1,T&=~K}}function co(u,f){var T=u.entangledLanes|=f;for(u=u.entanglements;T;){var N=31-Er(T),R=1<<N;R&f|u[N]&f&&(u[N]|=f),T&=~R}}var hn=0;function ol(u){return u&=-u,1<u?4<u?(u&268435455)!==0?16:536870912:4:1}var ll,po,Bi,fo,ul,ho=!1,ba=[],_s=null,ys=null,Cs=null,Is=new Map,Ms=new Map,rs=[],su="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function wa(u,f){switch(u){case"focusin":case"focusout":_s=null;break;case"dragenter":case"dragleave":ys=null;break;case"mouseover":case"mouseout":Cs=null;break;case"pointerover":case"pointerout":Is.delete(f.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ms.delete(f.pointerId)}}function Vi(u,f,T,N,R,K){return u===null||u.nativeEvent!==K?(u={blockedOn:f,domEventName:T,eventSystemFlags:N,nativeEvent:K,targetContainers:[R]},f!==null&&(f=gu(f),f!==null&&po(f)),u):(u.eventSystemFlags|=N,f=u.targetContainers,R!==null&&f.indexOf(R)===-1&&f.push(R),u)}function mo(u,f,T,N,R){switch(f){case"focusin":return _s=Vi(_s,u,f,T,N,R),!0;case"dragenter":return ys=Vi(ys,u,f,T,N,R),!0;case"mouseover":return Cs=Vi(Cs,u,f,T,N,R),!0;case"pointerover":var K=R.pointerId;return Is.set(K,Vi(Is.get(K)||null,u,f,T,N,R)),!0;case"gotpointercapture":return K=R.pointerId,Ms.set(K,Vi(Ms.get(K)||null,u,f,T,N,R)),!0}return!1}function cl(u){var f=Oo(u.target);if(f!==null){var T=gr(f);if(T!==null){if(f=T.tag,f===13){if(f=wr(T),f!==null){u.blockedOn=f,ul(u.priority,function(){Bi(T)});return}}else if(f===3&&T.stateNode.current.memoizedState.isDehydrated){u.blockedOn=T.tag===3?T.stateNode.containerInfo:null;return}}}u.blockedOn=null}function ji(u){if(u.blockedOn!==null)return!1;for(var f=u.targetContainers;0<f.length;){var T=Pa(u.domEventName,u.eventSystemFlags,f[0],u.nativeEvent);if(T===null){T=u.nativeEvent;var N=new T.constructor(T.type,T);Xe=N,T.target.dispatchEvent(N),Xe=null}else return f=gu(T),f!==null&&po(f),u.blockedOn=T,!1;f.shift()}return!0}function Lt(u,f,T){ji(u)&&T.delete(f)}function iu(){ho=!1,_s!==null&&ji(_s)&&(_s=null),ys!==null&&ji(ys)&&(ys=null),Cs!==null&&ji(Cs)&&(Cs=null),Is.forEach(Lt),Ms.forEach(Lt)}function di(u,f){u.blockedOn===f&&(u.blockedOn=null,ho||(ho=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,iu)))}function zi(u){function f(R){return di(R,u)}if(0<ba.length){di(ba[0],u);for(var T=1;T<ba.length;T++){var N=ba[T];N.blockedOn===u&&(N.blockedOn=null)}}for(_s!==null&&di(_s,u),ys!==null&&di(ys,u),Cs!==null&&di(Cs,u),Is.forEach(f),Ms.forEach(f),T=0;T<rs.length;T++)N=rs[T],N.blockedOn===u&&(N.blockedOn=null);for(;0<rs.length&&(T=rs[0],T.blockedOn===null);)cl(T),T.blockedOn===null&&rs.shift()}var fi=_.ReactCurrentBatchConfig,Ea=!0;function au(u,f,T,N){var R=hn,K=fi.transition;fi.transition=null;try{hn=1,yo(u,f,T,N)}finally{hn=R,fi.transition=K}}function pl(u,f,T,N){var R=hn,K=fi.transition;fi.transition=null;try{hn=4,yo(u,f,T,N)}finally{hn=R,fi.transition=K}}function yo(u,f,T,N){if(Ea){var R=Pa(u,f,T,N);if(R===null)pp(u,f,N,Ui,T),wa(u,N);else if(mo(R,u,f,T,N))N.stopPropagation();else if(wa(u,N),f&4&&-1<su.indexOf(u)){for(;R!==null;){var K=gu(R);if(K!==null&&ll(K),K=Pa(u,f,T,N),K===null&&pp(u,f,N,Ui,T),K===R)break;R=K}R!==null&&N.stopPropagation()}else pp(u,f,N,null,T)}}var Ui=null;function Pa(u,f,T,N){if(Ui=null,u=de(N),u=Oo(u),u!==null)if(f=gr(u),f===null)u=null;else if(T=f.tag,T===13){if(u=wr(f),u!==null)return u;u=null}else if(T===3){if(f.stateNode.current.memoizedState.isDehydrated)return f.tag===3?f.stateNode.containerInfo:null;u=null}else f!==u&&(u=null);return Ui=u,null}function dl(u){switch(u){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(es()){case ts:return 1;case va:return 4;case ui:case oo:return 16;case Ta:return 536870912;default:return 16}default:return 16}}var ks=null,Aa=null,qi=null;function fl(){if(qi)return qi;var u,f=Aa,T=f.length,N,R="value"in ks?ks.value:ks.textContent,K=R.length;for(u=0;u<T&&f[u]===R[u];u++);var pe=T-u;for(N=1;N<=pe&&f[T-N]===R[K-N];N++);return qi=R.slice(u,1<N?1-N:void 0)}function $i(u){var f=u.keyCode;return"charCode"in u?(u=u.charCode,u===0&&f===13&&(u=13)):u=f,u===10&&(u=13),32<=u||u===13?u:0}function Na(){return!0}function hl(){return!1}function pr(u){function f(T,N,R,K,pe){this._reactName=T,this._targetInst=R,this.type=N,this.nativeEvent=K,this.target=pe,this.currentTarget=null;for(var Ae in u)u.hasOwnProperty(Ae)&&(T=u[Ae],this[Ae]=T?T(K):K[Ae]);return this.isDefaultPrevented=(K.defaultPrevented!=null?K.defaultPrevented:K.returnValue===!1)?Na:hl,this.isPropagationStopped=hl,this}return Q(f.prototype,{preventDefault:function(){this.defaultPrevented=!0;var T=this.nativeEvent;T&&(T.preventDefault?T.preventDefault():typeof T.returnValue!="unknown"&&(T.returnValue=!1),this.isDefaultPrevented=Na)},stopPropagation:function(){var T=this.nativeEvent;T&&(T.stopPropagation?T.stopPropagation():typeof T.cancelBubble!="unknown"&&(T.cancelBubble=!0),this.isPropagationStopped=Na)},persist:function(){},isPersistent:Na}),f}var hi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(u){return u.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},go=pr(hi),Ws=Q({},hi,{view:0,detail:0}),ou=pr(Ws),xo,_a,Wi,Ca=Q({},Ws,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ie,button:0,buttons:0,relatedTarget:function(u){return u.relatedTarget===void 0?u.fromElement===u.srcElement?u.toElement:u.fromElement:u.relatedTarget},movementX:function(u){return"movementX"in u?u.movementX:(u!==Wi&&(Wi&&u.type==="mousemove"?(xo=u.screenX-Wi.screenX,_a=u.screenY-Wi.screenY):_a=xo=0,Wi=u),xo)},movementY:function(u){return"movementY"in u?u.movementY:_a}}),ml=pr(Ca),lu=Q({},Ca,{dataTransfer:0}),Hi=pr(lu),yl=Q({},Ws,{relatedTarget:0}),vo=pr(yl),G=Q({},hi,{animationName:0,elapsedTime:0,pseudoElement:0}),y=pr(G),o=Q({},hi,{clipboardData:function(u){return"clipboardData"in u?u.clipboardData:window.clipboardData}}),g=pr(o),b=Q({},hi,{data:0}),k=pr(b),ne={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},le={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ye={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pe(u){var f=this.nativeEvent;return f.getModifierState?f.getModifierState(u):(u=ye[u])?!!f[u]:!1}function Ie(){return Pe}var Je=Q({},Ws,{key:function(u){if(u.key){var f=ne[u.key]||u.key;if(f!=="Unidentified")return f}return u.type==="keypress"?(u=$i(u),u===13?"Enter":String.fromCharCode(u)):u.type==="keydown"||u.type==="keyup"?le[u.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ie,charCode:function(u){return u.type==="keypress"?$i(u):0},keyCode:function(u){return u.type==="keydown"||u.type==="keyup"?u.keyCode:0},which:function(u){return u.type==="keypress"?$i(u):u.type==="keydown"||u.type==="keyup"?u.keyCode:0}}),mt=pr(Je),bt=Q({},Ca,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Rt=pr(bt),yn=Q({},Ws,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ie}),Ln=pr(yn),nn=Q({},hi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Cn=pr(nn),Hs=Q({},Ca,{deltaX:function(u){return"deltaX"in u?u.deltaX:"wheelDeltaX"in u?-u.wheelDeltaX:0},deltaY:function(u){return"deltaY"in u?u.deltaY:"wheelDeltaY"in u?-u.wheelDeltaY:"wheelDelta"in u?-u.wheelDelta:0},deltaZ:0,deltaMode:0}),Os=pr(Hs),gl=[9,13,27,32],Ia=l&&"CompositionEvent"in window,mi=null;l&&"documentMode"in document&&(mi=document.documentMode);var xl=l&&"TextEvent"in window&&!mi,To=l&&(!Ia||mi&&8<mi&&11>=mi),So=" ",bo=!1;function wo(u,f){switch(u){case"keyup":return gl.indexOf(f.keyCode)!==-1;case"keydown":return f.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Eo(u){return u=u.detail,typeof u=="object"&&"data"in u?u.data:null}var Ks=!1;function vl(u,f){switch(u){case"compositionend":return Eo(f);case"keypress":return f.which!==32?null:(bo=!0,So);case"textInput":return u=f.data,u===So&&bo?null:u;default:return null}}function Tl(u,f){if(Ks)return u==="compositionend"||!Ia&&wo(u,f)?(u=fl(),qi=Aa=ks=null,Ks=!1,u):null;switch(u){case"paste":return null;case"keypress":if(!(f.ctrlKey||f.altKey||f.metaKey)||f.ctrlKey&&f.altKey){if(f.char&&1<f.char.length)return f.char;if(f.which)return String.fromCharCode(f.which)}return null;case"compositionend":return To&&f.locale!=="ko"?null:f.data;default:return null}}var Sl={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Po(u){var f=u&&u.nodeName&&u.nodeName.toLowerCase();return f==="input"?!!Sl[u.type]:f==="textarea"}function Ao(u,f,T,N){Pt(N),f=cc(f,"onChange"),0<f.length&&(T=new go("onChange","change",null,T,N),u.push({event:T,listeners:f}))}var yi=null,gi=null;function bl(u){pd(u,0)}function Ki(u){var f=kl(u);if(Ze(f))return u}function wl(u,f){if(u==="change")return f}var No=!1;if(l){var Ma;if(l){var ka="oninput"in document;if(!ka){var _o=document.createElement("div");_o.setAttribute("oninput","return;"),ka=typeof _o.oninput=="function"}Ma=ka}else Ma=!1;No=Ma&&(!document.documentMode||9<document.documentMode)}function Co(){yi&&(yi.detachEvent("onpropertychange",Io),gi=yi=null)}function Io(u){if(u.propertyName==="value"&&Ki(gi)){var f=[];Ao(f,gi,u,de(u)),Jn(bl,f)}}function El(u,f,T){u==="focusin"?(Co(),yi=f,gi=T,yi.attachEvent("onpropertychange",Io)):u==="focusout"&&Co()}function Pl(u){if(u==="selectionchange"||u==="keyup"||u==="keydown")return Ki(gi)}function Al(u,f){if(u==="click")return Ki(f)}function Nl(u,f){if(u==="input"||u==="change")return Ki(f)}function op(u,f){return u===f&&(u!==0||1/u===1/f)||u!==u&&f!==f}var gs=typeof Object.is=="function"?Object.is:op;function Mo(u,f){if(gs(u,f))return!0;if(typeof u!="object"||u===null||typeof f!="object"||f===null)return!1;var T=Object.keys(u),N=Object.keys(f);if(T.length!==N.length)return!1;for(N=0;N<T.length;N++){var R=T[N];if(!c.call(f,R)||!gs(u[R],f[R]))return!1}return!0}function Qu(u){for(;u&&u.firstChild;)u=u.firstChild;return u}function ec(u,f){var T=Qu(u);u=0;for(var N;T;){if(T.nodeType===3){if(N=u+T.textContent.length,u<=f&&N>=f)return{node:T,offset:f-u};u=N}e:{for(;T;){if(T.nextSibling){T=T.nextSibling;break e}T=T.parentNode}T=void 0}T=Qu(T)}}function tc(u,f){return u&&f?u===f?!0:u&&u.nodeType===3?!1:f&&f.nodeType===3?tc(u,f.parentNode):"contains"in u?u.contains(f):u.compareDocumentPosition?!!(u.compareDocumentPosition(f)&16):!1:!1}function nc(){for(var u=window,f=it();f instanceof u.HTMLIFrameElement;){try{var T=typeof f.contentWindow.location.href=="string"}catch{T=!1}if(T)u=f.contentWindow;else break;f=it(u.document)}return f}function uu(u){var f=u&&u.nodeName&&u.nodeName.toLowerCase();return f&&(f==="input"&&(u.type==="text"||u.type==="search"||u.type==="tel"||u.type==="url"||u.type==="password")||f==="textarea"||u.contentEditable==="true")}function lp(u){var f=nc(),T=u.focusedElem,N=u.selectionRange;if(f!==T&&T&&T.ownerDocument&&tc(T.ownerDocument.documentElement,T)){if(N!==null&&uu(T)){if(f=N.start,u=N.end,u===void 0&&(u=f),"selectionStart"in T)T.selectionStart=f,T.selectionEnd=Math.min(u,T.value.length);else if(u=(f=T.ownerDocument||document)&&f.defaultView||window,u.getSelection){u=u.getSelection();var R=T.textContent.length,K=Math.min(N.start,R);N=N.end===void 0?K:Math.min(N.end,R),!u.extend&&K>N&&(R=N,N=K,K=R),R=ec(T,K);var pe=ec(T,N);R&&pe&&(u.rangeCount!==1||u.anchorNode!==R.node||u.anchorOffset!==R.offset||u.focusNode!==pe.node||u.focusOffset!==pe.offset)&&(f=f.createRange(),f.setStart(R.node,R.offset),u.removeAllRanges(),K>N?(u.addRange(f),u.extend(pe.node,pe.offset)):(f.setEnd(pe.node,pe.offset),u.addRange(f)))}}for(f=[],u=T;u=u.parentNode;)u.nodeType===1&&f.push({element:u,left:u.scrollLeft,top:u.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<f.length;T++)u=f[T],u.element.scrollLeft=u.left,u.element.scrollTop=u.top}}var up=l&&"documentMode"in document&&11>=document.documentMode,Oa=null,cu=null,ko=null,pu=!1;function rc(u,f,T){var N=T.window===T?T.document:T.nodeType===9?T:T.ownerDocument;pu||Oa==null||Oa!==it(N)||(N=Oa,"selectionStart"in N&&uu(N)?N={start:N.selectionStart,end:N.selectionEnd}:(N=(N.ownerDocument&&N.ownerDocument.defaultView||window).getSelection(),N={anchorNode:N.anchorNode,anchorOffset:N.anchorOffset,focusNode:N.focusNode,focusOffset:N.focusOffset}),ko&&Mo(ko,N)||(ko=N,N=cc(cu,"onSelect"),0<N.length&&(f=new go("onSelect","select",null,f,T),u.push({event:f,listeners:N}),f.target=Oa)))}function _l(u,f){var T={};return T[u.toLowerCase()]=f.toLowerCase(),T["Webkit"+u]="webkit"+f,T["Moz"+u]="moz"+f,T}var La={animationend:_l("Animation","AnimationEnd"),animationiteration:_l("Animation","AnimationIteration"),animationstart:_l("Animation","AnimationStart"),transitionend:_l("Transition","TransitionEnd")},du={},sc={};l&&(sc=document.createElement("div").style,"AnimationEvent"in window||(delete La.animationend.animation,delete La.animationiteration.animation,delete La.animationstart.animation),"TransitionEvent"in window||delete La.transitionend.transition);function Cl(u){if(du[u])return du[u];if(!La[u])return u;var f=La[u],T;for(T in f)if(f.hasOwnProperty(T)&&T in sc)return du[u]=f[T];return u}var ic=Cl("animationend"),ac=Cl("animationiteration"),oc=Cl("animationstart"),lc=Cl("transitionend"),V=new Map,z="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function $(u,f){V.set(u,f),i(f,[u])}for(var ie=0;ie<z.length;ie++){var Te=z[ie],ze=Te.toLowerCase(),Ut=Te[0].toUpperCase()+Te.slice(1);$(ze,"on"+Ut)}$(ic,"onAnimationEnd"),$(ac,"onAnimationIteration"),$(oc,"onAnimationStart"),$("dblclick","onDoubleClick"),$("focusin","onFocus"),$("focusout","onBlur"),$(lc,"onTransitionEnd"),a("onMouseEnter",["mouseout","mouseover"]),a("onMouseLeave",["mouseout","mouseover"]),a("onPointerEnter",["pointerout","pointerover"]),a("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var In="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),dr=new Set("cancel close invalid load scroll toggle".split(" ").concat(In));function Xs(u,f,T){var N=u.type||"unknown-event";u.currentTarget=T,ai(N,f,void 0,u),u.currentTarget=null}function pd(u,f){f=(f&4)!==0;for(var T=0;T<u.length;T++){var N=u[T],R=N.event;N=N.listeners;e:{var K=void 0;if(f)for(var pe=N.length-1;0<=pe;pe--){var Ae=N[pe],ke=Ae.instance,Qe=Ae.currentTarget;if(Ae=Ae.listener,ke!==K&&R.isPropagationStopped())break e;Xs(R,Ae,Qe),K=ke}else for(pe=0;pe<N.length;pe++){if(Ae=N[pe],ke=Ae.instance,Qe=Ae.currentTarget,Ae=Ae.listener,ke!==K&&R.isPropagationStopped())break e;Xs(R,Ae,Qe),K=ke}}}if(Ot)throw u=fs,Ot=!1,fs=null,u}function qn(u,f){var T=f[gp];T===void 0&&(T=f[gp]=new Set);var N=u+"__bubble";T.has(N)||(dd(f,u,2,!1),T.add(N))}function cp(u,f,T){var N=0;f&&(N|=4),dd(T,u,N,f)}var uc="_reactListening"+Math.random().toString(36).slice(2);function fu(u){if(!u[uc]){u[uc]=!0,r.forEach(function(T){T!=="selectionchange"&&(dr.has(T)||cp(T,!1,u),cp(T,!0,u))});var f=u.nodeType===9?u:u.ownerDocument;f===null||f[uc]||(f[uc]=!0,cp("selectionchange",!1,f))}}function dd(u,f,T,N){switch(dl(f)){case 1:var R=au;break;case 4:R=pl;break;default:R=yo}T=R.bind(null,f,T,u),R=void 0,!Zn||f!=="touchstart"&&f!=="touchmove"&&f!=="wheel"||(R=!0),N?R!==void 0?u.addEventListener(f,T,{capture:!0,passive:R}):u.addEventListener(f,T,!0):R!==void 0?u.addEventListener(f,T,{passive:R}):u.addEventListener(f,T,!1)}function pp(u,f,T,N,R){var K=N;if((f&1)===0&&(f&2)===0&&N!==null)e:for(;;){if(N===null)return;var pe=N.tag;if(pe===3||pe===4){var Ae=N.stateNode.containerInfo;if(Ae===R||Ae.nodeType===8&&Ae.parentNode===R)break;if(pe===4)for(pe=N.return;pe!==null;){var ke=pe.tag;if((ke===3||ke===4)&&(ke=pe.stateNode.containerInfo,ke===R||ke.nodeType===8&&ke.parentNode===R))return;pe=pe.return}for(;Ae!==null;){if(pe=Oo(Ae),pe===null)return;if(ke=pe.tag,ke===5||ke===6){N=K=pe;continue e}Ae=Ae.parentNode}}N=N.return}Jn(function(){var Qe=K,gt=de(T),Tt=[];e:{var yt=V.get(u);if(yt!==void 0){var zt=go,Wt=u;switch(u){case"keypress":if($i(T)===0)break e;case"keydown":case"keyup":zt=mt;break;case"focusin":Wt="focus",zt=vo;break;case"focusout":Wt="blur",zt=vo;break;case"beforeblur":case"afterblur":zt=vo;break;case"click":if(T.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":zt=ml;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":zt=Hi;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":zt=Ln;break;case ic:case ac:case oc:zt=y;break;case lc:zt=Cn;break;case"scroll":zt=ou;break;case"wheel":zt=Os;break;case"copy":case"cut":case"paste":zt=g;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":zt=Rt}var Kt=(f&4)!==0,Pr=!Kt&&u==="scroll",He=Kt?yt!==null?yt+"Capture":null:yt;Kt=[];for(var Re=Qe,Ge;Re!==null;){Ge=Re;var At=Ge.stateNode;if(Ge.tag===5&&At!==null&&(Ge=At,He!==null&&(At=Hn(Re,He),At!=null&&Kt.push(hu(Re,At,Ge)))),Pr)break;Re=Re.return}0<Kt.length&&(yt=new zt(yt,Wt,null,T,gt),Tt.push({event:yt,listeners:Kt}))}}if((f&7)===0){e:{if(yt=u==="mouseover"||u==="pointerover",zt=u==="mouseout"||u==="pointerout",yt&&T!==Xe&&(Wt=T.relatedTarget||T.fromElement)&&(Oo(Wt)||Wt[Xi]))break e;if((zt||yt)&&(yt=gt.window===gt?gt:(yt=gt.ownerDocument)?yt.defaultView||yt.parentWindow:window,zt?(Wt=T.relatedTarget||T.toElement,zt=Qe,Wt=Wt?Oo(Wt):null,Wt!==null&&(Pr=gr(Wt),Wt!==Pr||Wt.tag!==5&&Wt.tag!==6)&&(Wt=null)):(zt=null,Wt=Qe),zt!==Wt)){if(Kt=ml,At="onMouseLeave",He="onMouseEnter",Re="mouse",(u==="pointerout"||u==="pointerover")&&(Kt=Rt,At="onPointerLeave",He="onPointerEnter",Re="pointer"),Pr=zt==null?yt:kl(zt),Ge=Wt==null?yt:kl(Wt),yt=new Kt(At,Re+"leave",zt,T,gt),yt.target=Pr,yt.relatedTarget=Ge,At=null,Oo(gt)===Qe&&(Kt=new Kt(He,Re+"enter",Wt,T,gt),Kt.target=Ge,Kt.relatedTarget=Pr,At=Kt),Pr=At,zt&&Wt)t:{for(Kt=zt,He=Wt,Re=0,Ge=Kt;Ge;Ge=Il(Ge))Re++;for(Ge=0,At=He;At;At=Il(At))Ge++;for(;0<Re-Ge;)Kt=Il(Kt),Re--;for(;0<Ge-Re;)He=Il(He),Ge--;for(;Re--;){if(Kt===He||He!==null&&Kt===He.alternate)break t;Kt=Il(Kt),He=Il(He)}Kt=null}else Kt=null;zt!==null&&fd(Tt,yt,zt,Kt,!1),Wt!==null&&Pr!==null&&fd(Tt,Pr,Wt,Kt,!0)}}e:{if(yt=Qe?kl(Qe):window,zt=yt.nodeName&&yt.nodeName.toLowerCase(),zt==="select"||zt==="input"&&yt.type==="file")var Gt=wl;else if(Po(yt))if(No)Gt=Nl;else{Gt=Pl;var rn=El}else(zt=yt.nodeName)&&zt.toLowerCase()==="input"&&(yt.type==="checkbox"||yt.type==="radio")&&(Gt=Al);if(Gt&&(Gt=Gt(u,Qe))){Ao(Tt,Gt,T,gt);break e}rn&&rn(u,yt,Qe),u==="focusout"&&(rn=yt._wrapperState)&&rn.controlled&&yt.type==="number"&&rt(yt,"number",yt.value)}switch(rn=Qe?kl(Qe):window,u){case"focusin":(Po(rn)||rn.contentEditable==="true")&&(Oa=rn,cu=Qe,ko=null);break;case"focusout":ko=cu=Oa=null;break;case"mousedown":pu=!0;break;case"contextmenu":case"mouseup":case"dragend":pu=!1,rc(Tt,T,gt);break;case"selectionchange":if(up)break;case"keydown":case"keyup":rc(Tt,T,gt)}var sn;if(Ia)e:{switch(u){case"compositionstart":var pn="onCompositionStart";break e;case"compositionend":pn="onCompositionEnd";break e;case"compositionupdate":pn="onCompositionUpdate";break e}pn=void 0}else Ks?wo(u,T)&&(pn="onCompositionEnd"):u==="keydown"&&T.keyCode===229&&(pn="onCompositionStart");pn&&(To&&T.locale!=="ko"&&(Ks||pn!=="onCompositionStart"?pn==="onCompositionEnd"&&Ks&&(sn=fl()):(ks=gt,Aa="value"in ks?ks.value:ks.textContent,Ks=!0)),rn=cc(Qe,pn),0<rn.length&&(pn=new k(pn,u,null,T,gt),Tt.push({event:pn,listeners:rn}),sn?pn.data=sn:(sn=Eo(T),sn!==null&&(pn.data=sn)))),(sn=xl?vl(u,T):Tl(u,T))&&(Qe=cc(Qe,"onBeforeInput"),0<Qe.length&&(gt=new k("onBeforeInput","beforeinput",null,T,gt),Tt.push({event:gt,listeners:Qe}),gt.data=sn))}pd(Tt,f)})}function hu(u,f,T){return{instance:u,listener:f,currentTarget:T}}function cc(u,f){for(var T=f+"Capture",N=[];u!==null;){var R=u,K=R.stateNode;R.tag===5&&K!==null&&(R=K,K=Hn(u,T),K!=null&&N.unshift(hu(u,K,R)),K=Hn(u,f),K!=null&&N.push(hu(u,K,R))),u=u.return}return N}function Il(u){if(u===null)return null;do u=u.return;while(u&&u.tag!==5);return u||null}function fd(u,f,T,N,R){for(var K=f._reactName,pe=[];T!==null&&T!==N;){var Ae=T,ke=Ae.alternate,Qe=Ae.stateNode;if(ke!==null&&ke===N)break;Ae.tag===5&&Qe!==null&&(Ae=Qe,R?(ke=Hn(T,K),ke!=null&&pe.unshift(hu(T,ke,Ae))):R||(ke=Hn(T,K),ke!=null&&pe.push(hu(T,ke,Ae)))),T=T.return}pe.length!==0&&u.push({event:f,listeners:pe})}var Uf=/\r\n?/g,qf=/\u0000|\uFFFD/g;function hd(u){return(typeof u=="string"?u:""+u).replace(Uf,`
`).replace(qf,"")}function pc(u,f,T){if(f=hd(f),hd(u)!==f&&T)throw Error(t(425))}function mu(){}var dp=null,fp=null;function hp(u,f){return u==="textarea"||u==="noscript"||typeof f.children=="string"||typeof f.children=="number"||typeof f.dangerouslySetInnerHTML=="object"&&f.dangerouslySetInnerHTML!==null&&f.dangerouslySetInnerHTML.__html!=null}var mp=typeof setTimeout=="function"?setTimeout:void 0,$f=typeof clearTimeout=="function"?clearTimeout:void 0,md=typeof Promise=="function"?Promise:void 0,Wf=typeof queueMicrotask=="function"?queueMicrotask:typeof md<"u"?function(u){return md.resolve(null).then(u).catch(Hf)}:mp;function Hf(u){setTimeout(function(){throw u})}function yp(u,f){var T=f,N=0;do{var R=T.nextSibling;if(u.removeChild(T),R&&R.nodeType===8)if(T=R.data,T==="/$"){if(N===0){u.removeChild(R),zi(f);return}N--}else T!=="$"&&T!=="$?"&&T!=="$!"||N++;T=R}while(T);zi(f)}function Da(u){for(;u!=null;u=u.nextSibling){var f=u.nodeType;if(f===1||f===3)break;if(f===8){if(f=u.data,f==="$"||f==="$!"||f==="$?")break;if(f==="/$")return null}}return u}function yd(u){u=u.previousSibling;for(var f=0;u;){if(u.nodeType===8){var T=u.data;if(T==="$"||T==="$!"||T==="$?"){if(f===0)return u;f--}else T==="/$"&&f++}u=u.previousSibling}return null}var Ml=Math.random().toString(36).slice(2),xi="__reactFiber$"+Ml,yu="__reactProps$"+Ml,Xi="__reactContainer$"+Ml,gp="__reactEvents$"+Ml,Kf="__reactListeners$"+Ml,Xf="__reactHandles$"+Ml;function Oo(u){var f=u[xi];if(f)return f;for(var T=u.parentNode;T;){if(f=T[Xi]||T[xi]){if(T=f.alternate,f.child!==null||T!==null&&T.child!==null)for(u=yd(u);u!==null;){if(T=u[xi])return T;u=yd(u)}return f}u=T,T=u.parentNode}return null}function gu(u){return u=u[xi]||u[Xi],!u||u.tag!==5&&u.tag!==6&&u.tag!==13&&u.tag!==3?null:u}function kl(u){if(u.tag===5||u.tag===6)return u.stateNode;throw Error(t(33))}function dc(u){return u[yu]||null}var E=[],v=-1;function U(u){return{current:u}}function Xn(u){0>v||(u.current=E[v],E[v]=null,v--)}function Qn(u,f){v++,E[v]=u.current,u.current=f}var fc={},Ls=U(fc),vi=U(!1),xp=fc;function gd(u,f){var T=u.type.contextTypes;if(!T)return fc;var N=u.stateNode;if(N&&N.__reactInternalMemoizedUnmaskedChildContext===f)return N.__reactInternalMemoizedMaskedChildContext;var R={},K;for(K in T)R[K]=f[K];return N&&(u=u.stateNode,u.__reactInternalMemoizedUnmaskedChildContext=f,u.__reactInternalMemoizedMaskedChildContext=R),R}function Ti(u){return u=u.childContextTypes,u!=null}function Qm(){Xn(vi),Xn(Ls)}function EP(u,f,T){if(Ls.current!==fc)throw Error(t(168));Qn(Ls,f),Qn(vi,T)}function PP(u,f,T){var N=u.stateNode;if(f=f.childContextTypes,typeof N.getChildContext!="function")return T;N=N.getChildContext();for(var R in N)if(!(R in f))throw Error(t(108,be(u)||"Unknown",R));return Q({},T,N)}function ey(u){return u=(u=u.stateNode)&&u.__reactInternalMemoizedMergedChildContext||fc,xp=Ls.current,Qn(Ls,u),Qn(vi,vi.current),!0}function AP(u,f,T){var N=u.stateNode;if(!N)throw Error(t(169));T?(u=PP(u,f,xp),N.__reactInternalMemoizedMergedChildContext=u,Xn(vi),Xn(Ls),Qn(Ls,u)):Xn(vi),Qn(vi,T)}var xu=null,ty=!1,Vv=!1;function NP(u){xu===null?xu=[u]:xu.push(u)}function SV(u){ty=!0,NP(u)}function hc(){if(!Vv&&xu!==null){Vv=!0;var u=0,f=hn;try{var T=xu;for(hn=1;u<T.length;u++){var N=T[u];do N=N(!0);while(N!==null)}xu=null,ty=!1}catch(R){throw xu!==null&&(xu=xu.slice(u+1)),Li(ts,hc),R}finally{hn=f,Vv=!1}}return null}var xd=[],vd=0,ny=null,ry=0,Ra=[],Fa=0,vp=null,vu=1,Tu="";function Tp(u,f){xd[vd++]=ry,xd[vd++]=ny,ny=u,ry=f}function _P(u,f,T){Ra[Fa++]=vu,Ra[Fa++]=Tu,Ra[Fa++]=vp,vp=u;var N=vu;u=Tu;var R=32-Er(N)-1;N&=~(1<<R),T+=1;var K=32-Er(f)+R;if(30<K){var pe=R-R%5;K=(N&(1<<pe)-1).toString(32),N>>=pe,R-=pe,vu=1<<32-Er(f)+R|T<<R|N,Tu=K+u}else vu=1<<K|T<<R|N,Tu=u}function jv(u){u.return!==null&&(Tp(u,1),_P(u,1,0))}function zv(u){for(;u===ny;)ny=xd[--vd],xd[vd]=null,ry=xd[--vd],xd[vd]=null;for(;u===vp;)vp=Ra[--Fa],Ra[Fa]=null,Tu=Ra[--Fa],Ra[Fa]=null,vu=Ra[--Fa],Ra[Fa]=null}var Gi=null,Yi=null,ar=!1,Lo=null;function CP(u,f){var T=za(5,null,null,0);T.elementType="DELETED",T.stateNode=f,T.return=u,f=u.deletions,f===null?(u.deletions=[T],u.flags|=16):f.push(T)}function IP(u,f){switch(u.tag){case 5:var T=u.type;return f=f.nodeType!==1||T.toLowerCase()!==f.nodeName.toLowerCase()?null:f,f!==null?(u.stateNode=f,Gi=u,Yi=Da(f.firstChild),!0):!1;case 6:return f=u.pendingProps===""||f.nodeType!==3?null:f,f!==null?(u.stateNode=f,Gi=u,Yi=null,!0):!1;case 13:return f=f.nodeType!==8?null:f,f!==null?(T=vp!==null?{id:vu,overflow:Tu}:null,u.memoizedState={dehydrated:f,treeContext:T,retryLane:1073741824},T=za(18,null,null,0),T.stateNode=f,T.return=u,u.child=T,Gi=u,Yi=null,!0):!1;default:return!1}}function Uv(u){return(u.mode&1)!==0&&(u.flags&128)===0}function qv(u){if(ar){var f=Yi;if(f){var T=f;if(!IP(u,f)){if(Uv(u))throw Error(t(418));f=Da(T.nextSibling);var N=Gi;f&&IP(u,f)?CP(N,T):(u.flags=u.flags&-4097|2,ar=!1,Gi=u)}}else{if(Uv(u))throw Error(t(418));u.flags=u.flags&-4097|2,ar=!1,Gi=u}}}function MP(u){for(u=u.return;u!==null&&u.tag!==5&&u.tag!==3&&u.tag!==13;)u=u.return;Gi=u}function sy(u){if(u!==Gi)return!1;if(!ar)return MP(u),ar=!0,!1;var f;if((f=u.tag!==3)&&!(f=u.tag!==5)&&(f=u.type,f=f!=="head"&&f!=="body"&&!hp(u.type,u.memoizedProps)),f&&(f=Yi)){if(Uv(u))throw kP(),Error(t(418));for(;f;)CP(u,f),f=Da(f.nextSibling)}if(MP(u),u.tag===13){if(u=u.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(t(317));e:{for(u=u.nextSibling,f=0;u;){if(u.nodeType===8){var T=u.data;if(T==="/$"){if(f===0){Yi=Da(u.nextSibling);break e}f--}else T!=="$"&&T!=="$!"&&T!=="$?"||f++}u=u.nextSibling}Yi=null}}else Yi=Gi?Da(u.stateNode.nextSibling):null;return!0}function kP(){for(var u=Yi;u;)u=Da(u.nextSibling)}function Td(){Yi=Gi=null,ar=!1}function $v(u){Lo===null?Lo=[u]:Lo.push(u)}var bV=_.ReactCurrentBatchConfig;function Gf(u,f,T){if(u=T.ref,u!==null&&typeof u!="function"&&typeof u!="object"){if(T._owner){if(T=T._owner,T){if(T.tag!==1)throw Error(t(309));var N=T.stateNode}if(!N)throw Error(t(147,u));var R=N,K=""+u;return f!==null&&f.ref!==null&&typeof f.ref=="function"&&f.ref._stringRef===K?f.ref:(f=function(pe){var Ae=R.refs;pe===null?delete Ae[K]:Ae[K]=pe},f._stringRef=K,f)}if(typeof u!="string")throw Error(t(284));if(!T._owner)throw Error(t(290,u))}return u}function iy(u,f){throw u=Object.prototype.toString.call(f),Error(t(31,u==="[object Object]"?"object with keys {"+Object.keys(f).join(", ")+"}":u))}function OP(u){var f=u._init;return f(u._payload)}function LP(u){function f(He,Re){if(u){var Ge=He.deletions;Ge===null?(He.deletions=[Re],He.flags|=16):Ge.push(Re)}}function T(He,Re){if(!u)return null;for(;Re!==null;)f(He,Re),Re=Re.sibling;return null}function N(He,Re){for(He=new Map;Re!==null;)Re.key!==null?He.set(Re.key,Re):He.set(Re.index,Re),Re=Re.sibling;return He}function R(He,Re){return He=bc(He,Re),He.index=0,He.sibling=null,He}function K(He,Re,Ge){return He.index=Ge,u?(Ge=He.alternate,Ge!==null?(Ge=Ge.index,Ge<Re?(He.flags|=2,Re):Ge):(He.flags|=2,Re)):(He.flags|=1048576,Re)}function pe(He){return u&&He.alternate===null&&(He.flags|=2),He}function Ae(He,Re,Ge,At){return Re===null||Re.tag!==6?(Re=DT(Ge,He.mode,At),Re.return=He,Re):(Re=R(Re,Ge),Re.return=He,Re)}function ke(He,Re,Ge,At){var Gt=Ge.type;return Gt===O?gt(He,Re,Ge.props.children,At,Ge.key):Re!==null&&(Re.elementType===Gt||typeof Gt=="object"&&Gt!==null&&Gt.$$typeof===oe&&OP(Gt)===Re.type)?(At=R(Re,Ge.props),At.ref=Gf(He,Re,Ge),At.return=He,At):(At=Cy(Ge.type,Ge.key,Ge.props,null,He.mode,At),At.ref=Gf(He,Re,Ge),At.return=He,At)}function Qe(He,Re,Ge,At){return Re===null||Re.tag!==4||Re.stateNode.containerInfo!==Ge.containerInfo||Re.stateNode.implementation!==Ge.implementation?(Re=RT(Ge,He.mode,At),Re.return=He,Re):(Re=R(Re,Ge.children||[]),Re.return=He,Re)}function gt(He,Re,Ge,At,Gt){return Re===null||Re.tag!==7?(Re=_p(Ge,He.mode,At,Gt),Re.return=He,Re):(Re=R(Re,Ge),Re.return=He,Re)}function Tt(He,Re,Ge){if(typeof Re=="string"&&Re!==""||typeof Re=="number")return Re=DT(""+Re,He.mode,Ge),Re.return=He,Re;if(typeof Re=="object"&&Re!==null){switch(Re.$$typeof){case D:return Ge=Cy(Re.type,Re.key,Re.props,null,He.mode,Ge),Ge.ref=Gf(He,null,Re),Ge.return=He,Ge;case F:return Re=RT(Re,He.mode,Ge),Re.return=He,Re;case oe:var At=Re._init;return Tt(He,At(Re._payload),Ge)}if(St(Re)||H(Re))return Re=_p(Re,He.mode,Ge,null),Re.return=He,Re;iy(He,Re)}return null}function yt(He,Re,Ge,At){var Gt=Re!==null?Re.key:null;if(typeof Ge=="string"&&Ge!==""||typeof Ge=="number")return Gt!==null?null:Ae(He,Re,""+Ge,At);if(typeof Ge=="object"&&Ge!==null){switch(Ge.$$typeof){case D:return Ge.key===Gt?ke(He,Re,Ge,At):null;case F:return Ge.key===Gt?Qe(He,Re,Ge,At):null;case oe:return Gt=Ge._init,yt(He,Re,Gt(Ge._payload),At)}if(St(Ge)||H(Ge))return Gt!==null?null:gt(He,Re,Ge,At,null);iy(He,Ge)}return null}function zt(He,Re,Ge,At,Gt){if(typeof At=="string"&&At!==""||typeof At=="number")return He=He.get(Ge)||null,Ae(Re,He,""+At,Gt);if(typeof At=="object"&&At!==null){switch(At.$$typeof){case D:return He=He.get(At.key===null?Ge:At.key)||null,ke(Re,He,At,Gt);case F:return He=He.get(At.key===null?Ge:At.key)||null,Qe(Re,He,At,Gt);case oe:var rn=At._init;return zt(He,Re,Ge,rn(At._payload),Gt)}if(St(At)||H(At))return He=He.get(Ge)||null,gt(Re,He,At,Gt,null);iy(Re,At)}return null}function Wt(He,Re,Ge,At){for(var Gt=null,rn=null,sn=Re,pn=Re=0,as=null;sn!==null&&pn<Ge.length;pn++){sn.index>pn?(as=sn,sn=null):as=sn.sibling;var Bn=yt(He,sn,Ge[pn],At);if(Bn===null){sn===null&&(sn=as);break}u&&sn&&Bn.alternate===null&&f(He,sn),Re=K(Bn,Re,pn),rn===null?Gt=Bn:rn.sibling=Bn,rn=Bn,sn=as}if(pn===Ge.length)return T(He,sn),ar&&Tp(He,pn),Gt;if(sn===null){for(;pn<Ge.length;pn++)sn=Tt(He,Ge[pn],At),sn!==null&&(Re=K(sn,Re,pn),rn===null?Gt=sn:rn.sibling=sn,rn=sn);return ar&&Tp(He,pn),Gt}for(sn=N(He,sn);pn<Ge.length;pn++)as=zt(sn,He,pn,Ge[pn],At),as!==null&&(u&&as.alternate!==null&&sn.delete(as.key===null?pn:as.key),Re=K(as,Re,pn),rn===null?Gt=as:rn.sibling=as,rn=as);return u&&sn.forEach(function(wc){return f(He,wc)}),ar&&Tp(He,pn),Gt}function Kt(He,Re,Ge,At){var Gt=H(Ge);if(typeof Gt!="function")throw Error(t(150));if(Ge=Gt.call(Ge),Ge==null)throw Error(t(151));for(var rn=Gt=null,sn=Re,pn=Re=0,as=null,Bn=Ge.next();sn!==null&&!Bn.done;pn++,Bn=Ge.next()){sn.index>pn?(as=sn,sn=null):as=sn.sibling;var wc=yt(He,sn,Bn.value,At);if(wc===null){sn===null&&(sn=as);break}u&&sn&&wc.alternate===null&&f(He,sn),Re=K(wc,Re,pn),rn===null?Gt=wc:rn.sibling=wc,rn=wc,sn=as}if(Bn.done)return T(He,sn),ar&&Tp(He,pn),Gt;if(sn===null){for(;!Bn.done;pn++,Bn=Ge.next())Bn=Tt(He,Bn.value,At),Bn!==null&&(Re=K(Bn,Re,pn),rn===null?Gt=Bn:rn.sibling=Bn,rn=Bn);return ar&&Tp(He,pn),Gt}for(sn=N(He,sn);!Bn.done;pn++,Bn=Ge.next())Bn=zt(sn,He,pn,Bn.value,At),Bn!==null&&(u&&Bn.alternate!==null&&sn.delete(Bn.key===null?pn:Bn.key),Re=K(Bn,Re,pn),rn===null?Gt=Bn:rn.sibling=Bn,rn=Bn);return u&&sn.forEach(function(t5){return f(He,t5)}),ar&&Tp(He,pn),Gt}function Pr(He,Re,Ge,At){if(typeof Ge=="object"&&Ge!==null&&Ge.type===O&&Ge.key===null&&(Ge=Ge.props.children),typeof Ge=="object"&&Ge!==null){switch(Ge.$$typeof){case D:e:{for(var Gt=Ge.key,rn=Re;rn!==null;){if(rn.key===Gt){if(Gt=Ge.type,Gt===O){if(rn.tag===7){T(He,rn.sibling),Re=R(rn,Ge.props.children),Re.return=He,He=Re;break e}}else if(rn.elementType===Gt||typeof Gt=="object"&&Gt!==null&&Gt.$$typeof===oe&&OP(Gt)===rn.type){T(He,rn.sibling),Re=R(rn,Ge.props),Re.ref=Gf(He,rn,Ge),Re.return=He,He=Re;break e}T(He,rn);break}else f(He,rn);rn=rn.sibling}Ge.type===O?(Re=_p(Ge.props.children,He.mode,At,Ge.key),Re.return=He,He=Re):(At=Cy(Ge.type,Ge.key,Ge.props,null,He.mode,At),At.ref=Gf(He,Re,Ge),At.return=He,He=At)}return pe(He);case F:e:{for(rn=Ge.key;Re!==null;){if(Re.key===rn)if(Re.tag===4&&Re.stateNode.containerInfo===Ge.containerInfo&&Re.stateNode.implementation===Ge.implementation){T(He,Re.sibling),Re=R(Re,Ge.children||[]),Re.return=He,He=Re;break e}else{T(He,Re);break}else f(He,Re);Re=Re.sibling}Re=RT(Ge,He.mode,At),Re.return=He,He=Re}return pe(He);case oe:return rn=Ge._init,Pr(He,Re,rn(Ge._payload),At)}if(St(Ge))return Wt(He,Re,Ge,At);if(H(Ge))return Kt(He,Re,Ge,At);iy(He,Ge)}return typeof Ge=="string"&&Ge!==""||typeof Ge=="number"?(Ge=""+Ge,Re!==null&&Re.tag===6?(T(He,Re.sibling),Re=R(Re,Ge),Re.return=He,He=Re):(T(He,Re),Re=DT(Ge,He.mode,At),Re.return=He,He=Re),pe(He)):T(He,Re)}return Pr}var Sd=LP(!0),DP=LP(!1),ay=U(null),oy=null,bd=null,Wv=null;function Hv(){Wv=bd=oy=null}function Kv(u){var f=ay.current;Xn(ay),u._currentValue=f}function Xv(u,f,T){for(;u!==null;){var N=u.alternate;if((u.childLanes&f)!==f?(u.childLanes|=f,N!==null&&(N.childLanes|=f)):N!==null&&(N.childLanes&f)!==f&&(N.childLanes|=f),u===T)break;u=u.return}}function wd(u,f){oy=u,Wv=bd=null,u=u.dependencies,u!==null&&u.firstContext!==null&&((u.lanes&f)!==0&&(Si=!0),u.firstContext=null)}function Ba(u){var f=u._currentValue;if(Wv!==u)if(u={context:u,memoizedValue:f,next:null},bd===null){if(oy===null)throw Error(t(308));bd=u,oy.dependencies={lanes:0,firstContext:u}}else bd=bd.next=u;return f}var Sp=null;function Gv(u){Sp===null?Sp=[u]:Sp.push(u)}function RP(u,f,T,N){var R=f.interleaved;return R===null?(T.next=T,Gv(f)):(T.next=R.next,R.next=T),f.interleaved=T,Su(u,N)}function Su(u,f){u.lanes|=f;var T=u.alternate;for(T!==null&&(T.lanes|=f),T=u,u=u.return;u!==null;)u.childLanes|=f,T=u.alternate,T!==null&&(T.childLanes|=f),T=u,u=u.return;return T.tag===3?T.stateNode:null}var mc=!1;function Yv(u){u.updateQueue={baseState:u.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function FP(u,f){u=u.updateQueue,f.updateQueue===u&&(f.updateQueue={baseState:u.baseState,firstBaseUpdate:u.firstBaseUpdate,lastBaseUpdate:u.lastBaseUpdate,shared:u.shared,effects:u.effects})}function bu(u,f){return{eventTime:u,lane:f,tag:0,payload:null,callback:null,next:null}}function yc(u,f,T){var N=u.updateQueue;if(N===null)return null;if(N=N.shared,(Dn&2)!==0){var R=N.pending;return R===null?f.next=f:(f.next=R.next,R.next=f),N.pending=f,Su(u,T)}return R=N.interleaved,R===null?(f.next=f,Gv(N)):(f.next=R.next,R.next=f),N.interleaved=f,Su(u,T)}function ly(u,f,T){if(f=f.updateQueue,f!==null&&(f=f.shared,(T&4194240)!==0)){var N=f.lanes;N&=u.pendingLanes,T|=N,f.lanes=T,co(u,T)}}function BP(u,f){var T=u.updateQueue,N=u.alternate;if(N!==null&&(N=N.updateQueue,T===N)){var R=null,K=null;if(T=T.firstBaseUpdate,T!==null){do{var pe={eventTime:T.eventTime,lane:T.lane,tag:T.tag,payload:T.payload,callback:T.callback,next:null};K===null?R=K=pe:K=K.next=pe,T=T.next}while(T!==null);K===null?R=K=f:K=K.next=f}else R=K=f;T={baseState:N.baseState,firstBaseUpdate:R,lastBaseUpdate:K,shared:N.shared,effects:N.effects},u.updateQueue=T;return}u=T.lastBaseUpdate,u===null?T.firstBaseUpdate=f:u.next=f,T.lastBaseUpdate=f}function uy(u,f,T,N){var R=u.updateQueue;mc=!1;var K=R.firstBaseUpdate,pe=R.lastBaseUpdate,Ae=R.shared.pending;if(Ae!==null){R.shared.pending=null;var ke=Ae,Qe=ke.next;ke.next=null,pe===null?K=Qe:pe.next=Qe,pe=ke;var gt=u.alternate;gt!==null&&(gt=gt.updateQueue,Ae=gt.lastBaseUpdate,Ae!==pe&&(Ae===null?gt.firstBaseUpdate=Qe:Ae.next=Qe,gt.lastBaseUpdate=ke))}if(K!==null){var Tt=R.baseState;pe=0,gt=Qe=ke=null,Ae=K;do{var yt=Ae.lane,zt=Ae.eventTime;if((N&yt)===yt){gt!==null&&(gt=gt.next={eventTime:zt,lane:0,tag:Ae.tag,payload:Ae.payload,callback:Ae.callback,next:null});e:{var Wt=u,Kt=Ae;switch(yt=f,zt=T,Kt.tag){case 1:if(Wt=Kt.payload,typeof Wt=="function"){Tt=Wt.call(zt,Tt,yt);break e}Tt=Wt;break e;case 3:Wt.flags=Wt.flags&-65537|128;case 0:if(Wt=Kt.payload,yt=typeof Wt=="function"?Wt.call(zt,Tt,yt):Wt,yt==null)break e;Tt=Q({},Tt,yt);break e;case 2:mc=!0}}Ae.callback!==null&&Ae.lane!==0&&(u.flags|=64,yt=R.effects,yt===null?R.effects=[Ae]:yt.push(Ae))}else zt={eventTime:zt,lane:yt,tag:Ae.tag,payload:Ae.payload,callback:Ae.callback,next:null},gt===null?(Qe=gt=zt,ke=Tt):gt=gt.next=zt,pe|=yt;if(Ae=Ae.next,Ae===null){if(Ae=R.shared.pending,Ae===null)break;yt=Ae,Ae=yt.next,yt.next=null,R.lastBaseUpdate=yt,R.shared.pending=null}}while(!0);if(gt===null&&(ke=Tt),R.baseState=ke,R.firstBaseUpdate=Qe,R.lastBaseUpdate=gt,f=R.shared.interleaved,f!==null){R=f;do pe|=R.lane,R=R.next;while(R!==f)}else K===null&&(R.shared.lanes=0);Ep|=pe,u.lanes=pe,u.memoizedState=Tt}}function VP(u,f,T){if(u=f.effects,f.effects=null,u!==null)for(f=0;f<u.length;f++){var N=u[f],R=N.callback;if(R!==null){if(N.callback=null,N=T,typeof R!="function")throw Error(t(191,R));R.call(N)}}}var Yf={},Ol=U(Yf),Jf=U(Yf),Zf=U(Yf);function bp(u){if(u===Yf)throw Error(t(174));return u}function Jv(u,f){switch(Qn(Zf,f),Qn(Jf,u),Qn(Ol,Yf),u=f.nodeType,u){case 9:case 11:f=(f=f.documentElement)?f.namespaceURI:ce(null,"");break;default:u=u===8?f.parentNode:f,f=u.namespaceURI||null,u=u.tagName,f=ce(f,u)}Xn(Ol),Qn(Ol,f)}function Ed(){Xn(Ol),Xn(Jf),Xn(Zf)}function jP(u){bp(Zf.current);var f=bp(Ol.current),T=ce(f,u.type);f!==T&&(Qn(Jf,u),Qn(Ol,T))}function Zv(u){Jf.current===u&&(Xn(Ol),Xn(Jf))}var fr=U(0);function cy(u){for(var f=u;f!==null;){if(f.tag===13){var T=f.memoizedState;if(T!==null&&(T=T.dehydrated,T===null||T.data==="$?"||T.data==="$!"))return f}else if(f.tag===19&&f.memoizedProps.revealOrder!==void 0){if((f.flags&128)!==0)return f}else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===u)break;for(;f.sibling===null;){if(f.return===null||f.return===u)return null;f=f.return}f.sibling.return=f.return,f=f.sibling}return null}var Qv=[];function eT(){for(var u=0;u<Qv.length;u++)Qv[u]._workInProgressVersionPrimary=null;Qv.length=0}var py=_.ReactCurrentDispatcher,tT=_.ReactCurrentBatchConfig,wp=0,hr=null,Hr=null,ss=null,dy=!1,Qf=!1,eh=0,wV=0;function Ds(){throw Error(t(321))}function nT(u,f){if(f===null)return!1;for(var T=0;T<f.length&&T<u.length;T++)if(!gs(u[T],f[T]))return!1;return!0}function rT(u,f,T,N,R,K){if(wp=K,hr=f,f.memoizedState=null,f.updateQueue=null,f.lanes=0,py.current=u===null||u.memoizedState===null?NV:_V,u=T(N,R),Qf){K=0;do{if(Qf=!1,eh=0,25<=K)throw Error(t(301));K+=1,ss=Hr=null,f.updateQueue=null,py.current=CV,u=T(N,R)}while(Qf)}if(py.current=my,f=Hr!==null&&Hr.next!==null,wp=0,ss=Hr=hr=null,dy=!1,f)throw Error(t(300));return u}function sT(){var u=eh!==0;return eh=0,u}function Ll(){var u={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ss===null?hr.memoizedState=ss=u:ss=ss.next=u,ss}function Va(){if(Hr===null){var u=hr.alternate;u=u!==null?u.memoizedState:null}else u=Hr.next;var f=ss===null?hr.memoizedState:ss.next;if(f!==null)ss=f,Hr=u;else{if(u===null)throw Error(t(310));Hr=u,u={memoizedState:Hr.memoizedState,baseState:Hr.baseState,baseQueue:Hr.baseQueue,queue:Hr.queue,next:null},ss===null?hr.memoizedState=ss=u:ss=ss.next=u}return ss}function th(u,f){return typeof f=="function"?f(u):f}function iT(u){var f=Va(),T=f.queue;if(T===null)throw Error(t(311));T.lastRenderedReducer=u;var N=Hr,R=N.baseQueue,K=T.pending;if(K!==null){if(R!==null){var pe=R.next;R.next=K.next,K.next=pe}N.baseQueue=R=K,T.pending=null}if(R!==null){K=R.next,N=N.baseState;var Ae=pe=null,ke=null,Qe=K;do{var gt=Qe.lane;if((wp&gt)===gt)ke!==null&&(ke=ke.next={lane:0,action:Qe.action,hasEagerState:Qe.hasEagerState,eagerState:Qe.eagerState,next:null}),N=Qe.hasEagerState?Qe.eagerState:u(N,Qe.action);else{var Tt={lane:gt,action:Qe.action,hasEagerState:Qe.hasEagerState,eagerState:Qe.eagerState,next:null};ke===null?(Ae=ke=Tt,pe=N):ke=ke.next=Tt,hr.lanes|=gt,Ep|=gt}Qe=Qe.next}while(Qe!==null&&Qe!==K);ke===null?pe=N:ke.next=Ae,gs(N,f.memoizedState)||(Si=!0),f.memoizedState=N,f.baseState=pe,f.baseQueue=ke,T.lastRenderedState=N}if(u=T.interleaved,u!==null){R=u;do K=R.lane,hr.lanes|=K,Ep|=K,R=R.next;while(R!==u)}else R===null&&(T.lanes=0);return[f.memoizedState,T.dispatch]}function aT(u){var f=Va(),T=f.queue;if(T===null)throw Error(t(311));T.lastRenderedReducer=u;var N=T.dispatch,R=T.pending,K=f.memoizedState;if(R!==null){T.pending=null;var pe=R=R.next;do K=u(K,pe.action),pe=pe.next;while(pe!==R);gs(K,f.memoizedState)||(Si=!0),f.memoizedState=K,f.baseQueue===null&&(f.baseState=K),T.lastRenderedState=K}return[K,N]}function zP(){}function UP(u,f){var T=hr,N=Va(),R=f(),K=!gs(N.memoizedState,R);if(K&&(N.memoizedState=R,Si=!0),N=N.queue,oT(WP.bind(null,T,N,u),[u]),N.getSnapshot!==f||K||ss!==null&&ss.memoizedState.tag&1){if(T.flags|=2048,nh(9,$P.bind(null,T,N,R,f),void 0,null),is===null)throw Error(t(349));(wp&30)!==0||qP(T,f,R)}return R}function qP(u,f,T){u.flags|=16384,u={getSnapshot:f,value:T},f=hr.updateQueue,f===null?(f={lastEffect:null,stores:null},hr.updateQueue=f,f.stores=[u]):(T=f.stores,T===null?f.stores=[u]:T.push(u))}function $P(u,f,T,N){f.value=T,f.getSnapshot=N,HP(f)&&KP(u)}function WP(u,f,T){return T(function(){HP(f)&&KP(u)})}function HP(u){var f=u.getSnapshot;u=u.value;try{var T=f();return!gs(u,T)}catch{return!0}}function KP(u){var f=Su(u,1);f!==null&&Bo(f,u,1,-1)}function XP(u){var f=Ll();return typeof u=="function"&&(u=u()),f.memoizedState=f.baseState=u,u={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:th,lastRenderedState:u},f.queue=u,u=u.dispatch=AV.bind(null,hr,u),[f.memoizedState,u]}function nh(u,f,T,N){return u={tag:u,create:f,destroy:T,deps:N,next:null},f=hr.updateQueue,f===null?(f={lastEffect:null,stores:null},hr.updateQueue=f,f.lastEffect=u.next=u):(T=f.lastEffect,T===null?f.lastEffect=u.next=u:(N=T.next,T.next=u,u.next=N,f.lastEffect=u)),u}function GP(){return Va().memoizedState}function fy(u,f,T,N){var R=Ll();hr.flags|=u,R.memoizedState=nh(1|f,T,void 0,N===void 0?null:N)}function hy(u,f,T,N){var R=Va();N=N===void 0?null:N;var K=void 0;if(Hr!==null){var pe=Hr.memoizedState;if(K=pe.destroy,N!==null&&nT(N,pe.deps)){R.memoizedState=nh(f,T,K,N);return}}hr.flags|=u,R.memoizedState=nh(1|f,T,K,N)}function YP(u,f){return fy(8390656,8,u,f)}function oT(u,f){return hy(2048,8,u,f)}function JP(u,f){return hy(4,2,u,f)}function ZP(u,f){return hy(4,4,u,f)}function QP(u,f){if(typeof f=="function")return u=u(),f(u),function(){f(null)};if(f!=null)return u=u(),f.current=u,function(){f.current=null}}function eA(u,f,T){return T=T!=null?T.concat([u]):null,hy(4,4,QP.bind(null,f,u),T)}function lT(){}function tA(u,f){var T=Va();f=f===void 0?null:f;var N=T.memoizedState;return N!==null&&f!==null&&nT(f,N[1])?N[0]:(T.memoizedState=[u,f],u)}function nA(u,f){var T=Va();f=f===void 0?null:f;var N=T.memoizedState;return N!==null&&f!==null&&nT(f,N[1])?N[0]:(u=u(),T.memoizedState=[u,f],u)}function rA(u,f,T){return(wp&21)===0?(u.baseState&&(u.baseState=!1,Si=!0),u.memoizedState=T):(gs(T,f)||(T=Ps(),hr.lanes|=T,Ep|=T,u.baseState=!0),f)}function EV(u,f){var T=hn;hn=T!==0&&4>T?T:4,u(!0);var N=tT.transition;tT.transition={};try{u(!1),f()}finally{hn=T,tT.transition=N}}function sA(){return Va().memoizedState}function PV(u,f,T){var N=Tc(u);if(T={lane:N,action:T,hasEagerState:!1,eagerState:null,next:null},iA(u))aA(f,T);else if(T=RP(u,f,T,N),T!==null){var R=Ys();Bo(T,u,N,R),oA(T,f,N)}}function AV(u,f,T){var N=Tc(u),R={lane:N,action:T,hasEagerState:!1,eagerState:null,next:null};if(iA(u))aA(f,R);else{var K=u.alternate;if(u.lanes===0&&(K===null||K.lanes===0)&&(K=f.lastRenderedReducer,K!==null))try{var pe=f.lastRenderedState,Ae=K(pe,T);if(R.hasEagerState=!0,R.eagerState=Ae,gs(Ae,pe)){var ke=f.interleaved;ke===null?(R.next=R,Gv(f)):(R.next=ke.next,ke.next=R),f.interleaved=R;return}}catch{}finally{}T=RP(u,f,R,N),T!==null&&(R=Ys(),Bo(T,u,N,R),oA(T,f,N))}}function iA(u){var f=u.alternate;return u===hr||f!==null&&f===hr}function aA(u,f){Qf=dy=!0;var T=u.pending;T===null?f.next=f:(f.next=T.next,T.next=f),u.pending=f}function oA(u,f,T){if((T&4194240)!==0){var N=f.lanes;N&=u.pendingLanes,T|=N,f.lanes=T,co(u,T)}}var my={readContext:Ba,useCallback:Ds,useContext:Ds,useEffect:Ds,useImperativeHandle:Ds,useInsertionEffect:Ds,useLayoutEffect:Ds,useMemo:Ds,useReducer:Ds,useRef:Ds,useState:Ds,useDebugValue:Ds,useDeferredValue:Ds,useTransition:Ds,useMutableSource:Ds,useSyncExternalStore:Ds,useId:Ds,unstable_isNewReconciler:!1},NV={readContext:Ba,useCallback:function(u,f){return Ll().memoizedState=[u,f===void 0?null:f],u},useContext:Ba,useEffect:YP,useImperativeHandle:function(u,f,T){return T=T!=null?T.concat([u]):null,fy(4194308,4,QP.bind(null,f,u),T)},useLayoutEffect:function(u,f){return fy(4194308,4,u,f)},useInsertionEffect:function(u,f){return fy(4,2,u,f)},useMemo:function(u,f){var T=Ll();return f=f===void 0?null:f,u=u(),T.memoizedState=[u,f],u},useReducer:function(u,f,T){var N=Ll();return f=T!==void 0?T(f):f,N.memoizedState=N.baseState=f,u={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:u,lastRenderedState:f},N.queue=u,u=u.dispatch=PV.bind(null,hr,u),[N.memoizedState,u]},useRef:function(u){var f=Ll();return u={current:u},f.memoizedState=u},useState:XP,useDebugValue:lT,useDeferredValue:function(u){return Ll().memoizedState=u},useTransition:function(){var u=XP(!1),f=u[0];return u=EV.bind(null,u[1]),Ll().memoizedState=u,[f,u]},useMutableSource:function(){},useSyncExternalStore:function(u,f,T){var N=hr,R=Ll();if(ar){if(T===void 0)throw Error(t(407));T=T()}else{if(T=f(),is===null)throw Error(t(349));(wp&30)!==0||qP(N,f,T)}R.memoizedState=T;var K={value:T,getSnapshot:f};return R.queue=K,YP(WP.bind(null,N,K,u),[u]),N.flags|=2048,nh(9,$P.bind(null,N,K,T,f),void 0,null),T},useId:function(){var u=Ll(),f=is.identifierPrefix;if(ar){var T=Tu,N=vu;T=(N&~(1<<32-Er(N)-1)).toString(32)+T,f=":"+f+"R"+T,T=eh++,0<T&&(f+="H"+T.toString(32)),f+=":"}else T=wV++,f=":"+f+"r"+T.toString(32)+":";return u.memoizedState=f},unstable_isNewReconciler:!1},_V={readContext:Ba,useCallback:tA,useContext:Ba,useEffect:oT,useImperativeHandle:eA,useInsertionEffect:JP,useLayoutEffect:ZP,useMemo:nA,useReducer:iT,useRef:GP,useState:function(){return iT(th)},useDebugValue:lT,useDeferredValue:function(u){var f=Va();return rA(f,Hr.memoizedState,u)},useTransition:function(){var u=iT(th)[0],f=Va().memoizedState;return[u,f]},useMutableSource:zP,useSyncExternalStore:UP,useId:sA,unstable_isNewReconciler:!1},CV={readContext:Ba,useCallback:tA,useContext:Ba,useEffect:oT,useImperativeHandle:eA,useInsertionEffect:JP,useLayoutEffect:ZP,useMemo:nA,useReducer:aT,useRef:GP,useState:function(){return aT(th)},useDebugValue:lT,useDeferredValue:function(u){var f=Va();return Hr===null?f.memoizedState=u:rA(f,Hr.memoizedState,u)},useTransition:function(){var u=aT(th)[0],f=Va().memoizedState;return[u,f]},useMutableSource:zP,useSyncExternalStore:UP,useId:sA,unstable_isNewReconciler:!1};function Do(u,f){if(u&&u.defaultProps){f=Q({},f),u=u.defaultProps;for(var T in u)f[T]===void 0&&(f[T]=u[T]);return f}return f}function uT(u,f,T,N){f=u.memoizedState,T=T(N,f),T=T==null?f:Q({},f,T),u.memoizedState=T,u.lanes===0&&(u.updateQueue.baseState=T)}var yy={isMounted:function(u){return(u=u._reactInternals)?gr(u)===u:!1},enqueueSetState:function(u,f,T){u=u._reactInternals;var N=Ys(),R=Tc(u),K=bu(N,R);K.payload=f,T!=null&&(K.callback=T),f=yc(u,K,R),f!==null&&(Bo(f,u,R,N),ly(f,u,R))},enqueueReplaceState:function(u,f,T){u=u._reactInternals;var N=Ys(),R=Tc(u),K=bu(N,R);K.tag=1,K.payload=f,T!=null&&(K.callback=T),f=yc(u,K,R),f!==null&&(Bo(f,u,R,N),ly(f,u,R))},enqueueForceUpdate:function(u,f){u=u._reactInternals;var T=Ys(),N=Tc(u),R=bu(T,N);R.tag=2,f!=null&&(R.callback=f),f=yc(u,R,N),f!==null&&(Bo(f,u,N,T),ly(f,u,N))}};function lA(u,f,T,N,R,K,pe){return u=u.stateNode,typeof u.shouldComponentUpdate=="function"?u.shouldComponentUpdate(N,K,pe):f.prototype&&f.prototype.isPureReactComponent?!Mo(T,N)||!Mo(R,K):!0}function uA(u,f,T){var N=!1,R=fc,K=f.contextType;return typeof K=="object"&&K!==null?K=Ba(K):(R=Ti(f)?xp:Ls.current,N=f.contextTypes,K=(N=N!=null)?gd(u,R):fc),f=new f(T,K),u.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=yy,u.stateNode=f,f._reactInternals=u,N&&(u=u.stateNode,u.__reactInternalMemoizedUnmaskedChildContext=R,u.__reactInternalMemoizedMaskedChildContext=K),f}function cA(u,f,T,N){u=f.state,typeof f.componentWillReceiveProps=="function"&&f.componentWillReceiveProps(T,N),typeof f.UNSAFE_componentWillReceiveProps=="function"&&f.UNSAFE_componentWillReceiveProps(T,N),f.state!==u&&yy.enqueueReplaceState(f,f.state,null)}function cT(u,f,T,N){var R=u.stateNode;R.props=T,R.state=u.memoizedState,R.refs={},Yv(u);var K=f.contextType;typeof K=="object"&&K!==null?R.context=Ba(K):(K=Ti(f)?xp:Ls.current,R.context=gd(u,K)),R.state=u.memoizedState,K=f.getDerivedStateFromProps,typeof K=="function"&&(uT(u,f,K,T),R.state=u.memoizedState),typeof f.getDerivedStateFromProps=="function"||typeof R.getSnapshotBeforeUpdate=="function"||typeof R.UNSAFE_componentWillMount!="function"&&typeof R.componentWillMount!="function"||(f=R.state,typeof R.componentWillMount=="function"&&R.componentWillMount(),typeof R.UNSAFE_componentWillMount=="function"&&R.UNSAFE_componentWillMount(),f!==R.state&&yy.enqueueReplaceState(R,R.state,null),uy(u,T,R,N),R.state=u.memoizedState),typeof R.componentDidMount=="function"&&(u.flags|=4194308)}function Pd(u,f){try{var T="",N=f;do T+=me(N),N=N.return;while(N);var R=T}catch(K){R=`
Error generating stack: `+K.message+`
`+K.stack}return{value:u,source:f,stack:R,digest:null}}function pT(u,f,T){return{value:u,source:null,stack:T??null,digest:f??null}}function dT(u,f){try{console.error(f.value)}catch(T){setTimeout(function(){throw T})}}var IV=typeof WeakMap=="function"?WeakMap:Map;function pA(u,f,T){T=bu(-1,T),T.tag=3,T.payload={element:null};var N=f.value;return T.callback=function(){wy||(wy=!0,NT=N),dT(u,f)},T}function dA(u,f,T){T=bu(-1,T),T.tag=3;var N=u.type.getDerivedStateFromError;if(typeof N=="function"){var R=f.value;T.payload=function(){return N(R)},T.callback=function(){dT(u,f)}}var K=u.stateNode;return K!==null&&typeof K.componentDidCatch=="function"&&(T.callback=function(){dT(u,f),typeof N!="function"&&(xc===null?xc=new Set([this]):xc.add(this));var pe=f.stack;this.componentDidCatch(f.value,{componentStack:pe!==null?pe:""})}),T}function fA(u,f,T){var N=u.pingCache;if(N===null){N=u.pingCache=new IV;var R=new Set;N.set(f,R)}else R=N.get(f),R===void 0&&(R=new Set,N.set(f,R));R.has(T)||(R.add(T),u=$V.bind(null,u,f,T),f.then(u,u))}function hA(u){do{var f;if((f=u.tag===13)&&(f=u.memoizedState,f=f!==null?f.dehydrated!==null:!0),f)return u;u=u.return}while(u!==null);return null}function mA(u,f,T,N,R){return(u.mode&1)===0?(u===f?u.flags|=65536:(u.flags|=128,T.flags|=131072,T.flags&=-52805,T.tag===1&&(T.alternate===null?T.tag=17:(f=bu(-1,1),f.tag=2,yc(T,f,1))),T.lanes|=1),u):(u.flags|=65536,u.lanes=R,u)}var MV=_.ReactCurrentOwner,Si=!1;function Gs(u,f,T,N){f.child=u===null?DP(f,null,T,N):Sd(f,u.child,T,N)}function yA(u,f,T,N,R){T=T.render;var K=f.ref;return wd(f,R),N=rT(u,f,T,N,K,R),T=sT(),u!==null&&!Si?(f.updateQueue=u.updateQueue,f.flags&=-2053,u.lanes&=~R,wu(u,f,R)):(ar&&T&&jv(f),f.flags|=1,Gs(u,f,N,R),f.child)}function gA(u,f,T,N,R){if(u===null){var K=T.type;return typeof K=="function"&&!LT(K)&&K.defaultProps===void 0&&T.compare===null&&T.defaultProps===void 0?(f.tag=15,f.type=K,xA(u,f,K,N,R)):(u=Cy(T.type,null,N,f,f.mode,R),u.ref=f.ref,u.return=f,f.child=u)}if(K=u.child,(u.lanes&R)===0){var pe=K.memoizedProps;if(T=T.compare,T=T!==null?T:Mo,T(pe,N)&&u.ref===f.ref)return wu(u,f,R)}return f.flags|=1,u=bc(K,N),u.ref=f.ref,u.return=f,f.child=u}function xA(u,f,T,N,R){if(u!==null){var K=u.memoizedProps;if(Mo(K,N)&&u.ref===f.ref)if(Si=!1,f.pendingProps=N=K,(u.lanes&R)!==0)(u.flags&131072)!==0&&(Si=!0);else return f.lanes=u.lanes,wu(u,f,R)}return fT(u,f,T,N,R)}function vA(u,f,T){var N=f.pendingProps,R=N.children,K=u!==null?u.memoizedState:null;if(N.mode==="hidden")if((f.mode&1)===0)f.memoizedState={baseLanes:0,cachePool:null,transitions:null},Qn(Nd,Ji),Ji|=T;else{if((T&1073741824)===0)return u=K!==null?K.baseLanes|T:T,f.lanes=f.childLanes=1073741824,f.memoizedState={baseLanes:u,cachePool:null,transitions:null},f.updateQueue=null,Qn(Nd,Ji),Ji|=u,null;f.memoizedState={baseLanes:0,cachePool:null,transitions:null},N=K!==null?K.baseLanes:T,Qn(Nd,Ji),Ji|=N}else K!==null?(N=K.baseLanes|T,f.memoizedState=null):N=T,Qn(Nd,Ji),Ji|=N;return Gs(u,f,R,T),f.child}function TA(u,f){var T=f.ref;(u===null&&T!==null||u!==null&&u.ref!==T)&&(f.flags|=512,f.flags|=2097152)}function fT(u,f,T,N,R){var K=Ti(T)?xp:Ls.current;return K=gd(f,K),wd(f,R),T=rT(u,f,T,N,K,R),N=sT(),u!==null&&!Si?(f.updateQueue=u.updateQueue,f.flags&=-2053,u.lanes&=~R,wu(u,f,R)):(ar&&N&&jv(f),f.flags|=1,Gs(u,f,T,R),f.child)}function SA(u,f,T,N,R){if(Ti(T)){var K=!0;ey(f)}else K=!1;if(wd(f,R),f.stateNode===null)xy(u,f),uA(f,T,N),cT(f,T,N,R),N=!0;else if(u===null){var pe=f.stateNode,Ae=f.memoizedProps;pe.props=Ae;var ke=pe.context,Qe=T.contextType;typeof Qe=="object"&&Qe!==null?Qe=Ba(Qe):(Qe=Ti(T)?xp:Ls.current,Qe=gd(f,Qe));var gt=T.getDerivedStateFromProps,Tt=typeof gt=="function"||typeof pe.getSnapshotBeforeUpdate=="function";Tt||typeof pe.UNSAFE_componentWillReceiveProps!="function"&&typeof pe.componentWillReceiveProps!="function"||(Ae!==N||ke!==Qe)&&cA(f,pe,N,Qe),mc=!1;var yt=f.memoizedState;pe.state=yt,uy(f,N,pe,R),ke=f.memoizedState,Ae!==N||yt!==ke||vi.current||mc?(typeof gt=="function"&&(uT(f,T,gt,N),ke=f.memoizedState),(Ae=mc||lA(f,T,Ae,N,yt,ke,Qe))?(Tt||typeof pe.UNSAFE_componentWillMount!="function"&&typeof pe.componentWillMount!="function"||(typeof pe.componentWillMount=="function"&&pe.componentWillMount(),typeof pe.UNSAFE_componentWillMount=="function"&&pe.UNSAFE_componentWillMount()),typeof pe.componentDidMount=="function"&&(f.flags|=4194308)):(typeof pe.componentDidMount=="function"&&(f.flags|=4194308),f.memoizedProps=N,f.memoizedState=ke),pe.props=N,pe.state=ke,pe.context=Qe,N=Ae):(typeof pe.componentDidMount=="function"&&(f.flags|=4194308),N=!1)}else{pe=f.stateNode,FP(u,f),Ae=f.memoizedProps,Qe=f.type===f.elementType?Ae:Do(f.type,Ae),pe.props=Qe,Tt=f.pendingProps,yt=pe.context,ke=T.contextType,typeof ke=="object"&&ke!==null?ke=Ba(ke):(ke=Ti(T)?xp:Ls.current,ke=gd(f,ke));var zt=T.getDerivedStateFromProps;(gt=typeof zt=="function"||typeof pe.getSnapshotBeforeUpdate=="function")||typeof pe.UNSAFE_componentWillReceiveProps!="function"&&typeof pe.componentWillReceiveProps!="function"||(Ae!==Tt||yt!==ke)&&cA(f,pe,N,ke),mc=!1,yt=f.memoizedState,pe.state=yt,uy(f,N,pe,R);var Wt=f.memoizedState;Ae!==Tt||yt!==Wt||vi.current||mc?(typeof zt=="function"&&(uT(f,T,zt,N),Wt=f.memoizedState),(Qe=mc||lA(f,T,Qe,N,yt,Wt,ke)||!1)?(gt||typeof pe.UNSAFE_componentWillUpdate!="function"&&typeof pe.componentWillUpdate!="function"||(typeof pe.componentWillUpdate=="function"&&pe.componentWillUpdate(N,Wt,ke),typeof pe.UNSAFE_componentWillUpdate=="function"&&pe.UNSAFE_componentWillUpdate(N,Wt,ke)),typeof pe.componentDidUpdate=="function"&&(f.flags|=4),typeof pe.getSnapshotBeforeUpdate=="function"&&(f.flags|=1024)):(typeof pe.componentDidUpdate!="function"||Ae===u.memoizedProps&&yt===u.memoizedState||(f.flags|=4),typeof pe.getSnapshotBeforeUpdate!="function"||Ae===u.memoizedProps&&yt===u.memoizedState||(f.flags|=1024),f.memoizedProps=N,f.memoizedState=Wt),pe.props=N,pe.state=Wt,pe.context=ke,N=Qe):(typeof pe.componentDidUpdate!="function"||Ae===u.memoizedProps&&yt===u.memoizedState||(f.flags|=4),typeof pe.getSnapshotBeforeUpdate!="function"||Ae===u.memoizedProps&&yt===u.memoizedState||(f.flags|=1024),N=!1)}return hT(u,f,T,N,K,R)}function hT(u,f,T,N,R,K){TA(u,f);var pe=(f.flags&128)!==0;if(!N&&!pe)return R&&AP(f,T,!1),wu(u,f,K);N=f.stateNode,MV.current=f;var Ae=pe&&typeof T.getDerivedStateFromError!="function"?null:N.render();return f.flags|=1,u!==null&&pe?(f.child=Sd(f,u.child,null,K),f.child=Sd(f,null,Ae,K)):Gs(u,f,Ae,K),f.memoizedState=N.state,R&&AP(f,T,!0),f.child}function bA(u){var f=u.stateNode;f.pendingContext?EP(u,f.pendingContext,f.pendingContext!==f.context):f.context&&EP(u,f.context,!1),Jv(u,f.containerInfo)}function wA(u,f,T,N,R){return Td(),$v(R),f.flags|=256,Gs(u,f,T,N),f.child}var mT={dehydrated:null,treeContext:null,retryLane:0};function yT(u){return{baseLanes:u,cachePool:null,transitions:null}}function EA(u,f,T){var N=f.pendingProps,R=fr.current,K=!1,pe=(f.flags&128)!==0,Ae;if((Ae=pe)||(Ae=u!==null&&u.memoizedState===null?!1:(R&2)!==0),Ae?(K=!0,f.flags&=-129):(u===null||u.memoizedState!==null)&&(R|=1),Qn(fr,R&1),u===null)return qv(f),u=f.memoizedState,u!==null&&(u=u.dehydrated,u!==null)?((f.mode&1)===0?f.lanes=1:u.data==="$!"?f.lanes=8:f.lanes=1073741824,null):(pe=N.children,u=N.fallback,K?(N=f.mode,K=f.child,pe={mode:"hidden",children:pe},(N&1)===0&&K!==null?(K.childLanes=0,K.pendingProps=pe):K=Iy(pe,N,0,null),u=_p(u,N,T,null),K.return=f,u.return=f,K.sibling=u,f.child=K,f.child.memoizedState=yT(T),f.memoizedState=mT,u):gT(f,pe));if(R=u.memoizedState,R!==null&&(Ae=R.dehydrated,Ae!==null))return kV(u,f,pe,N,Ae,R,T);if(K){K=N.fallback,pe=f.mode,R=u.child,Ae=R.sibling;var ke={mode:"hidden",children:N.children};return(pe&1)===0&&f.child!==R?(N=f.child,N.childLanes=0,N.pendingProps=ke,f.deletions=null):(N=bc(R,ke),N.subtreeFlags=R.subtreeFlags&14680064),Ae!==null?K=bc(Ae,K):(K=_p(K,pe,T,null),K.flags|=2),K.return=f,N.return=f,N.sibling=K,f.child=N,N=K,K=f.child,pe=u.child.memoizedState,pe=pe===null?yT(T):{baseLanes:pe.baseLanes|T,cachePool:null,transitions:pe.transitions},K.memoizedState=pe,K.childLanes=u.childLanes&~T,f.memoizedState=mT,N}return K=u.child,u=K.sibling,N=bc(K,{mode:"visible",children:N.children}),(f.mode&1)===0&&(N.lanes=T),N.return=f,N.sibling=null,u!==null&&(T=f.deletions,T===null?(f.deletions=[u],f.flags|=16):T.push(u)),f.child=N,f.memoizedState=null,N}function gT(u,f){return f=Iy({mode:"visible",children:f},u.mode,0,null),f.return=u,u.child=f}function gy(u,f,T,N){return N!==null&&$v(N),Sd(f,u.child,null,T),u=gT(f,f.pendingProps.children),u.flags|=2,f.memoizedState=null,u}function kV(u,f,T,N,R,K,pe){if(T)return f.flags&256?(f.flags&=-257,N=pT(Error(t(422))),gy(u,f,pe,N)):f.memoizedState!==null?(f.child=u.child,f.flags|=128,null):(K=N.fallback,R=f.mode,N=Iy({mode:"visible",children:N.children},R,0,null),K=_p(K,R,pe,null),K.flags|=2,N.return=f,K.return=f,N.sibling=K,f.child=N,(f.mode&1)!==0&&Sd(f,u.child,null,pe),f.child.memoizedState=yT(pe),f.memoizedState=mT,K);if((f.mode&1)===0)return gy(u,f,pe,null);if(R.data==="$!"){if(N=R.nextSibling&&R.nextSibling.dataset,N)var Ae=N.dgst;return N=Ae,K=Error(t(419)),N=pT(K,N,void 0),gy(u,f,pe,N)}if(Ae=(pe&u.childLanes)!==0,Si||Ae){if(N=is,N!==null){switch(pe&-pe){case 4:R=2;break;case 16:R=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:R=32;break;case 536870912:R=268435456;break;default:R=0}R=(R&(N.suspendedLanes|pe))!==0?0:R,R!==0&&R!==K.retryLane&&(K.retryLane=R,Su(u,R),Bo(N,u,R,-1))}return OT(),N=pT(Error(t(421))),gy(u,f,pe,N)}return R.data==="$?"?(f.flags|=128,f.child=u.child,f=WV.bind(null,u),R._reactRetry=f,null):(u=K.treeContext,Yi=Da(R.nextSibling),Gi=f,ar=!0,Lo=null,u!==null&&(Ra[Fa++]=vu,Ra[Fa++]=Tu,Ra[Fa++]=vp,vu=u.id,Tu=u.overflow,vp=f),f=gT(f,N.children),f.flags|=4096,f)}function PA(u,f,T){u.lanes|=f;var N=u.alternate;N!==null&&(N.lanes|=f),Xv(u.return,f,T)}function xT(u,f,T,N,R){var K=u.memoizedState;K===null?u.memoizedState={isBackwards:f,rendering:null,renderingStartTime:0,last:N,tail:T,tailMode:R}:(K.isBackwards=f,K.rendering=null,K.renderingStartTime=0,K.last=N,K.tail=T,K.tailMode=R)}function AA(u,f,T){var N=f.pendingProps,R=N.revealOrder,K=N.tail;if(Gs(u,f,N.children,T),N=fr.current,(N&2)!==0)N=N&1|2,f.flags|=128;else{if(u!==null&&(u.flags&128)!==0)e:for(u=f.child;u!==null;){if(u.tag===13)u.memoizedState!==null&&PA(u,T,f);else if(u.tag===19)PA(u,T,f);else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===f)break e;for(;u.sibling===null;){if(u.return===null||u.return===f)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}N&=1}if(Qn(fr,N),(f.mode&1)===0)f.memoizedState=null;else switch(R){case"forwards":for(T=f.child,R=null;T!==null;)u=T.alternate,u!==null&&cy(u)===null&&(R=T),T=T.sibling;T=R,T===null?(R=f.child,f.child=null):(R=T.sibling,T.sibling=null),xT(f,!1,R,T,K);break;case"backwards":for(T=null,R=f.child,f.child=null;R!==null;){if(u=R.alternate,u!==null&&cy(u)===null){f.child=R;break}u=R.sibling,R.sibling=T,T=R,R=u}xT(f,!0,T,null,K);break;case"together":xT(f,!1,null,null,void 0);break;default:f.memoizedState=null}return f.child}function xy(u,f){(f.mode&1)===0&&u!==null&&(u.alternate=null,f.alternate=null,f.flags|=2)}function wu(u,f,T){if(u!==null&&(f.dependencies=u.dependencies),Ep|=f.lanes,(T&f.childLanes)===0)return null;if(u!==null&&f.child!==u.child)throw Error(t(153));if(f.child!==null){for(u=f.child,T=bc(u,u.pendingProps),f.child=T,T.return=f;u.sibling!==null;)u=u.sibling,T=T.sibling=bc(u,u.pendingProps),T.return=f;T.sibling=null}return f.child}function OV(u,f,T){switch(f.tag){case 3:bA(f),Td();break;case 5:jP(f);break;case 1:Ti(f.type)&&ey(f);break;case 4:Jv(f,f.stateNode.containerInfo);break;case 10:var N=f.type._context,R=f.memoizedProps.value;Qn(ay,N._currentValue),N._currentValue=R;break;case 13:if(N=f.memoizedState,N!==null)return N.dehydrated!==null?(Qn(fr,fr.current&1),f.flags|=128,null):(T&f.child.childLanes)!==0?EA(u,f,T):(Qn(fr,fr.current&1),u=wu(u,f,T),u!==null?u.sibling:null);Qn(fr,fr.current&1);break;case 19:if(N=(T&f.childLanes)!==0,(u.flags&128)!==0){if(N)return AA(u,f,T);f.flags|=128}if(R=f.memoizedState,R!==null&&(R.rendering=null,R.tail=null,R.lastEffect=null),Qn(fr,fr.current),N)break;return null;case 22:case 23:return f.lanes=0,vA(u,f,T)}return wu(u,f,T)}var NA,vT,_A,CA;NA=function(u,f){for(var T=f.child;T!==null;){if(T.tag===5||T.tag===6)u.appendChild(T.stateNode);else if(T.tag!==4&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===f)break;for(;T.sibling===null;){if(T.return===null||T.return===f)return;T=T.return}T.sibling.return=T.return,T=T.sibling}},vT=function(){},_A=function(u,f,T,N){var R=u.memoizedProps;if(R!==N){u=f.stateNode,bp(Ol.current);var K=null;switch(T){case"input":R=pt(u,R),N=pt(u,N),K=[];break;case"select":R=Q({},R,{value:void 0}),N=Q({},N,{value:void 0}),K=[];break;case"textarea":R=jt(u,R),N=jt(u,N),K=[];break;default:typeof R.onClick!="function"&&typeof N.onClick=="function"&&(u.onclick=mu)}xn(T,N);var pe;T=null;for(Qe in R)if(!N.hasOwnProperty(Qe)&&R.hasOwnProperty(Qe)&&R[Qe]!=null)if(Qe==="style"){var Ae=R[Qe];for(pe in Ae)Ae.hasOwnProperty(pe)&&(T||(T={}),T[pe]="")}else Qe!=="dangerouslySetInnerHTML"&&Qe!=="children"&&Qe!=="suppressContentEditableWarning"&&Qe!=="suppressHydrationWarning"&&Qe!=="autoFocus"&&(s.hasOwnProperty(Qe)?K||(K=[]):(K=K||[]).push(Qe,null));for(Qe in N){var ke=N[Qe];if(Ae=R?.[Qe],N.hasOwnProperty(Qe)&&ke!==Ae&&(ke!=null||Ae!=null))if(Qe==="style")if(Ae){for(pe in Ae)!Ae.hasOwnProperty(pe)||ke&&ke.hasOwnProperty(pe)||(T||(T={}),T[pe]="");for(pe in ke)ke.hasOwnProperty(pe)&&Ae[pe]!==ke[pe]&&(T||(T={}),T[pe]=ke[pe])}else T||(K||(K=[]),K.push(Qe,T)),T=ke;else Qe==="dangerouslySetInnerHTML"?(ke=ke?ke.__html:void 0,Ae=Ae?Ae.__html:void 0,ke!=null&&Ae!==ke&&(K=K||[]).push(Qe,ke)):Qe==="children"?typeof ke!="string"&&typeof ke!="number"||(K=K||[]).push(Qe,""+ke):Qe!=="suppressContentEditableWarning"&&Qe!=="suppressHydrationWarning"&&(s.hasOwnProperty(Qe)?(ke!=null&&Qe==="onScroll"&&qn("scroll",u),K||Ae===ke||(K=[])):(K=K||[]).push(Qe,ke))}T&&(K=K||[]).push("style",T);var Qe=K;(f.updateQueue=Qe)&&(f.flags|=4)}},CA=function(u,f,T,N){T!==N&&(f.flags|=4)};function rh(u,f){if(!ar)switch(u.tailMode){case"hidden":f=u.tail;for(var T=null;f!==null;)f.alternate!==null&&(T=f),f=f.sibling;T===null?u.tail=null:T.sibling=null;break;case"collapsed":T=u.tail;for(var N=null;T!==null;)T.alternate!==null&&(N=T),T=T.sibling;N===null?f||u.tail===null?u.tail=null:u.tail.sibling=null:N.sibling=null}}function Rs(u){var f=u.alternate!==null&&u.alternate.child===u.child,T=0,N=0;if(f)for(var R=u.child;R!==null;)T|=R.lanes|R.childLanes,N|=R.subtreeFlags&14680064,N|=R.flags&14680064,R.return=u,R=R.sibling;else for(R=u.child;R!==null;)T|=R.lanes|R.childLanes,N|=R.subtreeFlags,N|=R.flags,R.return=u,R=R.sibling;return u.subtreeFlags|=N,u.childLanes=T,f}function LV(u,f,T){var N=f.pendingProps;switch(zv(f),f.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Rs(f),null;case 1:return Ti(f.type)&&Qm(),Rs(f),null;case 3:return N=f.stateNode,Ed(),Xn(vi),Xn(Ls),eT(),N.pendingContext&&(N.context=N.pendingContext,N.pendingContext=null),(u===null||u.child===null)&&(sy(f)?f.flags|=4:u===null||u.memoizedState.isDehydrated&&(f.flags&256)===0||(f.flags|=1024,Lo!==null&&(IT(Lo),Lo=null))),vT(u,f),Rs(f),null;case 5:Zv(f);var R=bp(Zf.current);if(T=f.type,u!==null&&f.stateNode!=null)_A(u,f,T,N,R),u.ref!==f.ref&&(f.flags|=512,f.flags|=2097152);else{if(!N){if(f.stateNode===null)throw Error(t(166));return Rs(f),null}if(u=bp(Ol.current),sy(f)){N=f.stateNode,T=f.type;var K=f.memoizedProps;switch(N[xi]=f,N[yu]=K,u=(f.mode&1)!==0,T){case"dialog":qn("cancel",N),qn("close",N);break;case"iframe":case"object":case"embed":qn("load",N);break;case"video":case"audio":for(R=0;R<In.length;R++)qn(In[R],N);break;case"source":qn("error",N);break;case"img":case"image":case"link":qn("error",N),qn("load",N);break;case"details":qn("toggle",N);break;case"input":It(N,K),qn("invalid",N);break;case"select":N._wrapperState={wasMultiple:!!K.multiple},qn("invalid",N);break;case"textarea":qt(N,K),qn("invalid",N)}xn(T,K),R=null;for(var pe in K)if(K.hasOwnProperty(pe)){var Ae=K[pe];pe==="children"?typeof Ae=="string"?N.textContent!==Ae&&(K.suppressHydrationWarning!==!0&&pc(N.textContent,Ae,u),R=["children",Ae]):typeof Ae=="number"&&N.textContent!==""+Ae&&(K.suppressHydrationWarning!==!0&&pc(N.textContent,Ae,u),R=["children",""+Ae]):s.hasOwnProperty(pe)&&Ae!=null&&pe==="onScroll"&&qn("scroll",N)}switch(T){case"input":st(N),We(N,K,!0);break;case"textarea":st(N),Fe(N);break;case"select":case"option":break;default:typeof K.onClick=="function"&&(N.onclick=mu)}N=R,f.updateQueue=N,N!==null&&(f.flags|=4)}else{pe=R.nodeType===9?R:R.ownerDocument,u==="http://www.w3.org/1999/xhtml"&&(u=Me(T)),u==="http://www.w3.org/1999/xhtml"?T==="script"?(u=pe.createElement("div"),u.innerHTML="<script><\/script>",u=u.removeChild(u.firstChild)):typeof N.is=="string"?u=pe.createElement(T,{is:N.is}):(u=pe.createElement(T),T==="select"&&(pe=u,N.multiple?pe.multiple=!0:N.size&&(pe.size=N.size))):u=pe.createElementNS(u,T),u[xi]=f,u[yu]=N,NA(u,f,!1,!1),f.stateNode=u;e:{switch(pe=Be(T,N),T){case"dialog":qn("cancel",u),qn("close",u),R=N;break;case"iframe":case"object":case"embed":qn("load",u),R=N;break;case"video":case"audio":for(R=0;R<In.length;R++)qn(In[R],u);R=N;break;case"source":qn("error",u),R=N;break;case"img":case"image":case"link":qn("error",u),qn("load",u),R=N;break;case"details":qn("toggle",u),R=N;break;case"input":It(u,N),R=pt(u,N),qn("invalid",u);break;case"option":R=N;break;case"select":u._wrapperState={wasMultiple:!!N.multiple},R=Q({},N,{value:void 0}),qn("invalid",u);break;case"textarea":qt(u,N),R=jt(u,N),qn("invalid",u);break;default:R=N}xn(T,R),Ae=R;for(K in Ae)if(Ae.hasOwnProperty(K)){var ke=Ae[K];K==="style"?fn(u,ke):K==="dangerouslySetInnerHTML"?(ke=ke?ke.__html:void 0,ke!=null&&De(u,ke)):K==="children"?typeof ke=="string"?(T!=="textarea"||ke!=="")&&$e(u,ke):typeof ke=="number"&&$e(u,""+ke):K!=="suppressContentEditableWarning"&&K!=="suppressHydrationWarning"&&K!=="autoFocus"&&(s.hasOwnProperty(K)?ke!=null&&K==="onScroll"&&qn("scroll",u):ke!=null&&I(u,K,ke,pe))}switch(T){case"input":st(u),We(u,N,!1);break;case"textarea":st(u),Fe(u);break;case"option":N.value!=null&&u.setAttribute("value",""+Se(N.value));break;case"select":u.multiple=!!N.multiple,K=N.value,K!=null?Et(u,!!N.multiple,K,!1):N.defaultValue!=null&&Et(u,!!N.multiple,N.defaultValue,!0);break;default:typeof R.onClick=="function"&&(u.onclick=mu)}switch(T){case"button":case"input":case"select":case"textarea":N=!!N.autoFocus;break e;case"img":N=!0;break e;default:N=!1}}N&&(f.flags|=4)}f.ref!==null&&(f.flags|=512,f.flags|=2097152)}return Rs(f),null;case 6:if(u&&f.stateNode!=null)CA(u,f,u.memoizedProps,N);else{if(typeof N!="string"&&f.stateNode===null)throw Error(t(166));if(T=bp(Zf.current),bp(Ol.current),sy(f)){if(N=f.stateNode,T=f.memoizedProps,N[xi]=f,(K=N.nodeValue!==T)&&(u=Gi,u!==null))switch(u.tag){case 3:pc(N.nodeValue,T,(u.mode&1)!==0);break;case 5:u.memoizedProps.suppressHydrationWarning!==!0&&pc(N.nodeValue,T,(u.mode&1)!==0)}K&&(f.flags|=4)}else N=(T.nodeType===9?T:T.ownerDocument).createTextNode(N),N[xi]=f,f.stateNode=N}return Rs(f),null;case 13:if(Xn(fr),N=f.memoizedState,u===null||u.memoizedState!==null&&u.memoizedState.dehydrated!==null){if(ar&&Yi!==null&&(f.mode&1)!==0&&(f.flags&128)===0)kP(),Td(),f.flags|=98560,K=!1;else if(K=sy(f),N!==null&&N.dehydrated!==null){if(u===null){if(!K)throw Error(t(318));if(K=f.memoizedState,K=K!==null?K.dehydrated:null,!K)throw Error(t(317));K[xi]=f}else Td(),(f.flags&128)===0&&(f.memoizedState=null),f.flags|=4;Rs(f),K=!1}else Lo!==null&&(IT(Lo),Lo=null),K=!0;if(!K)return f.flags&65536?f:null}return(f.flags&128)!==0?(f.lanes=T,f):(N=N!==null,N!==(u!==null&&u.memoizedState!==null)&&N&&(f.child.flags|=8192,(f.mode&1)!==0&&(u===null||(fr.current&1)!==0?Kr===0&&(Kr=3):OT())),f.updateQueue!==null&&(f.flags|=4),Rs(f),null);case 4:return Ed(),vT(u,f),u===null&&fu(f.stateNode.containerInfo),Rs(f),null;case 10:return Kv(f.type._context),Rs(f),null;case 17:return Ti(f.type)&&Qm(),Rs(f),null;case 19:if(Xn(fr),K=f.memoizedState,K===null)return Rs(f),null;if(N=(f.flags&128)!==0,pe=K.rendering,pe===null)if(N)rh(K,!1);else{if(Kr!==0||u!==null&&(u.flags&128)!==0)for(u=f.child;u!==null;){if(pe=cy(u),pe!==null){for(f.flags|=128,rh(K,!1),N=pe.updateQueue,N!==null&&(f.updateQueue=N,f.flags|=4),f.subtreeFlags=0,N=T,T=f.child;T!==null;)K=T,u=N,K.flags&=14680066,pe=K.alternate,pe===null?(K.childLanes=0,K.lanes=u,K.child=null,K.subtreeFlags=0,K.memoizedProps=null,K.memoizedState=null,K.updateQueue=null,K.dependencies=null,K.stateNode=null):(K.childLanes=pe.childLanes,K.lanes=pe.lanes,K.child=pe.child,K.subtreeFlags=0,K.deletions=null,K.memoizedProps=pe.memoizedProps,K.memoizedState=pe.memoizedState,K.updateQueue=pe.updateQueue,K.type=pe.type,u=pe.dependencies,K.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext}),T=T.sibling;return Qn(fr,fr.current&1|2),f.child}u=u.sibling}K.tail!==null&&En()>_d&&(f.flags|=128,N=!0,rh(K,!1),f.lanes=4194304)}else{if(!N)if(u=cy(pe),u!==null){if(f.flags|=128,N=!0,T=u.updateQueue,T!==null&&(f.updateQueue=T,f.flags|=4),rh(K,!0),K.tail===null&&K.tailMode==="hidden"&&!pe.alternate&&!ar)return Rs(f),null}else 2*En()-K.renderingStartTime>_d&&T!==1073741824&&(f.flags|=128,N=!0,rh(K,!1),f.lanes=4194304);K.isBackwards?(pe.sibling=f.child,f.child=pe):(T=K.last,T!==null?T.sibling=pe:f.child=pe,K.last=pe)}return K.tail!==null?(f=K.tail,K.rendering=f,K.tail=f.sibling,K.renderingStartTime=En(),f.sibling=null,T=fr.current,Qn(fr,N?T&1|2:T&1),f):(Rs(f),null);case 22:case 23:return kT(),N=f.memoizedState!==null,u!==null&&u.memoizedState!==null!==N&&(f.flags|=8192),N&&(f.mode&1)!==0?(Ji&1073741824)!==0&&(Rs(f),f.subtreeFlags&6&&(f.flags|=8192)):Rs(f),null;case 24:return null;case 25:return null}throw Error(t(156,f.tag))}function DV(u,f){switch(zv(f),f.tag){case 1:return Ti(f.type)&&Qm(),u=f.flags,u&65536?(f.flags=u&-65537|128,f):null;case 3:return Ed(),Xn(vi),Xn(Ls),eT(),u=f.flags,(u&65536)!==0&&(u&128)===0?(f.flags=u&-65537|128,f):null;case 5:return Zv(f),null;case 13:if(Xn(fr),u=f.memoizedState,u!==null&&u.dehydrated!==null){if(f.alternate===null)throw Error(t(340));Td()}return u=f.flags,u&65536?(f.flags=u&-65537|128,f):null;case 19:return Xn(fr),null;case 4:return Ed(),null;case 10:return Kv(f.type._context),null;case 22:case 23:return kT(),null;case 24:return null;default:return null}}var vy=!1,Fs=!1,RV=typeof WeakSet=="function"?WeakSet:Set,$t=null;function Ad(u,f){var T=u.ref;if(T!==null)if(typeof T=="function")try{T(null)}catch(N){xr(u,f,N)}else T.current=null}function TT(u,f,T){try{T()}catch(N){xr(u,f,N)}}var IA=!1;function FV(u,f){if(dp=Ea,u=nc(),uu(u)){if("selectionStart"in u)var T={start:u.selectionStart,end:u.selectionEnd};else e:{T=(T=u.ownerDocument)&&T.defaultView||window;var N=T.getSelection&&T.getSelection();if(N&&N.rangeCount!==0){T=N.anchorNode;var R=N.anchorOffset,K=N.focusNode;N=N.focusOffset;try{T.nodeType,K.nodeType}catch{T=null;break e}var pe=0,Ae=-1,ke=-1,Qe=0,gt=0,Tt=u,yt=null;t:for(;;){for(var zt;Tt!==T||R!==0&&Tt.nodeType!==3||(Ae=pe+R),Tt!==K||N!==0&&Tt.nodeType!==3||(ke=pe+N),Tt.nodeType===3&&(pe+=Tt.nodeValue.length),(zt=Tt.firstChild)!==null;)yt=Tt,Tt=zt;for(;;){if(Tt===u)break t;if(yt===T&&++Qe===R&&(Ae=pe),yt===K&&++gt===N&&(ke=pe),(zt=Tt.nextSibling)!==null)break;Tt=yt,yt=Tt.parentNode}Tt=zt}T=Ae===-1||ke===-1?null:{start:Ae,end:ke}}else T=null}T=T||{start:0,end:0}}else T=null;for(fp={focusedElem:u,selectionRange:T},Ea=!1,$t=f;$t!==null;)if(f=$t,u=f.child,(f.subtreeFlags&1028)!==0&&u!==null)u.return=f,$t=u;else for(;$t!==null;){f=$t;try{var Wt=f.alternate;if((f.flags&1024)!==0)switch(f.tag){case 0:case 11:case 15:break;case 1:if(Wt!==null){var Kt=Wt.memoizedProps,Pr=Wt.memoizedState,He=f.stateNode,Re=He.getSnapshotBeforeUpdate(f.elementType===f.type?Kt:Do(f.type,Kt),Pr);He.__reactInternalSnapshotBeforeUpdate=Re}break;case 3:var Ge=f.stateNode.containerInfo;Ge.nodeType===1?Ge.textContent="":Ge.nodeType===9&&Ge.documentElement&&Ge.removeChild(Ge.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(At){xr(f,f.return,At)}if(u=f.sibling,u!==null){u.return=f.return,$t=u;break}$t=f.return}return Wt=IA,IA=!1,Wt}function sh(u,f,T){var N=f.updateQueue;if(N=N!==null?N.lastEffect:null,N!==null){var R=N=N.next;do{if((R.tag&u)===u){var K=R.destroy;R.destroy=void 0,K!==void 0&&TT(f,T,K)}R=R.next}while(R!==N)}}function Ty(u,f){if(f=f.updateQueue,f=f!==null?f.lastEffect:null,f!==null){var T=f=f.next;do{if((T.tag&u)===u){var N=T.create;T.destroy=N()}T=T.next}while(T!==f)}}function ST(u){var f=u.ref;if(f!==null){var T=u.stateNode;switch(u.tag){case 5:u=T;break;default:u=T}typeof f=="function"?f(u):f.current=u}}function MA(u){var f=u.alternate;f!==null&&(u.alternate=null,MA(f)),u.child=null,u.deletions=null,u.sibling=null,u.tag===5&&(f=u.stateNode,f!==null&&(delete f[xi],delete f[yu],delete f[gp],delete f[Kf],delete f[Xf])),u.stateNode=null,u.return=null,u.dependencies=null,u.memoizedProps=null,u.memoizedState=null,u.pendingProps=null,u.stateNode=null,u.updateQueue=null}function kA(u){return u.tag===5||u.tag===3||u.tag===4}function OA(u){e:for(;;){for(;u.sibling===null;){if(u.return===null||kA(u.return))return null;u=u.return}for(u.sibling.return=u.return,u=u.sibling;u.tag!==5&&u.tag!==6&&u.tag!==18;){if(u.flags&2||u.child===null||u.tag===4)continue e;u.child.return=u,u=u.child}if(!(u.flags&2))return u.stateNode}}function bT(u,f,T){var N=u.tag;if(N===5||N===6)u=u.stateNode,f?T.nodeType===8?T.parentNode.insertBefore(u,f):T.insertBefore(u,f):(T.nodeType===8?(f=T.parentNode,f.insertBefore(u,T)):(f=T,f.appendChild(u)),T=T._reactRootContainer,T!=null||f.onclick!==null||(f.onclick=mu));else if(N!==4&&(u=u.child,u!==null))for(bT(u,f,T),u=u.sibling;u!==null;)bT(u,f,T),u=u.sibling}function wT(u,f,T){var N=u.tag;if(N===5||N===6)u=u.stateNode,f?T.insertBefore(u,f):T.appendChild(u);else if(N!==4&&(u=u.child,u!==null))for(wT(u,f,T),u=u.sibling;u!==null;)wT(u,f,T),u=u.sibling}var xs=null,Ro=!1;function gc(u,f,T){for(T=T.child;T!==null;)LA(u,f,T),T=T.sibling}function LA(u,f,T){if(Dr&&typeof Dr.onCommitFiberUnmount=="function")try{Dr.onCommitFiberUnmount(ns,T)}catch{}switch(T.tag){case 5:Fs||Ad(T,f);case 6:var N=xs,R=Ro;xs=null,gc(u,f,T),xs=N,Ro=R,xs!==null&&(Ro?(u=xs,T=T.stateNode,u.nodeType===8?u.parentNode.removeChild(T):u.removeChild(T)):xs.removeChild(T.stateNode));break;case 18:xs!==null&&(Ro?(u=xs,T=T.stateNode,u.nodeType===8?yp(u.parentNode,T):u.nodeType===1&&yp(u,T),zi(u)):yp(xs,T.stateNode));break;case 4:N=xs,R=Ro,xs=T.stateNode.containerInfo,Ro=!0,gc(u,f,T),xs=N,Ro=R;break;case 0:case 11:case 14:case 15:if(!Fs&&(N=T.updateQueue,N!==null&&(N=N.lastEffect,N!==null))){R=N=N.next;do{var K=R,pe=K.destroy;K=K.tag,pe!==void 0&&((K&2)!==0||(K&4)!==0)&&TT(T,f,pe),R=R.next}while(R!==N)}gc(u,f,T);break;case 1:if(!Fs&&(Ad(T,f),N=T.stateNode,typeof N.componentWillUnmount=="function"))try{N.props=T.memoizedProps,N.state=T.memoizedState,N.componentWillUnmount()}catch(Ae){xr(T,f,Ae)}gc(u,f,T);break;case 21:gc(u,f,T);break;case 22:T.mode&1?(Fs=(N=Fs)||T.memoizedState!==null,gc(u,f,T),Fs=N):gc(u,f,T);break;default:gc(u,f,T)}}function DA(u){var f=u.updateQueue;if(f!==null){u.updateQueue=null;var T=u.stateNode;T===null&&(T=u.stateNode=new RV),f.forEach(function(N){var R=HV.bind(null,u,N);T.has(N)||(T.add(N),N.then(R,R))})}}function Fo(u,f){var T=f.deletions;if(T!==null)for(var N=0;N<T.length;N++){var R=T[N];try{var K=u,pe=f,Ae=pe;e:for(;Ae!==null;){switch(Ae.tag){case 5:xs=Ae.stateNode,Ro=!1;break e;case 3:xs=Ae.stateNode.containerInfo,Ro=!0;break e;case 4:xs=Ae.stateNode.containerInfo,Ro=!0;break e}Ae=Ae.return}if(xs===null)throw Error(t(160));LA(K,pe,R),xs=null,Ro=!1;var ke=R.alternate;ke!==null&&(ke.return=null),R.return=null}catch(Qe){xr(R,f,Qe)}}if(f.subtreeFlags&12854)for(f=f.child;f!==null;)RA(f,u),f=f.sibling}function RA(u,f){var T=u.alternate,N=u.flags;switch(u.tag){case 0:case 11:case 14:case 15:if(Fo(f,u),Dl(u),N&4){try{sh(3,u,u.return),Ty(3,u)}catch(Kt){xr(u,u.return,Kt)}try{sh(5,u,u.return)}catch(Kt){xr(u,u.return,Kt)}}break;case 1:Fo(f,u),Dl(u),N&512&&T!==null&&Ad(T,T.return);break;case 5:if(Fo(f,u),Dl(u),N&512&&T!==null&&Ad(T,T.return),u.flags&32){var R=u.stateNode;try{$e(R,"")}catch(Kt){xr(u,u.return,Kt)}}if(N&4&&(R=u.stateNode,R!=null)){var K=u.memoizedProps,pe=T!==null?T.memoizedProps:K,Ae=u.type,ke=u.updateQueue;if(u.updateQueue=null,ke!==null)try{Ae==="input"&&K.type==="radio"&&K.name!=null&&ct(R,K),Be(Ae,pe);var Qe=Be(Ae,K);for(pe=0;pe<ke.length;pe+=2){var gt=ke[pe],Tt=ke[pe+1];gt==="style"?fn(R,Tt):gt==="dangerouslySetInnerHTML"?De(R,Tt):gt==="children"?$e(R,Tt):I(R,gt,Tt,Qe)}switch(Ae){case"input":Ye(R,K);break;case"textarea":mn(R,K);break;case"select":var yt=R._wrapperState.wasMultiple;R._wrapperState.wasMultiple=!!K.multiple;var zt=K.value;zt!=null?Et(R,!!K.multiple,zt,!1):yt!==!!K.multiple&&(K.defaultValue!=null?Et(R,!!K.multiple,K.defaultValue,!0):Et(R,!!K.multiple,K.multiple?[]:"",!1))}R[yu]=K}catch(Kt){xr(u,u.return,Kt)}}break;case 6:if(Fo(f,u),Dl(u),N&4){if(u.stateNode===null)throw Error(t(162));R=u.stateNode,K=u.memoizedProps;try{R.nodeValue=K}catch(Kt){xr(u,u.return,Kt)}}break;case 3:if(Fo(f,u),Dl(u),N&4&&T!==null&&T.memoizedState.isDehydrated)try{zi(f.containerInfo)}catch(Kt){xr(u,u.return,Kt)}break;case 4:Fo(f,u),Dl(u);break;case 13:Fo(f,u),Dl(u),R=u.child,R.flags&8192&&(K=R.memoizedState!==null,R.stateNode.isHidden=K,!K||R.alternate!==null&&R.alternate.memoizedState!==null||(AT=En())),N&4&&DA(u);break;case 22:if(gt=T!==null&&T.memoizedState!==null,u.mode&1?(Fs=(Qe=Fs)||gt,Fo(f,u),Fs=Qe):Fo(f,u),Dl(u),N&8192){if(Qe=u.memoizedState!==null,(u.stateNode.isHidden=Qe)&&!gt&&(u.mode&1)!==0)for($t=u,gt=u.child;gt!==null;){for(Tt=$t=gt;$t!==null;){switch(yt=$t,zt=yt.child,yt.tag){case 0:case 11:case 14:case 15:sh(4,yt,yt.return);break;case 1:Ad(yt,yt.return);var Wt=yt.stateNode;if(typeof Wt.componentWillUnmount=="function"){N=yt,T=yt.return;try{f=N,Wt.props=f.memoizedProps,Wt.state=f.memoizedState,Wt.componentWillUnmount()}catch(Kt){xr(N,T,Kt)}}break;case 5:Ad(yt,yt.return);break;case 22:if(yt.memoizedState!==null){VA(Tt);continue}}zt!==null?(zt.return=yt,$t=zt):VA(Tt)}gt=gt.sibling}e:for(gt=null,Tt=u;;){if(Tt.tag===5){if(gt===null){gt=Tt;try{R=Tt.stateNode,Qe?(K=R.style,typeof K.setProperty=="function"?K.setProperty("display","none","important"):K.display="none"):(Ae=Tt.stateNode,ke=Tt.memoizedProps.style,pe=ke!=null&&ke.hasOwnProperty("display")?ke.display:null,Ae.style.display=Zt("display",pe))}catch(Kt){xr(u,u.return,Kt)}}}else if(Tt.tag===6){if(gt===null)try{Tt.stateNode.nodeValue=Qe?"":Tt.memoizedProps}catch(Kt){xr(u,u.return,Kt)}}else if((Tt.tag!==22&&Tt.tag!==23||Tt.memoizedState===null||Tt===u)&&Tt.child!==null){Tt.child.return=Tt,Tt=Tt.child;continue}if(Tt===u)break e;for(;Tt.sibling===null;){if(Tt.return===null||Tt.return===u)break e;gt===Tt&&(gt=null),Tt=Tt.return}gt===Tt&&(gt=null),Tt.sibling.return=Tt.return,Tt=Tt.sibling}}break;case 19:Fo(f,u),Dl(u),N&4&&DA(u);break;case 21:break;default:Fo(f,u),Dl(u)}}function Dl(u){var f=u.flags;if(f&2){try{e:{for(var T=u.return;T!==null;){if(kA(T)){var N=T;break e}T=T.return}throw Error(t(160))}switch(N.tag){case 5:var R=N.stateNode;N.flags&32&&($e(R,""),N.flags&=-33);var K=OA(u);wT(u,K,R);break;case 3:case 4:var pe=N.stateNode.containerInfo,Ae=OA(u);bT(u,Ae,pe);break;default:throw Error(t(161))}}catch(ke){xr(u,u.return,ke)}u.flags&=-3}f&4096&&(u.flags&=-4097)}function BV(u,f,T){$t=u,FA(u)}function FA(u,f,T){for(var N=(u.mode&1)!==0;$t!==null;){var R=$t,K=R.child;if(R.tag===22&&N){var pe=R.memoizedState!==null||vy;if(!pe){var Ae=R.alternate,ke=Ae!==null&&Ae.memoizedState!==null||Fs;Ae=vy;var Qe=Fs;if(vy=pe,(Fs=ke)&&!Qe)for($t=R;$t!==null;)pe=$t,ke=pe.child,pe.tag===22&&pe.memoizedState!==null?jA(R):ke!==null?(ke.return=pe,$t=ke):jA(R);for(;K!==null;)$t=K,FA(K),K=K.sibling;$t=R,vy=Ae,Fs=Qe}BA(u)}else(R.subtreeFlags&8772)!==0&&K!==null?(K.return=R,$t=K):BA(u)}}function BA(u){for(;$t!==null;){var f=$t;if((f.flags&8772)!==0){var T=f.alternate;try{if((f.flags&8772)!==0)switch(f.tag){case 0:case 11:case 15:Fs||Ty(5,f);break;case 1:var N=f.stateNode;if(f.flags&4&&!Fs)if(T===null)N.componentDidMount();else{var R=f.elementType===f.type?T.memoizedProps:Do(f.type,T.memoizedProps);N.componentDidUpdate(R,T.memoizedState,N.__reactInternalSnapshotBeforeUpdate)}var K=f.updateQueue;K!==null&&VP(f,K,N);break;case 3:var pe=f.updateQueue;if(pe!==null){if(T=null,f.child!==null)switch(f.child.tag){case 5:T=f.child.stateNode;break;case 1:T=f.child.stateNode}VP(f,pe,T)}break;case 5:var Ae=f.stateNode;if(T===null&&f.flags&4){T=Ae;var ke=f.memoizedProps;switch(f.type){case"button":case"input":case"select":case"textarea":ke.autoFocus&&T.focus();break;case"img":ke.src&&(T.src=ke.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(f.memoizedState===null){var Qe=f.alternate;if(Qe!==null){var gt=Qe.memoizedState;if(gt!==null){var Tt=gt.dehydrated;Tt!==null&&zi(Tt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Fs||f.flags&512&&ST(f)}catch(yt){xr(f,f.return,yt)}}if(f===u){$t=null;break}if(T=f.sibling,T!==null){T.return=f.return,$t=T;break}$t=f.return}}function VA(u){for(;$t!==null;){var f=$t;if(f===u){$t=null;break}var T=f.sibling;if(T!==null){T.return=f.return,$t=T;break}$t=f.return}}function jA(u){for(;$t!==null;){var f=$t;try{switch(f.tag){case 0:case 11:case 15:var T=f.return;try{Ty(4,f)}catch(ke){xr(f,T,ke)}break;case 1:var N=f.stateNode;if(typeof N.componentDidMount=="function"){var R=f.return;try{N.componentDidMount()}catch(ke){xr(f,R,ke)}}var K=f.return;try{ST(f)}catch(ke){xr(f,K,ke)}break;case 5:var pe=f.return;try{ST(f)}catch(ke){xr(f,pe,ke)}}}catch(ke){xr(f,f.return,ke)}if(f===u){$t=null;break}var Ae=f.sibling;if(Ae!==null){Ae.return=f.return,$t=Ae;break}$t=f.return}}var VV=Math.ceil,Sy=_.ReactCurrentDispatcher,ET=_.ReactCurrentOwner,ja=_.ReactCurrentBatchConfig,Dn=0,is=null,Fr=null,vs=0,Ji=0,Nd=U(0),Kr=0,ih=null,Ep=0,by=0,PT=0,ah=null,bi=null,AT=0,_d=1/0,Eu=null,wy=!1,NT=null,xc=null,Ey=!1,vc=null,Py=0,oh=0,_T=null,Ay=-1,Ny=0;function Ys(){return(Dn&6)!==0?En():Ay!==-1?Ay:Ay=En()}function Tc(u){return(u.mode&1)===0?1:(Dn&2)!==0&&vs!==0?vs&-vs:bV.transition!==null?(Ny===0&&(Ny=Ps()),Ny):(u=hn,u!==0||(u=window.event,u=u===void 0?16:dl(u.type)),u)}function Bo(u,f,T,N){if(50<oh)throw oh=0,_T=null,Error(t(185));As(u,T,N),((Dn&2)===0||u!==is)&&(u===is&&((Dn&2)===0&&(by|=T),Kr===4&&Sc(u,vs)),wi(u,N),T===1&&Dn===0&&(f.mode&1)===0&&(_d=En()+500,ty&&hc()))}function wi(u,f){var T=u.callbackNode;uo(u,f);var N=ms(u,u===is?vs:0);if(N===0)T!==null&&li(T),u.callbackNode=null,u.callbackPriority=0;else if(f=N&-N,u.callbackPriority!==f){if(T!=null&&li(T),f===1)u.tag===0?SV(UA.bind(null,u)):NP(UA.bind(null,u)),Wf(function(){(Dn&6)===0&&hc()}),T=null;else{switch(ol(N)){case 1:T=ts;break;case 4:T=va;break;case 16:T=ui;break;case 536870912:T=Ta;break;default:T=ui}T=YA(T,zA.bind(null,u))}u.callbackPriority=f,u.callbackNode=T}}function zA(u,f){if(Ay=-1,Ny=0,(Dn&6)!==0)throw Error(t(327));var T=u.callbackNode;if(Cd()&&u.callbackNode!==T)return null;var N=ms(u,u===is?vs:0);if(N===0)return null;if((N&30)!==0||(N&u.expiredLanes)!==0||f)f=_y(u,N);else{f=N;var R=Dn;Dn|=2;var K=$A();(is!==u||vs!==f)&&(Eu=null,_d=En()+500,Ap(u,f));do try{UV();break}catch(Ae){qA(u,Ae)}while(!0);Hv(),Sy.current=K,Dn=R,Fr!==null?f=0:(is=null,vs=0,f=Kr)}if(f!==0){if(f===2&&(R=Fi(u),R!==0&&(N=R,f=CT(u,R))),f===1)throw T=ih,Ap(u,0),Sc(u,N),wi(u,En()),T;if(f===6)Sc(u,N);else{if(R=u.current.alternate,(N&30)===0&&!jV(R)&&(f=_y(u,N),f===2&&(K=Fi(u),K!==0&&(N=K,f=CT(u,K))),f===1))throw T=ih,Ap(u,0),Sc(u,N),wi(u,En()),T;switch(u.finishedWork=R,u.finishedLanes=N,f){case 0:case 1:throw Error(t(345));case 2:Np(u,bi,Eu);break;case 3:if(Sc(u,N),(N&130023424)===N&&(f=AT+500-En(),10<f)){if(ms(u,0)!==0)break;if(R=u.suspendedLanes,(R&N)!==N){Ys(),u.pingedLanes|=u.suspendedLanes&R;break}u.timeoutHandle=mp(Np.bind(null,u,bi,Eu),f);break}Np(u,bi,Eu);break;case 4:if(Sc(u,N),(N&4194240)===N)break;for(f=u.eventTimes,R=-1;0<N;){var pe=31-Er(N);K=1<<pe,pe=f[pe],pe>R&&(R=pe),N&=~K}if(N=R,N=En()-N,N=(120>N?120:480>N?480:1080>N?1080:1920>N?1920:3e3>N?3e3:4320>N?4320:1960*VV(N/1960))-N,10<N){u.timeoutHandle=mp(Np.bind(null,u,bi,Eu),N);break}Np(u,bi,Eu);break;case 5:Np(u,bi,Eu);break;default:throw Error(t(329))}}}return wi(u,En()),u.callbackNode===T?zA.bind(null,u):null}function CT(u,f){var T=ah;return u.current.memoizedState.isDehydrated&&(Ap(u,f).flags|=256),u=_y(u,f),u!==2&&(f=bi,bi=T,f!==null&&IT(f)),u}function IT(u){bi===null?bi=u:bi.push.apply(bi,u)}function jV(u){for(var f=u;;){if(f.flags&16384){var T=f.updateQueue;if(T!==null&&(T=T.stores,T!==null))for(var N=0;N<T.length;N++){var R=T[N],K=R.getSnapshot;R=R.value;try{if(!gs(K(),R))return!1}catch{return!1}}}if(T=f.child,f.subtreeFlags&16384&&T!==null)T.return=f,f=T;else{if(f===u)break;for(;f.sibling===null;){if(f.return===null||f.return===u)return!0;f=f.return}f.sibling.return=f.return,f=f.sibling}}return!0}function Sc(u,f){for(f&=~PT,f&=~by,u.suspendedLanes|=f,u.pingedLanes&=~f,u=u.expirationTimes;0<f;){var T=31-Er(f),N=1<<T;u[T]=-1,f&=~N}}function UA(u){if((Dn&6)!==0)throw Error(t(327));Cd();var f=ms(u,0);if((f&1)===0)return wi(u,En()),null;var T=_y(u,f);if(u.tag!==0&&T===2){var N=Fi(u);N!==0&&(f=N,T=CT(u,N))}if(T===1)throw T=ih,Ap(u,0),Sc(u,f),wi(u,En()),T;if(T===6)throw Error(t(345));return u.finishedWork=u.current.alternate,u.finishedLanes=f,Np(u,bi,Eu),wi(u,En()),null}function MT(u,f){var T=Dn;Dn|=1;try{return u(f)}finally{Dn=T,Dn===0&&(_d=En()+500,ty&&hc())}}function Pp(u){vc!==null&&vc.tag===0&&(Dn&6)===0&&Cd();var f=Dn;Dn|=1;var T=ja.transition,N=hn;try{if(ja.transition=null,hn=1,u)return u()}finally{hn=N,ja.transition=T,Dn=f,(Dn&6)===0&&hc()}}function kT(){Ji=Nd.current,Xn(Nd)}function Ap(u,f){u.finishedWork=null,u.finishedLanes=0;var T=u.timeoutHandle;if(T!==-1&&(u.timeoutHandle=-1,$f(T)),Fr!==null)for(T=Fr.return;T!==null;){var N=T;switch(zv(N),N.tag){case 1:N=N.type.childContextTypes,N!=null&&Qm();break;case 3:Ed(),Xn(vi),Xn(Ls),eT();break;case 5:Zv(N);break;case 4:Ed();break;case 13:Xn(fr);break;case 19:Xn(fr);break;case 10:Kv(N.type._context);break;case 22:case 23:kT()}T=T.return}if(is=u,Fr=u=bc(u.current,null),vs=Ji=f,Kr=0,ih=null,PT=by=Ep=0,bi=ah=null,Sp!==null){for(f=0;f<Sp.length;f++)if(T=Sp[f],N=T.interleaved,N!==null){T.interleaved=null;var R=N.next,K=T.pending;if(K!==null){var pe=K.next;K.next=R,N.next=pe}T.pending=N}Sp=null}return u}function qA(u,f){do{var T=Fr;try{if(Hv(),py.current=my,dy){for(var N=hr.memoizedState;N!==null;){var R=N.queue;R!==null&&(R.pending=null),N=N.next}dy=!1}if(wp=0,ss=Hr=hr=null,Qf=!1,eh=0,ET.current=null,T===null||T.return===null){Kr=1,ih=f,Fr=null;break}e:{var K=u,pe=T.return,Ae=T,ke=f;if(f=vs,Ae.flags|=32768,ke!==null&&typeof ke=="object"&&typeof ke.then=="function"){var Qe=ke,gt=Ae,Tt=gt.tag;if((gt.mode&1)===0&&(Tt===0||Tt===11||Tt===15)){var yt=gt.alternate;yt?(gt.updateQueue=yt.updateQueue,gt.memoizedState=yt.memoizedState,gt.lanes=yt.lanes):(gt.updateQueue=null,gt.memoizedState=null)}var zt=hA(pe);if(zt!==null){zt.flags&=-257,mA(zt,pe,Ae,K,f),zt.mode&1&&fA(K,Qe,f),f=zt,ke=Qe;var Wt=f.updateQueue;if(Wt===null){var Kt=new Set;Kt.add(ke),f.updateQueue=Kt}else Wt.add(ke);break e}else{if((f&1)===0){fA(K,Qe,f),OT();break e}ke=Error(t(426))}}else if(ar&&Ae.mode&1){var Pr=hA(pe);if(Pr!==null){(Pr.flags&65536)===0&&(Pr.flags|=256),mA(Pr,pe,Ae,K,f),$v(Pd(ke,Ae));break e}}K=ke=Pd(ke,Ae),Kr!==4&&(Kr=2),ah===null?ah=[K]:ah.push(K),K=pe;do{switch(K.tag){case 3:K.flags|=65536,f&=-f,K.lanes|=f;var He=pA(K,ke,f);BP(K,He);break e;case 1:Ae=ke;var Re=K.type,Ge=K.stateNode;if((K.flags&128)===0&&(typeof Re.getDerivedStateFromError=="function"||Ge!==null&&typeof Ge.componentDidCatch=="function"&&(xc===null||!xc.has(Ge)))){K.flags|=65536,f&=-f,K.lanes|=f;var At=dA(K,Ae,f);BP(K,At);break e}}K=K.return}while(K!==null)}HA(T)}catch(Gt){f=Gt,Fr===T&&T!==null&&(Fr=T=T.return);continue}break}while(!0)}function $A(){var u=Sy.current;return Sy.current=my,u===null?my:u}function OT(){(Kr===0||Kr===3||Kr===2)&&(Kr=4),is===null||(Ep&268435455)===0&&(by&268435455)===0||Sc(is,vs)}function _y(u,f){var T=Dn;Dn|=2;var N=$A();(is!==u||vs!==f)&&(Eu=null,Ap(u,f));do try{zV();break}catch(R){qA(u,R)}while(!0);if(Hv(),Dn=T,Sy.current=N,Fr!==null)throw Error(t(261));return is=null,vs=0,Kr}function zV(){for(;Fr!==null;)WA(Fr)}function UV(){for(;Fr!==null&&!Di();)WA(Fr)}function WA(u){var f=GA(u.alternate,u,Ji);u.memoizedProps=u.pendingProps,f===null?HA(u):Fr=f,ET.current=null}function HA(u){var f=u;do{var T=f.alternate;if(u=f.return,(f.flags&32768)===0){if(T=LV(T,f,Ji),T!==null){Fr=T;return}}else{if(T=DV(T,f),T!==null){T.flags&=32767,Fr=T;return}if(u!==null)u.flags|=32768,u.subtreeFlags=0,u.deletions=null;else{Kr=6,Fr=null;return}}if(f=f.sibling,f!==null){Fr=f;return}Fr=f=u}while(f!==null);Kr===0&&(Kr=5)}function Np(u,f,T){var N=hn,R=ja.transition;try{ja.transition=null,hn=1,qV(u,f,T,N)}finally{ja.transition=R,hn=N}return null}function qV(u,f,T,N){do Cd();while(vc!==null);if((Dn&6)!==0)throw Error(t(327));T=u.finishedWork;var R=u.finishedLanes;if(T===null)return null;if(u.finishedWork=null,u.finishedLanes=0,T===u.current)throw Error(t(177));u.callbackNode=null,u.callbackPriority=0;var K=T.lanes|T.childLanes;if(Ns(u,K),u===is&&(Fr=is=null,vs=0),(T.subtreeFlags&2064)===0&&(T.flags&2064)===0||Ey||(Ey=!0,YA(ui,function(){return Cd(),null})),K=(T.flags&15990)!==0,(T.subtreeFlags&15990)!==0||K){K=ja.transition,ja.transition=null;var pe=hn;hn=1;var Ae=Dn;Dn|=4,ET.current=null,FV(u,T),RA(T,u),lp(fp),Ea=!!dp,fp=dp=null,u.current=T,BV(T),xa(),Dn=Ae,hn=pe,ja.transition=K}else u.current=T;if(Ey&&(Ey=!1,vc=u,Py=R),K=u.pendingLanes,K===0&&(xc=null),Sa(T.stateNode),wi(u,En()),f!==null)for(N=u.onRecoverableError,T=0;T<f.length;T++)R=f[T],N(R.value,{componentStack:R.stack,digest:R.digest});if(wy)throw wy=!1,u=NT,NT=null,u;return(Py&1)!==0&&u.tag!==0&&Cd(),K=u.pendingLanes,(K&1)!==0?u===_T?oh++:(oh=0,_T=u):oh=0,hc(),null}function Cd(){if(vc!==null){var u=ol(Py),f=ja.transition,T=hn;try{if(ja.transition=null,hn=16>u?16:u,vc===null)var N=!1;else{if(u=vc,vc=null,Py=0,(Dn&6)!==0)throw Error(t(331));var R=Dn;for(Dn|=4,$t=u.current;$t!==null;){var K=$t,pe=K.child;if(($t.flags&16)!==0){var Ae=K.deletions;if(Ae!==null){for(var ke=0;ke<Ae.length;ke++){var Qe=Ae[ke];for($t=Qe;$t!==null;){var gt=$t;switch(gt.tag){case 0:case 11:case 15:sh(8,gt,K)}var Tt=gt.child;if(Tt!==null)Tt.return=gt,$t=Tt;else for(;$t!==null;){gt=$t;var yt=gt.sibling,zt=gt.return;if(MA(gt),gt===Qe){$t=null;break}if(yt!==null){yt.return=zt,$t=yt;break}$t=zt}}}var Wt=K.alternate;if(Wt!==null){var Kt=Wt.child;if(Kt!==null){Wt.child=null;do{var Pr=Kt.sibling;Kt.sibling=null,Kt=Pr}while(Kt!==null)}}$t=K}}if((K.subtreeFlags&2064)!==0&&pe!==null)pe.return=K,$t=pe;else e:for(;$t!==null;){if(K=$t,(K.flags&2048)!==0)switch(K.tag){case 0:case 11:case 15:sh(9,K,K.return)}var He=K.sibling;if(He!==null){He.return=K.return,$t=He;break e}$t=K.return}}var Re=u.current;for($t=Re;$t!==null;){pe=$t;var Ge=pe.child;if((pe.subtreeFlags&2064)!==0&&Ge!==null)Ge.return=pe,$t=Ge;else e:for(pe=Re;$t!==null;){if(Ae=$t,(Ae.flags&2048)!==0)try{switch(Ae.tag){case 0:case 11:case 15:Ty(9,Ae)}}catch(Gt){xr(Ae,Ae.return,Gt)}if(Ae===pe){$t=null;break e}var At=Ae.sibling;if(At!==null){At.return=Ae.return,$t=At;break e}$t=Ae.return}}if(Dn=R,hc(),Dr&&typeof Dr.onPostCommitFiberRoot=="function")try{Dr.onPostCommitFiberRoot(ns,u)}catch{}N=!0}return N}finally{hn=T,ja.transition=f}}return!1}function KA(u,f,T){f=Pd(T,f),f=pA(u,f,1),u=yc(u,f,1),f=Ys(),u!==null&&(As(u,1,f),wi(u,f))}function xr(u,f,T){if(u.tag===3)KA(u,u,T);else for(;f!==null;){if(f.tag===3){KA(f,u,T);break}else if(f.tag===1){var N=f.stateNode;if(typeof f.type.getDerivedStateFromError=="function"||typeof N.componentDidCatch=="function"&&(xc===null||!xc.has(N))){u=Pd(T,u),u=dA(f,u,1),f=yc(f,u,1),u=Ys(),f!==null&&(As(f,1,u),wi(f,u));break}}f=f.return}}function $V(u,f,T){var N=u.pingCache;N!==null&&N.delete(f),f=Ys(),u.pingedLanes|=u.suspendedLanes&T,is===u&&(vs&T)===T&&(Kr===4||Kr===3&&(vs&130023424)===vs&&500>En()-AT?Ap(u,0):PT|=T),wi(u,f)}function XA(u,f){f===0&&((u.mode&1)===0?f=1:(f=ci,ci<<=1,(ci&130023424)===0&&(ci=4194304)));var T=Ys();u=Su(u,f),u!==null&&(As(u,f,T),wi(u,T))}function WV(u){var f=u.memoizedState,T=0;f!==null&&(T=f.retryLane),XA(u,T)}function HV(u,f){var T=0;switch(u.tag){case 13:var N=u.stateNode,R=u.memoizedState;R!==null&&(T=R.retryLane);break;case 19:N=u.stateNode;break;default:throw Error(t(314))}N!==null&&N.delete(f),XA(u,T)}var GA;GA=function(u,f,T){if(u!==null)if(u.memoizedProps!==f.pendingProps||vi.current)Si=!0;else{if((u.lanes&T)===0&&(f.flags&128)===0)return Si=!1,OV(u,f,T);Si=(u.flags&131072)!==0}else Si=!1,ar&&(f.flags&1048576)!==0&&_P(f,ry,f.index);switch(f.lanes=0,f.tag){case 2:var N=f.type;xy(u,f),u=f.pendingProps;var R=gd(f,Ls.current);wd(f,T),R=rT(null,f,N,u,R,T);var K=sT();return f.flags|=1,typeof R=="object"&&R!==null&&typeof R.render=="function"&&R.$$typeof===void 0?(f.tag=1,f.memoizedState=null,f.updateQueue=null,Ti(N)?(K=!0,ey(f)):K=!1,f.memoizedState=R.state!==null&&R.state!==void 0?R.state:null,Yv(f),R.updater=yy,f.stateNode=R,R._reactInternals=f,cT(f,N,u,T),f=hT(null,f,N,!0,K,T)):(f.tag=0,ar&&K&&jv(f),Gs(null,f,R,T),f=f.child),f;case 16:N=f.elementType;e:{switch(xy(u,f),u=f.pendingProps,R=N._init,N=R(N._payload),f.type=N,R=f.tag=XV(N),u=Do(N,u),R){case 0:f=fT(null,f,N,u,T);break e;case 1:f=SA(null,f,N,u,T);break e;case 11:f=yA(null,f,N,u,T);break e;case 14:f=gA(null,f,N,Do(N.type,u),T);break e}throw Error(t(306,N,""))}return f;case 0:return N=f.type,R=f.pendingProps,R=f.elementType===N?R:Do(N,R),fT(u,f,N,R,T);case 1:return N=f.type,R=f.pendingProps,R=f.elementType===N?R:Do(N,R),SA(u,f,N,R,T);case 3:e:{if(bA(f),u===null)throw Error(t(387));N=f.pendingProps,K=f.memoizedState,R=K.element,FP(u,f),uy(f,N,null,T);var pe=f.memoizedState;if(N=pe.element,K.isDehydrated)if(K={element:N,isDehydrated:!1,cache:pe.cache,pendingSuspenseBoundaries:pe.pendingSuspenseBoundaries,transitions:pe.transitions},f.updateQueue.baseState=K,f.memoizedState=K,f.flags&256){R=Pd(Error(t(423)),f),f=wA(u,f,N,T,R);break e}else if(N!==R){R=Pd(Error(t(424)),f),f=wA(u,f,N,T,R);break e}else for(Yi=Da(f.stateNode.containerInfo.firstChild),Gi=f,ar=!0,Lo=null,T=DP(f,null,N,T),f.child=T;T;)T.flags=T.flags&-3|4096,T=T.sibling;else{if(Td(),N===R){f=wu(u,f,T);break e}Gs(u,f,N,T)}f=f.child}return f;case 5:return jP(f),u===null&&qv(f),N=f.type,R=f.pendingProps,K=u!==null?u.memoizedProps:null,pe=R.children,hp(N,R)?pe=null:K!==null&&hp(N,K)&&(f.flags|=32),TA(u,f),Gs(u,f,pe,T),f.child;case 6:return u===null&&qv(f),null;case 13:return EA(u,f,T);case 4:return Jv(f,f.stateNode.containerInfo),N=f.pendingProps,u===null?f.child=Sd(f,null,N,T):Gs(u,f,N,T),f.child;case 11:return N=f.type,R=f.pendingProps,R=f.elementType===N?R:Do(N,R),yA(u,f,N,R,T);case 7:return Gs(u,f,f.pendingProps,T),f.child;case 8:return Gs(u,f,f.pendingProps.children,T),f.child;case 12:return Gs(u,f,f.pendingProps.children,T),f.child;case 10:e:{if(N=f.type._context,R=f.pendingProps,K=f.memoizedProps,pe=R.value,Qn(ay,N._currentValue),N._currentValue=pe,K!==null)if(gs(K.value,pe)){if(K.children===R.children&&!vi.current){f=wu(u,f,T);break e}}else for(K=f.child,K!==null&&(K.return=f);K!==null;){var Ae=K.dependencies;if(Ae!==null){pe=K.child;for(var ke=Ae.firstContext;ke!==null;){if(ke.context===N){if(K.tag===1){ke=bu(-1,T&-T),ke.tag=2;var Qe=K.updateQueue;if(Qe!==null){Qe=Qe.shared;var gt=Qe.pending;gt===null?ke.next=ke:(ke.next=gt.next,gt.next=ke),Qe.pending=ke}}K.lanes|=T,ke=K.alternate,ke!==null&&(ke.lanes|=T),Xv(K.return,T,f),Ae.lanes|=T;break}ke=ke.next}}else if(K.tag===10)pe=K.type===f.type?null:K.child;else if(K.tag===18){if(pe=K.return,pe===null)throw Error(t(341));pe.lanes|=T,Ae=pe.alternate,Ae!==null&&(Ae.lanes|=T),Xv(pe,T,f),pe=K.sibling}else pe=K.child;if(pe!==null)pe.return=K;else for(pe=K;pe!==null;){if(pe===f){pe=null;break}if(K=pe.sibling,K!==null){K.return=pe.return,pe=K;break}pe=pe.return}K=pe}Gs(u,f,R.children,T),f=f.child}return f;case 9:return R=f.type,N=f.pendingProps.children,wd(f,T),R=Ba(R),N=N(R),f.flags|=1,Gs(u,f,N,T),f.child;case 14:return N=f.type,R=Do(N,f.pendingProps),R=Do(N.type,R),gA(u,f,N,R,T);case 15:return xA(u,f,f.type,f.pendingProps,T);case 17:return N=f.type,R=f.pendingProps,R=f.elementType===N?R:Do(N,R),xy(u,f),f.tag=1,Ti(N)?(u=!0,ey(f)):u=!1,wd(f,T),uA(f,N,R),cT(f,N,R,T),hT(null,f,N,!0,u,T);case 19:return AA(u,f,T);case 22:return vA(u,f,T)}throw Error(t(156,f.tag))};function YA(u,f){return Li(u,f)}function KV(u,f,T,N){this.tag=u,this.key=T,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=f,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=N,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function za(u,f,T,N){return new KV(u,f,T,N)}function LT(u){return u=u.prototype,!(!u||!u.isReactComponent)}function XV(u){if(typeof u=="function")return LT(u)?1:0;if(u!=null){if(u=u.$$typeof,u===ee)return 11;if(u===ae)return 14}return 2}function bc(u,f){var T=u.alternate;return T===null?(T=za(u.tag,f,u.key,u.mode),T.elementType=u.elementType,T.type=u.type,T.stateNode=u.stateNode,T.alternate=u,u.alternate=T):(T.pendingProps=f,T.type=u.type,T.flags=0,T.subtreeFlags=0,T.deletions=null),T.flags=u.flags&14680064,T.childLanes=u.childLanes,T.lanes=u.lanes,T.child=u.child,T.memoizedProps=u.memoizedProps,T.memoizedState=u.memoizedState,T.updateQueue=u.updateQueue,f=u.dependencies,T.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext},T.sibling=u.sibling,T.index=u.index,T.ref=u.ref,T}function Cy(u,f,T,N,R,K){var pe=2;if(N=u,typeof u=="function")LT(u)&&(pe=1);else if(typeof u=="string")pe=5;else e:switch(u){case O:return _p(T.children,R,K,f);case L:pe=8,R|=8;break;case B:return u=za(12,T,f,R|2),u.elementType=B,u.lanes=K,u;case ue:return u=za(13,T,f,R),u.elementType=ue,u.lanes=K,u;case J:return u=za(19,T,f,R),u.elementType=J,u.lanes=K,u;case re:return Iy(T,R,K,f);default:if(typeof u=="object"&&u!==null)switch(u.$$typeof){case j:pe=10;break e;case M:pe=9;break e;case ee:pe=11;break e;case ae:pe=14;break e;case oe:pe=16,N=null;break e}throw Error(t(130,u==null?u:typeof u,""))}return f=za(pe,T,f,R),f.elementType=u,f.type=N,f.lanes=K,f}function _p(u,f,T,N){return u=za(7,u,N,f),u.lanes=T,u}function Iy(u,f,T,N){return u=za(22,u,N,f),u.elementType=re,u.lanes=T,u.stateNode={isHidden:!1},u}function DT(u,f,T){return u=za(6,u,null,f),u.lanes=T,u}function RT(u,f,T){return f=za(4,u.children!==null?u.children:[],u.key,f),f.lanes=T,f.stateNode={containerInfo:u.containerInfo,pendingChildren:null,implementation:u.implementation},f}function GV(u,f,T,N,R){this.tag=f,this.containerInfo=u,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=pi(0),this.expirationTimes=pi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pi(0),this.identifierPrefix=N,this.onRecoverableError=R,this.mutableSourceEagerHydrationData=null}function FT(u,f,T,N,R,K,pe,Ae,ke){return u=new GV(u,f,T,Ae,ke),f===1?(f=1,K===!0&&(f|=8)):f=0,K=za(3,null,null,f),u.current=K,K.stateNode=u,K.memoizedState={element:N,isDehydrated:T,cache:null,transitions:null,pendingSuspenseBoundaries:null},Yv(K),u}function YV(u,f,T){var N=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:F,key:N==null?null:""+N,children:u,containerInfo:f,implementation:T}}function JA(u){if(!u)return fc;u=u._reactInternals;e:{if(gr(u)!==u||u.tag!==1)throw Error(t(170));var f=u;do{switch(f.tag){case 3:f=f.stateNode.context;break e;case 1:if(Ti(f.type)){f=f.stateNode.__reactInternalMemoizedMergedChildContext;break e}}f=f.return}while(f!==null);throw Error(t(171))}if(u.tag===1){var T=u.type;if(Ti(T))return PP(u,T,f)}return f}function ZA(u,f,T,N,R,K,pe,Ae,ke){return u=FT(T,N,!0,u,R,K,pe,Ae,ke),u.context=JA(null),T=u.current,N=Ys(),R=Tc(T),K=bu(N,R),K.callback=f??null,yc(T,K,R),u.current.lanes=R,As(u,R,N),wi(u,N),u}function My(u,f,T,N){var R=f.current,K=Ys(),pe=Tc(R);return T=JA(T),f.context===null?f.context=T:f.pendingContext=T,f=bu(K,pe),f.payload={element:u},N=N===void 0?null:N,N!==null&&(f.callback=N),u=yc(R,f,pe),u!==null&&(Bo(u,R,pe,K),ly(u,R,pe)),pe}function ky(u){if(u=u.current,!u.child)return null;switch(u.child.tag){case 5:return u.child.stateNode;default:return u.child.stateNode}}function QA(u,f){if(u=u.memoizedState,u!==null&&u.dehydrated!==null){var T=u.retryLane;u.retryLane=T!==0&&T<f?T:f}}function BT(u,f){QA(u,f),(u=u.alternate)&&QA(u,f)}function JV(){return null}var eN=typeof reportError=="function"?reportError:function(u){console.error(u)};function VT(u){this._internalRoot=u}Oy.prototype.render=VT.prototype.render=function(u){var f=this._internalRoot;if(f===null)throw Error(t(409));My(u,f,null,null)},Oy.prototype.unmount=VT.prototype.unmount=function(){var u=this._internalRoot;if(u!==null){this._internalRoot=null;var f=u.containerInfo;Pp(function(){My(null,u,null,null)}),f[Xi]=null}};function Oy(u){this._internalRoot=u}Oy.prototype.unstable_scheduleHydration=function(u){if(u){var f=fo();u={blockedOn:null,target:u,priority:f};for(var T=0;T<rs.length&&f!==0&&f<rs[T].priority;T++);rs.splice(T,0,u),T===0&&cl(u)}};function jT(u){return!(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)}function Ly(u){return!(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11&&(u.nodeType!==8||u.nodeValue!==" react-mount-point-unstable "))}function tN(){}function ZV(u,f,T,N,R){if(R){if(typeof N=="function"){var K=N;N=function(){var Qe=ky(pe);K.call(Qe)}}var pe=ZA(f,N,u,0,null,!1,!1,"",tN);return u._reactRootContainer=pe,u[Xi]=pe.current,fu(u.nodeType===8?u.parentNode:u),Pp(),pe}for(;R=u.lastChild;)u.removeChild(R);if(typeof N=="function"){var Ae=N;N=function(){var Qe=ky(ke);Ae.call(Qe)}}var ke=FT(u,0,!1,null,null,!1,!1,"",tN);return u._reactRootContainer=ke,u[Xi]=ke.current,fu(u.nodeType===8?u.parentNode:u),Pp(function(){My(f,ke,T,N)}),ke}function Dy(u,f,T,N,R){var K=T._reactRootContainer;if(K){var pe=K;if(typeof R=="function"){var Ae=R;R=function(){var ke=ky(pe);Ae.call(ke)}}My(f,pe,u,R)}else pe=ZV(T,f,u,R,N);return ky(pe)}ll=function(u){switch(u.tag){case 3:var f=u.stateNode;if(f.current.memoizedState.isDehydrated){var T=hs(f.pendingLanes);T!==0&&(co(f,T|1),wi(f,En()),(Dn&6)===0&&(_d=En()+500,hc()))}break;case 13:Pp(function(){var N=Su(u,1);if(N!==null){var R=Ys();Bo(N,u,1,R)}}),BT(u,1)}},po=function(u){if(u.tag===13){var f=Su(u,134217728);if(f!==null){var T=Ys();Bo(f,u,134217728,T)}BT(u,134217728)}},Bi=function(u){if(u.tag===13){var f=Tc(u),T=Su(u,f);if(T!==null){var N=Ys();Bo(T,u,f,N)}BT(u,f)}},fo=function(){return hn},ul=function(u,f){var T=hn;try{return hn=u,f()}finally{hn=T}},Ke=function(u,f,T){switch(f){case"input":if(Ye(u,T),f=T.name,T.type==="radio"&&f!=null){for(T=u;T.parentNode;)T=T.parentNode;for(T=T.querySelectorAll("input[name="+JSON.stringify(""+f)+'][type="radio"]'),f=0;f<T.length;f++){var N=T[f];if(N!==u&&N.form===u.form){var R=dc(N);if(!R)throw Error(t(90));Ze(N),Ye(N,R)}}}break;case"textarea":mn(u,T);break;case"select":f=T.value,f!=null&&Et(u,!!T.multiple,f,!1)}},Ht=MT,tn=Pp;var QV={usingClientEntryPoint:!1,Events:[gu,kl,dc,Pt,Mt,MT]},lh={findFiberByHostInstance:Oo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},e5={bundleType:lh.bundleType,version:lh.version,rendererPackageName:lh.rendererPackageName,rendererConfig:lh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_.ReactCurrentDispatcher,findHostInstanceByFiber:function(u){return u=Qr(u),u===null?null:u.stateNode},findFiberByHostInstance:lh.findFiberByHostInstance||JV,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ry=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ry.isDisabled&&Ry.supportsFiber)try{ns=Ry.inject(e5),Dr=Ry}catch{}}return Ei.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=QV,Ei.createPortal=function(u,f){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!jT(f))throw Error(t(200));return YV(u,f,null,T)},Ei.createRoot=function(u,f){if(!jT(u))throw Error(t(299));var T=!1,N="",R=eN;return f!=null&&(f.unstable_strictMode===!0&&(T=!0),f.identifierPrefix!==void 0&&(N=f.identifierPrefix),f.onRecoverableError!==void 0&&(R=f.onRecoverableError)),f=FT(u,1,!1,null,null,T,!1,N,R),u[Xi]=f.current,fu(u.nodeType===8?u.parentNode:u),new VT(f)},Ei.findDOMNode=function(u){if(u==null)return null;if(u.nodeType===1)return u;var f=u._reactInternals;if(f===void 0)throw typeof u.render=="function"?Error(t(188)):(u=Object.keys(u).join(","),Error(t(268,u)));return u=Qr(f),u=u===null?null:u.stateNode,u},Ei.flushSync=function(u){return Pp(u)},Ei.hydrate=function(u,f,T){if(!Ly(f))throw Error(t(200));return Dy(null,u,f,!0,T)},Ei.hydrateRoot=function(u,f,T){if(!jT(u))throw Error(t(405));var N=T!=null&&T.hydratedSources||null,R=!1,K="",pe=eN;if(T!=null&&(T.unstable_strictMode===!0&&(R=!0),T.identifierPrefix!==void 0&&(K=T.identifierPrefix),T.onRecoverableError!==void 0&&(pe=T.onRecoverableError)),f=ZA(f,null,u,1,T??null,R,!1,K,pe),u[Xi]=f.current,fu(u),N)for(u=0;u<N.length;u++)T=N[u],R=T._getVersion,R=R(T._source),f.mutableSourceEagerHydrationData==null?f.mutableSourceEagerHydrationData=[T,R]:f.mutableSourceEagerHydrationData.push(T,R);return new Oy(f)},Ei.render=function(u,f,T){if(!Ly(f))throw Error(t(200));return Dy(null,u,f,!1,T)},Ei.unmountComponentAtNode=function(u){if(!Ly(u))throw Error(t(40));return u._reactRootContainer?(Pp(function(){Dy(null,null,u,!1,function(){u._reactRootContainer=null,u[Xi]=null})}),!0):!1},Ei.unstable_batchedUpdates=MT,Ei.unstable_renderSubtreeIntoContainer=function(u,f,T,N){if(!Ly(T))throw Error(t(200));if(u==null||u._reactInternals===void 0)throw Error(t(38));return Dy(u,f,T,!1,N)},Ei.version="18.3.1-next-f1338f8080-20240426",Ei}var cN;function Hk(){if(cN)return qT.exports;cN=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),qT.exports=o5(),qT.exports}var pN;function l5(){if(pN)return Fy;pN=1;var n=Hk();return Fy.createRoot=n.createRoot,Fy.hydrateRoot=n.hydrateRoot,Fy}var u5=l5();const c5=wm(u5);function $r(n){if(typeof n=="string"||typeof n=="number")return""+n;let e="";if(Array.isArray(n))for(let t=0,r;t<n.length;t++)(r=$r(n[t]))!==""&&(e+=(e&&" ")+r);else for(let t in n)n[t]&&(e+=(e&&" ")+t);return e}var p5={value:()=>{}};function $x(){for(var n=0,e=arguments.length,t={},r;n<e;++n){if(!(r=arguments[n]+"")||r in t||/[\s.]/.test(r))throw new Error("illegal type: "+r);t[r]=[]}return new Z0(t)}function Z0(n){this._=n}function d5(n,e){return n.trim().split(/^|\s+/).map(function(t){var r="",s=t.indexOf(".");if(s>=0&&(r=t.slice(s+1),t=t.slice(0,s)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:r}})}Z0.prototype=$x.prototype={constructor:Z0,on:function(n,e){var t=this._,r=d5(n+"",t),s,i=-1,a=r.length;if(arguments.length<2){for(;++i<a;)if((s=(n=r[i]).type)&&(s=f5(t[s],n.name)))return s;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++i<a;)if(s=(n=r[i]).type)t[s]=dN(t[s],n.name,e);else if(e==null)for(s in t)t[s]=dN(t[s],n.name,null);return this},copy:function(){var n={},e=this._;for(var t in e)n[t]=e[t].slice();return new Z0(n)},call:function(n,e){if((s=arguments.length-2)>0)for(var t=new Array(s),r=0,s,i;r<s;++r)t[r]=arguments[r+2];if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(i=this._[n],r=0,s=i.length;r<s;++r)i[r].value.apply(e,t)},apply:function(n,e,t){if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(var r=this._[n],s=0,i=r.length;s<i;++s)r[s].value.apply(e,t)}};function f5(n,e){for(var t=0,r=n.length,s;t<r;++t)if((s=n[t]).name===e)return s.value}function dN(n,e,t){for(var r=0,s=n.length;r<s;++r)if(n[r].name===e){n[r]=p5,n=n.slice(0,r).concat(n.slice(r+1));break}return t!=null&&n.push({name:e,value:t}),n}var E1="http://www.w3.org/1999/xhtml";const fN={svg:"http://www.w3.org/2000/svg",xhtml:E1,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Wx(n){var e=n+="",t=e.indexOf(":");return t>=0&&(e=n.slice(0,t))!=="xmlns"&&(n=n.slice(t+1)),fN.hasOwnProperty(e)?{space:fN[e],local:n}:n}function h5(n){return function(){var e=this.ownerDocument,t=this.namespaceURI;return t===E1&&e.documentElement.namespaceURI===E1?e.createElement(n):e.createElementNS(t,n)}}function m5(n){return function(){return this.ownerDocument.createElementNS(n.space,n.local)}}function Kk(n){var e=Wx(n);return(e.local?m5:h5)(e)}function y5(){}function pw(n){return n==null?y5:function(){return this.querySelector(n)}}function g5(n){typeof n!="function"&&(n=pw(n));for(var e=this._groups,t=e.length,r=new Array(t),s=0;s<t;++s)for(var i=e[s],a=i.length,l=r[s]=new Array(a),c,p,d=0;d<a;++d)(c=i[d])&&(p=n.call(c,c.__data__,d,i))&&("__data__"in c&&(p.__data__=c.__data__),l[d]=p);return new ma(r,this._parents)}function x5(n){return n==null?[]:Array.isArray(n)?n:Array.from(n)}function v5(){return[]}function Xk(n){return n==null?v5:function(){return this.querySelectorAll(n)}}function T5(n){return function(){return x5(n.apply(this,arguments))}}function S5(n){typeof n=="function"?n=T5(n):n=Xk(n);for(var e=this._groups,t=e.length,r=[],s=[],i=0;i<t;++i)for(var a=e[i],l=a.length,c,p=0;p<l;++p)(c=a[p])&&(r.push(n.call(c,c.__data__,p,a)),s.push(c));return new ma(r,s)}function Gk(n){return function(){return this.matches(n)}}function Yk(n){return function(e){return e.matches(n)}}var b5=Array.prototype.find;function w5(n){return function(){return b5.call(this.children,n)}}function E5(){return this.firstElementChild}function P5(n){return this.select(n==null?E5:w5(typeof n=="function"?n:Yk(n)))}var A5=Array.prototype.filter;function N5(){return Array.from(this.children)}function _5(n){return function(){return A5.call(this.children,n)}}function C5(n){return this.selectAll(n==null?N5:_5(typeof n=="function"?n:Yk(n)))}function I5(n){typeof n!="function"&&(n=Gk(n));for(var e=this._groups,t=e.length,r=new Array(t),s=0;s<t;++s)for(var i=e[s],a=i.length,l=r[s]=[],c,p=0;p<a;++p)(c=i[p])&&n.call(c,c.__data__,p,i)&&l.push(c);return new ma(r,this._parents)}function Jk(n){return new Array(n.length)}function M5(){return new ma(this._enter||this._groups.map(Jk),this._parents)}function hx(n,e){this.ownerDocument=n.ownerDocument,this.namespaceURI=n.namespaceURI,this._next=null,this._parent=n,this.__data__=e}hx.prototype={constructor:hx,appendChild:function(n){return this._parent.insertBefore(n,this._next)},insertBefore:function(n,e){return this._parent.insertBefore(n,e)},querySelector:function(n){return this._parent.querySelector(n)},querySelectorAll:function(n){return this._parent.querySelectorAll(n)}};function k5(n){return function(){return n}}function O5(n,e,t,r,s,i){for(var a=0,l,c=e.length,p=i.length;a<p;++a)(l=e[a])?(l.__data__=i[a],r[a]=l):t[a]=new hx(n,i[a]);for(;a<c;++a)(l=e[a])&&(s[a]=l)}function L5(n,e,t,r,s,i,a){var l,c,p=new Map,d=e.length,h=i.length,m=new Array(d),x;for(l=0;l<d;++l)(c=e[l])&&(m[l]=x=a.call(c,c.__data__,l,e)+"",p.has(x)?s[l]=c:p.set(x,c));for(l=0;l<h;++l)x=a.call(n,i[l],l,i)+"",(c=p.get(x))?(r[l]=c,c.__data__=i[l],p.delete(x)):t[l]=new hx(n,i[l]);for(l=0;l<d;++l)(c=e[l])&&p.get(m[l])===c&&(s[l]=c)}function D5(n){return n.__data__}function R5(n,e){if(!arguments.length)return Array.from(this,D5);var t=e?L5:O5,r=this._parents,s=this._groups;typeof n!="function"&&(n=k5(n));for(var i=s.length,a=new Array(i),l=new Array(i),c=new Array(i),p=0;p<i;++p){var d=r[p],h=s[p],m=h.length,x=F5(n.call(d,d&&d.__data__,p,r)),w=x.length,A=l[p]=new Array(w),P=a[p]=new Array(w),S=c[p]=new Array(m);t(d,h,A,P,S,x,e);for(var C=0,I=0,_,D;C<w;++C)if(_=A[C]){for(C>=I&&(I=C+1);!(D=P[I])&&++I<w;);_._next=D||null}}return a=new ma(a,r),a._enter=l,a._exit=c,a}function F5(n){return typeof n=="object"&&"length"in n?n:Array.from(n)}function B5(){return new ma(this._exit||this._groups.map(Jk),this._parents)}function V5(n,e,t){var r=this.enter(),s=this,i=this.exit();return typeof n=="function"?(r=n(r),r&&(r=r.selection())):r=r.append(n+""),e!=null&&(s=e(s),s&&(s=s.selection())),t==null?i.remove():t(i),r&&s?r.merge(s).order():s}function j5(n){for(var e=n.selection?n.selection():n,t=this._groups,r=e._groups,s=t.length,i=r.length,a=Math.min(s,i),l=new Array(s),c=0;c<a;++c)for(var p=t[c],d=r[c],h=p.length,m=l[c]=new Array(h),x,w=0;w<h;++w)(x=p[w]||d[w])&&(m[w]=x);for(;c<s;++c)l[c]=t[c];return new ma(l,this._parents)}function z5(){for(var n=this._groups,e=-1,t=n.length;++e<t;)for(var r=n[e],s=r.length-1,i=r[s],a;--s>=0;)(a=r[s])&&(i&&a.compareDocumentPosition(i)^4&&i.parentNode.insertBefore(a,i),i=a);return this}function U5(n){n||(n=q5);function e(h,m){return h&&m?n(h.__data__,m.__data__):!h-!m}for(var t=this._groups,r=t.length,s=new Array(r),i=0;i<r;++i){for(var a=t[i],l=a.length,c=s[i]=new Array(l),p,d=0;d<l;++d)(p=a[d])&&(c[d]=p);c.sort(e)}return new ma(s,this._parents).order()}function q5(n,e){return n<e?-1:n>e?1:n>=e?0:NaN}function $5(){var n=arguments[0];return arguments[0]=this,n.apply(null,arguments),this}function W5(){return Array.from(this)}function H5(){for(var n=this._groups,e=0,t=n.length;e<t;++e)for(var r=n[e],s=0,i=r.length;s<i;++s){var a=r[s];if(a)return a}return null}function K5(){let n=0;for(const e of this)++n;return n}function X5(){return!this.node()}function G5(n){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var s=e[t],i=0,a=s.length,l;i<a;++i)(l=s[i])&&n.call(l,l.__data__,i,s);return this}function Y5(n){return function(){this.removeAttribute(n)}}function J5(n){return function(){this.removeAttributeNS(n.space,n.local)}}function Z5(n,e){return function(){this.setAttribute(n,e)}}function Q5(n,e){return function(){this.setAttributeNS(n.space,n.local,e)}}function ej(n,e){return function(){var t=e.apply(this,arguments);t==null?this.removeAttribute(n):this.setAttribute(n,t)}}function tj(n,e){return function(){var t=e.apply(this,arguments);t==null?this.removeAttributeNS(n.space,n.local):this.setAttributeNS(n.space,n.local,t)}}function nj(n,e){var t=Wx(n);if(arguments.length<2){var r=this.node();return t.local?r.getAttributeNS(t.space,t.local):r.getAttribute(t)}return this.each((e==null?t.local?J5:Y5:typeof e=="function"?t.local?tj:ej:t.local?Q5:Z5)(t,e))}function Zk(n){return n.ownerDocument&&n.ownerDocument.defaultView||n.document&&n||n.defaultView}function rj(n){return function(){this.style.removeProperty(n)}}function sj(n,e,t){return function(){this.style.setProperty(n,e,t)}}function ij(n,e,t){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(n):this.style.setProperty(n,r,t)}}function aj(n,e,t){return arguments.length>1?this.each((e==null?rj:typeof e=="function"?ij:sj)(n,e,t??"")):Tf(this.node(),n)}function Tf(n,e){return n.style.getPropertyValue(e)||Zk(n).getComputedStyle(n,null).getPropertyValue(e)}function oj(n){return function(){delete this[n]}}function lj(n,e){return function(){this[n]=e}}function uj(n,e){return function(){var t=e.apply(this,arguments);t==null?delete this[n]:this[n]=t}}function cj(n,e){return arguments.length>1?this.each((e==null?oj:typeof e=="function"?uj:lj)(n,e)):this.node()[n]}function Qk(n){return n.trim().split(/^|\s+/)}function dw(n){return n.classList||new eO(n)}function eO(n){this._node=n,this._names=Qk(n.getAttribute("class")||"")}eO.prototype={add:function(n){var e=this._names.indexOf(n);e<0&&(this._names.push(n),this._node.setAttribute("class",this._names.join(" ")))},remove:function(n){var e=this._names.indexOf(n);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(n){return this._names.indexOf(n)>=0}};function tO(n,e){for(var t=dw(n),r=-1,s=e.length;++r<s;)t.add(e[r])}function nO(n,e){for(var t=dw(n),r=-1,s=e.length;++r<s;)t.remove(e[r])}function pj(n){return function(){tO(this,n)}}function dj(n){return function(){nO(this,n)}}function fj(n,e){return function(){(e.apply(this,arguments)?tO:nO)(this,n)}}function hj(n,e){var t=Qk(n+"");if(arguments.length<2){for(var r=dw(this.node()),s=-1,i=t.length;++s<i;)if(!r.contains(t[s]))return!1;return!0}return this.each((typeof e=="function"?fj:e?pj:dj)(t,e))}function mj(){this.textContent=""}function yj(n){return function(){this.textContent=n}}function gj(n){return function(){var e=n.apply(this,arguments);this.textContent=e??""}}function xj(n){return arguments.length?this.each(n==null?mj:(typeof n=="function"?gj:yj)(n)):this.node().textContent}function vj(){this.innerHTML=""}function Tj(n){return function(){this.innerHTML=n}}function Sj(n){return function(){var e=n.apply(this,arguments);this.innerHTML=e??""}}function bj(n){return arguments.length?this.each(n==null?vj:(typeof n=="function"?Sj:Tj)(n)):this.node().innerHTML}function wj(){this.nextSibling&&this.parentNode.appendChild(this)}function Ej(){return this.each(wj)}function Pj(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Aj(){return this.each(Pj)}function Nj(n){var e=typeof n=="function"?n:Kk(n);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function _j(){return null}function Cj(n,e){var t=typeof n=="function"?n:Kk(n),r=e==null?_j:typeof e=="function"?e:pw(e);return this.select(function(){return this.insertBefore(t.apply(this,arguments),r.apply(this,arguments)||null)})}function Ij(){var n=this.parentNode;n&&n.removeChild(this)}function Mj(){return this.each(Ij)}function kj(){var n=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(n,this.nextSibling):n}function Oj(){var n=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(n,this.nextSibling):n}function Lj(n){return this.select(n?Oj:kj)}function Dj(n){return arguments.length?this.property("__data__",n):this.node().__data__}function Rj(n){return function(e){n.call(this,e,this.__data__)}}function Fj(n){return n.trim().split(/^|\s+/).map(function(e){var t="",r=e.indexOf(".");return r>=0&&(t=e.slice(r+1),e=e.slice(0,r)),{type:e,name:t}})}function Bj(n){return function(){var e=this.__on;if(e){for(var t=0,r=-1,s=e.length,i;t<s;++t)i=e[t],(!n.type||i.type===n.type)&&i.name===n.name?this.removeEventListener(i.type,i.listener,i.options):e[++r]=i;++r?e.length=r:delete this.__on}}}function Vj(n,e,t){return function(){var r=this.__on,s,i=Rj(e);if(r){for(var a=0,l=r.length;a<l;++a)if((s=r[a]).type===n.type&&s.name===n.name){this.removeEventListener(s.type,s.listener,s.options),this.addEventListener(s.type,s.listener=i,s.options=t),s.value=e;return}}this.addEventListener(n.type,i,t),s={type:n.type,name:n.name,value:e,listener:i,options:t},r?r.push(s):this.__on=[s]}}function jj(n,e,t){var r=Fj(n+""),s,i=r.length,a;if(arguments.length<2){var l=this.node().__on;if(l){for(var c=0,p=l.length,d;c<p;++c)for(s=0,d=l[c];s<i;++s)if((a=r[s]).type===d.type&&a.name===d.name)return d.value}return}for(l=e?Vj:Bj,s=0;s<i;++s)this.each(l(r[s],e,t));return this}function rO(n,e,t){var r=Zk(n),s=r.CustomEvent;typeof s=="function"?s=new s(e,t):(s=r.document.createEvent("Event"),t?(s.initEvent(e,t.bubbles,t.cancelable),s.detail=t.detail):s.initEvent(e,!1,!1)),n.dispatchEvent(s)}function zj(n,e){return function(){return rO(this,n,e)}}function Uj(n,e){return function(){return rO(this,n,e.apply(this,arguments))}}function qj(n,e){return this.each((typeof e=="function"?Uj:zj)(n,e))}function*$j(){for(var n=this._groups,e=0,t=n.length;e<t;++e)for(var r=n[e],s=0,i=r.length,a;s<i;++s)(a=r[s])&&(yield a)}var sO=[null];function ma(n,e){this._groups=n,this._parents=e}function Pm(){return new ma([[document.documentElement]],sO)}function Wj(){return this}ma.prototype=Pm.prototype={constructor:ma,select:g5,selectAll:S5,selectChild:P5,selectChildren:C5,filter:I5,data:R5,enter:M5,exit:B5,join:V5,merge:j5,selection:Wj,order:z5,sort:U5,call:$5,nodes:W5,node:H5,size:K5,empty:X5,each:G5,attr:nj,style:aj,property:cj,classed:hj,text:xj,html:bj,raise:Ej,lower:Aj,append:Nj,insert:Cj,remove:Mj,clone:Lj,datum:Dj,on:jj,dispatch:qj,[Symbol.iterator]:$j};function ua(n){return typeof n=="string"?new ma([[document.querySelector(n)]],[document.documentElement]):new ma([[n]],sO)}function Hj(n){let e;for(;e=n.sourceEvent;)n=e;return n}function $o(n,e){if(n=Hj(n),e===void 0&&(e=n.currentTarget),e){var t=e.ownerSVGElement||e;if(t.createSVGPoint){var r=t.createSVGPoint();return r.x=n.clientX,r.y=n.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var s=e.getBoundingClientRect();return[n.clientX-s.left-e.clientLeft,n.clientY-s.top-e.clientTop]}}return[n.pageX,n.pageY]}const Kj={passive:!1},lm={capture:!0,passive:!1};function HT(n){n.stopImmediatePropagation()}function cf(n){n.preventDefault(),n.stopImmediatePropagation()}function iO(n){var e=n.document.documentElement,t=ua(n).on("dragstart.drag",cf,lm);"onselectstart"in e?t.on("selectstart.drag",cf,lm):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function aO(n,e){var t=n.document.documentElement,r=ua(n).on("dragstart.drag",null);e&&(r.on("click.drag",cf,lm),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in t?r.on("selectstart.drag",null):(t.style.MozUserSelect=t.__noselect,delete t.__noselect)}const By=n=>()=>n;function P1(n,{sourceEvent:e,subject:t,target:r,identifier:s,active:i,x:a,y:l,dx:c,dy:p,dispatch:d}){Object.defineProperties(this,{type:{value:n,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:t,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:s,enumerable:!0,configurable:!0},active:{value:i,enumerable:!0,configurable:!0},x:{value:a,enumerable:!0,configurable:!0},y:{value:l,enumerable:!0,configurable:!0},dx:{value:c,enumerable:!0,configurable:!0},dy:{value:p,enumerable:!0,configurable:!0},_:{value:d}})}P1.prototype.on=function(){var n=this._.on.apply(this._,arguments);return n===this._?this:n};function Xj(n){return!n.ctrlKey&&!n.button}function Gj(){return this.parentNode}function Yj(n,e){return e??{x:n.x,y:n.y}}function Jj(){return navigator.maxTouchPoints||"ontouchstart"in this}function oO(){var n=Xj,e=Gj,t=Yj,r=Jj,s={},i=$x("start","drag","end"),a=0,l,c,p,d,h=0;function m(_){_.on("mousedown.drag",x).filter(r).on("touchstart.drag",P).on("touchmove.drag",S,Kj).on("touchend.drag touchcancel.drag",C).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function x(_,D){if(!(d||!n.call(this,_,D))){var F=I(this,e.call(this,_,D),_,D,"mouse");F&&(ua(_.view).on("mousemove.drag",w,lm).on("mouseup.drag",A,lm),iO(_.view),HT(_),p=!1,l=_.clientX,c=_.clientY,F("start",_))}}function w(_){if(cf(_),!p){var D=_.clientX-l,F=_.clientY-c;p=D*D+F*F>h}s.mouse("drag",_)}function A(_){ua(_.view).on("mousemove.drag mouseup.drag",null),aO(_.view,p),cf(_),s.mouse("end",_)}function P(_,D){if(n.call(this,_,D)){var F=_.changedTouches,O=e.call(this,_,D),L=F.length,B,j;for(B=0;B<L;++B)(j=I(this,O,_,D,F[B].identifier,F[B]))&&(HT(_),j("start",_,F[B]))}}function S(_){var D=_.changedTouches,F=D.length,O,L;for(O=0;O<F;++O)(L=s[D[O].identifier])&&(cf(_),L("drag",_,D[O]))}function C(_){var D=_.changedTouches,F=D.length,O,L;for(d&&clearTimeout(d),d=setTimeout(function(){d=null},500),O=0;O<F;++O)(L=s[D[O].identifier])&&(HT(_),L("end",_,D[O]))}function I(_,D,F,O,L,B){var j=i.copy(),M=$o(B||F,D),ee,ue,J;if((J=t.call(_,new P1("beforestart",{sourceEvent:F,target:m,identifier:L,active:a,x:M[0],y:M[1],dx:0,dy:0,dispatch:j}),O))!=null)return ee=J.x-M[0]||0,ue=J.y-M[1]||0,function ae(oe,re,X){var H=M,Q;switch(oe){case"start":s[L]=ae,Q=a++;break;case"end":delete s[L],--a;case"drag":M=$o(X||re,D),Q=a;break}j.call(oe,_,new P1(oe,{sourceEvent:re,subject:J,target:m,identifier:L,active:Q,x:M[0]+ee,y:M[1]+ue,dx:M[0]-H[0],dy:M[1]-H[1],dispatch:j}),O)}}return m.filter=function(_){return arguments.length?(n=typeof _=="function"?_:By(!!_),m):n},m.container=function(_){return arguments.length?(e=typeof _=="function"?_:By(_),m):e},m.subject=function(_){return arguments.length?(t=typeof _=="function"?_:By(_),m):t},m.touchable=function(_){return arguments.length?(r=typeof _=="function"?_:By(!!_),m):r},m.on=function(){var _=i.on.apply(i,arguments);return _===i?m:_},m.clickDistance=function(_){return arguments.length?(h=(_=+_)*_,m):Math.sqrt(h)},m}function fw(n,e,t){n.prototype=e.prototype=t,t.constructor=n}function lO(n,e){var t=Object.create(n.prototype);for(var r in e)t[r]=e[r];return t}function Am(){}var um=.7,mx=1/um,pf="\\s*([+-]?\\d+)\\s*",cm="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Hl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Zj=/^#([0-9a-f]{3,8})$/,Qj=new RegExp(`^rgb\\(${pf},${pf},${pf}\\)$`),e6=new RegExp(`^rgb\\(${Hl},${Hl},${Hl}\\)$`),t6=new RegExp(`^rgba\\(${pf},${pf},${pf},${cm}\\)$`),n6=new RegExp(`^rgba\\(${Hl},${Hl},${Hl},${cm}\\)$`),r6=new RegExp(`^hsl\\(${cm},${Hl},${Hl}\\)$`),s6=new RegExp(`^hsla\\(${cm},${Hl},${Hl},${cm}\\)$`),hN={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};fw(Am,Zp,{copy(n){return Object.assign(new this.constructor,this,n)},displayable(){return this.rgb().displayable()},hex:mN,formatHex:mN,formatHex8:i6,formatHsl:a6,formatRgb:yN,toString:yN});function mN(){return this.rgb().formatHex()}function i6(){return this.rgb().formatHex8()}function a6(){return uO(this).formatHsl()}function yN(){return this.rgb().formatRgb()}function Zp(n){var e,t;return n=(n+"").trim().toLowerCase(),(e=Zj.exec(n))?(t=e[1].length,e=parseInt(e[1],16),t===6?gN(e):t===3?new Ni(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):t===8?Vy(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):t===4?Vy(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Qj.exec(n))?new Ni(e[1],e[2],e[3],1):(e=e6.exec(n))?new Ni(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=t6.exec(n))?Vy(e[1],e[2],e[3],e[4]):(e=n6.exec(n))?Vy(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=r6.exec(n))?TN(e[1],e[2]/100,e[3]/100,1):(e=s6.exec(n))?TN(e[1],e[2]/100,e[3]/100,e[4]):hN.hasOwnProperty(n)?gN(hN[n]):n==="transparent"?new Ni(NaN,NaN,NaN,0):null}function gN(n){return new Ni(n>>16&255,n>>8&255,n&255,1)}function Vy(n,e,t,r){return r<=0&&(n=e=t=NaN),new Ni(n,e,t,r)}function o6(n){return n instanceof Am||(n=Zp(n)),n?(n=n.rgb(),new Ni(n.r,n.g,n.b,n.opacity)):new Ni}function A1(n,e,t,r){return arguments.length===1?o6(n):new Ni(n,e,t,r??1)}function Ni(n,e,t,r){this.r=+n,this.g=+e,this.b=+t,this.opacity=+r}fw(Ni,A1,lO(Am,{brighter(n){return n=n==null?mx:Math.pow(mx,n),new Ni(this.r*n,this.g*n,this.b*n,this.opacity)},darker(n){return n=n==null?um:Math.pow(um,n),new Ni(this.r*n,this.g*n,this.b*n,this.opacity)},rgb(){return this},clamp(){return new Ni(Wp(this.r),Wp(this.g),Wp(this.b),yx(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:xN,formatHex:xN,formatHex8:l6,formatRgb:vN,toString:vN}));function xN(){return`#${Up(this.r)}${Up(this.g)}${Up(this.b)}`}function l6(){return`#${Up(this.r)}${Up(this.g)}${Up(this.b)}${Up((isNaN(this.opacity)?1:this.opacity)*255)}`}function vN(){const n=yx(this.opacity);return`${n===1?"rgb(":"rgba("}${Wp(this.r)}, ${Wp(this.g)}, ${Wp(this.b)}${n===1?")":`, ${n})`}`}function yx(n){return isNaN(n)?1:Math.max(0,Math.min(1,n))}function Wp(n){return Math.max(0,Math.min(255,Math.round(n)||0))}function Up(n){return n=Wp(n),(n<16?"0":"")+n.toString(16)}function TN(n,e,t,r){return r<=0?n=e=t=NaN:t<=0||t>=1?n=e=NaN:e<=0&&(n=NaN),new Ko(n,e,t,r)}function uO(n){if(n instanceof Ko)return new Ko(n.h,n.s,n.l,n.opacity);if(n instanceof Am||(n=Zp(n)),!n)return new Ko;if(n instanceof Ko)return n;n=n.rgb();var e=n.r/255,t=n.g/255,r=n.b/255,s=Math.min(e,t,r),i=Math.max(e,t,r),a=NaN,l=i-s,c=(i+s)/2;return l?(e===i?a=(t-r)/l+(t<r)*6:t===i?a=(r-e)/l+2:a=(e-t)/l+4,l/=c<.5?i+s:2-i-s,a*=60):l=c>0&&c<1?0:a,new Ko(a,l,c,n.opacity)}function u6(n,e,t,r){return arguments.length===1?uO(n):new Ko(n,e,t,r??1)}function Ko(n,e,t,r){this.h=+n,this.s=+e,this.l=+t,this.opacity=+r}fw(Ko,u6,lO(Am,{brighter(n){return n=n==null?mx:Math.pow(mx,n),new Ko(this.h,this.s,this.l*n,this.opacity)},darker(n){return n=n==null?um:Math.pow(um,n),new Ko(this.h,this.s,this.l*n,this.opacity)},rgb(){var n=this.h%360+(this.h<0)*360,e=isNaN(n)||isNaN(this.s)?0:this.s,t=this.l,r=t+(t<.5?t:1-t)*e,s=2*t-r;return new Ni(KT(n>=240?n-240:n+120,s,r),KT(n,s,r),KT(n<120?n+240:n-120,s,r),this.opacity)},clamp(){return new Ko(SN(this.h),jy(this.s),jy(this.l),yx(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const n=yx(this.opacity);return`${n===1?"hsl(":"hsla("}${SN(this.h)}, ${jy(this.s)*100}%, ${jy(this.l)*100}%${n===1?")":`, ${n})`}`}}));function SN(n){return n=(n||0)%360,n<0?n+360:n}function jy(n){return Math.max(0,Math.min(1,n||0))}function KT(n,e,t){return(n<60?e+(t-e)*n/60:n<180?t:n<240?e+(t-e)*(240-n)/60:e)*255}const hw=n=>()=>n;function c6(n,e){return function(t){return n+t*e}}function p6(n,e,t){return n=Math.pow(n,t),e=Math.pow(e,t)-n,t=1/t,function(r){return Math.pow(n+r*e,t)}}function d6(n){return(n=+n)==1?cO:function(e,t){return t-e?p6(e,t,n):hw(isNaN(e)?t:e)}}function cO(n,e){var t=e-n;return t?c6(n,t):hw(isNaN(n)?e:n)}const gx=(function n(e){var t=d6(e);function r(s,i){var a=t((s=A1(s)).r,(i=A1(i)).r),l=t(s.g,i.g),c=t(s.b,i.b),p=cO(s.opacity,i.opacity);return function(d){return s.r=a(d),s.g=l(d),s.b=c(d),s.opacity=p(d),s+""}}return r.gamma=n,r})(1);function f6(n,e){e||(e=[]);var t=n?Math.min(e.length,n.length):0,r=e.slice(),s;return function(i){for(s=0;s<t;++s)r[s]=n[s]*(1-i)+e[s]*i;return r}}function h6(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function m6(n,e){var t=e?e.length:0,r=n?Math.min(t,n.length):0,s=new Array(r),i=new Array(t),a;for(a=0;a<r;++a)s[a]=Qh(n[a],e[a]);for(;a<t;++a)i[a]=e[a];return function(l){for(a=0;a<r;++a)i[a]=s[a](l);return i}}function y6(n,e){var t=new Date;return n=+n,e=+e,function(r){return t.setTime(n*(1-r)+e*r),t}}function $l(n,e){return n=+n,e=+e,function(t){return n*(1-t)+e*t}}function g6(n,e){var t={},r={},s;(n===null||typeof n!="object")&&(n={}),(e===null||typeof e!="object")&&(e={});for(s in e)s in n?t[s]=Qh(n[s],e[s]):r[s]=e[s];return function(i){for(s in t)r[s]=t[s](i);return r}}var N1=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,XT=new RegExp(N1.source,"g");function x6(n){return function(){return n}}function v6(n){return function(e){return n(e)+""}}function pO(n,e){var t=N1.lastIndex=XT.lastIndex=0,r,s,i,a=-1,l=[],c=[];for(n=n+"",e=e+"";(r=N1.exec(n))&&(s=XT.exec(e));)(i=s.index)>t&&(i=e.slice(t,i),l[a]?l[a]+=i:l[++a]=i),(r=r[0])===(s=s[0])?l[a]?l[a]+=s:l[++a]=s:(l[++a]=null,c.push({i:a,x:$l(r,s)})),t=XT.lastIndex;return t<e.length&&(i=e.slice(t),l[a]?l[a]+=i:l[++a]=i),l.length<2?c[0]?v6(c[0].x):x6(e):(e=c.length,function(p){for(var d=0,h;d<e;++d)l[(h=c[d]).i]=h.x(p);return l.join("")})}function Qh(n,e){var t=typeof e,r;return e==null||t==="boolean"?hw(e):(t==="number"?$l:t==="string"?(r=Zp(e))?(e=r,gx):pO:e instanceof Zp?gx:e instanceof Date?y6:h6(e)?f6:Array.isArray(e)?m6:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?g6:$l)(n,e)}var bN=180/Math.PI,_1={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function dO(n,e,t,r,s,i){var a,l,c;return(a=Math.sqrt(n*n+e*e))&&(n/=a,e/=a),(c=n*t+e*r)&&(t-=n*c,r-=e*c),(l=Math.sqrt(t*t+r*r))&&(t/=l,r/=l,c/=l),n*r<e*t&&(n=-n,e=-e,c=-c,a=-a),{translateX:s,translateY:i,rotate:Math.atan2(e,n)*bN,skewX:Math.atan(c)*bN,scaleX:a,scaleY:l}}var zy;function T6(n){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(n+"");return e.isIdentity?_1:dO(e.a,e.b,e.c,e.d,e.e,e.f)}function S6(n){return n==null||(zy||(zy=document.createElementNS("http://www.w3.org/2000/svg","g")),zy.setAttribute("transform",n),!(n=zy.transform.baseVal.consolidate()))?_1:(n=n.matrix,dO(n.a,n.b,n.c,n.d,n.e,n.f))}function fO(n,e,t,r){function s(p){return p.length?p.pop()+" ":""}function i(p,d,h,m,x,w){if(p!==h||d!==m){var A=x.push("translate(",null,e,null,t);w.push({i:A-4,x:$l(p,h)},{i:A-2,x:$l(d,m)})}else(h||m)&&x.push("translate("+h+e+m+t)}function a(p,d,h,m){p!==d?(p-d>180?d+=360:d-p>180&&(p+=360),m.push({i:h.push(s(h)+"rotate(",null,r)-2,x:$l(p,d)})):d&&h.push(s(h)+"rotate("+d+r)}function l(p,d,h,m){p!==d?m.push({i:h.push(s(h)+"skewX(",null,r)-2,x:$l(p,d)}):d&&h.push(s(h)+"skewX("+d+r)}function c(p,d,h,m,x,w){if(p!==h||d!==m){var A=x.push(s(x)+"scale(",null,",",null,")");w.push({i:A-4,x:$l(p,h)},{i:A-2,x:$l(d,m)})}else(h!==1||m!==1)&&x.push(s(x)+"scale("+h+","+m+")")}return function(p,d){var h=[],m=[];return p=n(p),d=n(d),i(p.translateX,p.translateY,d.translateX,d.translateY,h,m),a(p.rotate,d.rotate,h,m),l(p.skewX,d.skewX,h,m),c(p.scaleX,p.scaleY,d.scaleX,d.scaleY,h,m),p=d=null,function(x){for(var w=-1,A=m.length,P;++w<A;)h[(P=m[w]).i]=P.x(x);return h.join("")}}}var b6=fO(T6,"px, ","px)","deg)"),w6=fO(S6,", ",")",")"),E6=1e-12;function wN(n){return((n=Math.exp(n))+1/n)/2}function P6(n){return((n=Math.exp(n))-1/n)/2}function A6(n){return((n=Math.exp(2*n))-1)/(n+1)}const Q0=(function n(e,t,r){function s(i,a){var l=i[0],c=i[1],p=i[2],d=a[0],h=a[1],m=a[2],x=d-l,w=h-c,A=x*x+w*w,P,S;if(A<E6)S=Math.log(m/p)/e,P=function(O){return[l+O*x,c+O*w,p*Math.exp(e*O*S)]};else{var C=Math.sqrt(A),I=(m*m-p*p+r*A)/(2*p*t*C),_=(m*m-p*p-r*A)/(2*m*t*C),D=Math.log(Math.sqrt(I*I+1)-I),F=Math.log(Math.sqrt(_*_+1)-_);S=(F-D)/e,P=function(O){var L=O*S,B=wN(D),j=p/(t*C)*(B*A6(e*L+D)-P6(D));return[l+j*x,c+j*w,p*B/wN(e*L+D)]}}return P.duration=S*1e3*e/Math.SQRT2,P}return s.rho=function(i){var a=Math.max(.001,+i),l=a*a,c=l*l;return n(a,l,c)},s})(Math.SQRT2,2,4);var Sf=0,Kh=0,ch=0,hO=1e3,xx,Xh,vx=0,Qp=0,Hx=0,pm=typeof performance=="object"&&performance.now?performance:Date,mO=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(n){setTimeout(n,17)};function mw(){return Qp||(mO(N6),Qp=pm.now()+Hx)}function N6(){Qp=0}function Tx(){this._call=this._time=this._next=null}Tx.prototype=yO.prototype={constructor:Tx,restart:function(n,e,t){if(typeof n!="function")throw new TypeError("callback is not a function");t=(t==null?mw():+t)+(e==null?0:+e),!this._next&&Xh!==this&&(Xh?Xh._next=this:xx=this,Xh=this),this._call=n,this._time=t,C1()},stop:function(){this._call&&(this._call=null,this._time=1/0,C1())}};function yO(n,e,t){var r=new Tx;return r.restart(n,e,t),r}function _6(){mw(),++Sf;for(var n=xx,e;n;)(e=Qp-n._time)>=0&&n._call.call(void 0,e),n=n._next;--Sf}function EN(){Qp=(vx=pm.now())+Hx,Sf=Kh=0;try{_6()}finally{Sf=0,I6(),Qp=0}}function C6(){var n=pm.now(),e=n-vx;e>hO&&(Hx-=e,vx=n)}function I6(){for(var n,e=xx,t,r=1/0;e;)e._call?(r>e._time&&(r=e._time),n=e,e=e._next):(t=e._next,e._next=null,e=n?n._next=t:xx=t);Xh=n,C1(r)}function C1(n){if(!Sf){Kh&&(Kh=clearTimeout(Kh));var e=n-Qp;e>24?(n<1/0&&(Kh=setTimeout(EN,n-pm.now()-Hx)),ch&&(ch=clearInterval(ch))):(ch||(vx=pm.now(),ch=setInterval(C6,hO)),Sf=1,mO(EN))}}function PN(n,e,t){var r=new Tx;return e=e==null?0:+e,r.restart(s=>{r.stop(),n(s+e)},e,t),r}var M6=$x("start","end","cancel","interrupt"),k6=[],gO=0,AN=1,I1=2,ex=3,NN=4,M1=5,tx=6;function Kx(n,e,t,r,s,i){var a=n.__transition;if(!a)n.__transition={};else if(t in a)return;O6(n,t,{name:e,index:r,group:s,on:M6,tween:k6,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:gO})}function yw(n,e){var t=sl(n,e);if(t.state>gO)throw new Error("too late; already scheduled");return t}function tu(n,e){var t=sl(n,e);if(t.state>ex)throw new Error("too late; already running");return t}function sl(n,e){var t=n.__transition;if(!t||!(t=t[e]))throw new Error("transition not found");return t}function O6(n,e,t){var r=n.__transition,s;r[e]=t,t.timer=yO(i,0,t.time);function i(p){t.state=AN,t.timer.restart(a,t.delay,t.time),t.delay<=p&&a(p-t.delay)}function a(p){var d,h,m,x;if(t.state!==AN)return c();for(d in r)if(x=r[d],x.name===t.name){if(x.state===ex)return PN(a);x.state===NN?(x.state=tx,x.timer.stop(),x.on.call("interrupt",n,n.__data__,x.index,x.group),delete r[d]):+d<e&&(x.state=tx,x.timer.stop(),x.on.call("cancel",n,n.__data__,x.index,x.group),delete r[d])}if(PN(function(){t.state===ex&&(t.state=NN,t.timer.restart(l,t.delay,t.time),l(p))}),t.state=I1,t.on.call("start",n,n.__data__,t.index,t.group),t.state===I1){for(t.state=ex,s=new Array(m=t.tween.length),d=0,h=-1;d<m;++d)(x=t.tween[d].value.call(n,n.__data__,t.index,t.group))&&(s[++h]=x);s.length=h+1}}function l(p){for(var d=p<t.duration?t.ease.call(null,p/t.duration):(t.timer.restart(c),t.state=M1,1),h=-1,m=s.length;++h<m;)s[h].call(n,d);t.state===M1&&(t.on.call("end",n,n.__data__,t.index,t.group),c())}function c(){t.state=tx,t.timer.stop(),delete r[e];for(var p in r)return;delete n.__transition}}function nx(n,e){var t=n.__transition,r,s,i=!0,a;if(t){e=e==null?null:e+"";for(a in t){if((r=t[a]).name!==e){i=!1;continue}s=r.state>I1&&r.state<M1,r.state=tx,r.timer.stop(),r.on.call(s?"interrupt":"cancel",n,n.__data__,r.index,r.group),delete t[a]}i&&delete n.__transition}}function L6(n){return this.each(function(){nx(this,n)})}function D6(n,e){var t,r;return function(){var s=tu(this,n),i=s.tween;if(i!==t){r=t=i;for(var a=0,l=r.length;a<l;++a)if(r[a].name===e){r=r.slice(),r.splice(a,1);break}}s.tween=r}}function R6(n,e,t){var r,s;if(typeof t!="function")throw new Error;return function(){var i=tu(this,n),a=i.tween;if(a!==r){s=(r=a).slice();for(var l={name:e,value:t},c=0,p=s.length;c<p;++c)if(s[c].name===e){s[c]=l;break}c===p&&s.push(l)}i.tween=s}}function F6(n,e){var t=this._id;if(n+="",arguments.length<2){for(var r=sl(this.node(),t).tween,s=0,i=r.length,a;s<i;++s)if((a=r[s]).name===n)return a.value;return null}return this.each((e==null?D6:R6)(t,n,e))}function gw(n,e,t){var r=n._id;return n.each(function(){var s=tu(this,r);(s.value||(s.value={}))[e]=t.apply(this,arguments)}),function(s){return sl(s,r).value[e]}}function xO(n,e){var t;return(typeof e=="number"?$l:e instanceof Zp?gx:(t=Zp(e))?(e=t,gx):pO)(n,e)}function B6(n){return function(){this.removeAttribute(n)}}function V6(n){return function(){this.removeAttributeNS(n.space,n.local)}}function j6(n,e,t){var r,s=t+"",i;return function(){var a=this.getAttribute(n);return a===s?null:a===r?i:i=e(r=a,t)}}function z6(n,e,t){var r,s=t+"",i;return function(){var a=this.getAttributeNS(n.space,n.local);return a===s?null:a===r?i:i=e(r=a,t)}}function U6(n,e,t){var r,s,i;return function(){var a,l=t(this),c;return l==null?void this.removeAttribute(n):(a=this.getAttribute(n),c=l+"",a===c?null:a===r&&c===s?i:(s=c,i=e(r=a,l)))}}function q6(n,e,t){var r,s,i;return function(){var a,l=t(this),c;return l==null?void this.removeAttributeNS(n.space,n.local):(a=this.getAttributeNS(n.space,n.local),c=l+"",a===c?null:a===r&&c===s?i:(s=c,i=e(r=a,l)))}}function $6(n,e){var t=Wx(n),r=t==="transform"?w6:xO;return this.attrTween(n,typeof e=="function"?(t.local?q6:U6)(t,r,gw(this,"attr."+n,e)):e==null?(t.local?V6:B6)(t):(t.local?z6:j6)(t,r,e))}function W6(n,e){return function(t){this.setAttribute(n,e.call(this,t))}}function H6(n,e){return function(t){this.setAttributeNS(n.space,n.local,e.call(this,t))}}function K6(n,e){var t,r;function s(){var i=e.apply(this,arguments);return i!==r&&(t=(r=i)&&H6(n,i)),t}return s._value=e,s}function X6(n,e){var t,r;function s(){var i=e.apply(this,arguments);return i!==r&&(t=(r=i)&&W6(n,i)),t}return s._value=e,s}function G6(n,e){var t="attr."+n;if(arguments.length<2)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;var r=Wx(n);return this.tween(t,(r.local?K6:X6)(r,e))}function Y6(n,e){return function(){yw(this,n).delay=+e.apply(this,arguments)}}function J6(n,e){return e=+e,function(){yw(this,n).delay=e}}function Z6(n){var e=this._id;return arguments.length?this.each((typeof n=="function"?Y6:J6)(e,n)):sl(this.node(),e).delay}function Q6(n,e){return function(){tu(this,n).duration=+e.apply(this,arguments)}}function e8(n,e){return e=+e,function(){tu(this,n).duration=e}}function t8(n){var e=this._id;return arguments.length?this.each((typeof n=="function"?Q6:e8)(e,n)):sl(this.node(),e).duration}function n8(n,e){if(typeof e!="function")throw new Error;return function(){tu(this,n).ease=e}}function r8(n){var e=this._id;return arguments.length?this.each(n8(e,n)):sl(this.node(),e).ease}function s8(n,e){return function(){var t=e.apply(this,arguments);if(typeof t!="function")throw new Error;tu(this,n).ease=t}}function i8(n){if(typeof n!="function")throw new Error;return this.each(s8(this._id,n))}function a8(n){typeof n!="function"&&(n=Gk(n));for(var e=this._groups,t=e.length,r=new Array(t),s=0;s<t;++s)for(var i=e[s],a=i.length,l=r[s]=[],c,p=0;p<a;++p)(c=i[p])&&n.call(c,c.__data__,p,i)&&l.push(c);return new Wu(r,this._parents,this._name,this._id)}function o8(n){if(n._id!==this._id)throw new Error;for(var e=this._groups,t=n._groups,r=e.length,s=t.length,i=Math.min(r,s),a=new Array(r),l=0;l<i;++l)for(var c=e[l],p=t[l],d=c.length,h=a[l]=new Array(d),m,x=0;x<d;++x)(m=c[x]||p[x])&&(h[x]=m);for(;l<r;++l)a[l]=e[l];return new Wu(a,this._parents,this._name,this._id)}function l8(n){return(n+"").trim().split(/^|\s+/).every(function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||e==="start"})}function u8(n,e,t){var r,s,i=l8(e)?yw:tu;return function(){var a=i(this,n),l=a.on;l!==r&&(s=(r=l).copy()).on(e,t),a.on=s}}function c8(n,e){var t=this._id;return arguments.length<2?sl(this.node(),t).on.on(n):this.each(u8(t,n,e))}function p8(n){return function(){var e=this.parentNode;for(var t in this.__transition)if(+t!==n)return;e&&e.removeChild(this)}}function d8(){return this.on("end.remove",p8(this._id))}function f8(n){var e=this._name,t=this._id;typeof n!="function"&&(n=pw(n));for(var r=this._groups,s=r.length,i=new Array(s),a=0;a<s;++a)for(var l=r[a],c=l.length,p=i[a]=new Array(c),d,h,m=0;m<c;++m)(d=l[m])&&(h=n.call(d,d.__data__,m,l))&&("__data__"in d&&(h.__data__=d.__data__),p[m]=h,Kx(p[m],e,t,m,p,sl(d,t)));return new Wu(i,this._parents,e,t)}function h8(n){var e=this._name,t=this._id;typeof n!="function"&&(n=Xk(n));for(var r=this._groups,s=r.length,i=[],a=[],l=0;l<s;++l)for(var c=r[l],p=c.length,d,h=0;h<p;++h)if(d=c[h]){for(var m=n.call(d,d.__data__,h,c),x,w=sl(d,t),A=0,P=m.length;A<P;++A)(x=m[A])&&Kx(x,e,t,A,m,w);i.push(m),a.push(d)}return new Wu(i,a,e,t)}var m8=Pm.prototype.constructor;function y8(){return new m8(this._groups,this._parents)}function g8(n,e){var t,r,s;return function(){var i=Tf(this,n),a=(this.style.removeProperty(n),Tf(this,n));return i===a?null:i===t&&a===r?s:s=e(t=i,r=a)}}function vO(n){return function(){this.style.removeProperty(n)}}function x8(n,e,t){var r,s=t+"",i;return function(){var a=Tf(this,n);return a===s?null:a===r?i:i=e(r=a,t)}}function v8(n,e,t){var r,s,i;return function(){var a=Tf(this,n),l=t(this),c=l+"";return l==null&&(c=l=(this.style.removeProperty(n),Tf(this,n))),a===c?null:a===r&&c===s?i:(s=c,i=e(r=a,l))}}function T8(n,e){var t,r,s,i="style."+e,a="end."+i,l;return function(){var c=tu(this,n),p=c.on,d=c.value[i]==null?l||(l=vO(e)):void 0;(p!==t||s!==d)&&(r=(t=p).copy()).on(a,s=d),c.on=r}}function S8(n,e,t){var r=(n+="")=="transform"?b6:xO;return e==null?this.styleTween(n,g8(n,r)).on("end.style."+n,vO(n)):typeof e=="function"?this.styleTween(n,v8(n,r,gw(this,"style."+n,e))).each(T8(this._id,n)):this.styleTween(n,x8(n,r,e),t).on("end.style."+n,null)}function b8(n,e,t){return function(r){this.style.setProperty(n,e.call(this,r),t)}}function w8(n,e,t){var r,s;function i(){var a=e.apply(this,arguments);return a!==s&&(r=(s=a)&&b8(n,a,t)),r}return i._value=e,i}function E8(n,e,t){var r="style."+(n+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,w8(n,e,t??""))}function P8(n){return function(){this.textContent=n}}function A8(n){return function(){var e=n(this);this.textContent=e??""}}function N8(n){return this.tween("text",typeof n=="function"?A8(gw(this,"text",n)):P8(n==null?"":n+""))}function _8(n){return function(e){this.textContent=n.call(this,e)}}function C8(n){var e,t;function r(){var s=n.apply(this,arguments);return s!==t&&(e=(t=s)&&_8(s)),e}return r._value=n,r}function I8(n){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(n==null)return this.tween(e,null);if(typeof n!="function")throw new Error;return this.tween(e,C8(n))}function M8(){for(var n=this._name,e=this._id,t=TO(),r=this._groups,s=r.length,i=0;i<s;++i)for(var a=r[i],l=a.length,c,p=0;p<l;++p)if(c=a[p]){var d=sl(c,e);Kx(c,n,t,p,a,{time:d.time+d.delay+d.duration,delay:0,duration:d.duration,ease:d.ease})}return new Wu(r,this._parents,n,t)}function k8(){var n,e,t=this,r=t._id,s=t.size();return new Promise(function(i,a){var l={value:a},c={value:function(){--s===0&&i()}};t.each(function(){var p=tu(this,r),d=p.on;d!==n&&(e=(n=d).copy(),e._.cancel.push(l),e._.interrupt.push(l),e._.end.push(c)),p.on=e}),s===0&&i()})}var O8=0;function Wu(n,e,t,r){this._groups=n,this._parents=e,this._name=t,this._id=r}function TO(){return++O8}var Pu=Pm.prototype;Wu.prototype={constructor:Wu,select:f8,selectAll:h8,selectChild:Pu.selectChild,selectChildren:Pu.selectChildren,filter:a8,merge:o8,selection:y8,transition:M8,call:Pu.call,nodes:Pu.nodes,node:Pu.node,size:Pu.size,empty:Pu.empty,each:Pu.each,on:c8,attr:$6,attrTween:G6,style:S8,styleTween:E8,text:N8,textTween:I8,remove:d8,tween:F6,delay:Z6,duration:t8,ease:r8,easeVarying:i8,end:k8,[Symbol.iterator]:Pu[Symbol.iterator]};function L8(n){return((n*=2)<=1?n*n*n:(n-=2)*n*n+2)/2}var D8={time:null,delay:0,duration:250,ease:L8};function R8(n,e){for(var t;!(t=n.__transition)||!(t=t[e]);)if(!(n=n.parentNode))throw new Error(`transition ${e} not found`);return t}function F8(n){var e,t;n instanceof Wu?(e=n._id,n=n._name):(e=TO(),(t=D8).time=mw(),n=n==null?null:n+"");for(var r=this._groups,s=r.length,i=0;i<s;++i)for(var a=r[i],l=a.length,c,p=0;p<l;++p)(c=a[p])&&Kx(c,n,e,p,a,t||R8(c,e));return new Wu(r,this._parents,n,e)}Pm.prototype.interrupt=L6;Pm.prototype.transition=F8;const Uy=n=>()=>n;function B8(n,{sourceEvent:e,target:t,transform:r,dispatch:s}){Object.defineProperties(this,{type:{value:n,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:t,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:s}})}function Ru(n,e,t){this.k=n,this.x=e,this.y=t}Ru.prototype={constructor:Ru,scale:function(n){return n===1?this:new Ru(this.k*n,this.x,this.y)},translate:function(n,e){return n===0&e===0?this:new Ru(this.k,this.x+this.k*n,this.y+this.k*e)},apply:function(n){return[n[0]*this.k+this.x,n[1]*this.k+this.y]},applyX:function(n){return n*this.k+this.x},applyY:function(n){return n*this.k+this.y},invert:function(n){return[(n[0]-this.x)/this.k,(n[1]-this.y)/this.k]},invertX:function(n){return(n-this.x)/this.k},invertY:function(n){return(n-this.y)/this.k},rescaleX:function(n){return n.copy().domain(n.range().map(this.invertX,this).map(n.invert,n))},rescaleY:function(n){return n.copy().domain(n.range().map(this.invertY,this).map(n.invert,n))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Xx=new Ru(1,0,0);SO.prototype=Ru.prototype;function SO(n){for(;!n.__zoom;)if(!(n=n.parentNode))return Xx;return n.__zoom}function GT(n){n.stopImmediatePropagation()}function ph(n){n.preventDefault(),n.stopImmediatePropagation()}function V8(n){return(!n.ctrlKey||n.type==="wheel")&&!n.button}function j8(){var n=this;return n instanceof SVGElement?(n=n.ownerSVGElement||n,n.hasAttribute("viewBox")?(n=n.viewBox.baseVal,[[n.x,n.y],[n.x+n.width,n.y+n.height]]):[[0,0],[n.width.baseVal.value,n.height.baseVal.value]]):[[0,0],[n.clientWidth,n.clientHeight]]}function _N(){return this.__zoom||Xx}function z8(n){return-n.deltaY*(n.deltaMode===1?.05:n.deltaMode?1:.002)*(n.ctrlKey?10:1)}function U8(){return navigator.maxTouchPoints||"ontouchstart"in this}function q8(n,e,t){var r=n.invertX(e[0][0])-t[0][0],s=n.invertX(e[1][0])-t[1][0],i=n.invertY(e[0][1])-t[0][1],a=n.invertY(e[1][1])-t[1][1];return n.translate(s>r?(r+s)/2:Math.min(0,r)||Math.max(0,s),a>i?(i+a)/2:Math.min(0,i)||Math.max(0,a))}function bO(){var n=V8,e=j8,t=q8,r=z8,s=U8,i=[0,1/0],a=[[-1/0,-1/0],[1/0,1/0]],l=250,c=Q0,p=$x("start","zoom","end"),d,h,m,x=500,w=150,A=0,P=10;function S(J){J.property("__zoom",_N).on("wheel.zoom",L,{passive:!1}).on("mousedown.zoom",B).on("dblclick.zoom",j).filter(s).on("touchstart.zoom",M).on("touchmove.zoom",ee).on("touchend.zoom touchcancel.zoom",ue).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}S.transform=function(J,ae,oe,re){var X=J.selection?J.selection():J;X.property("__zoom",_N),J!==X?D(J,ae,oe,re):X.interrupt().each(function(){F(this,arguments).event(re).start().zoom(null,typeof ae=="function"?ae.apply(this,arguments):ae).end()})},S.scaleBy=function(J,ae,oe,re){S.scaleTo(J,function(){var X=this.__zoom.k,H=typeof ae=="function"?ae.apply(this,arguments):ae;return X*H},oe,re)},S.scaleTo=function(J,ae,oe,re){S.transform(J,function(){var X=e.apply(this,arguments),H=this.__zoom,Q=oe==null?_(X):typeof oe=="function"?oe.apply(this,arguments):oe,W=H.invert(Q),Y=typeof ae=="function"?ae.apply(this,arguments):ae;return t(I(C(H,Y),Q,W),X,a)},oe,re)},S.translateBy=function(J,ae,oe,re){S.transform(J,function(){return t(this.__zoom.translate(typeof ae=="function"?ae.apply(this,arguments):ae,typeof oe=="function"?oe.apply(this,arguments):oe),e.apply(this,arguments),a)},null,re)},S.translateTo=function(J,ae,oe,re,X){S.transform(J,function(){var H=e.apply(this,arguments),Q=this.__zoom,W=re==null?_(H):typeof re=="function"?re.apply(this,arguments):re;return t(Xx.translate(W[0],W[1]).scale(Q.k).translate(typeof ae=="function"?-ae.apply(this,arguments):-ae,typeof oe=="function"?-oe.apply(this,arguments):-oe),H,a)},re,X)};function C(J,ae){return ae=Math.max(i[0],Math.min(i[1],ae)),ae===J.k?J:new Ru(ae,J.x,J.y)}function I(J,ae,oe){var re=ae[0]-oe[0]*J.k,X=ae[1]-oe[1]*J.k;return re===J.x&&X===J.y?J:new Ru(J.k,re,X)}function _(J){return[(+J[0][0]+ +J[1][0])/2,(+J[0][1]+ +J[1][1])/2]}function D(J,ae,oe,re){J.on("start.zoom",function(){F(this,arguments).event(re).start()}).on("interrupt.zoom end.zoom",function(){F(this,arguments).event(re).end()}).tween("zoom",function(){var X=this,H=arguments,Q=F(X,H).event(re),W=e.apply(X,H),Y=oe==null?_(W):typeof oe=="function"?oe.apply(X,H):oe,Z=Math.max(W[1][0]-W[0][0],W[1][1]-W[0][1]),se=X.__zoom,me=typeof ae=="function"?ae.apply(X,H):ae,Ce=c(se.invert(Y).concat(Z/se.k),me.invert(Y).concat(Z/me.k));return function(be){if(be===1)be=me;else{var Se=Ce(be),Le=Z/Se[2];be=new Ru(Le,Y[0]-Se[0]*Le,Y[1]-Se[1]*Le)}Q.zoom(null,be)}})}function F(J,ae,oe){return!oe&&J.__zooming||new O(J,ae)}function O(J,ae){this.that=J,this.args=ae,this.active=0,this.sourceEvent=null,this.extent=e.apply(J,ae),this.taps=0}O.prototype={event:function(J){return J&&(this.sourceEvent=J),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(J,ae){return this.mouse&&J!=="mouse"&&(this.mouse[1]=ae.invert(this.mouse[0])),this.touch0&&J!=="touch"&&(this.touch0[1]=ae.invert(this.touch0[0])),this.touch1&&J!=="touch"&&(this.touch1[1]=ae.invert(this.touch1[0])),this.that.__zoom=ae,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(J){var ae=ua(this.that).datum();p.call(J,this.that,new B8(J,{sourceEvent:this.sourceEvent,target:S,transform:this.that.__zoom,dispatch:p}),ae)}};function L(J,...ae){if(!n.apply(this,arguments))return;var oe=F(this,ae).event(J),re=this.__zoom,X=Math.max(i[0],Math.min(i[1],re.k*Math.pow(2,r.apply(this,arguments)))),H=$o(J);if(oe.wheel)(oe.mouse[0][0]!==H[0]||oe.mouse[0][1]!==H[1])&&(oe.mouse[1]=re.invert(oe.mouse[0]=H)),clearTimeout(oe.wheel);else{if(re.k===X)return;oe.mouse=[H,re.invert(H)],nx(this),oe.start()}ph(J),oe.wheel=setTimeout(Q,w),oe.zoom("mouse",t(I(C(re,X),oe.mouse[0],oe.mouse[1]),oe.extent,a));function Q(){oe.wheel=null,oe.end()}}function B(J,...ae){if(m||!n.apply(this,arguments))return;var oe=J.currentTarget,re=F(this,ae,!0).event(J),X=ua(J.view).on("mousemove.zoom",Y,!0).on("mouseup.zoom",Z,!0),H=$o(J,oe),Q=J.clientX,W=J.clientY;iO(J.view),GT(J),re.mouse=[H,this.__zoom.invert(H)],nx(this),re.start();function Y(se){if(ph(se),!re.moved){var me=se.clientX-Q,Ce=se.clientY-W;re.moved=me*me+Ce*Ce>A}re.event(se).zoom("mouse",t(I(re.that.__zoom,re.mouse[0]=$o(se,oe),re.mouse[1]),re.extent,a))}function Z(se){X.on("mousemove.zoom mouseup.zoom",null),aO(se.view,re.moved),ph(se),re.event(se).end()}}function j(J,...ae){if(n.apply(this,arguments)){var oe=this.__zoom,re=$o(J.changedTouches?J.changedTouches[0]:J,this),X=oe.invert(re),H=oe.k*(J.shiftKey?.5:2),Q=t(I(C(oe,H),re,X),e.apply(this,ae),a);ph(J),l>0?ua(this).transition().duration(l).call(D,Q,re,J):ua(this).call(S.transform,Q,re,J)}}function M(J,...ae){if(n.apply(this,arguments)){var oe=J.touches,re=oe.length,X=F(this,ae,J.changedTouches.length===re).event(J),H,Q,W,Y;for(GT(J),Q=0;Q<re;++Q)W=oe[Q],Y=$o(W,this),Y=[Y,this.__zoom.invert(Y),W.identifier],X.touch0?!X.touch1&&X.touch0[2]!==Y[2]&&(X.touch1=Y,X.taps=0):(X.touch0=Y,H=!0,X.taps=1+!!d);d&&(d=clearTimeout(d)),H&&(X.taps<2&&(h=Y[0],d=setTimeout(function(){d=null},x)),nx(this),X.start())}}function ee(J,...ae){if(this.__zooming){var oe=F(this,ae).event(J),re=J.changedTouches,X=re.length,H,Q,W,Y;for(ph(J),H=0;H<X;++H)Q=re[H],W=$o(Q,this),oe.touch0&&oe.touch0[2]===Q.identifier?oe.touch0[0]=W:oe.touch1&&oe.touch1[2]===Q.identifier&&(oe.touch1[0]=W);if(Q=oe.that.__zoom,oe.touch1){var Z=oe.touch0[0],se=oe.touch0[1],me=oe.touch1[0],Ce=oe.touch1[1],be=(be=me[0]-Z[0])*be+(be=me[1]-Z[1])*be,Se=(Se=Ce[0]-se[0])*Se+(Se=Ce[1]-se[1])*Se;Q=C(Q,Math.sqrt(be/Se)),W=[(Z[0]+me[0])/2,(Z[1]+me[1])/2],Y=[(se[0]+Ce[0])/2,(se[1]+Ce[1])/2]}else if(oe.touch0)W=oe.touch0[0],Y=oe.touch0[1];else return;oe.zoom("touch",t(I(Q,W,Y),oe.extent,a))}}function ue(J,...ae){if(this.__zooming){var oe=F(this,ae).event(J),re=J.changedTouches,X=re.length,H,Q;for(GT(J),m&&clearTimeout(m),m=setTimeout(function(){m=null},x),H=0;H<X;++H)Q=re[H],oe.touch0&&oe.touch0[2]===Q.identifier?delete oe.touch0:oe.touch1&&oe.touch1[2]===Q.identifier&&delete oe.touch1;if(oe.touch1&&!oe.touch0&&(oe.touch0=oe.touch1,delete oe.touch1),oe.touch0)oe.touch0[1]=this.__zoom.invert(oe.touch0[0]);else if(oe.end(),oe.taps===2&&(Q=$o(Q,this),Math.hypot(h[0]-Q[0],h[1]-Q[1])<P)){var W=ua(this).on("dblclick.zoom");W&&W.apply(this,arguments)}}}return S.wheelDelta=function(J){return arguments.length?(r=typeof J=="function"?J:Uy(+J),S):r},S.filter=function(J){return arguments.length?(n=typeof J=="function"?J:Uy(!!J),S):n},S.touchable=function(J){return arguments.length?(s=typeof J=="function"?J:Uy(!!J),S):s},S.extent=function(J){return arguments.length?(e=typeof J=="function"?J:Uy([[+J[0][0],+J[0][1]],[+J[1][0],+J[1][1]]]),S):e},S.scaleExtent=function(J){return arguments.length?(i[0]=+J[0],i[1]=+J[1],S):[i[0],i[1]]},S.translateExtent=function(J){return arguments.length?(a[0][0]=+J[0][0],a[1][0]=+J[1][0],a[0][1]=+J[0][1],a[1][1]=+J[1][1],S):[[a[0][0],a[0][1]],[a[1][0],a[1][1]]]},S.constrain=function(J){return arguments.length?(t=J,S):t},S.duration=function(J){return arguments.length?(l=+J,S):l},S.interpolate=function(J){return arguments.length?(c=J,S):c},S.on=function(){var J=p.on.apply(p,arguments);return J===p?S:J},S.clickDistance=function(J){return arguments.length?(A=(J=+J)*J,S):Math.sqrt(A)},S.tapDistance=function(J){return arguments.length?(P=+J,S):P},S}const Yl={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:n=>`Node type "${n}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:n=>`The old edge with id=${n} does not exist.`,error009:n=>`Marker type "${n}" doesn't exist.`,error008:(n,{id:e,sourceHandle:t,targetHandle:r})=>`Couldn't create edge for ${n} handle id: "${n==="source"?t:r}", edge id: ${e}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:n=>`Edge type "${n}" not found. Using fallback type "default".`,error012:n=>`Node with id "${n}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(n="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${n}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.",error015:()=>"It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs."},dm=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],wO=["Enter"," ","Escape"],EO={"node.a11yDescription.default":"Press enter or space to select a node. Press delete to remove it and escape to cancel.","node.a11yDescription.keyboardDisabled":"Press enter or space to select a node. You can then use the arrow keys to move the node around. Press delete to remove it and escape to cancel.","node.a11yDescription.ariaLiveMessage":({direction:n,x:e,y:t})=>`Moved selected node ${n}. New position, x: ${e}, y: ${t}`,"edge.a11yDescription.default":"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel.","controls.ariaLabel":"Control Panel","controls.zoomIn.ariaLabel":"Zoom In","controls.zoomOut.ariaLabel":"Zoom Out","controls.fitView.ariaLabel":"Fit View","controls.interactive.ariaLabel":"Toggle Interactivity","minimap.ariaLabel":"Mini Map","handle.ariaLabel":"Handle"};var bf;(function(n){n.Strict="strict",n.Loose="loose"})(bf||(bf={}));var Hp;(function(n){n.Free="free",n.Vertical="vertical",n.Horizontal="horizontal"})(Hp||(Hp={}));var wf;(function(n){n.Partial="partial",n.Full="full"})(wf||(wf={}));const PO={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null,pointer:null};var Fc;(function(n){n.Bezier="default",n.Straight="straight",n.Step="step",n.SmoothStep="smoothstep",n.SimpleBezier="simplebezier"})(Fc||(Fc={}));var Sx;(function(n){n.Arrow="arrow",n.ArrowClosed="arrowclosed"})(Sx||(Sx={}));var Xt;(function(n){n.Left="left",n.Top="top",n.Right="right",n.Bottom="bottom"})(Xt||(Xt={}));const CN={[Xt.Left]:Xt.Right,[Xt.Right]:Xt.Left,[Xt.Top]:Xt.Bottom,[Xt.Bottom]:Xt.Top};function AO(n){return n===null?null:n?"valid":"invalid"}const NO=n=>"id"in n&&"source"in n&&"target"in n,$8=n=>"id"in n&&"position"in n&&!("source"in n)&&!("target"in n),xw=n=>"id"in n&&"internals"in n&&!("source"in n)&&!("target"in n),Nm=(n,e=[0,0])=>{const{width:t,height:r}=Gu(n),s=n.origin??e,i=t*s[0],a=r*s[1];return{x:n.position.x-i,y:n.position.y-a}},W8=(n,e={nodeOrigin:[0,0]})=>{if(n.length===0)return{x:0,y:0,width:0,height:0};const t=n.reduce((r,s)=>{const i=typeof s=="string";let a=!e.nodeLookup&&!i?s:void 0;e.nodeLookup&&(a=i?e.nodeLookup.get(s):xw(s)?s:e.nodeLookup.get(s.id));const l=a?bx(a,e.nodeOrigin):{x:0,y:0,x2:0,y2:0};return Gx(r,l)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return Yx(t)},_m=(n,e={})=>{let t={x:1/0,y:1/0,x2:-1/0,y2:-1/0},r=!1;return n.forEach(s=>{(e.filter===void 0||e.filter(s))&&(t=Gx(t,bx(s)),r=!0)}),r?Yx(t):{x:0,y:0,width:0,height:0}},vw=(n,e,[t,r,s]=[0,0,1],i=!1,a=!1)=>{const l={...Im(e,[t,r,s]),width:e.width/s,height:e.height/s},c=[];for(const p of n.values()){const{measured:d,selectable:h=!0,hidden:m=!1}=p;if(a&&!h||m)continue;const x=d.width??p.width??p.initialWidth??null,w=d.height??p.height??p.initialHeight??null,A=fm(l,Pf(p)),P=(x??0)*(w??0),S=i&&A>0;(!p.internals.handleBounds||S||A>=P||p.dragging)&&c.push(p)}return c},H8=(n,e)=>{const t=new Set;return n.forEach(r=>{t.add(r.id)}),e.filter(r=>t.has(r.source)||t.has(r.target))};function K8(n,e){const t=new Map,r=e?.nodes?new Set(e.nodes.map(s=>s.id)):null;return n.forEach(s=>{s.measured.width&&s.measured.height&&(e?.includeHiddenNodes||!s.hidden)&&(!r||r.has(s.id))&&t.set(s.id,s)}),t}async function X8({nodes:n,width:e,height:t,panZoom:r,minZoom:s,maxZoom:i},a){if(n.size===0)return Promise.resolve(!0);const l=K8(n,a),c=_m(l),p=Tw(c,e,t,a?.minZoom??s,a?.maxZoom??i,a?.padding??.1);return await r.setViewport(p,{duration:a?.duration,ease:a?.ease,interpolate:a?.interpolate}),Promise.resolve(!0)}function _O({nodeId:n,nextPosition:e,nodeLookup:t,nodeOrigin:r=[0,0],nodeExtent:s,onError:i}){const a=t.get(n),l=a.parentId?t.get(a.parentId):void 0,{x:c,y:p}=l?l.internals.positionAbsolute:{x:0,y:0},d=a.origin??r;let h=a.extent||s;if(a.extent==="parent"&&!a.expandParent)if(!l)i?.("005",Yl.error005());else{const x=l.measured.width,w=l.measured.height;x&&w&&(h=[[c,p],[c+x,p+w]])}else l&&Af(a.extent)&&(h=[[a.extent[0][0]+c,a.extent[0][1]+p],[a.extent[1][0]+c,a.extent[1][1]+p]]);const m=Af(h)?ed(e,h,a.measured):e;return(a.measured.width===void 0||a.measured.height===void 0)&&i?.("015",Yl.error015()),{position:{x:m.x-c+(a.measured.width??0)*d[0],y:m.y-p+(a.measured.height??0)*d[1]},positionAbsolute:m}}async function G8({nodesToRemove:n=[],edgesToRemove:e=[],nodes:t,edges:r,onBeforeDelete:s}){const i=new Set(n.map(m=>m.id)),a=[];for(const m of t){if(m.deletable===!1)continue;const x=i.has(m.id),w=!x&&m.parentId&&a.find(A=>A.id===m.parentId);(x||w)&&a.push(m)}const l=new Set(e.map(m=>m.id)),c=r.filter(m=>m.deletable!==!1),d=H8(a,c);for(const m of c)l.has(m.id)&&!d.find(w=>w.id===m.id)&&d.push(m);if(!s)return{edges:d,nodes:a};const h=await s({nodes:a,edges:d});return typeof h=="boolean"?h?{edges:d,nodes:a}:{edges:[],nodes:[]}:h}const Ef=(n,e=0,t=1)=>Math.min(Math.max(n,e),t),ed=(n={x:0,y:0},e,t)=>({x:Ef(n.x,e[0][0],e[1][0]-(t?.width??0)),y:Ef(n.y,e[0][1],e[1][1]-(t?.height??0))});function CO(n,e,t){const{width:r,height:s}=Gu(t),{x:i,y:a}=t.internals.positionAbsolute;return ed(n,[[i,a],[i+r,a+s]],e)}const IN=(n,e,t)=>n<e?Ef(Math.abs(n-e),1,e)/e:n>t?-Ef(Math.abs(n-t),1,e)/e:0,IO=(n,e,t=15,r=40)=>{const s=IN(n.x,r,e.width-r)*t,i=IN(n.y,r,e.height-r)*t;return[s,i]},Gx=(n,e)=>({x:Math.min(n.x,e.x),y:Math.min(n.y,e.y),x2:Math.max(n.x2,e.x2),y2:Math.max(n.y2,e.y2)}),k1=({x:n,y:e,width:t,height:r})=>({x:n,y:e,x2:n+t,y2:e+r}),Yx=({x:n,y:e,x2:t,y2:r})=>({x:n,y:e,width:t-n,height:r-e}),Pf=(n,e=[0,0])=>{const{x:t,y:r}=xw(n)?n.internals.positionAbsolute:Nm(n,e);return{x:t,y:r,width:n.measured?.width??n.width??n.initialWidth??0,height:n.measured?.height??n.height??n.initialHeight??0}},bx=(n,e=[0,0])=>{const{x:t,y:r}=xw(n)?n.internals.positionAbsolute:Nm(n,e);return{x:t,y:r,x2:t+(n.measured?.width??n.width??n.initialWidth??0),y2:r+(n.measured?.height??n.height??n.initialHeight??0)}},MO=(n,e)=>Yx(Gx(k1(n),k1(e))),fm=(n,e)=>{const t=Math.max(0,Math.min(n.x+n.width,e.x+e.width)-Math.max(n.x,e.x)),r=Math.max(0,Math.min(n.y+n.height,e.y+e.height)-Math.max(n.y,e.y));return Math.ceil(t*r)},MN=n=>Jo(n.width)&&Jo(n.height)&&Jo(n.x)&&Jo(n.y),Jo=n=>!isNaN(n)&&isFinite(n),Y8=(n,e)=>{},Cm=(n,e=[1,1])=>({x:e[0]*Math.round(n.x/e[0]),y:e[1]*Math.round(n.y/e[1])}),Im=({x:n,y:e},[t,r,s],i=!1,a=[1,1])=>{const l={x:(n-t)/s,y:(e-r)/s};return i?Cm(l,a):l},wx=({x:n,y:e},[t,r,s])=>({x:n*s+t,y:e*s+r});function Id(n,e){if(typeof n=="number")return Math.floor((e-e/(1+n))*.5);if(typeof n=="string"&&n.endsWith("px")){const t=parseFloat(n);if(!Number.isNaN(t))return Math.floor(t)}if(typeof n=="string"&&n.endsWith("%")){const t=parseFloat(n);if(!Number.isNaN(t))return Math.floor(e*t*.01)}return console.error(`[React Flow] The padding value "${n}" is invalid. Please provide a number or a string with a valid unit (px or %).`),0}function J8(n,e,t){if(typeof n=="string"||typeof n=="number"){const r=Id(n,t),s=Id(n,e);return{top:r,right:s,bottom:r,left:s,x:s*2,y:r*2}}if(typeof n=="object"){const r=Id(n.top??n.y??0,t),s=Id(n.bottom??n.y??0,t),i=Id(n.left??n.x??0,e),a=Id(n.right??n.x??0,e);return{top:r,right:a,bottom:s,left:i,x:i+a,y:r+s}}return{top:0,right:0,bottom:0,left:0,x:0,y:0}}function Z8(n,e,t,r,s,i){const{x:a,y:l}=wx(n,[e,t,r]),{x:c,y:p}=wx({x:n.x+n.width,y:n.y+n.height},[e,t,r]),d=s-c,h=i-p;return{left:Math.floor(a),top:Math.floor(l),right:Math.floor(d),bottom:Math.floor(h)}}const Tw=(n,e,t,r,s,i)=>{const a=J8(i,e,t),l=(e-a.x)/n.width,c=(t-a.y)/n.height,p=Math.min(l,c),d=Ef(p,r,s),h=n.x+n.width/2,m=n.y+n.height/2,x=e/2-h*d,w=t/2-m*d,A=Z8(n,x,w,d,e,t),P={left:Math.min(A.left-a.left,0),top:Math.min(A.top-a.top,0),right:Math.min(A.right-a.right,0),bottom:Math.min(A.bottom-a.bottom,0)};return{x:x-P.left+P.right,y:w-P.top+P.bottom,zoom:d}},hm=()=>typeof navigator<"u"&&navigator?.userAgent?.indexOf("Mac")>=0;function Af(n){return n!=null&&n!=="parent"}function Gu(n){return{width:n.measured?.width??n.width??n.initialWidth??0,height:n.measured?.height??n.height??n.initialHeight??0}}function kO(n){return(n.measured?.width??n.width??n.initialWidth)!==void 0&&(n.measured?.height??n.height??n.initialHeight)!==void 0}function OO(n,e={width:0,height:0},t,r,s){const i={...n},a=r.get(t);if(a){const l=a.origin||s;i.x+=a.internals.positionAbsolute.x-(e.width??0)*l[0],i.y+=a.internals.positionAbsolute.y-(e.height??0)*l[1]}return i}function kN(n,e){if(n.size!==e.size)return!1;for(const t of n)if(!e.has(t))return!1;return!0}function Q8(){let n,e;return{promise:new Promise((r,s)=>{n=r,e=s}),resolve:n,reject:e}}function ez(n){return{...EO,...n||{}}}function em(n,{snapGrid:e=[0,0],snapToGrid:t=!1,transform:r,containerBounds:s}){const{x:i,y:a}=Zo(n),l=Im({x:i-(s?.left??0),y:a-(s?.top??0)},r),{x:c,y:p}=t?Cm(l,e):l;return{xSnapped:c,ySnapped:p,...l}}const Sw=n=>({width:n.offsetWidth,height:n.offsetHeight}),LO=n=>n?.getRootNode?.()||window?.document,tz=["INPUT","SELECT","TEXTAREA"];function DO(n){const e=n.composedPath?.()?.[0]||n.target;return e?.nodeType!==1?!1:tz.includes(e.nodeName)||e.hasAttribute("contenteditable")||!!e.closest(".nokey")}const RO=n=>"clientX"in n,Zo=(n,e)=>{const t=RO(n),r=t?n.clientX:n.touches?.[0].clientX,s=t?n.clientY:n.touches?.[0].clientY;return{x:r-(e?.left??0),y:s-(e?.top??0)}},ON=(n,e,t,r,s)=>{const i=e.querySelectorAll(`.${n}`);return!i||!i.length?null:Array.from(i).map(a=>{const l=a.getBoundingClientRect();return{id:a.getAttribute("data-handleid"),type:n,nodeId:s,position:a.getAttribute("data-handlepos"),x:(l.left-t.left)/r,y:(l.top-t.top)/r,...Sw(a)}})};function FO({sourceX:n,sourceY:e,targetX:t,targetY:r,sourceControlX:s,sourceControlY:i,targetControlX:a,targetControlY:l}){const c=n*.125+s*.375+a*.375+t*.125,p=e*.125+i*.375+l*.375+r*.125,d=Math.abs(c-n),h=Math.abs(p-e);return[c,p,d,h]}function qy(n,e){return n>=0?.5*n:e*25*Math.sqrt(-n)}function LN({pos:n,x1:e,y1:t,x2:r,y2:s,c:i}){switch(n){case Xt.Left:return[e-qy(e-r,i),t];case Xt.Right:return[e+qy(r-e,i),t];case Xt.Top:return[e,t-qy(t-s,i)];case Xt.Bottom:return[e,t+qy(s-t,i)]}}function Ex({sourceX:n,sourceY:e,sourcePosition:t=Xt.Bottom,targetX:r,targetY:s,targetPosition:i=Xt.Top,curvature:a=.25}){const[l,c]=LN({pos:t,x1:n,y1:e,x2:r,y2:s,c:a}),[p,d]=LN({pos:i,x1:r,y1:s,x2:n,y2:e,c:a}),[h,m,x,w]=FO({sourceX:n,sourceY:e,targetX:r,targetY:s,sourceControlX:l,sourceControlY:c,targetControlX:p,targetControlY:d});return[`M${n},${e} C${l},${c} ${p},${d} ${r},${s}`,h,m,x,w]}function BO({sourceX:n,sourceY:e,targetX:t,targetY:r}){const s=Math.abs(t-n)/2,i=t<n?t+s:t-s,a=Math.abs(r-e)/2,l=r<e?r+a:r-a;return[i,l,s,a]}function nz({sourceNode:n,targetNode:e,selected:t=!1,zIndex:r=0,elevateOnSelect:s=!1,zIndexMode:i="basic"}){if(i==="manual")return r;const a=s&&t?r+1e3:r,l=Math.max(n.parentId||s&&n.selected?n.internals.z:0,e.parentId||s&&e.selected?e.internals.z:0);return a+l}function rz({sourceNode:n,targetNode:e,width:t,height:r,transform:s}){const i=Gx(bx(n),bx(e));i.x===i.x2&&(i.x2+=1),i.y===i.y2&&(i.y2+=1);const a={x:-s[0]/s[2],y:-s[1]/s[2],width:t/s[2],height:r/s[2]};return fm(a,Yx(i))>0}const VO=({source:n,sourceHandle:e,target:t,targetHandle:r})=>`xy-edge__${n}${e||""}-${t}${r||""}`,sz=(n,e)=>e.some(t=>t.source===n.source&&t.target===n.target&&(t.sourceHandle===n.sourceHandle||!t.sourceHandle&&!n.sourceHandle)&&(t.targetHandle===n.targetHandle||!t.targetHandle&&!n.targetHandle)),jO=(n,e,t={})=>{if(!n.source||!n.target)return e;const r=t.getEdgeId||VO;let s;return NO(n)?s={...n}:s={...n,id:r(n)},sz(s,e)?e:(s.sourceHandle===null&&delete s.sourceHandle,s.targetHandle===null&&delete s.targetHandle,e.concat(s))},iz=(n,e,t,r={shouldReplaceId:!0})=>{const{id:s,...i}=n;if(!e.source||!e.target||!t.find(p=>p.id===n.id))return t;const l=r.getEdgeId||VO,c={...i,id:r.shouldReplaceId?l(e):s,source:e.source,target:e.target,sourceHandle:e.sourceHandle,targetHandle:e.targetHandle};return t.filter(p=>p.id!==s).concat(c)};function zO({sourceX:n,sourceY:e,targetX:t,targetY:r}){const[s,i,a,l]=BO({sourceX:n,sourceY:e,targetX:t,targetY:r});return[`M ${n},${e}L ${t},${r}`,s,i,a,l]}const DN={[Xt.Left]:{x:-1,y:0},[Xt.Right]:{x:1,y:0},[Xt.Top]:{x:0,y:-1},[Xt.Bottom]:{x:0,y:1}},az=({source:n,sourcePosition:e=Xt.Bottom,target:t})=>e===Xt.Left||e===Xt.Right?n.x<t.x?{x:1,y:0}:{x:-1,y:0}:n.y<t.y?{x:0,y:1}:{x:0,y:-1},RN=(n,e)=>Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2));function oz({source:n,sourcePosition:e=Xt.Bottom,target:t,targetPosition:r=Xt.Top,center:s,offset:i,stepPosition:a}){const l=DN[e],c=DN[r],p={x:n.x+l.x*i,y:n.y+l.y*i},d={x:t.x+c.x*i,y:t.y+c.y*i},h=az({source:p,sourcePosition:e,target:d}),m=h.x!==0?"x":"y",x=h[m];let w=[],A,P;const S={x:0,y:0},C={x:0,y:0},[,,I,_]=BO({sourceX:n.x,sourceY:n.y,targetX:t.x,targetY:t.y});if(l[m]*c[m]===-1){m==="x"?(A=s.x??p.x+(d.x-p.x)*a,P=s.y??(p.y+d.y)/2):(A=s.x??(p.x+d.x)/2,P=s.y??p.y+(d.y-p.y)*a);const F=[{x:A,y:p.y},{x:A,y:d.y}],O=[{x:p.x,y:P},{x:d.x,y:P}];l[m]===x?w=m==="x"?F:O:w=m==="x"?O:F}else{const F=[{x:p.x,y:d.y}],O=[{x:d.x,y:p.y}];if(m==="x"?w=l.x===x?O:F:w=l.y===x?F:O,e===r){const ee=Math.abs(n[m]-t[m]);if(ee<=i){const ue=Math.min(i-1,i-ee);l[m]===x?S[m]=(p[m]>n[m]?-1:1)*ue:C[m]=(d[m]>t[m]?-1:1)*ue}}if(e!==r){const ee=m==="x"?"y":"x",ue=l[m]===c[ee],J=p[ee]>d[ee],ae=p[ee]<d[ee];(l[m]===1&&(!ue&&J||ue&&ae)||l[m]!==1&&(!ue&&ae||ue&&J))&&(w=m==="x"?F:O)}const L={x:p.x+S.x,y:p.y+S.y},B={x:d.x+C.x,y:d.y+C.y},j=Math.max(Math.abs(L.x-w[0].x),Math.abs(B.x-w[0].x)),M=Math.max(Math.abs(L.y-w[0].y),Math.abs(B.y-w[0].y));j>=M?(A=(L.x+B.x)/2,P=w[0].y):(A=w[0].x,P=(L.y+B.y)/2)}return[[n,{x:p.x+S.x,y:p.y+S.y},...w,{x:d.x+C.x,y:d.y+C.y},t],A,P,I,_]}function lz(n,e,t,r){const s=Math.min(RN(n,e)/2,RN(e,t)/2,r),{x:i,y:a}=e;if(n.x===i&&i===t.x||n.y===a&&a===t.y)return`L${i} ${a}`;if(n.y===a){const p=n.x<t.x?-1:1,d=n.y<t.y?1:-1;return`L ${i+s*p},${a}Q ${i},${a} ${i},${a+s*d}`}const l=n.x<t.x?1:-1,c=n.y<t.y?-1:1;return`L ${i},${a+s*c}Q ${i},${a} ${i+s*l},${a}`}function O1({sourceX:n,sourceY:e,sourcePosition:t=Xt.Bottom,targetX:r,targetY:s,targetPosition:i=Xt.Top,borderRadius:a=5,centerX:l,centerY:c,offset:p=20,stepPosition:d=.5}){const[h,m,x,w,A]=oz({source:{x:n,y:e},sourcePosition:t,target:{x:r,y:s},targetPosition:i,center:{x:l,y:c},offset:p,stepPosition:d});return[h.reduce((S,C,I)=>{let _="";return I>0&&I<h.length-1?_=lz(h[I-1],C,h[I+1],a):_=`${I===0?"M":"L"}${C.x} ${C.y}`,S+=_,S},""),m,x,w,A]}function FN(n){return n&&!!(n.internals.handleBounds||n.handles?.length)&&!!(n.measured.width||n.width||n.initialWidth)}function uz(n){const{sourceNode:e,targetNode:t}=n;if(!FN(e)||!FN(t))return null;const r=e.internals.handleBounds||BN(e.handles),s=t.internals.handleBounds||BN(t.handles),i=VN(r?.source??[],n.sourceHandle),a=VN(n.connectionMode===bf.Strict?s?.target??[]:(s?.target??[]).concat(s?.source??[]),n.targetHandle);if(!i||!a)return n.onError?.("008",Yl.error008(i?"target":"source",{id:n.id,sourceHandle:n.sourceHandle,targetHandle:n.targetHandle})),null;const l=i?.position||Xt.Bottom,c=a?.position||Xt.Top,p=td(e,i,l),d=td(t,a,c);return{sourceX:p.x,sourceY:p.y,targetX:d.x,targetY:d.y,sourcePosition:l,targetPosition:c}}function BN(n){if(!n)return null;const e=[],t=[];for(const r of n)r.width=r.width??1,r.height=r.height??1,r.type==="source"?e.push(r):r.type==="target"&&t.push(r);return{source:e,target:t}}function td(n,e,t=Xt.Left,r=!1){const s=(e?.x??0)+n.internals.positionAbsolute.x,i=(e?.y??0)+n.internals.positionAbsolute.y,{width:a,height:l}=e??Gu(n);if(r)return{x:s+a/2,y:i+l/2};switch(e?.position??t){case Xt.Top:return{x:s+a/2,y:i};case Xt.Right:return{x:s+a,y:i+l/2};case Xt.Bottom:return{x:s+a/2,y:i+l};case Xt.Left:return{x:s,y:i+l/2}}}function VN(n,e){return n&&(e?n.find(t=>t.id===e):n[0])||null}function L1(n,e){return n?typeof n=="string"?n:`${e?`${e}__`:""}${Object.keys(n).sort().map(r=>`${r}=${n[r]}`).join("&")}`:""}function cz(n,{id:e,defaultColor:t,defaultMarkerStart:r,defaultMarkerEnd:s}){const i=new Set;return n.reduce((a,l)=>([l.markerStart||r,l.markerEnd||s].forEach(c=>{if(c&&typeof c=="object"){const p=L1(c,e);i.has(p)||(a.push({id:p,color:c.color||t,...c}),i.add(p))}}),a),[]).sort((a,l)=>a.id.localeCompare(l.id))}const UO=1e3,pz=10,bw={nodeOrigin:[0,0],nodeExtent:dm,elevateNodesOnSelect:!0,zIndexMode:"basic",defaults:{}},dz={...bw,checkEquality:!0};function ww(n,e){const t={...n};for(const r in e)e[r]!==void 0&&(t[r]=e[r]);return t}function fz(n,e,t){const r=ww(bw,t);for(const s of n.values())if(s.parentId)Pw(s,n,e,r);else{const i=Nm(s,r.nodeOrigin),a=Af(s.extent)?s.extent:r.nodeExtent,l=ed(i,a,Gu(s));s.internals.positionAbsolute=l}}function hz(n,e){if(!n.handles)return n.measured?e?.internals.handleBounds:void 0;const t=[],r=[];for(const s of n.handles){const i={id:s.id,width:s.width??1,height:s.height??1,nodeId:n.id,x:s.x,y:s.y,position:s.position,type:s.type};s.type==="source"?t.push(i):s.type==="target"&&r.push(i)}return{source:t,target:r}}function Ew(n){return n==="manual"}function D1(n,e,t,r={}){const s=ww(dz,r),i={i:0},a=new Map(e),l=s?.elevateNodesOnSelect&&!Ew(s.zIndexMode)?UO:0;let c=n.length>0;e.clear(),t.clear();for(const p of n){let d=a.get(p.id);if(s.checkEquality&&p===d?.internals.userNode)e.set(p.id,d);else{const h=Nm(p,s.nodeOrigin),m=Af(p.extent)?p.extent:s.nodeExtent,x=ed(h,m,Gu(p));d={...s.defaults,...p,measured:{width:p.measured?.width,height:p.measured?.height},internals:{positionAbsolute:x,handleBounds:hz(p,d),z:qO(p,l,s.zIndexMode),userNode:p}},e.set(p.id,d)}(d.measured===void 0||d.measured.width===void 0||d.measured.height===void 0)&&!d.hidden&&(c=!1),p.parentId&&Pw(d,e,t,r,i)}return c}function mz(n,e){if(!n.parentId)return;const t=e.get(n.parentId);t?t.set(n.id,n):e.set(n.parentId,new Map([[n.id,n]]))}function Pw(n,e,t,r,s){const{elevateNodesOnSelect:i,nodeOrigin:a,nodeExtent:l,zIndexMode:c}=ww(bw,r),p=n.parentId,d=e.get(p);if(!d){console.warn(`Parent node ${p} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}mz(n,t),s&&!d.parentId&&d.internals.rootParentIndex===void 0&&c==="auto"&&(d.internals.rootParentIndex=++s.i,d.internals.z=d.internals.z+s.i*pz),s&&d.internals.rootParentIndex!==void 0&&(s.i=d.internals.rootParentIndex);const h=i&&!Ew(c)?UO:0,{x:m,y:x,z:w}=yz(n,d,a,l,h,c),{positionAbsolute:A}=n.internals,P=m!==A.x||x!==A.y;(P||w!==n.internals.z)&&e.set(n.id,{...n,internals:{...n.internals,positionAbsolute:P?{x:m,y:x}:A,z:w}})}function qO(n,e,t){const r=Jo(n.zIndex)?n.zIndex:0;return Ew(t)?r:r+(n.selected?e:0)}function yz(n,e,t,r,s,i){const{x:a,y:l}=e.internals.positionAbsolute,c=Gu(n),p=Nm(n,t),d=Af(n.extent)?ed(p,n.extent,c):p;let h=ed({x:a+d.x,y:l+d.y},r,c);n.extent==="parent"&&(h=CO(h,c,e));const m=qO(n,s,i),x=e.internals.z??0;return{x:h.x,y:h.y,z:x>=m?x+1:m}}function Aw(n,e,t,r=[0,0]){const s=[],i=new Map;for(const a of n){const l=e.get(a.parentId);if(!l)continue;const c=i.get(a.parentId)?.expandedRect??Pf(l),p=MO(c,a.rect);i.set(a.parentId,{expandedRect:p,parent:l})}return i.size>0&&i.forEach(({expandedRect:a,parent:l},c)=>{const p=l.internals.positionAbsolute,d=Gu(l),h=l.origin??r,m=a.x<p.x?Math.round(Math.abs(p.x-a.x)):0,x=a.y<p.y?Math.round(Math.abs(p.y-a.y)):0,w=Math.max(d.width,Math.round(a.width)),A=Math.max(d.height,Math.round(a.height)),P=(w-d.width)*h[0],S=(A-d.height)*h[1];(m>0||x>0||P||S)&&(s.push({id:c,type:"position",position:{x:l.position.x-m+P,y:l.position.y-x+S}}),t.get(c)?.forEach(C=>{n.some(I=>I.id===C.id)||s.push({id:C.id,type:"position",position:{x:C.position.x+m,y:C.position.y+x}})})),(d.width<a.width||d.height<a.height||m||x)&&s.push({id:c,type:"dimensions",setAttributes:!0,dimensions:{width:w+(m?h[0]*m-P:0),height:A+(x?h[1]*x-S:0)}})}),s}function gz(n,e,t,r,s,i,a){const l=r?.querySelector(".xyflow__viewport");let c=!1;if(!l)return{changes:[],updatedInternals:c};const p=[],d=window.getComputedStyle(l),{m22:h}=new window.DOMMatrixReadOnly(d.transform),m=[];for(const x of n.values()){const w=e.get(x.id);if(!w)continue;if(w.hidden){e.set(w.id,{...w,internals:{...w.internals,handleBounds:void 0}}),c=!0;continue}const A=Sw(x.nodeElement),P=w.measured.width!==A.width||w.measured.height!==A.height;if(!!(A.width&&A.height&&(P||!w.internals.handleBounds||x.force))){const C=x.nodeElement.getBoundingClientRect(),I=Af(w.extent)?w.extent:i;let{positionAbsolute:_}=w.internals;w.parentId&&w.extent==="parent"?_=CO(_,A,e.get(w.parentId)):I&&(_=ed(_,I,A));const D={...w,measured:A,internals:{...w.internals,positionAbsolute:_,handleBounds:{source:ON("source",x.nodeElement,C,h,w.id),target:ON("target",x.nodeElement,C,h,w.id)}}};e.set(w.id,D),w.parentId&&Pw(D,e,t,{nodeOrigin:s,zIndexMode:a}),c=!0,P&&(p.push({id:w.id,type:"dimensions",dimensions:A}),w.expandParent&&w.parentId&&m.push({id:w.id,parentId:w.parentId,rect:Pf(D,s)}))}}if(m.length>0){const x=Aw(m,e,t,s);p.push(...x)}return{changes:p,updatedInternals:c}}async function xz({delta:n,panZoom:e,transform:t,translateExtent:r,width:s,height:i}){if(!e||!n.x&&!n.y)return Promise.resolve(!1);const a=await e.setViewportConstrained({x:t[0]+n.x,y:t[1]+n.y,zoom:t[2]},[[0,0],[s,i]],r),l=!!a&&(a.x!==t[0]||a.y!==t[1]||a.k!==t[2]);return Promise.resolve(l)}function jN(n,e,t,r,s,i){let a=s;const l=r.get(a)||new Map;r.set(a,l.set(t,e)),a=`${s}-${n}`;const c=r.get(a)||new Map;if(r.set(a,c.set(t,e)),i){a=`${s}-${n}-${i}`;const p=r.get(a)||new Map;r.set(a,p.set(t,e))}}function $O(n,e,t){n.clear(),e.clear();for(const r of t){const{source:s,target:i,sourceHandle:a=null,targetHandle:l=null}=r,c={edgeId:r.id,source:s,target:i,sourceHandle:a,targetHandle:l},p=`${s}-${a}--${i}-${l}`,d=`${i}-${l}--${s}-${a}`;jN("source",c,d,n,s,a),jN("target",c,p,n,i,l),e.set(r.id,r)}}function WO(n,e){if(!n.parentId)return!1;const t=e.get(n.parentId);return t?t.selected?!0:WO(t,e):!1}function zN(n,e,t){let r=n;do{if(r?.matches?.(e))return!0;if(r===t)return!1;r=r?.parentElement}while(r);return!1}function vz(n,e,t,r){const s=new Map;for(const[i,a]of n)if((a.selected||a.id===r)&&(!a.parentId||!WO(a,n))&&(a.draggable||e&&typeof a.draggable>"u")){const l=n.get(i);l&&s.set(i,{id:i,position:l.position||{x:0,y:0},distance:{x:t.x-l.internals.positionAbsolute.x,y:t.y-l.internals.positionAbsolute.y},extent:l.extent,parentId:l.parentId,origin:l.origin,expandParent:l.expandParent,internals:{positionAbsolute:l.internals.positionAbsolute||{x:0,y:0}},measured:{width:l.measured.width??0,height:l.measured.height??0}})}return s}function YT({nodeId:n,dragItems:e,nodeLookup:t,dragging:r=!0}){const s=[];for(const[a,l]of e){const c=t.get(a)?.internals.userNode;c&&s.push({...c,position:l.position,dragging:r})}if(!n)return[s[0],s];const i=t.get(n)?.internals.userNode;return[i?{...i,position:e.get(n)?.position||i.position,dragging:r}:s[0],s]}function Tz({dragItems:n,snapGrid:e,x:t,y:r}){const s=n.values().next().value;if(!s)return null;const i={x:t-s.distance.x,y:r-s.distance.y},a=Cm(i,e);return{x:a.x-i.x,y:a.y-i.y}}function Sz({onNodeMouseDown:n,getStoreItems:e,onDragStart:t,onDrag:r,onDragStop:s}){let i={x:null,y:null},a=0,l=new Map,c=!1,p={x:0,y:0},d=null,h=!1,m=null,x=!1,w=!1,A=null;function P({noDragClassName:C,handleSelector:I,domNode:_,isSelectable:D,nodeId:F,nodeClickDistance:O=0}){m=ua(_);function L({x:ee,y:ue}){const{nodeLookup:J,nodeExtent:ae,snapGrid:oe,snapToGrid:re,nodeOrigin:X,onNodeDrag:H,onSelectionDrag:Q,onError:W,updateNodePositions:Y}=e();i={x:ee,y:ue};let Z=!1;const se=l.size>1,me=se&&ae?k1(_m(l)):null,Ce=se&&re?Tz({dragItems:l,snapGrid:oe,x:ee,y:ue}):null;for(const[be,Se]of l){if(!J.has(be))continue;let Le={x:ee-Se.distance.x,y:ue-Se.distance.y};re&&(Le=Ce?{x:Math.round(Le.x+Ce.x),y:Math.round(Le.y+Ce.y)}:Cm(Le,oe));let Ue=null;if(se&&ae&&!Se.extent&&me){const{positionAbsolute:it}=Se.internals,pt=it.x-me.x+ae[0][0],It=it.x+Se.measured.width-me.x2+ae[1][0],ct=it.y-me.y+ae[0][1],Ye=it.y+Se.measured.height-me.y2+ae[1][1];Ue=[[pt,ct],[It,Ye]]}const{position:st,positionAbsolute:Ze}=_O({nodeId:be,nextPosition:Le,nodeLookup:J,nodeExtent:Ue||ae,nodeOrigin:X,onError:W});Z=Z||Se.position.x!==st.x||Se.position.y!==st.y,Se.position=st,Se.internals.positionAbsolute=Ze}if(w=w||Z,!!Z&&(Y(l,!0),A&&(r||H||!F&&Q))){const[be,Se]=YT({nodeId:F,dragItems:l,nodeLookup:J});r?.(A,l,be,Se),H?.(A,be,Se),F||Q?.(A,Se)}}async function B(){if(!d)return;const{transform:ee,panBy:ue,autoPanSpeed:J,autoPanOnNodeDrag:ae}=e();if(!ae){c=!1,cancelAnimationFrame(a);return}const[oe,re]=IO(p,d,J);(oe!==0||re!==0)&&(i.x=(i.x??0)-oe/ee[2],i.y=(i.y??0)-re/ee[2],await ue({x:oe,y:re})&&L(i)),a=requestAnimationFrame(B)}function j(ee){const{nodeLookup:ue,multiSelectionActive:J,nodesDraggable:ae,transform:oe,snapGrid:re,snapToGrid:X,selectNodesOnDrag:H,onNodeDragStart:Q,onSelectionDragStart:W,unselectNodesAndEdges:Y}=e();h=!0,(!H||!D)&&!J&&F&&(ue.get(F)?.selected||Y()),D&&H&&F&&n?.(F);const Z=em(ee.sourceEvent,{transform:oe,snapGrid:re,snapToGrid:X,containerBounds:d});if(i=Z,l=vz(ue,ae,Z,F),l.size>0&&(t||Q||!F&&W)){const[se,me]=YT({nodeId:F,dragItems:l,nodeLookup:ue});t?.(ee.sourceEvent,l,se,me),Q?.(ee.sourceEvent,se,me),F||W?.(ee.sourceEvent,me)}}const M=oO().clickDistance(O).on("start",ee=>{const{domNode:ue,nodeDragThreshold:J,transform:ae,snapGrid:oe,snapToGrid:re}=e();d=ue?.getBoundingClientRect()||null,x=!1,w=!1,A=ee.sourceEvent,J===0&&j(ee),i=em(ee.sourceEvent,{transform:ae,snapGrid:oe,snapToGrid:re,containerBounds:d}),p=Zo(ee.sourceEvent,d)}).on("drag",ee=>{const{autoPanOnNodeDrag:ue,transform:J,snapGrid:ae,snapToGrid:oe,nodeDragThreshold:re,nodeLookup:X}=e(),H=em(ee.sourceEvent,{transform:J,snapGrid:ae,snapToGrid:oe,containerBounds:d});if(A=ee.sourceEvent,(ee.sourceEvent.type==="touchmove"&&ee.sourceEvent.touches.length>1||F&&!X.has(F))&&(x=!0),!x){if(!c&&ue&&h&&(c=!0,B()),!h){const Q=Zo(ee.sourceEvent,d),W=Q.x-p.x,Y=Q.y-p.y;Math.sqrt(W*W+Y*Y)>re&&j(ee)}(i.x!==H.xSnapped||i.y!==H.ySnapped)&&l&&h&&(p=Zo(ee.sourceEvent,d),L(H))}}).on("end",ee=>{if(!(!h||x)&&(c=!1,h=!1,cancelAnimationFrame(a),l.size>0)){const{nodeLookup:ue,updateNodePositions:J,onNodeDragStop:ae,onSelectionDragStop:oe}=e();if(w&&(J(l,!1),w=!1),s||ae||!F&&oe){const[re,X]=YT({nodeId:F,dragItems:l,nodeLookup:ue,dragging:!1});s?.(ee.sourceEvent,l,re,X),ae?.(ee.sourceEvent,re,X),F||oe?.(ee.sourceEvent,X)}}}).filter(ee=>{const ue=ee.target;return!ee.button&&(!C||!zN(ue,`.${C}`,_))&&(!I||zN(ue,I,_))});m.call(M)}function S(){m?.on(".drag",null)}return{update:P,destroy:S}}function bz(n,e,t){const r=[],s={x:n.x-t,y:n.y-t,width:t*2,height:t*2};for(const i of e.values())fm(s,Pf(i))>0&&r.push(i);return r}const wz=250;function Ez(n,e,t,r){let s=[],i=1/0;const a=bz(n,t,e+wz);for(const l of a){const c=[...l.internals.handleBounds?.source??[],...l.internals.handleBounds?.target??[]];for(const p of c){if(r.nodeId===p.nodeId&&r.type===p.type&&r.id===p.id)continue;const{x:d,y:h}=td(l,p,p.position,!0),m=Math.sqrt(Math.pow(d-n.x,2)+Math.pow(h-n.y,2));m>e||(m<i?(s=[{...p,x:d,y:h}],i=m):m===i&&s.push({...p,x:d,y:h}))}}if(!s.length)return null;if(s.length>1){const l=r.type==="source"?"target":"source";return s.find(c=>c.type===l)??s[0]}return s[0]}function HO(n,e,t,r,s,i=!1){const a=r.get(n);if(!a)return null;const l=s==="strict"?a.internals.handleBounds?.[e]:[...a.internals.handleBounds?.source??[],...a.internals.handleBounds?.target??[]],c=(t?l?.find(p=>p.id===t):l?.[0])??null;return c&&i?{...c,...td(a,c,c.position,!0)}:c}function KO(n,e){return n||(e?.classList.contains("target")?"target":e?.classList.contains("source")?"source":null)}function Pz(n,e){let t=null;return e?t=!0:n&&!e&&(t=!1),t}const XO=()=>!0;function Az(n,{connectionMode:e,connectionRadius:t,handleId:r,nodeId:s,edgeUpdaterType:i,isTarget:a,domNode:l,nodeLookup:c,lib:p,autoPanOnConnect:d,flowId:h,panBy:m,cancelConnection:x,onConnectStart:w,onConnect:A,onConnectEnd:P,isValidConnection:S=XO,onReconnectEnd:C,updateConnection:I,getTransform:_,getFromHandle:D,autoPanSpeed:F,dragThreshold:O=1,handleDomNode:L}){const B=LO(n.target);let j=0,M;const{x:ee,y:ue}=Zo(n),J=KO(i,L),ae=l?.getBoundingClientRect();let oe=!1;if(!ae||!J)return;const re=HO(s,J,r,c,e);if(!re)return;let X=Zo(n,ae),H=!1,Q=null,W=!1,Y=null;function Z(){if(!d||!ae)return;const[st,Ze]=IO(X,ae,F);m({x:st,y:Ze}),j=requestAnimationFrame(Z)}const se={...re,nodeId:s,type:J,position:re.position},me=c.get(s);let be={inProgress:!0,isValid:null,from:td(me,se,Xt.Left,!0),fromHandle:se,fromPosition:se.position,fromNode:me,to:X,toHandle:null,toPosition:CN[se.position],toNode:null,pointer:X};function Se(){oe=!0,I(be),w?.(n,{nodeId:s,handleId:r,handleType:J})}O===0&&Se();function Le(st){if(!oe){const{x:Ye,y:We}=Zo(st),rt=Ye-ee,St=We-ue;if(!(rt*rt+St*St>O*O))return;Se()}if(!D()||!se){Ue(st);return}const Ze=_();X=Zo(st,ae),M=Ez(Im(X,Ze,!1,[1,1]),t,c,se),H||(Z(),H=!0);const it=GO(st,{handle:M,connectionMode:e,fromNodeId:s,fromHandleId:r,fromType:a?"target":"source",isValidConnection:S,doc:B,lib:p,flowId:h,nodeLookup:c});Y=it.handleDomNode,Q=it.connection,W=Pz(!!M,it.isValid);const pt=c.get(s),It=pt?td(pt,se,Xt.Left,!0):be.from,ct={...be,from:It,isValid:W,to:it.toHandle&&W?wx({x:it.toHandle.x,y:it.toHandle.y},Ze):X,toHandle:it.toHandle,toPosition:W&&it.toHandle?it.toHandle.position:CN[se.position],toNode:it.toHandle?c.get(it.toHandle.nodeId):null,pointer:X};I(ct),be=ct}function Ue(st){if(!("touches"in st&&st.touches.length>0)){if(oe){(M||Y)&&Q&&W&&A?.(Q);const{inProgress:Ze,...it}=be,pt={...it,toPosition:be.toHandle?be.toPosition:null};P?.(st,pt),i&&C?.(st,pt)}x(),cancelAnimationFrame(j),H=!1,W=!1,Q=null,Y=null,B.removeEventListener("mousemove",Le),B.removeEventListener("mouseup",Ue),B.removeEventListener("touchmove",Le),B.removeEventListener("touchend",Ue)}}B.addEventListener("mousemove",Le),B.addEventListener("mouseup",Ue),B.addEventListener("touchmove",Le),B.addEventListener("touchend",Ue)}function GO(n,{handle:e,connectionMode:t,fromNodeId:r,fromHandleId:s,fromType:i,doc:a,lib:l,flowId:c,isValidConnection:p=XO,nodeLookup:d}){const h=i==="target",m=e?a.querySelector(`.${l}-flow__handle[data-id="${c}-${e?.nodeId}-${e?.id}-${e?.type}"]`):null,{x,y:w}=Zo(n),A=a.elementFromPoint(x,w),P=A?.classList.contains(`${l}-flow__handle`)?A:m,S={handleDomNode:P,isValid:!1,connection:null,toHandle:null};if(P){const C=KO(void 0,P),I=P.getAttribute("data-nodeid"),_=P.getAttribute("data-handleid"),D=P.classList.contains("connectable"),F=P.classList.contains("connectableend");if(!I||!C)return S;const O={source:h?I:r,sourceHandle:h?_:s,target:h?r:I,targetHandle:h?s:_};S.connection=O;const B=D&&F&&(t===bf.Strict?h&&C==="source"||!h&&C==="target":I!==r||_!==s);S.isValid=B&&p(O),S.toHandle=HO(I,C,_,d,t,!0)}return S}const R1={onPointerDown:Az,isValid:GO};function Nz({domNode:n,panZoom:e,getTransform:t,getViewScale:r}){const s=ua(n);function i({translateExtent:l,width:c,height:p,zoomStep:d=1,pannable:h=!0,zoomable:m=!0,inversePan:x=!1}){const w=I=>{if(I.sourceEvent.type!=="wheel"||!e)return;const _=t(),D=I.sourceEvent.ctrlKey&&hm()?10:1,F=-I.sourceEvent.deltaY*(I.sourceEvent.deltaMode===1?.05:I.sourceEvent.deltaMode?1:.002)*d,O=_[2]*Math.pow(2,F*D);e.scaleTo(O)};let A=[0,0];const P=I=>{(I.sourceEvent.type==="mousedown"||I.sourceEvent.type==="touchstart")&&(A=[I.sourceEvent.clientX??I.sourceEvent.touches[0].clientX,I.sourceEvent.clientY??I.sourceEvent.touches[0].clientY])},S=I=>{const _=t();if(I.sourceEvent.type!=="mousemove"&&I.sourceEvent.type!=="touchmove"||!e)return;const D=[I.sourceEvent.clientX??I.sourceEvent.touches[0].clientX,I.sourceEvent.clientY??I.sourceEvent.touches[0].clientY],F=[D[0]-A[0],D[1]-A[1]];A=D;const O=r()*Math.max(_[2],Math.log(_[2]))*(x?-1:1),L={x:_[0]-F[0]*O,y:_[1]-F[1]*O},B=[[0,0],[c,p]];e.setViewportConstrained({x:L.x,y:L.y,zoom:_[2]},B,l)},C=bO().on("start",P).on("zoom",h?S:null).on("zoom.wheel",m?w:null);s.call(C,{})}function a(){s.on("zoom",null)}return{update:i,destroy:a,pointer:$o}}const Jx=n=>({x:n.x,y:n.y,zoom:n.k}),JT=({x:n,y:e,zoom:t})=>Xx.translate(n,e).scale(t),rf=(n,e)=>n.target.closest(`.${e}`),YO=(n,e)=>e===2&&Array.isArray(n)&&n.includes(2),_z=n=>((n*=2)<=1?n*n*n:(n-=2)*n*n+2)/2,ZT=(n,e=0,t=_z,r=()=>{})=>{const s=typeof e=="number"&&e>0;return s||r(),s?n.transition().duration(e).ease(t).on("end",r):n},JO=n=>{const e=n.ctrlKey&&hm()?10:1;return-n.deltaY*(n.deltaMode===1?.05:n.deltaMode?1:.002)*e};function Cz({zoomPanValues:n,noWheelClassName:e,d3Selection:t,d3Zoom:r,panOnScrollMode:s,panOnScrollSpeed:i,zoomOnPinch:a,onPanZoomStart:l,onPanZoom:c,onPanZoomEnd:p}){return d=>{if(rf(d,e))return d.ctrlKey&&d.preventDefault(),!1;d.preventDefault(),d.stopImmediatePropagation();const h=t.property("__zoom").k||1;if(d.ctrlKey&&a){const P=$o(d),S=JO(d),C=h*Math.pow(2,S);r.scaleTo(t,C,P,d);return}const m=d.deltaMode===1?20:1;let x=s===Hp.Vertical?0:d.deltaX*m,w=s===Hp.Horizontal?0:d.deltaY*m;!hm()&&d.shiftKey&&s!==Hp.Vertical&&(x=d.deltaY*m,w=0),r.translateBy(t,-(x/h)*i,-(w/h)*i,{internal:!0});const A=Jx(t.property("__zoom"));clearTimeout(n.panScrollTimeout),n.isPanScrolling?(c?.(d,A),n.panScrollTimeout=setTimeout(()=>{p?.(d,A),n.isPanScrolling=!1},150)):(n.isPanScrolling=!0,l?.(d,A))}}function Iz({noWheelClassName:n,preventScrolling:e,d3ZoomHandler:t}){return function(r,s){const i=r.type==="wheel",a=!e&&i&&!r.ctrlKey,l=rf(r,n);if(r.ctrlKey&&i&&l&&r.preventDefault(),a||l)return null;r.preventDefault(),t.call(this,r,s)}}function Mz({zoomPanValues:n,onDraggingChange:e,onPanZoomStart:t}){return r=>{if(r.sourceEvent?.internal)return;const s=Jx(r.transform);n.mouseButton=r.sourceEvent?.button||0,n.isZoomingOrPanning=!0,n.prevViewport=s,r.sourceEvent?.type==="mousedown"&&e(!0),t&&t?.(r.sourceEvent,s)}}function kz({zoomPanValues:n,panOnDrag:e,onPaneContextMenu:t,onTransformChange:r,onPanZoom:s}){return i=>{n.usedRightMouseButton=!!(t&&YO(e,n.mouseButton??0)),i.sourceEvent?.sync||r([i.transform.x,i.transform.y,i.transform.k]),s&&!i.sourceEvent?.internal&&s?.(i.sourceEvent,Jx(i.transform))}}function Oz({zoomPanValues:n,panOnDrag:e,panOnScroll:t,onDraggingChange:r,onPanZoomEnd:s,onPaneContextMenu:i}){return a=>{if(!a.sourceEvent?.internal&&(n.isZoomingOrPanning=!1,i&&YO(e,n.mouseButton??0)&&!n.usedRightMouseButton&&a.sourceEvent&&i(a.sourceEvent),n.usedRightMouseButton=!1,r(!1),s)){const l=Jx(a.transform);n.prevViewport=l,clearTimeout(n.timerId),n.timerId=setTimeout(()=>{s?.(a.sourceEvent,l)},t?150:0)}}}function Lz({zoomActivationKeyPressed:n,zoomOnScroll:e,zoomOnPinch:t,panOnDrag:r,panOnScroll:s,zoomOnDoubleClick:i,userSelectionActive:a,noWheelClassName:l,noPanClassName:c,lib:p,connectionInProgress:d}){return h=>{const m=n||e,x=t&&h.ctrlKey,w=h.type==="wheel";if(h.button===1&&h.type==="mousedown"&&(rf(h,`${p}-flow__node`)||rf(h,`${p}-flow__edge`)))return!0;if(!r&&!m&&!s&&!i&&!t||a||d&&!w||rf(h,l)&&w||rf(h,c)&&(!w||s&&w&&!n)||!t&&h.ctrlKey&&w)return!1;if(!t&&h.type==="touchstart"&&h.touches?.length>1)return h.preventDefault(),!1;if(!m&&!s&&!x&&w||!r&&(h.type==="mousedown"||h.type==="touchstart")||Array.isArray(r)&&!r.includes(h.button)&&h.type==="mousedown")return!1;const A=Array.isArray(r)&&r.includes(h.button)||!h.button||h.button<=1;return(!h.ctrlKey||w)&&A}}function Dz({domNode:n,minZoom:e,maxZoom:t,translateExtent:r,viewport:s,onPanZoom:i,onPanZoomStart:a,onPanZoomEnd:l,onDraggingChange:c}){const p={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},d=n.getBoundingClientRect(),h=bO().scaleExtent([e,t]).translateExtent(r),m=ua(n).call(h);C({x:s.x,y:s.y,zoom:Ef(s.zoom,e,t)},[[0,0],[d.width,d.height]],r);const x=m.on("wheel.zoom"),w=m.on("dblclick.zoom");h.wheelDelta(JO);function A(M,ee){return m?new Promise(ue=>{h?.interpolate(ee?.interpolate==="linear"?Qh:Q0).transform(ZT(m,ee?.duration,ee?.ease,()=>ue(!0)),M)}):Promise.resolve(!1)}function P({noWheelClassName:M,noPanClassName:ee,onPaneContextMenu:ue,userSelectionActive:J,panOnScroll:ae,panOnDrag:oe,panOnScrollMode:re,panOnScrollSpeed:X,preventScrolling:H,zoomOnPinch:Q,zoomOnScroll:W,zoomOnDoubleClick:Y,zoomActivationKeyPressed:Z,lib:se,onTransformChange:me,connectionInProgress:Ce,paneClickDistance:be,selectionOnDrag:Se}){J&&!p.isZoomingOrPanning&&S();const Le=ae&&!Z&&!J;h.clickDistance(Se?1/0:!Jo(be)||be<0?0:be);const Ue=Le?Cz({zoomPanValues:p,noWheelClassName:M,d3Selection:m,d3Zoom:h,panOnScrollMode:re,panOnScrollSpeed:X,zoomOnPinch:Q,onPanZoomStart:a,onPanZoom:i,onPanZoomEnd:l}):Iz({noWheelClassName:M,preventScrolling:H,d3ZoomHandler:x});if(m.on("wheel.zoom",Ue,{passive:!1}),!J){const Ze=Mz({zoomPanValues:p,onDraggingChange:c,onPanZoomStart:a});h.on("start",Ze);const it=kz({zoomPanValues:p,panOnDrag:oe,onPaneContextMenu:!!ue,onPanZoom:i,onTransformChange:me});h.on("zoom",it);const pt=Oz({zoomPanValues:p,panOnDrag:oe,panOnScroll:ae,onPaneContextMenu:ue,onPanZoomEnd:l,onDraggingChange:c});h.on("end",pt)}const st=Lz({zoomActivationKeyPressed:Z,panOnDrag:oe,zoomOnScroll:W,panOnScroll:ae,zoomOnDoubleClick:Y,zoomOnPinch:Q,userSelectionActive:J,noPanClassName:ee,noWheelClassName:M,lib:se,connectionInProgress:Ce});h.filter(st),Y?m.on("dblclick.zoom",w):m.on("dblclick.zoom",null)}function S(){h.on("zoom",null)}async function C(M,ee,ue){const J=JT(M),ae=h?.constrain()(J,ee,ue);return ae&&await A(ae),new Promise(oe=>oe(ae))}async function I(M,ee){const ue=JT(M);return await A(ue,ee),new Promise(J=>J(ue))}function _(M){if(m){const ee=JT(M),ue=m.property("__zoom");(ue.k!==M.zoom||ue.x!==M.x||ue.y!==M.y)&&h?.transform(m,ee,null,{sync:!0})}}function D(){const M=m?SO(m.node()):{x:0,y:0,k:1};return{x:M.x,y:M.y,zoom:M.k}}function F(M,ee){return m?new Promise(ue=>{h?.interpolate(ee?.interpolate==="linear"?Qh:Q0).scaleTo(ZT(m,ee?.duration,ee?.ease,()=>ue(!0)),M)}):Promise.resolve(!1)}function O(M,ee){return m?new Promise(ue=>{h?.interpolate(ee?.interpolate==="linear"?Qh:Q0).scaleBy(ZT(m,ee?.duration,ee?.ease,()=>ue(!0)),M)}):Promise.resolve(!1)}function L(M){h?.scaleExtent(M)}function B(M){h?.translateExtent(M)}function j(M){const ee=!Jo(M)||M<0?0:M;h?.clickDistance(ee)}return{update:P,destroy:S,setViewport:I,setViewportConstrained:C,getViewport:D,scaleTo:F,scaleBy:O,setScaleExtent:L,setTranslateExtent:B,syncViewport:_,setClickDistance:j}}var Nf;(function(n){n.Line="line",n.Handle="handle"})(Nf||(Nf={}));function Rz({width:n,prevWidth:e,height:t,prevHeight:r,affectsX:s,affectsY:i}){const a=n-e,l=t-r,c=[a>0?1:a<0?-1:0,l>0?1:l<0?-1:0];return a&&s&&(c[0]=c[0]*-1),l&&i&&(c[1]=c[1]*-1),c}function UN(n){const e=n.includes("right")||n.includes("left"),t=n.includes("bottom")||n.includes("top"),r=n.includes("left"),s=n.includes("top");return{isHorizontal:e,isVertical:t,affectsX:r,affectsY:s}}function Ec(n,e){return Math.max(0,e-n)}function Pc(n,e){return Math.max(0,n-e)}function $y(n,e,t){return Math.max(0,e-n,n-t)}function qN(n,e){return n?!e:e}function Fz(n,e,t,r,s,i,a,l){let{affectsX:c,affectsY:p}=e;const{isHorizontal:d,isVertical:h}=e,m=d&&h,{xSnapped:x,ySnapped:w}=t,{minWidth:A,maxWidth:P,minHeight:S,maxHeight:C}=r,{x:I,y:_,width:D,height:F,aspectRatio:O}=n;let L=Math.floor(d?x-n.pointerX:0),B=Math.floor(h?w-n.pointerY:0);const j=D+(c?-L:L),M=F+(p?-B:B),ee=-i[0]*D,ue=-i[1]*F;let J=$y(j,A,P),ae=$y(M,S,C);if(a){let X=0,H=0;c&&L<0?X=Ec(I+L+ee,a[0][0]):!c&&L>0&&(X=Pc(I+j+ee,a[1][0])),p&&B<0?H=Ec(_+B+ue,a[0][1]):!p&&B>0&&(H=Pc(_+M+ue,a[1][1])),J=Math.max(J,X),ae=Math.max(ae,H)}if(l){let X=0,H=0;c&&L>0?X=Pc(I+L,l[0][0]):!c&&L<0&&(X=Ec(I+j,l[1][0])),p&&B>0?H=Pc(_+B,l[0][1]):!p&&B<0&&(H=Ec(_+M,l[1][1])),J=Math.max(J,X),ae=Math.max(ae,H)}if(s){if(d){const X=$y(j/O,S,C)*O;if(J=Math.max(J,X),a){let H=0;!c&&!p||c&&!p&&m?H=Pc(_+ue+j/O,a[1][1])*O:H=Ec(_+ue+(c?L:-L)/O,a[0][1])*O,J=Math.max(J,H)}if(l){let H=0;!c&&!p||c&&!p&&m?H=Ec(_+j/O,l[1][1])*O:H=Pc(_+(c?L:-L)/O,l[0][1])*O,J=Math.max(J,H)}}if(h){const X=$y(M*O,A,P)/O;if(ae=Math.max(ae,X),a){let H=0;!c&&!p||p&&!c&&m?H=Pc(I+M*O+ee,a[1][0])/O:H=Ec(I+(p?B:-B)*O+ee,a[0][0])/O,ae=Math.max(ae,H)}if(l){let H=0;!c&&!p||p&&!c&&m?H=Ec(I+M*O,l[1][0])/O:H=Pc(I+(p?B:-B)*O,l[0][0])/O,ae=Math.max(ae,H)}}}B=B+(B<0?ae:-ae),L=L+(L<0?J:-J),s&&(m?j>M*O?B=(qN(c,p)?-L:L)/O:L=(qN(c,p)?-B:B)*O:d?(B=L/O,p=c):(L=B*O,c=p));const oe=c?I+L:I,re=p?_+B:_;return{width:D+(c?-L:L),height:F+(p?-B:B),x:i[0]*L*(c?-1:1)+oe,y:i[1]*B*(p?-1:1)+re}}const ZO={width:0,height:0,x:0,y:0},Bz={...ZO,pointerX:0,pointerY:0,aspectRatio:1};function Vz(n){return[[0,0],[n.measured.width,n.measured.height]]}function jz(n,e,t){const r=e.position.x+n.position.x,s=e.position.y+n.position.y,i=n.measured.width??0,a=n.measured.height??0,l=t[0]*i,c=t[1]*a;return[[r-l,s-c],[r+i-l,s+a-c]]}function zz({domNode:n,nodeId:e,getStoreItems:t,onChange:r,onEnd:s}){const i=ua(n);let a={controlDirection:UN("bottom-right"),boundaries:{minWidth:0,minHeight:0,maxWidth:Number.MAX_VALUE,maxHeight:Number.MAX_VALUE},resizeDirection:void 0,keepAspectRatio:!1};function l({controlPosition:p,boundaries:d,keepAspectRatio:h,resizeDirection:m,onResizeStart:x,onResize:w,onResizeEnd:A,shouldResize:P}){let S={...ZO},C={...Bz};a={boundaries:d,resizeDirection:m,keepAspectRatio:h,controlDirection:UN(p)};let I,_=null,D=[],F,O,L,B=!1;const j=oO().on("start",M=>{const{nodeLookup:ee,transform:ue,snapGrid:J,snapToGrid:ae,nodeOrigin:oe,paneDomNode:re}=t();if(I=ee.get(e),!I)return;_=re?.getBoundingClientRect()??null;const{xSnapped:X,ySnapped:H}=em(M.sourceEvent,{transform:ue,snapGrid:J,snapToGrid:ae,containerBounds:_});S={width:I.measured.width??0,height:I.measured.height??0,x:I.position.x??0,y:I.position.y??0},C={...S,pointerX:X,pointerY:H,aspectRatio:S.width/S.height},F=void 0,I.parentId&&(I.extent==="parent"||I.expandParent)&&(F=ee.get(I.parentId),O=F&&I.extent==="parent"?Vz(F):void 0),D=[],L=void 0;for(const[Q,W]of ee)if(W.parentId===e&&(D.push({id:Q,position:{...W.position},extent:W.extent}),W.extent==="parent"||W.expandParent)){const Y=jz(W,I,W.origin??oe);L?L=[[Math.min(Y[0][0],L[0][0]),Math.min(Y[0][1],L[0][1])],[Math.max(Y[1][0],L[1][0]),Math.max(Y[1][1],L[1][1])]]:L=Y}x?.(M,{...S})}).on("drag",M=>{const{transform:ee,snapGrid:ue,snapToGrid:J,nodeOrigin:ae}=t(),oe=em(M.sourceEvent,{transform:ee,snapGrid:ue,snapToGrid:J,containerBounds:_}),re=[];if(!I)return;const{x:X,y:H,width:Q,height:W}=S,Y={},Z=I.origin??ae,{width:se,height:me,x:Ce,y:be}=Fz(C,a.controlDirection,oe,a.boundaries,a.keepAspectRatio,Z,O,L),Se=se!==Q,Le=me!==W,Ue=Ce!==X&&Se,st=be!==H&&Le;if(!Ue&&!st&&!Se&&!Le)return;if((Ue||st||Z[0]===1||Z[1]===1)&&(Y.x=Ue?Ce:S.x,Y.y=st?be:S.y,S.x=Y.x,S.y=Y.y,D.length>0)){const It=Ce-X,ct=be-H;for(const Ye of D)Ye.position={x:Ye.position.x-It+Z[0]*(se-Q),y:Ye.position.y-ct+Z[1]*(me-W)},re.push(Ye)}if((Se||Le)&&(Y.width=Se&&(!a.resizeDirection||a.resizeDirection==="horizontal")?se:S.width,Y.height=Le&&(!a.resizeDirection||a.resizeDirection==="vertical")?me:S.height,S.width=Y.width,S.height=Y.height),F&&I.expandParent){const It=Z[0]*(Y.width??0);Y.x&&Y.x<It&&(S.x=It,C.x=C.x-(Y.x-It));const ct=Z[1]*(Y.height??0);Y.y&&Y.y<ct&&(S.y=ct,C.y=C.y-(Y.y-ct))}const Ze=Rz({width:S.width,prevWidth:Q,height:S.height,prevHeight:W,affectsX:a.controlDirection.affectsX,affectsY:a.controlDirection.affectsY}),it={...S,direction:Ze};P?.(M,it)!==!1&&(B=!0,w?.(M,it),r(Y,re))}).on("end",M=>{B&&(A?.(M,{...S}),s?.({...S}),B=!1)});i.call(j)}function c(){i.on(".drag",null)}return{update:l,destroy:c}}var QT={exports:{}},eS={},tS={exports:{}},nS={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $N;function Uz(){if($N)return nS;$N=1;var n=Em();function e(h,m){return h===m&&(h!==0||1/h===1/m)||h!==h&&m!==m}var t=typeof Object.is=="function"?Object.is:e,r=n.useState,s=n.useEffect,i=n.useLayoutEffect,a=n.useDebugValue;function l(h,m){var x=m(),w=r({inst:{value:x,getSnapshot:m}}),A=w[0].inst,P=w[1];return i(function(){A.value=x,A.getSnapshot=m,c(A)&&P({inst:A})},[h,x,m]),s(function(){return c(A)&&P({inst:A}),h(function(){c(A)&&P({inst:A})})},[h]),a(x),x}function c(h){var m=h.getSnapshot;h=h.value;try{var x=m();return!t(h,x)}catch{return!0}}function p(h,m){return m()}var d=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?p:l;return nS.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:d,nS}var WN;function qz(){return WN||(WN=1,tS.exports=Uz()),tS.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HN;function $z(){if(HN)return eS;HN=1;var n=Em(),e=qz();function t(p,d){return p===d&&(p!==0||1/p===1/d)||p!==p&&d!==d}var r=typeof Object.is=="function"?Object.is:t,s=e.useSyncExternalStore,i=n.useRef,a=n.useEffect,l=n.useMemo,c=n.useDebugValue;return eS.useSyncExternalStoreWithSelector=function(p,d,h,m,x){var w=i(null);if(w.current===null){var A={hasValue:!1,value:null};w.current=A}else A=w.current;w=l(function(){function S(F){if(!C){if(C=!0,I=F,F=m(F),x!==void 0&&A.hasValue){var O=A.value;if(x(O,F))return _=O}return _=F}if(O=_,r(I,F))return O;var L=m(F);return x!==void 0&&x(O,L)?(I=F,O):(I=F,_=L)}var C=!1,I,_,D=h===void 0?null:h;return[function(){return S(d())},D===null?void 0:function(){return S(D())}]},[d,h,m,x]);var P=s(p,w[0],w[1]);return a(function(){A.hasValue=!0,A.value=P},[P]),c(P),P},eS}var KN;function Wz(){return KN||(KN=1,QT.exports=$z()),QT.exports}var Hz=Wz();const Kz=wm(Hz),Xz={},XN=n=>{let e;const t=new Set,r=(d,h)=>{const m=typeof d=="function"?d(e):d;if(!Object.is(m,e)){const x=e;e=h??(typeof m!="object"||m===null)?m:Object.assign({},e,m),t.forEach(w=>w(e,x))}},s=()=>e,c={setState:r,getState:s,getInitialState:()=>p,subscribe:d=>(t.add(d),()=>t.delete(d)),destroy:()=>{(Xz?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),t.clear()}},p=e=n(r,s,c);return c},Gz=n=>n?XN(n):XN,{useDebugValue:Yz}=Ha,{useSyncExternalStoreWithSelector:Jz}=Kz,Zz=n=>n;function QO(n,e=Zz,t){const r=Jz(n.subscribe,n.getState,n.getServerState||n.getInitialState,e,t);return Yz(r),r}const GN=(n,e)=>{const t=Gz(n),r=(s,i=e)=>QO(t,s,i);return Object.assign(r,t),r},Qz=(n,e)=>n?GN(n,e):GN;function lr(n,e){if(Object.is(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;if(n instanceof Map&&e instanceof Map){if(n.size!==e.size)return!1;for(const[r,s]of n)if(!Object.is(s,e.get(r)))return!1;return!0}if(n instanceof Set&&e instanceof Set){if(n.size!==e.size)return!1;for(const r of n)if(!e.has(r))return!1;return!0}const t=Object.keys(n);if(t.length!==Object.keys(e).length)return!1;for(const r of t)if(!Object.prototype.hasOwnProperty.call(e,r)||!Object.is(n[r],e[r]))return!1;return!0}var e9=Hk();const Zx=_e.createContext(null),t9=Zx.Provider,e3=Yl.error001();function On(n,e){const t=_e.useContext(Zx);if(t===null)throw new Error(e3);return QO(t,n,e)}function cr(){const n=_e.useContext(Zx);if(n===null)throw new Error(e3);return _e.useMemo(()=>({getState:n.getState,setState:n.setState,subscribe:n.subscribe}),[n])}const YN={display:"none"},n9={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},t3="react-flow__node-desc",n3="react-flow__edge-desc",r9="react-flow__aria-live",s9=n=>n.ariaLiveMessage,i9=n=>n.ariaLabelConfig;function a9({rfId:n}){const e=On(s9);return he.jsx("div",{id:`${r9}-${n}`,"aria-live":"assertive","aria-atomic":"true",style:n9,children:e})}function o9({rfId:n,disableKeyboardA11y:e}){const t=On(i9);return he.jsxs(he.Fragment,{children:[he.jsx("div",{id:`${t3}-${n}`,style:YN,children:e?t["node.a11yDescription.default"]:t["node.a11yDescription.keyboardDisabled"]}),he.jsx("div",{id:`${n3}-${n}`,style:YN,children:t["edge.a11yDescription.default"]}),!e&&he.jsx(a9,{rfId:n})]})}const Qx=_e.forwardRef(({position:n="top-left",children:e,className:t,style:r,...s},i)=>{const a=`${n}`.split("-");return he.jsx("div",{className:$r(["react-flow__panel",t,...a]),style:r,ref:i,...s,children:e})});Qx.displayName="Panel";function l9({proOptions:n,position:e="bottom-right"}){return n?.hideAttribution?null:he.jsx(Qx,{position:e,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:he.jsx("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}const u9=n=>{const e=[],t=[];for(const[,r]of n.nodeLookup)r.selected&&e.push(r.internals.userNode);for(const[,r]of n.edgeLookup)r.selected&&t.push(r);return{selectedNodes:e,selectedEdges:t}},Wy=n=>n.id;function c9(n,e){return lr(n.selectedNodes.map(Wy),e.selectedNodes.map(Wy))&&lr(n.selectedEdges.map(Wy),e.selectedEdges.map(Wy))}function p9({onSelectionChange:n}){const e=cr(),{selectedNodes:t,selectedEdges:r}=On(u9,c9);return _e.useEffect(()=>{const s={nodes:t,edges:r};n?.(s),e.getState().onSelectionChangeHandlers.forEach(i=>i(s))},[t,r,n]),null}const d9=n=>!!n.onSelectionChangeHandlers;function f9({onSelectionChange:n}){const e=On(d9);return n||e?he.jsx(p9,{onSelectionChange:n}):null}const r3=[0,0],h9={x:0,y:0,zoom:1},m9=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","autoPanOnNodeFocus","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","connectionDragThreshold","onBeforeDelete","debug","autoPanSpeed","ariaLabelConfig","zIndexMode"],JN=[...m9,"rfId"],y9=n=>({setNodes:n.setNodes,setEdges:n.setEdges,setMinZoom:n.setMinZoom,setMaxZoom:n.setMaxZoom,setTranslateExtent:n.setTranslateExtent,setNodeExtent:n.setNodeExtent,reset:n.reset,setDefaultNodesAndEdges:n.setDefaultNodesAndEdges}),ZN={translateExtent:dm,nodeOrigin:r3,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1"};function g9(n){const{setNodes:e,setEdges:t,setMinZoom:r,setMaxZoom:s,setTranslateExtent:i,setNodeExtent:a,reset:l,setDefaultNodesAndEdges:c}=On(y9,lr),p=cr();_e.useEffect(()=>(c(n.defaultNodes,n.defaultEdges),()=>{d.current=ZN,l()}),[]);const d=_e.useRef(ZN);return _e.useEffect(()=>{for(const h of JN){const m=n[h],x=d.current[h];m!==x&&(typeof n[h]>"u"||(h==="nodes"?e(m):h==="edges"?t(m):h==="minZoom"?r(m):h==="maxZoom"?s(m):h==="translateExtent"?i(m):h==="nodeExtent"?a(m):h==="ariaLabelConfig"?p.setState({ariaLabelConfig:ez(m)}):h==="fitView"?p.setState({fitViewQueued:m}):h==="fitViewOptions"?p.setState({fitViewOptions:m}):p.setState({[h]:m})))}d.current=n},JN.map(h=>n[h])),null}function QN(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function x9(n){const[e,t]=_e.useState(n==="system"?null:n);return _e.useEffect(()=>{if(n!=="system"){t(n);return}const r=QN(),s=()=>t(r?.matches?"dark":"light");return s(),r?.addEventListener("change",s),()=>{r?.removeEventListener("change",s)}},[n]),e!==null?e:QN()?.matches?"dark":"light"}const e_=typeof document<"u"?document:null;function mm(n=null,e={target:e_,actInsideInputWithModifier:!0}){const[t,r]=_e.useState(!1),s=_e.useRef(!1),i=_e.useRef(new Set([])),[a,l]=_e.useMemo(()=>{if(n!==null){const p=(Array.isArray(n)?n:[n]).filter(h=>typeof h=="string").map(h=>h.replace("+",`
`).replace(`

`,`
+`).split(`
`)),d=p.reduce((h,m)=>h.concat(...m),[]);return[p,d]}return[[],[]]},[n]);return _e.useEffect(()=>{const c=e?.target??e_,p=e?.actInsideInputWithModifier??!0;if(n!==null){const d=x=>{if(s.current=x.ctrlKey||x.metaKey||x.shiftKey||x.altKey,(!s.current||s.current&&!p)&&DO(x))return!1;const A=n_(x.code,l);if(i.current.add(x[A]),t_(a,i.current,!1)){const P=x.composedPath?.()?.[0]||x.target,S=P?.nodeName==="BUTTON"||P?.nodeName==="A";e.preventDefault!==!1&&(s.current||!S)&&x.preventDefault(),r(!0)}},h=x=>{const w=n_(x.code,l);t_(a,i.current,!0)?(r(!1),i.current.clear()):i.current.delete(x[w]),x.key==="Meta"&&i.current.clear(),s.current=!1},m=()=>{i.current.clear(),r(!1)};return c?.addEventListener("keydown",d),c?.addEventListener("keyup",h),window.addEventListener("blur",m),window.addEventListener("contextmenu",m),()=>{c?.removeEventListener("keydown",d),c?.removeEventListener("keyup",h),window.removeEventListener("blur",m),window.removeEventListener("contextmenu",m)}}},[n,r]),t}function t_(n,e,t){return n.filter(r=>t||r.length===e.size).some(r=>r.every(s=>e.has(s)))}function n_(n,e){return e.includes(n)?"code":"key"}const v9=()=>{const n=cr();return _e.useMemo(()=>({zoomIn:e=>{const{panZoom:t}=n.getState();return t?t.scaleBy(1.2,{duration:e?.duration}):Promise.resolve(!1)},zoomOut:e=>{const{panZoom:t}=n.getState();return t?t.scaleBy(1/1.2,{duration:e?.duration}):Promise.resolve(!1)},zoomTo:(e,t)=>{const{panZoom:r}=n.getState();return r?r.scaleTo(e,{duration:t?.duration}):Promise.resolve(!1)},getZoom:()=>n.getState().transform[2],setViewport:async(e,t)=>{const{transform:[r,s,i],panZoom:a}=n.getState();return a?(await a.setViewport({x:e.x??r,y:e.y??s,zoom:e.zoom??i},t),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{const[e,t,r]=n.getState().transform;return{x:e,y:t,zoom:r}},setCenter:async(e,t,r)=>n.getState().setCenter(e,t,r),fitBounds:async(e,t)=>{const{width:r,height:s,minZoom:i,maxZoom:a,panZoom:l}=n.getState(),c=Tw(e,r,s,i,a,t?.padding??.1);return l?(await l.setViewport(c,{duration:t?.duration,ease:t?.ease,interpolate:t?.interpolate}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(e,t={})=>{const{transform:r,snapGrid:s,snapToGrid:i,domNode:a}=n.getState();if(!a)return e;const{x:l,y:c}=a.getBoundingClientRect(),p={x:e.x-l,y:e.y-c},d=t.snapGrid??s,h=t.snapToGrid??i;return Im(p,r,h,d)},flowToScreenPosition:e=>{const{transform:t,domNode:r}=n.getState();if(!r)return e;const{x:s,y:i}=r.getBoundingClientRect(),a=wx(e,t);return{x:a.x+s,y:a.y+i}}}),[])};function s3(n,e){const t=[],r=new Map,s=[];for(const i of n)if(i.type==="add"){s.push(i);continue}else if(i.type==="remove"||i.type==="replace")r.set(i.id,[i]);else{const a=r.get(i.id);a?a.push(i):r.set(i.id,[i])}for(const i of e){const a=r.get(i.id);if(!a){t.push(i);continue}if(a[0].type==="remove")continue;if(a[0].type==="replace"){t.push({...a[0].item});continue}const l={...i};for(const c of a)T9(c,l);t.push(l)}return s.length&&s.forEach(i=>{i.index!==void 0?t.splice(i.index,0,{...i.item}):t.push({...i.item})}),t}function T9(n,e){switch(n.type){case"select":{e.selected=n.selected;break}case"position":{typeof n.position<"u"&&(e.position=n.position),typeof n.dragging<"u"&&(e.dragging=n.dragging);break}case"dimensions":{typeof n.dimensions<"u"&&(e.measured={...n.dimensions},n.setAttributes&&((n.setAttributes===!0||n.setAttributes==="width")&&(e.width=n.dimensions.width),(n.setAttributes===!0||n.setAttributes==="height")&&(e.height=n.dimensions.height))),typeof n.resizing=="boolean"&&(e.resizing=n.resizing);break}}}function i3(n,e){return s3(n,e)}function a3(n,e){return s3(n,e)}function Vp(n,e){return{id:n,type:"select",selected:e}}function sf(n,e=new Set,t=!1){const r=[];for(const[s,i]of n){const a=e.has(s);!(i.selected===void 0&&!a)&&i.selected!==a&&(t&&(i.selected=a),r.push(Vp(i.id,a)))}return r}function r_({items:n=[],lookup:e}){const t=[],r=new Map(n.map(s=>[s.id,s]));for(const[s,i]of n.entries()){const a=e.get(i.id),l=a?.internals?.userNode??a;l!==void 0&&l!==i&&t.push({id:i.id,item:i,type:"replace"}),l===void 0&&t.push({item:i,type:"add",index:s})}for(const[s]of e)r.get(s)===void 0&&t.push({id:s,type:"remove"});return t}function s_(n){return{id:n.id,type:"remove"}}const i_=n=>$8(n),S9=n=>NO(n);function o3(n){return _e.forwardRef(n)}const b9=typeof window<"u"?_e.useLayoutEffect:_e.useEffect;function a_(n){const[e,t]=_e.useState(BigInt(0)),[r]=_e.useState(()=>w9(()=>t(s=>s+BigInt(1))));return b9(()=>{const s=r.get();s.length&&(n(s),r.reset())},[e]),r}function w9(n){let e=[];return{get:()=>e,reset:()=>{e=[]},push:t=>{e.push(t),n()}}}const l3=_e.createContext(null);function E9({children:n}){const e=cr(),t=_e.useCallback(l=>{const{nodes:c=[],setNodes:p,hasDefaultNodes:d,onNodesChange:h,nodeLookup:m,fitViewQueued:x,onNodesChangeMiddlewareMap:w}=e.getState();let A=c;for(const S of l)A=typeof S=="function"?S(A):S;let P=r_({items:A,lookup:m});for(const S of w.values())P=S(P);d&&p(A),P.length>0?h?.(P):x&&window.requestAnimationFrame(()=>{const{fitViewQueued:S,nodes:C,setNodes:I}=e.getState();S&&I(C)})},[]),r=a_(t),s=_e.useCallback(l=>{const{edges:c=[],setEdges:p,hasDefaultEdges:d,onEdgesChange:h,edgeLookup:m}=e.getState();let x=c;for(const w of l)x=typeof w=="function"?w(x):w;d?p(x):h&&h(r_({items:x,lookup:m}))},[]),i=a_(s),a=_e.useMemo(()=>({nodeQueue:r,edgeQueue:i}),[]);return he.jsx(l3.Provider,{value:a,children:n})}function P9(){const n=_e.useContext(l3);if(!n)throw new Error("useBatchContext must be used within a BatchProvider");return n}const A9=n=>!!n.panZoom;function ev(){const n=v9(),e=cr(),t=P9(),r=On(A9),s=_e.useMemo(()=>{const i=h=>e.getState().nodeLookup.get(h),a=h=>{t.nodeQueue.push(h)},l=h=>{t.edgeQueue.push(h)},c=h=>{const{nodeLookup:m,nodeOrigin:x}=e.getState(),w=i_(h)?h:m.get(h.id),A=w.parentId?OO(w.position,w.measured,w.parentId,m,x):w.position,P={...w,position:A,width:w.measured?.width??w.width,height:w.measured?.height??w.height};return Pf(P)},p=(h,m,x={replace:!1})=>{a(w=>w.map(A=>{if(A.id===h){const P=typeof m=="function"?m(A):m;return x.replace&&i_(P)?P:{...A,...P}}return A}))},d=(h,m,x={replace:!1})=>{l(w=>w.map(A=>{if(A.id===h){const P=typeof m=="function"?m(A):m;return x.replace&&S9(P)?P:{...A,...P}}return A}))};return{getNodes:()=>e.getState().nodes.map(h=>({...h})),getNode:h=>i(h)?.internals.userNode,getInternalNode:i,getEdges:()=>{const{edges:h=[]}=e.getState();return h.map(m=>({...m}))},getEdge:h=>e.getState().edgeLookup.get(h),setNodes:a,setEdges:l,addNodes:h=>{const m=Array.isArray(h)?h:[h];t.nodeQueue.push(x=>[...x,...m])},addEdges:h=>{const m=Array.isArray(h)?h:[h];t.edgeQueue.push(x=>[...x,...m])},toObject:()=>{const{nodes:h=[],edges:m=[],transform:x}=e.getState(),[w,A,P]=x;return{nodes:h.map(S=>({...S})),edges:m.map(S=>({...S})),viewport:{x:w,y:A,zoom:P}}},deleteElements:async({nodes:h=[],edges:m=[]})=>{const{nodes:x,edges:w,onNodesDelete:A,onEdgesDelete:P,triggerNodeChanges:S,triggerEdgeChanges:C,onDelete:I,onBeforeDelete:_}=e.getState(),{nodes:D,edges:F}=await G8({nodesToRemove:h,edgesToRemove:m,nodes:x,edges:w,onBeforeDelete:_}),O=F.length>0,L=D.length>0;if(O){const B=F.map(s_);P?.(F),C(B)}if(L){const B=D.map(s_);A?.(D),S(B)}return(L||O)&&I?.({nodes:D,edges:F}),{deletedNodes:D,deletedEdges:F}},getIntersectingNodes:(h,m=!0,x)=>{const w=MN(h),A=w?h:c(h),P=x!==void 0;return A?(x||e.getState().nodes).filter(S=>{const C=e.getState().nodeLookup.get(S.id);if(C&&!w&&(S.id===h.id||!C.internals.positionAbsolute))return!1;const I=Pf(P?S:C),_=fm(I,A);return m&&_>0||_>=I.width*I.height||_>=A.width*A.height}):[]},isNodeIntersecting:(h,m,x=!0)=>{const A=MN(h)?h:c(h);if(!A)return!1;const P=fm(A,m);return x&&P>0||P>=m.width*m.height||P>=A.width*A.height},updateNode:p,updateNodeData:(h,m,x={replace:!1})=>{p(h,w=>{const A=typeof m=="function"?m(w):m;return x.replace?{...w,data:A}:{...w,data:{...w.data,...A}}},x)},updateEdge:d,updateEdgeData:(h,m,x={replace:!1})=>{d(h,w=>{const A=typeof m=="function"?m(w):m;return x.replace?{...w,data:A}:{...w,data:{...w.data,...A}}},x)},getNodesBounds:h=>{const{nodeLookup:m,nodeOrigin:x}=e.getState();return W8(h,{nodeLookup:m,nodeOrigin:x})},getHandleConnections:({type:h,id:m,nodeId:x})=>Array.from(e.getState().connectionLookup.get(`${x}-${h}${m?`-${m}`:""}`)?.values()??[]),getNodeConnections:({type:h,handleId:m,nodeId:x})=>Array.from(e.getState().connectionLookup.get(`${x}${h?m?`-${h}-${m}`:`-${h}`:""}`)?.values()??[]),fitView:async h=>{const m=e.getState().fitViewResolver??Q8();return e.setState({fitViewQueued:!0,fitViewOptions:h,fitViewResolver:m}),t.nodeQueue.push(x=>[...x]),m.promise}}},[]);return _e.useMemo(()=>({...s,...n,viewportInitialized:r}),[r])}const o_=n=>n.selected,N9=typeof window<"u"?window:void 0;function _9({deleteKeyCode:n,multiSelectionKeyCode:e}){const t=cr(),{deleteElements:r}=ev(),s=mm(n,{actInsideInputWithModifier:!1}),i=mm(e,{target:N9});_e.useEffect(()=>{if(s){const{edges:a,nodes:l}=t.getState();r({nodes:l.filter(o_),edges:a.filter(o_)}),t.setState({nodesSelectionActive:!1})}},[s]),_e.useEffect(()=>{t.setState({multiSelectionActive:i})},[i])}function C9(n){const e=cr();_e.useEffect(()=>{const t=()=>{if(!n.current||!(n.current.checkVisibility?.()??!0))return!1;const r=Sw(n.current);(r.height===0||r.width===0)&&e.getState().onError?.("004",Yl.error004()),e.setState({width:r.width||500,height:r.height||500})};if(n.current){t(),window.addEventListener("resize",t);const r=new ResizeObserver(()=>t());return r.observe(n.current),()=>{window.removeEventListener("resize",t),r&&n.current&&r.unobserve(n.current)}}},[])}const tv={position:"absolute",width:"100%",height:"100%",top:0,left:0},I9=n=>({userSelectionActive:n.userSelectionActive,lib:n.lib,connectionInProgress:n.connection.inProgress});function M9({onPaneContextMenu:n,zoomOnScroll:e=!0,zoomOnPinch:t=!0,panOnScroll:r=!1,panOnScrollSpeed:s=.5,panOnScrollMode:i=Hp.Free,zoomOnDoubleClick:a=!0,panOnDrag:l=!0,defaultViewport:c,translateExtent:p,minZoom:d,maxZoom:h,zoomActivationKeyCode:m,preventScrolling:x=!0,children:w,noWheelClassName:A,noPanClassName:P,onViewportChange:S,isControlledViewport:C,paneClickDistance:I,selectionOnDrag:_}){const D=cr(),F=_e.useRef(null),{userSelectionActive:O,lib:L,connectionInProgress:B}=On(I9,lr),j=mm(m),M=_e.useRef();C9(F);const ee=_e.useCallback(ue=>{S?.({x:ue[0],y:ue[1],zoom:ue[2]}),C||D.setState({transform:ue})},[S,C]);return _e.useEffect(()=>{if(F.current){M.current=Dz({domNode:F.current,minZoom:d,maxZoom:h,translateExtent:p,viewport:c,onDraggingChange:oe=>D.setState({paneDragging:oe}),onPanZoomStart:(oe,re)=>{const{onViewportChangeStart:X,onMoveStart:H}=D.getState();H?.(oe,re),X?.(re)},onPanZoom:(oe,re)=>{const{onViewportChange:X,onMove:H}=D.getState();H?.(oe,re),X?.(re)},onPanZoomEnd:(oe,re)=>{const{onViewportChangeEnd:X,onMoveEnd:H}=D.getState();H?.(oe,re),X?.(re)}});const{x:ue,y:J,zoom:ae}=M.current.getViewport();return D.setState({panZoom:M.current,transform:[ue,J,ae],domNode:F.current.closest(".react-flow")}),()=>{M.current?.destroy()}}},[]),_e.useEffect(()=>{M.current?.update({onPaneContextMenu:n,zoomOnScroll:e,zoomOnPinch:t,panOnScroll:r,panOnScrollSpeed:s,panOnScrollMode:i,zoomOnDoubleClick:a,panOnDrag:l,zoomActivationKeyPressed:j,preventScrolling:x,noPanClassName:P,userSelectionActive:O,noWheelClassName:A,lib:L,onTransformChange:ee,connectionInProgress:B,selectionOnDrag:_,paneClickDistance:I})},[n,e,t,r,s,i,a,l,j,x,P,O,A,L,ee,B,_,I]),he.jsx("div",{className:"react-flow__renderer",ref:F,style:tv,children:w})}const k9=n=>({userSelectionActive:n.userSelectionActive,userSelectionRect:n.userSelectionRect});function O9(){const{userSelectionActive:n,userSelectionRect:e}=On(k9,lr);return n&&e?he.jsx("div",{className:"react-flow__selection react-flow__container",style:{width:e.width,height:e.height,transform:`translate(${e.x}px, ${e.y}px)`}}):null}const rS=(n,e)=>t=>{t.target===e.current&&n?.(t)},L9=n=>({userSelectionActive:n.userSelectionActive,elementsSelectable:n.elementsSelectable,connectionInProgress:n.connection.inProgress,dragging:n.paneDragging});function D9({isSelecting:n,selectionKeyPressed:e,selectionMode:t=wf.Full,panOnDrag:r,paneClickDistance:s,selectionOnDrag:i,onSelectionStart:a,onSelectionEnd:l,onPaneClick:c,onPaneContextMenu:p,onPaneScroll:d,onPaneMouseEnter:h,onPaneMouseMove:m,onPaneMouseLeave:x,children:w}){const A=cr(),{userSelectionActive:P,elementsSelectable:S,dragging:C,connectionInProgress:I}=On(L9,lr),_=S&&(n||P),D=_e.useRef(null),F=_e.useRef(),O=_e.useRef(new Set),L=_e.useRef(new Set),B=_e.useRef(!1),j=X=>{if(B.current||I){B.current=!1;return}c?.(X),A.getState().resetSelectedElements(),A.setState({nodesSelectionActive:!1})},M=X=>{if(Array.isArray(r)&&r?.includes(2)){X.preventDefault();return}p?.(X)},ee=d?X=>d(X):void 0,ue=X=>{B.current&&(X.stopPropagation(),B.current=!1)},J=X=>{const{domNode:H}=A.getState();if(F.current=H?.getBoundingClientRect(),!F.current)return;const Q=X.target===D.current;if(!Q&&!!X.target.closest(".nokey")||!n||!(i&&Q||e)||X.button!==0||!X.isPrimary)return;X.target?.setPointerCapture?.(X.pointerId),B.current=!1;const{x:Z,y:se}=Zo(X.nativeEvent,F.current);A.setState({userSelectionRect:{width:0,height:0,startX:Z,startY:se,x:Z,y:se}}),Q||(X.stopPropagation(),X.preventDefault())},ae=X=>{const{userSelectionRect:H,transform:Q,nodeLookup:W,edgeLookup:Y,connectionLookup:Z,triggerNodeChanges:se,triggerEdgeChanges:me,defaultEdgeOptions:Ce,resetSelectedElements:be}=A.getState();if(!F.current||!H)return;const{x:Se,y:Le}=Zo(X.nativeEvent,F.current),{startX:Ue,startY:st}=H;if(!B.current){const ct=e?0:s;if(Math.hypot(Se-Ue,Le-st)<=ct)return;be(),a?.(X)}B.current=!0;const Ze={startX:Ue,startY:st,x:Se<Ue?Se:Ue,y:Le<st?Le:st,width:Math.abs(Se-Ue),height:Math.abs(Le-st)},it=O.current,pt=L.current;O.current=new Set(vw(W,Ze,Q,t===wf.Partial,!0).map(ct=>ct.id)),L.current=new Set;const It=Ce?.selectable??!0;for(const ct of O.current){const Ye=Z.get(ct);if(Ye)for(const{edgeId:We}of Ye.values()){const rt=Y.get(We);rt&&(rt.selectable??It)&&L.current.add(We)}}if(!kN(it,O.current)){const ct=sf(W,O.current,!0);se(ct)}if(!kN(pt,L.current)){const ct=sf(Y,L.current);me(ct)}A.setState({userSelectionRect:Ze,userSelectionActive:!0,nodesSelectionActive:!1})},oe=X=>{X.button===0&&(X.target?.releasePointerCapture?.(X.pointerId),!P&&X.target===D.current&&A.getState().userSelectionRect&&j?.(X),A.setState({userSelectionActive:!1,userSelectionRect:null}),B.current&&(l?.(X),A.setState({nodesSelectionActive:O.current.size>0})))},re=r===!0||Array.isArray(r)&&r.includes(0);return he.jsxs("div",{className:$r(["react-flow__pane",{draggable:re,dragging:C,selection:n}]),onClick:_?void 0:rS(j,D),onContextMenu:rS(M,D),onWheel:rS(ee,D),onPointerEnter:_?void 0:h,onPointerMove:_?ae:m,onPointerUp:_?oe:void 0,onPointerDownCapture:_?J:void 0,onClickCapture:_?ue:void 0,onPointerLeave:x,ref:D,style:tv,children:[w,he.jsx(O9,{})]})}function F1({id:n,store:e,unselect:t=!1,nodeRef:r}){const{addSelectedNodes:s,unselectNodesAndEdges:i,multiSelectionActive:a,nodeLookup:l,onError:c}=e.getState(),p=l.get(n);if(!p){c?.("012",Yl.error012(n));return}e.setState({nodesSelectionActive:!1}),p.selected?(t||p.selected&&a)&&(i({nodes:[p],edges:[]}),requestAnimationFrame(()=>r?.current?.blur())):s([n])}function u3({nodeRef:n,disabled:e=!1,noDragClassName:t,handleSelector:r,nodeId:s,isSelectable:i,nodeClickDistance:a}){const l=cr(),[c,p]=_e.useState(!1),d=_e.useRef();return _e.useEffect(()=>{d.current=Sz({getStoreItems:()=>l.getState(),onNodeMouseDown:h=>{F1({id:h,store:l,nodeRef:n})},onDragStart:()=>{p(!0)},onDragStop:()=>{p(!1)}})},[]),_e.useEffect(()=>{if(e)d.current?.destroy();else if(n.current)return d.current?.update({noDragClassName:t,handleSelector:r,domNode:n.current,isSelectable:i,nodeId:s,nodeClickDistance:a}),()=>{d.current?.destroy()}},[t,r,e,i,n,s]),c}const R9=n=>e=>e.selected&&(e.draggable||n&&typeof e.draggable>"u");function c3(){const n=cr();return _e.useCallback(t=>{const{nodeExtent:r,snapToGrid:s,snapGrid:i,nodesDraggable:a,onError:l,updateNodePositions:c,nodeLookup:p,nodeOrigin:d}=n.getState(),h=new Map,m=R9(a),x=s?i[0]:5,w=s?i[1]:5,A=t.direction.x*x*t.factor,P=t.direction.y*w*t.factor;for(const[,S]of p){if(!m(S))continue;let C={x:S.internals.positionAbsolute.x+A,y:S.internals.positionAbsolute.y+P};s&&(C=Cm(C,i));const{position:I,positionAbsolute:_}=_O({nodeId:S.id,nextPosition:C,nodeLookup:p,nodeExtent:r,nodeOrigin:d,onError:l});S.position=I,S.internals.positionAbsolute=_,h.set(S.id,S)}c(h)},[])}const Nw=_e.createContext(null),F9=Nw.Provider;Nw.Consumer;const p3=()=>_e.useContext(Nw),B9=n=>({connectOnClick:n.connectOnClick,noPanClassName:n.noPanClassName,rfId:n.rfId}),V9=(n,e,t)=>r=>{const{connectionClickStartHandle:s,connectionMode:i,connection:a}=r,{fromHandle:l,toHandle:c,isValid:p}=a,d=c?.nodeId===n&&c?.id===e&&c?.type===t;return{connectingFrom:l?.nodeId===n&&l?.id===e&&l?.type===t,connectingTo:d,clickConnecting:s?.nodeId===n&&s?.id===e&&s?.type===t,isPossibleEndHandle:i===bf.Strict?l?.type!==t:n!==l?.nodeId||e!==l?.id,connectionInProcess:!!l,clickConnectionInProcess:!!s,valid:d&&p}};function j9({type:n="source",position:e=Xt.Top,isValidConnection:t,isConnectable:r=!0,isConnectableStart:s=!0,isConnectableEnd:i=!0,id:a,onConnect:l,children:c,className:p,onMouseDown:d,onTouchStart:h,...m},x){const w=a||null,A=n==="target",P=cr(),S=p3(),{connectOnClick:C,noPanClassName:I,rfId:_}=On(B9,lr),{connectingFrom:D,connectingTo:F,clickConnecting:O,isPossibleEndHandle:L,connectionInProcess:B,clickConnectionInProcess:j,valid:M}=On(V9(S,w,n),lr);S||P.getState().onError?.("010",Yl.error010());const ee=ae=>{const{defaultEdgeOptions:oe,onConnect:re,hasDefaultEdges:X}=P.getState(),H={...oe,...ae};if(X){const{edges:Q,setEdges:W}=P.getState();W(jO(H,Q))}re?.(H),l?.(H)},ue=ae=>{if(!S)return;const oe=RO(ae.nativeEvent);if(s&&(oe&&ae.button===0||!oe)){const re=P.getState();R1.onPointerDown(ae.nativeEvent,{handleDomNode:ae.currentTarget,autoPanOnConnect:re.autoPanOnConnect,connectionMode:re.connectionMode,connectionRadius:re.connectionRadius,domNode:re.domNode,nodeLookup:re.nodeLookup,lib:re.lib,isTarget:A,handleId:w,nodeId:S,flowId:re.rfId,panBy:re.panBy,cancelConnection:re.cancelConnection,onConnectStart:re.onConnectStart,onConnectEnd:re.onConnectEnd,updateConnection:re.updateConnection,onConnect:ee,isValidConnection:t||re.isValidConnection,getTransform:()=>P.getState().transform,getFromHandle:()=>P.getState().connection.fromHandle,autoPanSpeed:re.autoPanSpeed,dragThreshold:re.connectionDragThreshold})}oe?d?.(ae):h?.(ae)},J=ae=>{const{onClickConnectStart:oe,onClickConnectEnd:re,connectionClickStartHandle:X,connectionMode:H,isValidConnection:Q,lib:W,rfId:Y,nodeLookup:Z,connection:se}=P.getState();if(!S||!X&&!s)return;if(!X){oe?.(ae.nativeEvent,{nodeId:S,handleId:w,handleType:n}),P.setState({connectionClickStartHandle:{nodeId:S,type:n,id:w}});return}const me=LO(ae.target),Ce=t||Q,{connection:be,isValid:Se}=R1.isValid(ae.nativeEvent,{handle:{nodeId:S,id:w,type:n},connectionMode:H,fromNodeId:X.nodeId,fromHandleId:X.id||null,fromType:X.type,isValidConnection:Ce,flowId:Y,doc:me,lib:W,nodeLookup:Z});Se&&be&&ee(be);const Le=structuredClone(se);delete Le.inProgress,Le.toPosition=Le.toHandle?Le.toHandle.position:null,re?.(ae,Le),P.setState({connectionClickStartHandle:null})};return he.jsx("div",{"data-handleid":w,"data-nodeid":S,"data-handlepos":e,"data-id":`${_}-${S}-${w}-${n}`,className:$r(["react-flow__handle",`react-flow__handle-${e}`,"nodrag",I,p,{source:!A,target:A,connectable:r,connectablestart:s,connectableend:i,clickconnecting:O,connectingfrom:D,connectingto:F,valid:M,connectionindicator:r&&(!B||L)&&(B||j?i:s)}]),onMouseDown:ue,onTouchStart:ue,onClick:C?J:void 0,ref:x,...m,children:c})}const ym=_e.memo(o3(j9));function z9({data:n,isConnectable:e,sourcePosition:t=Xt.Bottom}){return he.jsxs(he.Fragment,{children:[n?.label,he.jsx(ym,{type:"source",position:t,isConnectable:e})]})}function U9({data:n,isConnectable:e,targetPosition:t=Xt.Top,sourcePosition:r=Xt.Bottom}){return he.jsxs(he.Fragment,{children:[he.jsx(ym,{type:"target",position:t,isConnectable:e}),n?.label,he.jsx(ym,{type:"source",position:r,isConnectable:e})]})}function q9(){return null}function $9({data:n,isConnectable:e,targetPosition:t=Xt.Top}){return he.jsxs(he.Fragment,{children:[he.jsx(ym,{type:"target",position:t,isConnectable:e}),n?.label]})}const Px={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},l_={input:z9,default:U9,output:$9,group:q9};function W9(n){return n.internals.handleBounds===void 0?{width:n.width??n.initialWidth??n.style?.width,height:n.height??n.initialHeight??n.style?.height}:{width:n.width??n.style?.width,height:n.height??n.style?.height}}const H9=n=>{const{width:e,height:t,x:r,y:s}=_m(n.nodeLookup,{filter:i=>!!i.selected});return{width:Jo(e)?e:null,height:Jo(t)?t:null,userSelectionActive:n.userSelectionActive,transformString:`translate(${n.transform[0]}px,${n.transform[1]}px) scale(${n.transform[2]}) translate(${r}px,${s}px)`}};function K9({onSelectionContextMenu:n,noPanClassName:e,disableKeyboardA11y:t}){const r=cr(),{width:s,height:i,transformString:a,userSelectionActive:l}=On(H9,lr),c=c3(),p=_e.useRef(null);if(_e.useEffect(()=>{t||p.current?.focus({preventScroll:!0})},[t]),u3({nodeRef:p}),l||!s||!i)return null;const d=n?m=>{const x=r.getState().nodes.filter(w=>w.selected);n(m,x)}:void 0,h=m=>{Object.prototype.hasOwnProperty.call(Px,m.key)&&(m.preventDefault(),c({direction:Px[m.key],factor:m.shiftKey?4:1}))};return he.jsx("div",{className:$r(["react-flow__nodesselection","react-flow__container",e]),style:{transform:a},children:he.jsx("div",{ref:p,className:"react-flow__nodesselection-rect",onContextMenu:d,tabIndex:t?void 0:-1,onKeyDown:t?void 0:h,style:{width:s,height:i}})})}const u_=typeof window<"u"?window:void 0,X9=n=>({nodesSelectionActive:n.nodesSelectionActive,userSelectionActive:n.userSelectionActive});function d3({children:n,onPaneClick:e,onPaneMouseEnter:t,onPaneMouseMove:r,onPaneMouseLeave:s,onPaneContextMenu:i,onPaneScroll:a,paneClickDistance:l,deleteKeyCode:c,selectionKeyCode:p,selectionOnDrag:d,selectionMode:h,onSelectionStart:m,onSelectionEnd:x,multiSelectionKeyCode:w,panActivationKeyCode:A,zoomActivationKeyCode:P,elementsSelectable:S,zoomOnScroll:C,zoomOnPinch:I,panOnScroll:_,panOnScrollSpeed:D,panOnScrollMode:F,zoomOnDoubleClick:O,panOnDrag:L,defaultViewport:B,translateExtent:j,minZoom:M,maxZoom:ee,preventScrolling:ue,onSelectionContextMenu:J,noWheelClassName:ae,noPanClassName:oe,disableKeyboardA11y:re,onViewportChange:X,isControlledViewport:H}){const{nodesSelectionActive:Q,userSelectionActive:W}=On(X9,lr),Y=mm(p,{target:u_}),Z=mm(A,{target:u_}),se=Z||L,me=Z||_,Ce=d&&se!==!0,be=Y||W||Ce;return _9({deleteKeyCode:c,multiSelectionKeyCode:w}),he.jsx(M9,{onPaneContextMenu:i,elementsSelectable:S,zoomOnScroll:C,zoomOnPinch:I,panOnScroll:me,panOnScrollSpeed:D,panOnScrollMode:F,zoomOnDoubleClick:O,panOnDrag:!Y&&se,defaultViewport:B,translateExtent:j,minZoom:M,maxZoom:ee,zoomActivationKeyCode:P,preventScrolling:ue,noWheelClassName:ae,noPanClassName:oe,onViewportChange:X,isControlledViewport:H,paneClickDistance:l,selectionOnDrag:Ce,children:he.jsxs(D9,{onSelectionStart:m,onSelectionEnd:x,onPaneClick:e,onPaneMouseEnter:t,onPaneMouseMove:r,onPaneMouseLeave:s,onPaneContextMenu:i,onPaneScroll:a,panOnDrag:se,isSelecting:!!be,selectionMode:h,selectionKeyPressed:Y,paneClickDistance:l,selectionOnDrag:Ce,children:[n,Q&&he.jsx(K9,{onSelectionContextMenu:J,noPanClassName:oe,disableKeyboardA11y:re})]})})}d3.displayName="FlowRenderer";const G9=_e.memo(d3),Y9=n=>e=>n?vw(e.nodeLookup,{x:0,y:0,width:e.width,height:e.height},e.transform,!0).map(t=>t.id):Array.from(e.nodeLookup.keys());function J9(n){return On(_e.useCallback(Y9(n),[n]),lr)}const Z9=n=>n.updateNodeInternals;function Q9(){const n=On(Z9),[e]=_e.useState(()=>typeof ResizeObserver>"u"?null:new ResizeObserver(t=>{const r=new Map;t.forEach(s=>{const i=s.target.getAttribute("data-id");r.set(i,{id:i,nodeElement:s.target,force:!0})}),n(r)}));return _e.useEffect(()=>()=>{e?.disconnect()},[e]),e}function eU({node:n,nodeType:e,hasDimensions:t,resizeObserver:r}){const s=cr(),i=_e.useRef(null),a=_e.useRef(null),l=_e.useRef(n.sourcePosition),c=_e.useRef(n.targetPosition),p=_e.useRef(e),d=t&&!!n.internals.handleBounds;return _e.useEffect(()=>{i.current&&!n.hidden&&(!d||a.current!==i.current)&&(a.current&&r?.unobserve(a.current),r?.observe(i.current),a.current=i.current)},[d,n.hidden]),_e.useEffect(()=>()=>{a.current&&(r?.unobserve(a.current),a.current=null)},[]),_e.useEffect(()=>{if(i.current){const h=p.current!==e,m=l.current!==n.sourcePosition,x=c.current!==n.targetPosition;(h||m||x)&&(p.current=e,l.current=n.sourcePosition,c.current=n.targetPosition,s.getState().updateNodeInternals(new Map([[n.id,{id:n.id,nodeElement:i.current,force:!0}]])))}},[n.id,e,n.sourcePosition,n.targetPosition]),i}function tU({id:n,onClick:e,onMouseEnter:t,onMouseMove:r,onMouseLeave:s,onContextMenu:i,onDoubleClick:a,nodesDraggable:l,elementsSelectable:c,nodesConnectable:p,nodesFocusable:d,resizeObserver:h,noDragClassName:m,noPanClassName:x,disableKeyboardA11y:w,rfId:A,nodeTypes:P,nodeClickDistance:S,onError:C}){const{node:I,internals:_,isParent:D}=On(Se=>{const Le=Se.nodeLookup.get(n),Ue=Se.parentLookup.has(n);return{node:Le,internals:Le.internals,isParent:Ue}},lr);let F=I.type||"default",O=P?.[F]||l_[F];O===void 0&&(C?.("003",Yl.error003(F)),F="default",O=P?.default||l_.default);const L=!!(I.draggable||l&&typeof I.draggable>"u"),B=!!(I.selectable||c&&typeof I.selectable>"u"),j=!!(I.connectable||p&&typeof I.connectable>"u"),M=!!(I.focusable||d&&typeof I.focusable>"u"),ee=cr(),ue=kO(I),J=eU({node:I,nodeType:F,hasDimensions:ue,resizeObserver:h}),ae=u3({nodeRef:J,disabled:I.hidden||!L,noDragClassName:m,handleSelector:I.dragHandle,nodeId:n,isSelectable:B,nodeClickDistance:S}),oe=c3();if(I.hidden)return null;const re=Gu(I),X=W9(I),H=B||L||e||t||r||s,Q=t?Se=>t(Se,{..._.userNode}):void 0,W=r?Se=>r(Se,{..._.userNode}):void 0,Y=s?Se=>s(Se,{..._.userNode}):void 0,Z=i?Se=>i(Se,{..._.userNode}):void 0,se=a?Se=>a(Se,{..._.userNode}):void 0,me=Se=>{const{selectNodesOnDrag:Le,nodeDragThreshold:Ue}=ee.getState();B&&(!Le||!L||Ue>0)&&F1({id:n,store:ee,nodeRef:J}),e&&e(Se,{..._.userNode})},Ce=Se=>{if(!(DO(Se.nativeEvent)||w)){if(wO.includes(Se.key)&&B){const Le=Se.key==="Escape";F1({id:n,store:ee,unselect:Le,nodeRef:J})}else if(L&&I.selected&&Object.prototype.hasOwnProperty.call(Px,Se.key)){Se.preventDefault();const{ariaLabelConfig:Le}=ee.getState();ee.setState({ariaLiveMessage:Le["node.a11yDescription.ariaLiveMessage"]({direction:Se.key.replace("Arrow","").toLowerCase(),x:~~_.positionAbsolute.x,y:~~_.positionAbsolute.y})}),oe({direction:Px[Se.key],factor:Se.shiftKey?4:1})}}},be=()=>{if(w||!J.current?.matches(":focus-visible"))return;const{transform:Se,width:Le,height:Ue,autoPanOnNodeFocus:st,setCenter:Ze}=ee.getState();if(!st)return;vw(new Map([[n,I]]),{x:0,y:0,width:Le,height:Ue},Se,!0).length>0||Ze(I.position.x+re.width/2,I.position.y+re.height/2,{zoom:Se[2]})};return he.jsx("div",{className:$r(["react-flow__node",`react-flow__node-${F}`,{[x]:L},I.className,{selected:I.selected,selectable:B,parent:D,draggable:L,dragging:ae}]),ref:J,style:{zIndex:_.z,transform:`translate(${_.positionAbsolute.x}px,${_.positionAbsolute.y}px)`,pointerEvents:H?"all":"none",visibility:ue?"visible":"hidden",...I.style,...X},"data-id":n,"data-testid":`rf__node-${n}`,onMouseEnter:Q,onMouseMove:W,onMouseLeave:Y,onContextMenu:Z,onClick:me,onDoubleClick:se,onKeyDown:M?Ce:void 0,tabIndex:M?0:void 0,onFocus:M?be:void 0,role:I.ariaRole??(M?"group":void 0),"aria-roledescription":"node","aria-describedby":w?void 0:`${t3}-${A}`,"aria-label":I.ariaLabel,...I.domAttributes,children:he.jsx(F9,{value:n,children:he.jsx(O,{id:n,data:I.data,type:F,positionAbsoluteX:_.positionAbsolute.x,positionAbsoluteY:_.positionAbsolute.y,selected:I.selected??!1,selectable:B,draggable:L,deletable:I.deletable??!0,isConnectable:j,sourcePosition:I.sourcePosition,targetPosition:I.targetPosition,dragging:ae,dragHandle:I.dragHandle,zIndex:_.z,parentId:I.parentId,...re})})})}var nU=_e.memo(tU);const rU=n=>({nodesDraggable:n.nodesDraggable,nodesConnectable:n.nodesConnectable,nodesFocusable:n.nodesFocusable,elementsSelectable:n.elementsSelectable,onError:n.onError});function f3(n){const{nodesDraggable:e,nodesConnectable:t,nodesFocusable:r,elementsSelectable:s,onError:i}=On(rU,lr),a=J9(n.onlyRenderVisibleElements),l=Q9();return he.jsx("div",{className:"react-flow__nodes",style:tv,children:a.map(c=>he.jsx(nU,{id:c,nodeTypes:n.nodeTypes,nodeExtent:n.nodeExtent,onClick:n.onNodeClick,onMouseEnter:n.onNodeMouseEnter,onMouseMove:n.onNodeMouseMove,onMouseLeave:n.onNodeMouseLeave,onContextMenu:n.onNodeContextMenu,onDoubleClick:n.onNodeDoubleClick,noDragClassName:n.noDragClassName,noPanClassName:n.noPanClassName,rfId:n.rfId,disableKeyboardA11y:n.disableKeyboardA11y,resizeObserver:l,nodesDraggable:e,nodesConnectable:t,nodesFocusable:r,elementsSelectable:s,nodeClickDistance:n.nodeClickDistance,onError:i},c))})}f3.displayName="NodeRenderer";const sU=_e.memo(f3);function iU(n){return On(_e.useCallback(t=>{if(!n)return t.edges.map(s=>s.id);const r=[];if(t.width&&t.height)for(const s of t.edges){const i=t.nodeLookup.get(s.source),a=t.nodeLookup.get(s.target);i&&a&&rz({sourceNode:i,targetNode:a,width:t.width,height:t.height,transform:t.transform})&&r.push(s.id)}return r},[n]),lr)}const aU=({color:n="none",strokeWidth:e=1})=>{const t={strokeWidth:e,...n&&{stroke:n}};return he.jsx("polyline",{className:"arrow",style:t,strokeLinecap:"round",fill:"none",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4"})},oU=({color:n="none",strokeWidth:e=1})=>{const t={strokeWidth:e,...n&&{stroke:n,fill:n}};return he.jsx("polyline",{className:"arrowclosed",style:t,strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"})},c_={[Sx.Arrow]:aU,[Sx.ArrowClosed]:oU};function lU(n){const e=cr();return _e.useMemo(()=>Object.prototype.hasOwnProperty.call(c_,n)?c_[n]:(e.getState().onError?.("009",Yl.error009(n)),null),[n])}const uU=({id:n,type:e,color:t,width:r=12.5,height:s=12.5,markerUnits:i="strokeWidth",strokeWidth:a,orient:l="auto-start-reverse"})=>{const c=lU(e);return c?he.jsx("marker",{className:"react-flow__arrowhead",id:n,markerWidth:`${r}`,markerHeight:`${s}`,viewBox:"-10 -10 20 20",markerUnits:i,orient:l,refX:"0",refY:"0",children:he.jsx(c,{color:t,strokeWidth:a})}):null},h3=({defaultColor:n,rfId:e})=>{const t=On(i=>i.edges),r=On(i=>i.defaultEdgeOptions),s=_e.useMemo(()=>cz(t,{id:e,defaultColor:n,defaultMarkerStart:r?.markerStart,defaultMarkerEnd:r?.markerEnd}),[t,r,e,n]);return s.length?he.jsx("svg",{className:"react-flow__marker","aria-hidden":"true",children:he.jsx("defs",{children:s.map(i=>he.jsx(uU,{id:i.id,type:i.type,color:i.color,width:i.width,height:i.height,markerUnits:i.markerUnits,strokeWidth:i.strokeWidth,orient:i.orient},i.id))})}):null};h3.displayName="MarkerDefinitions";var cU=_e.memo(h3);function m3({x:n,y:e,label:t,labelStyle:r,labelShowBg:s=!0,labelBgStyle:i,labelBgPadding:a=[2,4],labelBgBorderRadius:l=2,children:c,className:p,...d}){const[h,m]=_e.useState({x:1,y:0,width:0,height:0}),x=$r(["react-flow__edge-textwrapper",p]),w=_e.useRef(null);return _e.useEffect(()=>{if(w.current){const A=w.current.getBBox();m({x:A.x,y:A.y,width:A.width,height:A.height})}},[t]),t?he.jsxs("g",{transform:`translate(${n-h.width/2} ${e-h.height/2})`,className:x,visibility:h.width?"visible":"hidden",...d,children:[s&&he.jsx("rect",{width:h.width+2*a[0],x:-a[0],y:-a[1],height:h.height+2*a[1],className:"react-flow__edge-textbg",style:i,rx:l,ry:l}),he.jsx("text",{className:"react-flow__edge-text",y:h.height/2,dy:"0.3em",ref:w,style:r,children:t}),c]}):null}m3.displayName="EdgeText";const pU=_e.memo(m3);function nv({path:n,labelX:e,labelY:t,label:r,labelStyle:s,labelShowBg:i,labelBgStyle:a,labelBgPadding:l,labelBgBorderRadius:c,interactionWidth:p=20,...d}){return he.jsxs(he.Fragment,{children:[he.jsx("path",{...d,d:n,fill:"none",className:$r(["react-flow__edge-path",d.className])}),p?he.jsx("path",{d:n,fill:"none",strokeOpacity:0,strokeWidth:p,className:"react-flow__edge-interaction"}):null,r&&Jo(e)&&Jo(t)?he.jsx(pU,{x:e,y:t,label:r,labelStyle:s,labelShowBg:i,labelBgStyle:a,labelBgPadding:l,labelBgBorderRadius:c}):null]})}function p_({pos:n,x1:e,y1:t,x2:r,y2:s}){return n===Xt.Left||n===Xt.Right?[.5*(e+r),t]:[e,.5*(t+s)]}function y3({sourceX:n,sourceY:e,sourcePosition:t=Xt.Bottom,targetX:r,targetY:s,targetPosition:i=Xt.Top}){const[a,l]=p_({pos:t,x1:n,y1:e,x2:r,y2:s}),[c,p]=p_({pos:i,x1:r,y1:s,x2:n,y2:e}),[d,h,m,x]=FO({sourceX:n,sourceY:e,targetX:r,targetY:s,sourceControlX:a,sourceControlY:l,targetControlX:c,targetControlY:p});return[`M${n},${e} C${a},${l} ${c},${p} ${r},${s}`,d,h,m,x]}function g3(n){return _e.memo(({id:e,sourceX:t,sourceY:r,targetX:s,targetY:i,sourcePosition:a,targetPosition:l,label:c,labelStyle:p,labelShowBg:d,labelBgStyle:h,labelBgPadding:m,labelBgBorderRadius:x,style:w,markerEnd:A,markerStart:P,interactionWidth:S})=>{const[C,I,_]=y3({sourceX:t,sourceY:r,sourcePosition:a,targetX:s,targetY:i,targetPosition:l}),D=n.isInternal?void 0:e;return he.jsx(nv,{id:D,path:C,labelX:I,labelY:_,label:c,labelStyle:p,labelShowBg:d,labelBgStyle:h,labelBgPadding:m,labelBgBorderRadius:x,style:w,markerEnd:A,markerStart:P,interactionWidth:S})})}const dU=g3({isInternal:!1}),x3=g3({isInternal:!0});dU.displayName="SimpleBezierEdge";x3.displayName="SimpleBezierEdgeInternal";function v3(n){return _e.memo(({id:e,sourceX:t,sourceY:r,targetX:s,targetY:i,label:a,labelStyle:l,labelShowBg:c,labelBgStyle:p,labelBgPadding:d,labelBgBorderRadius:h,style:m,sourcePosition:x=Xt.Bottom,targetPosition:w=Xt.Top,markerEnd:A,markerStart:P,pathOptions:S,interactionWidth:C})=>{const[I,_,D]=O1({sourceX:t,sourceY:r,sourcePosition:x,targetX:s,targetY:i,targetPosition:w,borderRadius:S?.borderRadius,offset:S?.offset,stepPosition:S?.stepPosition}),F=n.isInternal?void 0:e;return he.jsx(nv,{id:F,path:I,labelX:_,labelY:D,label:a,labelStyle:l,labelShowBg:c,labelBgStyle:p,labelBgPadding:d,labelBgBorderRadius:h,style:m,markerEnd:A,markerStart:P,interactionWidth:C})})}const T3=v3({isInternal:!1}),S3=v3({isInternal:!0});T3.displayName="SmoothStepEdge";S3.displayName="SmoothStepEdgeInternal";function b3(n){return _e.memo(({id:e,...t})=>{const r=n.isInternal?void 0:e;return he.jsx(T3,{...t,id:r,pathOptions:_e.useMemo(()=>({borderRadius:0,offset:t.pathOptions?.offset}),[t.pathOptions?.offset])})})}const fU=b3({isInternal:!1}),w3=b3({isInternal:!0});fU.displayName="StepEdge";w3.displayName="StepEdgeInternal";function E3(n){return _e.memo(({id:e,sourceX:t,sourceY:r,targetX:s,targetY:i,label:a,labelStyle:l,labelShowBg:c,labelBgStyle:p,labelBgPadding:d,labelBgBorderRadius:h,style:m,markerEnd:x,markerStart:w,interactionWidth:A})=>{const[P,S,C]=zO({sourceX:t,sourceY:r,targetX:s,targetY:i}),I=n.isInternal?void 0:e;return he.jsx(nv,{id:I,path:P,labelX:S,labelY:C,label:a,labelStyle:l,labelShowBg:c,labelBgStyle:p,labelBgPadding:d,labelBgBorderRadius:h,style:m,markerEnd:x,markerStart:w,interactionWidth:A})})}const hU=E3({isInternal:!1}),P3=E3({isInternal:!0});hU.displayName="StraightEdge";P3.displayName="StraightEdgeInternal";function A3(n){return _e.memo(({id:e,sourceX:t,sourceY:r,targetX:s,targetY:i,sourcePosition:a=Xt.Bottom,targetPosition:l=Xt.Top,label:c,labelStyle:p,labelShowBg:d,labelBgStyle:h,labelBgPadding:m,labelBgBorderRadius:x,style:w,markerEnd:A,markerStart:P,pathOptions:S,interactionWidth:C})=>{const[I,_,D]=Ex({sourceX:t,sourceY:r,sourcePosition:a,targetX:s,targetY:i,targetPosition:l,curvature:S?.curvature}),F=n.isInternal?void 0:e;return he.jsx(nv,{id:F,path:I,labelX:_,labelY:D,label:c,labelStyle:p,labelShowBg:d,labelBgStyle:h,labelBgPadding:m,labelBgBorderRadius:x,style:w,markerEnd:A,markerStart:P,interactionWidth:C})})}const mU=A3({isInternal:!1}),N3=A3({isInternal:!0});mU.displayName="BezierEdge";N3.displayName="BezierEdgeInternal";const d_={default:N3,straight:P3,step:w3,smoothstep:S3,simplebezier:x3},f_={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},yU=(n,e,t)=>t===Xt.Left?n-e:t===Xt.Right?n+e:n,gU=(n,e,t)=>t===Xt.Top?n-e:t===Xt.Bottom?n+e:n,h_="react-flow__edgeupdater";function m_({position:n,centerX:e,centerY:t,radius:r=10,onMouseDown:s,onMouseEnter:i,onMouseOut:a,type:l}){return he.jsx("circle",{onMouseDown:s,onMouseEnter:i,onMouseOut:a,className:$r([h_,`${h_}-${l}`]),cx:yU(e,r,n),cy:gU(t,r,n),r,stroke:"transparent",fill:"transparent"})}function xU({isReconnectable:n,reconnectRadius:e,edge:t,sourceX:r,sourceY:s,targetX:i,targetY:a,sourcePosition:l,targetPosition:c,onReconnect:p,onReconnectStart:d,onReconnectEnd:h,setReconnecting:m,setUpdateHover:x}){const w=cr(),A=(_,D)=>{if(_.button!==0)return;const{autoPanOnConnect:F,domNode:O,isValidConnection:L,connectionMode:B,connectionRadius:j,lib:M,onConnectStart:ee,onConnectEnd:ue,cancelConnection:J,nodeLookup:ae,rfId:oe,panBy:re,updateConnection:X}=w.getState(),H=D.type==="target",Q=(Z,se)=>{m(!1),h?.(Z,t,D.type,se)},W=Z=>p?.(t,Z),Y=(Z,se)=>{m(!0),d?.(_,t,D.type),ee?.(Z,se)};R1.onPointerDown(_.nativeEvent,{autoPanOnConnect:F,connectionMode:B,connectionRadius:j,domNode:O,handleId:D.id,nodeId:D.nodeId,nodeLookup:ae,isTarget:H,edgeUpdaterType:D.type,lib:M,flowId:oe,cancelConnection:J,panBy:re,isValidConnection:L,onConnect:W,onConnectStart:Y,onConnectEnd:ue,onReconnectEnd:Q,updateConnection:X,getTransform:()=>w.getState().transform,getFromHandle:()=>w.getState().connection.fromHandle,dragThreshold:w.getState().connectionDragThreshold,handleDomNode:_.currentTarget})},P=_=>A(_,{nodeId:t.target,id:t.targetHandle??null,type:"target"}),S=_=>A(_,{nodeId:t.source,id:t.sourceHandle??null,type:"source"}),C=()=>x(!0),I=()=>x(!1);return he.jsxs(he.Fragment,{children:[(n===!0||n==="source")&&he.jsx(m_,{position:l,centerX:r,centerY:s,radius:e,onMouseDown:P,onMouseEnter:C,onMouseOut:I,type:"source"}),(n===!0||n==="target")&&he.jsx(m_,{position:c,centerX:i,centerY:a,radius:e,onMouseDown:S,onMouseEnter:C,onMouseOut:I,type:"target"})]})}function vU({id:n,edgesFocusable:e,edgesReconnectable:t,elementsSelectable:r,onClick:s,onDoubleClick:i,onContextMenu:a,onMouseEnter:l,onMouseMove:c,onMouseLeave:p,reconnectRadius:d,onReconnect:h,onReconnectStart:m,onReconnectEnd:x,rfId:w,edgeTypes:A,noPanClassName:P,onError:S,disableKeyboardA11y:C}){let I=On(Ze=>Ze.edgeLookup.get(n));const _=On(Ze=>Ze.defaultEdgeOptions);I=_?{..._,...I}:I;let D=I.type||"default",F=A?.[D]||d_[D];F===void 0&&(S?.("011",Yl.error011(D)),D="default",F=A?.default||d_.default);const O=!!(I.focusable||e&&typeof I.focusable>"u"),L=typeof h<"u"&&(I.reconnectable||t&&typeof I.reconnectable>"u"),B=!!(I.selectable||r&&typeof I.selectable>"u"),j=_e.useRef(null),[M,ee]=_e.useState(!1),[ue,J]=_e.useState(!1),ae=cr(),{zIndex:oe,sourceX:re,sourceY:X,targetX:H,targetY:Q,sourcePosition:W,targetPosition:Y}=On(_e.useCallback(Ze=>{const it=Ze.nodeLookup.get(I.source),pt=Ze.nodeLookup.get(I.target);if(!it||!pt)return{zIndex:I.zIndex,...f_};const It=uz({id:n,sourceNode:it,targetNode:pt,sourceHandle:I.sourceHandle||null,targetHandle:I.targetHandle||null,connectionMode:Ze.connectionMode,onError:S});return{zIndex:nz({selected:I.selected,zIndex:I.zIndex,sourceNode:it,targetNode:pt,elevateOnSelect:Ze.elevateEdgesOnSelect,zIndexMode:Ze.zIndexMode}),...It||f_}},[I.source,I.target,I.sourceHandle,I.targetHandle,I.selected,I.zIndex]),lr),Z=_e.useMemo(()=>I.markerStart?`url('#${L1(I.markerStart,w)}')`:void 0,[I.markerStart,w]),se=_e.useMemo(()=>I.markerEnd?`url('#${L1(I.markerEnd,w)}')`:void 0,[I.markerEnd,w]);if(I.hidden||re===null||X===null||H===null||Q===null)return null;const me=Ze=>{const{addSelectedEdges:it,unselectNodesAndEdges:pt,multiSelectionActive:It}=ae.getState();B&&(ae.setState({nodesSelectionActive:!1}),I.selected&&It?(pt({nodes:[],edges:[I]}),j.current?.blur()):it([n])),s&&s(Ze,I)},Ce=i?Ze=>{i(Ze,{...I})}:void 0,be=a?Ze=>{a(Ze,{...I})}:void 0,Se=l?Ze=>{l(Ze,{...I})}:void 0,Le=c?Ze=>{c(Ze,{...I})}:void 0,Ue=p?Ze=>{p(Ze,{...I})}:void 0,st=Ze=>{if(!C&&wO.includes(Ze.key)&&B){const{unselectNodesAndEdges:it,addSelectedEdges:pt}=ae.getState();Ze.key==="Escape"?(j.current?.blur(),it({edges:[I]})):pt([n])}};return he.jsx("svg",{style:{zIndex:oe},children:he.jsxs("g",{className:$r(["react-flow__edge",`react-flow__edge-${D}`,I.className,P,{selected:I.selected,animated:I.animated,inactive:!B&&!s,updating:M,selectable:B}]),onClick:me,onDoubleClick:Ce,onContextMenu:be,onMouseEnter:Se,onMouseMove:Le,onMouseLeave:Ue,onKeyDown:O?st:void 0,tabIndex:O?0:void 0,role:I.ariaRole??(O?"group":"img"),"aria-roledescription":"edge","data-id":n,"data-testid":`rf__edge-${n}`,"aria-label":I.ariaLabel===null?void 0:I.ariaLabel||`Edge from ${I.source} to ${I.target}`,"aria-describedby":O?`${n3}-${w}`:void 0,ref:j,...I.domAttributes,children:[!ue&&he.jsx(F,{id:n,source:I.source,target:I.target,type:I.type,selected:I.selected,animated:I.animated,selectable:B,deletable:I.deletable??!0,label:I.label,labelStyle:I.labelStyle,labelShowBg:I.labelShowBg,labelBgStyle:I.labelBgStyle,labelBgPadding:I.labelBgPadding,labelBgBorderRadius:I.labelBgBorderRadius,sourceX:re,sourceY:X,targetX:H,targetY:Q,sourcePosition:W,targetPosition:Y,data:I.data,style:I.style,sourceHandleId:I.sourceHandle,targetHandleId:I.targetHandle,markerStart:Z,markerEnd:se,pathOptions:"pathOptions"in I?I.pathOptions:void 0,interactionWidth:I.interactionWidth}),L&&he.jsx(xU,{edge:I,isReconnectable:L,reconnectRadius:d,onReconnect:h,onReconnectStart:m,onReconnectEnd:x,sourceX:re,sourceY:X,targetX:H,targetY:Q,sourcePosition:W,targetPosition:Y,setUpdateHover:ee,setReconnecting:J})]})})}var TU=_e.memo(vU);const SU=n=>({edgesFocusable:n.edgesFocusable,edgesReconnectable:n.edgesReconnectable,elementsSelectable:n.elementsSelectable,connectionMode:n.connectionMode,onError:n.onError});function _3({defaultMarkerColor:n,onlyRenderVisibleElements:e,rfId:t,edgeTypes:r,noPanClassName:s,onReconnect:i,onEdgeContextMenu:a,onEdgeMouseEnter:l,onEdgeMouseMove:c,onEdgeMouseLeave:p,onEdgeClick:d,reconnectRadius:h,onEdgeDoubleClick:m,onReconnectStart:x,onReconnectEnd:w,disableKeyboardA11y:A}){const{edgesFocusable:P,edgesReconnectable:S,elementsSelectable:C,onError:I}=On(SU,lr),_=iU(e);return he.jsxs("div",{className:"react-flow__edges",children:[he.jsx(cU,{defaultColor:n,rfId:t}),_.map(D=>he.jsx(TU,{id:D,edgesFocusable:P,edgesReconnectable:S,elementsSelectable:C,noPanClassName:s,onReconnect:i,onContextMenu:a,onMouseEnter:l,onMouseMove:c,onMouseLeave:p,onClick:d,reconnectRadius:h,onDoubleClick:m,onReconnectStart:x,onReconnectEnd:w,rfId:t,onError:I,edgeTypes:r,disableKeyboardA11y:A},D))]})}_3.displayName="EdgeRenderer";const bU=_e.memo(_3),wU=n=>`translate(${n.transform[0]}px,${n.transform[1]}px) scale(${n.transform[2]})`;function EU({children:n}){const e=On(wU);return he.jsx("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:e},children:n})}function PU(n){const e=ev(),t=_e.useRef(!1);_e.useEffect(()=>{!t.current&&e.viewportInitialized&&n&&(setTimeout(()=>n(e),1),t.current=!0)},[n,e.viewportInitialized])}const AU=n=>n.panZoom?.syncViewport;function NU(n){const e=On(AU),t=cr();return _e.useEffect(()=>{n&&(e?.(n),t.setState({transform:[n.x,n.y,n.zoom]}))},[n,e]),null}function _U(n){return n.connection.inProgress?{...n.connection,to:Im(n.connection.to,n.transform)}:{...n.connection}}function CU(n){return _U}function IU(n){const e=CU();return On(e,lr)}const MU=n=>({nodesConnectable:n.nodesConnectable,isValid:n.connection.isValid,inProgress:n.connection.inProgress,width:n.width,height:n.height});function kU({containerStyle:n,style:e,type:t,component:r}){const{nodesConnectable:s,width:i,height:a,isValid:l,inProgress:c}=On(MU,lr);return!(i&&s&&c)?null:he.jsx("svg",{style:n,width:i,height:a,className:"react-flow__connectionline react-flow__container",children:he.jsx("g",{className:$r(["react-flow__connection",AO(l)]),children:he.jsx(C3,{style:e,type:t,CustomComponent:r,isValid:l})})})}const C3=({style:n,type:e=Fc.Bezier,CustomComponent:t,isValid:r})=>{const{inProgress:s,from:i,fromNode:a,fromHandle:l,fromPosition:c,to:p,toNode:d,toHandle:h,toPosition:m,pointer:x}=IU();if(!s)return;if(t)return he.jsx(t,{connectionLineType:e,connectionLineStyle:n,fromNode:a,fromHandle:l,fromX:i.x,fromY:i.y,toX:p.x,toY:p.y,fromPosition:c,toPosition:m,connectionStatus:AO(r),toNode:d,toHandle:h,pointer:x});let w="";const A={sourceX:i.x,sourceY:i.y,sourcePosition:c,targetX:p.x,targetY:p.y,targetPosition:m};switch(e){case Fc.Bezier:[w]=Ex(A);break;case Fc.SimpleBezier:[w]=y3(A);break;case Fc.Step:[w]=O1({...A,borderRadius:0});break;case Fc.SmoothStep:[w]=O1(A);break;default:[w]=zO(A)}return he.jsx("path",{d:w,fill:"none",className:"react-flow__connection-path",style:n})};C3.displayName="ConnectionLine";const OU={};function y_(n=OU){_e.useRef(n),cr(),_e.useEffect(()=>{},[n])}function LU(){cr(),_e.useRef(!1),_e.useEffect(()=>{},[])}function I3({nodeTypes:n,edgeTypes:e,onInit:t,onNodeClick:r,onEdgeClick:s,onNodeDoubleClick:i,onEdgeDoubleClick:a,onNodeMouseEnter:l,onNodeMouseMove:c,onNodeMouseLeave:p,onNodeContextMenu:d,onSelectionContextMenu:h,onSelectionStart:m,onSelectionEnd:x,connectionLineType:w,connectionLineStyle:A,connectionLineComponent:P,connectionLineContainerStyle:S,selectionKeyCode:C,selectionOnDrag:I,selectionMode:_,multiSelectionKeyCode:D,panActivationKeyCode:F,zoomActivationKeyCode:O,deleteKeyCode:L,onlyRenderVisibleElements:B,elementsSelectable:j,defaultViewport:M,translateExtent:ee,minZoom:ue,maxZoom:J,preventScrolling:ae,defaultMarkerColor:oe,zoomOnScroll:re,zoomOnPinch:X,panOnScroll:H,panOnScrollSpeed:Q,panOnScrollMode:W,zoomOnDoubleClick:Y,panOnDrag:Z,onPaneClick:se,onPaneMouseEnter:me,onPaneMouseMove:Ce,onPaneMouseLeave:be,onPaneScroll:Se,onPaneContextMenu:Le,paneClickDistance:Ue,nodeClickDistance:st,onEdgeContextMenu:Ze,onEdgeMouseEnter:it,onEdgeMouseMove:pt,onEdgeMouseLeave:It,reconnectRadius:ct,onReconnect:Ye,onReconnectStart:We,onReconnectEnd:rt,noDragClassName:St,noWheelClassName:Et,noPanClassName:jt,disableKeyboardA11y:qt,nodeExtent:mn,rfId:Fe,viewport:Me,onViewportChange:ce}){return y_(n),y_(e),LU(),PU(t),NU(Me),he.jsx(G9,{onPaneClick:se,onPaneMouseEnter:me,onPaneMouseMove:Ce,onPaneMouseLeave:be,onPaneContextMenu:Le,onPaneScroll:Se,paneClickDistance:Ue,deleteKeyCode:L,selectionKeyCode:C,selectionOnDrag:I,selectionMode:_,onSelectionStart:m,onSelectionEnd:x,multiSelectionKeyCode:D,panActivationKeyCode:F,zoomActivationKeyCode:O,elementsSelectable:j,zoomOnScroll:re,zoomOnPinch:X,zoomOnDoubleClick:Y,panOnScroll:H,panOnScrollSpeed:Q,panOnScrollMode:W,panOnDrag:Z,defaultViewport:M,translateExtent:ee,minZoom:ue,maxZoom:J,onSelectionContextMenu:h,preventScrolling:ae,noDragClassName:St,noWheelClassName:Et,noPanClassName:jt,disableKeyboardA11y:qt,onViewportChange:ce,isControlledViewport:!!Me,children:he.jsxs(EU,{children:[he.jsx(bU,{edgeTypes:e,onEdgeClick:s,onEdgeDoubleClick:a,onReconnect:Ye,onReconnectStart:We,onReconnectEnd:rt,onlyRenderVisibleElements:B,onEdgeContextMenu:Ze,onEdgeMouseEnter:it,onEdgeMouseMove:pt,onEdgeMouseLeave:It,reconnectRadius:ct,defaultMarkerColor:oe,noPanClassName:jt,disableKeyboardA11y:qt,rfId:Fe}),he.jsx(kU,{style:A,type:w,component:P,containerStyle:S}),he.jsx("div",{className:"react-flow__edgelabel-renderer"}),he.jsx(sU,{nodeTypes:n,onNodeClick:r,onNodeDoubleClick:i,onNodeMouseEnter:l,onNodeMouseMove:c,onNodeMouseLeave:p,onNodeContextMenu:d,nodeClickDistance:st,onlyRenderVisibleElements:B,noPanClassName:jt,noDragClassName:St,disableKeyboardA11y:qt,nodeExtent:mn,rfId:Fe}),he.jsx("div",{className:"react-flow__viewport-portal"})]})})}I3.displayName="GraphView";const DU=_e.memo(I3),g_=({nodes:n,edges:e,defaultNodes:t,defaultEdges:r,width:s,height:i,fitView:a,fitViewOptions:l,minZoom:c=.5,maxZoom:p=2,nodeOrigin:d,nodeExtent:h,zIndexMode:m="basic"}={})=>{const x=new Map,w=new Map,A=new Map,P=new Map,S=r??e??[],C=t??n??[],I=d??[0,0],_=h??dm;$O(A,P,S);const D=D1(C,x,w,{nodeOrigin:I,nodeExtent:_,zIndexMode:m});let F=[0,0,1];if(a&&s&&i){const O=_m(x,{filter:M=>!!((M.width||M.initialWidth)&&(M.height||M.initialHeight))}),{x:L,y:B,zoom:j}=Tw(O,s,i,c,p,l?.padding??.1);F=[L,B,j]}return{rfId:"1",width:s??0,height:i??0,transform:F,nodes:C,nodesInitialized:D,nodeLookup:x,parentLookup:w,edges:S,edgeLookup:P,connectionLookup:A,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:t!==void 0,hasDefaultEdges:r!==void 0,panZoom:null,minZoom:c,maxZoom:p,translateExtent:dm,nodeExtent:_,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:bf.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:I,nodeDragThreshold:1,connectionDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!0,selectNodesOnDrag:!0,multiSelectionActive:!1,fitViewQueued:a??!1,fitViewOptions:l,fitViewResolver:null,connection:{...PO},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanOnNodeFocus:!0,autoPanSpeed:15,connectionRadius:20,onError:Y8,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1,ariaLabelConfig:EO,zIndexMode:m,onNodesChangeMiddlewareMap:new Map,onEdgesChangeMiddlewareMap:new Map}},RU=({nodes:n,edges:e,defaultNodes:t,defaultEdges:r,width:s,height:i,fitView:a,fitViewOptions:l,minZoom:c,maxZoom:p,nodeOrigin:d,nodeExtent:h,zIndexMode:m})=>Qz((x,w)=>{async function A(){const{nodeLookup:P,panZoom:S,fitViewOptions:C,fitViewResolver:I,width:_,height:D,minZoom:F,maxZoom:O}=w();S&&(await X8({nodes:P,width:_,height:D,panZoom:S,minZoom:F,maxZoom:O},C),I?.resolve(!0),x({fitViewResolver:null}))}return{...g_({nodes:n,edges:e,width:s,height:i,fitView:a,fitViewOptions:l,minZoom:c,maxZoom:p,nodeOrigin:d,nodeExtent:h,defaultNodes:t,defaultEdges:r,zIndexMode:m}),setNodes:P=>{const{nodeLookup:S,parentLookup:C,nodeOrigin:I,elevateNodesOnSelect:_,fitViewQueued:D,zIndexMode:F}=w(),O=D1(P,S,C,{nodeOrigin:I,nodeExtent:h,elevateNodesOnSelect:_,checkEquality:!0,zIndexMode:F});D&&O?(A(),x({nodes:P,nodesInitialized:O,fitViewQueued:!1,fitViewOptions:void 0})):x({nodes:P,nodesInitialized:O})},setEdges:P=>{const{connectionLookup:S,edgeLookup:C}=w();$O(S,C,P),x({edges:P})},setDefaultNodesAndEdges:(P,S)=>{if(P){const{setNodes:C}=w();C(P),x({hasDefaultNodes:!0})}if(S){const{setEdges:C}=w();C(S),x({hasDefaultEdges:!0})}},updateNodeInternals:P=>{const{triggerNodeChanges:S,nodeLookup:C,parentLookup:I,domNode:_,nodeOrigin:D,nodeExtent:F,debug:O,fitViewQueued:L,zIndexMode:B}=w(),{changes:j,updatedInternals:M}=gz(P,C,I,_,D,F,B);M&&(fz(C,I,{nodeOrigin:D,nodeExtent:F,zIndexMode:B}),L?(A(),x({fitViewQueued:!1,fitViewOptions:void 0})):x({}),j?.length>0&&(O&&console.log("React Flow: trigger node changes",j),S?.(j)))},updateNodePositions:(P,S=!1)=>{const C=[];let I=[];const{nodeLookup:_,triggerNodeChanges:D,connection:F,updateConnection:O,onNodesChangeMiddlewareMap:L}=w();for(const[B,j]of P){const M=_.get(B),ee=!!(M?.expandParent&&M?.parentId&&j?.position),ue={id:B,type:"position",position:ee?{x:Math.max(0,j.position.x),y:Math.max(0,j.position.y)}:j.position,dragging:S};if(M&&F.inProgress&&F.fromNode.id===M.id){const J=td(M,F.fromHandle,Xt.Left,!0);O({...F,from:J})}ee&&M.parentId&&C.push({id:B,parentId:M.parentId,rect:{...j.internals.positionAbsolute,width:j.measured.width??0,height:j.measured.height??0}}),I.push(ue)}if(C.length>0){const{parentLookup:B,nodeOrigin:j}=w(),M=Aw(C,_,B,j);I.push(...M)}for(const B of L.values())I=B(I);D(I)},triggerNodeChanges:P=>{const{onNodesChange:S,setNodes:C,nodes:I,hasDefaultNodes:_,debug:D}=w();if(P?.length){if(_){const F=i3(P,I);C(F)}D&&console.log("React Flow: trigger node changes",P),S?.(P)}},triggerEdgeChanges:P=>{const{onEdgesChange:S,setEdges:C,edges:I,hasDefaultEdges:_,debug:D}=w();if(P?.length){if(_){const F=a3(P,I);C(F)}D&&console.log("React Flow: trigger edge changes",P),S?.(P)}},addSelectedNodes:P=>{const{multiSelectionActive:S,edgeLookup:C,nodeLookup:I,triggerNodeChanges:_,triggerEdgeChanges:D}=w();if(S){const F=P.map(O=>Vp(O,!0));_(F);return}_(sf(I,new Set([...P]),!0)),D(sf(C))},addSelectedEdges:P=>{const{multiSelectionActive:S,edgeLookup:C,nodeLookup:I,triggerNodeChanges:_,triggerEdgeChanges:D}=w();if(S){const F=P.map(O=>Vp(O,!0));D(F);return}D(sf(C,new Set([...P]))),_(sf(I,new Set,!0))},unselectNodesAndEdges:({nodes:P,edges:S}={})=>{const{edges:C,nodes:I,nodeLookup:_,triggerNodeChanges:D,triggerEdgeChanges:F}=w(),O=P||I,L=S||C,B=O.map(M=>{const ee=_.get(M.id);return ee&&(ee.selected=!1),Vp(M.id,!1)}),j=L.map(M=>Vp(M.id,!1));D(B),F(j)},setMinZoom:P=>{const{panZoom:S,maxZoom:C}=w();S?.setScaleExtent([P,C]),x({minZoom:P})},setMaxZoom:P=>{const{panZoom:S,minZoom:C}=w();S?.setScaleExtent([C,P]),x({maxZoom:P})},setTranslateExtent:P=>{w().panZoom?.setTranslateExtent(P),x({translateExtent:P})},resetSelectedElements:()=>{const{edges:P,nodes:S,triggerNodeChanges:C,triggerEdgeChanges:I,elementsSelectable:_}=w();if(!_)return;const D=S.reduce((O,L)=>L.selected?[...O,Vp(L.id,!1)]:O,[]),F=P.reduce((O,L)=>L.selected?[...O,Vp(L.id,!1)]:O,[]);C(D),I(F)},setNodeExtent:P=>{const{nodes:S,nodeLookup:C,parentLookup:I,nodeOrigin:_,elevateNodesOnSelect:D,nodeExtent:F,zIndexMode:O}=w();P[0][0]===F[0][0]&&P[0][1]===F[0][1]&&P[1][0]===F[1][0]&&P[1][1]===F[1][1]||(D1(S,C,I,{nodeOrigin:_,nodeExtent:P,elevateNodesOnSelect:D,checkEquality:!1,zIndexMode:O}),x({nodeExtent:P}))},panBy:P=>{const{transform:S,width:C,height:I,panZoom:_,translateExtent:D}=w();return xz({delta:P,panZoom:_,transform:S,translateExtent:D,width:C,height:I})},setCenter:async(P,S,C)=>{const{width:I,height:_,maxZoom:D,panZoom:F}=w();if(!F)return Promise.resolve(!1);const O=typeof C?.zoom<"u"?C.zoom:D;return await F.setViewport({x:I/2-P*O,y:_/2-S*O,zoom:O},{duration:C?.duration,ease:C?.ease,interpolate:C?.interpolate}),Promise.resolve(!0)},cancelConnection:()=>{x({connection:{...PO}})},updateConnection:P=>{x({connection:P})},reset:()=>x({...g_()})}},Object.is);function M3({initialNodes:n,initialEdges:e,defaultNodes:t,defaultEdges:r,initialWidth:s,initialHeight:i,initialMinZoom:a,initialMaxZoom:l,initialFitViewOptions:c,fitView:p,nodeOrigin:d,nodeExtent:h,zIndexMode:m,children:x}){const[w]=_e.useState(()=>RU({nodes:n,edges:e,defaultNodes:t,defaultEdges:r,width:s,height:i,fitView:p,minZoom:a,maxZoom:l,fitViewOptions:c,nodeOrigin:d,nodeExtent:h,zIndexMode:m}));return he.jsx(t9,{value:w,children:he.jsx(E9,{children:x})})}function FU({children:n,nodes:e,edges:t,defaultNodes:r,defaultEdges:s,width:i,height:a,fitView:l,fitViewOptions:c,minZoom:p,maxZoom:d,nodeOrigin:h,nodeExtent:m,zIndexMode:x}){return _e.useContext(Zx)?he.jsx(he.Fragment,{children:n}):he.jsx(M3,{initialNodes:e,initialEdges:t,defaultNodes:r,defaultEdges:s,initialWidth:i,initialHeight:a,fitView:l,initialFitViewOptions:c,initialMinZoom:p,initialMaxZoom:d,nodeOrigin:h,nodeExtent:m,zIndexMode:x,children:n})}const BU={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};function VU({nodes:n,edges:e,defaultNodes:t,defaultEdges:r,className:s,nodeTypes:i,edgeTypes:a,onNodeClick:l,onEdgeClick:c,onInit:p,onMove:d,onMoveStart:h,onMoveEnd:m,onConnect:x,onConnectStart:w,onConnectEnd:A,onClickConnectStart:P,onClickConnectEnd:S,onNodeMouseEnter:C,onNodeMouseMove:I,onNodeMouseLeave:_,onNodeContextMenu:D,onNodeDoubleClick:F,onNodeDragStart:O,onNodeDrag:L,onNodeDragStop:B,onNodesDelete:j,onEdgesDelete:M,onDelete:ee,onSelectionChange:ue,onSelectionDragStart:J,onSelectionDrag:ae,onSelectionDragStop:oe,onSelectionContextMenu:re,onSelectionStart:X,onSelectionEnd:H,onBeforeDelete:Q,connectionMode:W,connectionLineType:Y=Fc.Bezier,connectionLineStyle:Z,connectionLineComponent:se,connectionLineContainerStyle:me,deleteKeyCode:Ce="Backspace",selectionKeyCode:be="Shift",selectionOnDrag:Se=!1,selectionMode:Le=wf.Full,panActivationKeyCode:Ue="Space",multiSelectionKeyCode:st=hm()?"Meta":"Control",zoomActivationKeyCode:Ze=hm()?"Meta":"Control",snapToGrid:it,snapGrid:pt,onlyRenderVisibleElements:It=!1,selectNodesOnDrag:ct,nodesDraggable:Ye,autoPanOnNodeFocus:We,nodesConnectable:rt,nodesFocusable:St,nodeOrigin:Et=r3,edgesFocusable:jt,edgesReconnectable:qt,elementsSelectable:mn=!0,defaultViewport:Fe=h9,minZoom:Me=.5,maxZoom:ce=2,translateExtent:we=dm,preventScrolling:De=!0,nodeExtent:$e,defaultMarkerColor:nt="#b1b1b7",zoomOnScroll:ot=!0,zoomOnPinch:Zt=!0,panOnScroll:fn=!1,panOnScrollSpeed:ut=.5,panOnScrollMode:xn=Hp.Free,zoomOnDoubleClick:Be=!0,panOnDrag:Xe=!0,onPaneClick:de,onPaneMouseEnter:Ke,onPaneMouseMove:ht,onPaneMouseLeave:ve,onPaneScroll:at,onPaneContextMenu:Pt,paneClickDistance:Mt=1,nodeClickDistance:Ht=0,children:tn,onReconnect:_n,onReconnectStart:Jn,onReconnectEnd:Hn,onEdgeContextMenu:Zn,onEdgeDoubleClick:Kn,onEdgeMouseEnter:br,onEdgeMouseMove:yr,onEdgeMouseLeave:Jr,reconnectRadius:Ot=10,onNodesChange:fs,onEdgesChange:qs,noDragClassName:Oi="nodrag",noWheelClassName:ai="nowheel",noPanClassName:gr="nopan",fitView:wr,fitViewOptions:Zr,connectOnClick:oi,attributionPosition:Qr,proOptions:Lr,defaultEdgeOptions:Li,elevateNodesOnSelect:li=!0,elevateEdgesOnSelect:Di=!1,disableKeyboardA11y:xa=!1,autoPanOnConnect:En,autoPanOnNodeDrag:es,autoPanSpeed:ts,connectionRadius:va,isValidConnection:ui,onError:oo,style:Ta,id:ns,nodeDragThreshold:Dr,connectionDragThreshold:Sa,viewport:Er,onViewportChange:$s,width:Rr,height:lo,colorMode:Es="light",debug:ci,onScroll:hs,ariaLabelConfig:ms,zIndexMode:Ri="basic",...uo},Fi){const Ps=ns||"1",pi=x9(Es),As=_e.useCallback(Ns=>{Ns.currentTarget.scrollTo({top:0,left:0,behavior:"instant"}),hs?.(Ns)},[hs]);return he.jsx("div",{"data-testid":"rf__wrapper",...uo,onScroll:As,style:{...Ta,...BU},ref:Fi,className:$r(["react-flow",s,pi]),id:ns,role:"application",children:he.jsxs(FU,{nodes:n,edges:e,width:Rr,height:lo,fitView:wr,fitViewOptions:Zr,minZoom:Me,maxZoom:ce,nodeOrigin:Et,nodeExtent:$e,zIndexMode:Ri,children:[he.jsx(DU,{onInit:p,onNodeClick:l,onEdgeClick:c,onNodeMouseEnter:C,onNodeMouseMove:I,onNodeMouseLeave:_,onNodeContextMenu:D,onNodeDoubleClick:F,nodeTypes:i,edgeTypes:a,connectionLineType:Y,connectionLineStyle:Z,connectionLineComponent:se,connectionLineContainerStyle:me,selectionKeyCode:be,selectionOnDrag:Se,selectionMode:Le,deleteKeyCode:Ce,multiSelectionKeyCode:st,panActivationKeyCode:Ue,zoomActivationKeyCode:Ze,onlyRenderVisibleElements:It,defaultViewport:Fe,translateExtent:we,minZoom:Me,maxZoom:ce,preventScrolling:De,zoomOnScroll:ot,zoomOnPinch:Zt,zoomOnDoubleClick:Be,panOnScroll:fn,panOnScrollSpeed:ut,panOnScrollMode:xn,panOnDrag:Xe,onPaneClick:de,onPaneMouseEnter:Ke,onPaneMouseMove:ht,onPaneMouseLeave:ve,onPaneScroll:at,onPaneContextMenu:Pt,paneClickDistance:Mt,nodeClickDistance:Ht,onSelectionContextMenu:re,onSelectionStart:X,onSelectionEnd:H,onReconnect:_n,onReconnectStart:Jn,onReconnectEnd:Hn,onEdgeContextMenu:Zn,onEdgeDoubleClick:Kn,onEdgeMouseEnter:br,onEdgeMouseMove:yr,onEdgeMouseLeave:Jr,reconnectRadius:Ot,defaultMarkerColor:nt,noDragClassName:Oi,noWheelClassName:ai,noPanClassName:gr,rfId:Ps,disableKeyboardA11y:xa,nodeExtent:$e,viewport:Er,onViewportChange:$s}),he.jsx(g9,{nodes:n,edges:e,defaultNodes:t,defaultEdges:r,onConnect:x,onConnectStart:w,onConnectEnd:A,onClickConnectStart:P,onClickConnectEnd:S,nodesDraggable:Ye,autoPanOnNodeFocus:We,nodesConnectable:rt,nodesFocusable:St,edgesFocusable:jt,edgesReconnectable:qt,elementsSelectable:mn,elevateNodesOnSelect:li,elevateEdgesOnSelect:Di,minZoom:Me,maxZoom:ce,nodeExtent:$e,onNodesChange:fs,onEdgesChange:qs,snapToGrid:it,snapGrid:pt,connectionMode:W,translateExtent:we,connectOnClick:oi,defaultEdgeOptions:Li,fitView:wr,fitViewOptions:Zr,onNodesDelete:j,onEdgesDelete:M,onDelete:ee,onNodeDragStart:O,onNodeDrag:L,onNodeDragStop:B,onSelectionDrag:ae,onSelectionDragStart:J,onSelectionDragStop:oe,onMove:d,onMoveStart:h,onMoveEnd:m,noPanClassName:gr,nodeOrigin:Et,rfId:Ps,autoPanOnConnect:En,autoPanOnNodeDrag:es,autoPanSpeed:ts,onError:oo,connectionRadius:va,isValidConnection:ui,selectNodesOnDrag:ct,nodeDragThreshold:Dr,connectionDragThreshold:Sa,onBeforeDelete:Q,debug:ci,ariaLabelConfig:ms,zIndexMode:Ri}),he.jsx(f9,{onSelectionChange:ue}),tn,he.jsx(l9,{proOptions:Lr,position:Qr}),he.jsx(o9,{rfId:Ps,disableKeyboardA11y:xa})]})})}var jU=o3(VU);const zU=n=>n.domNode?.querySelector(".react-flow__edgelabel-renderer");function UU({children:n}){const e=On(zU);return e?e9.createPortal(n,e):null}function qU({dimensions:n,lineWidth:e,variant:t,className:r}){return he.jsx("path",{strokeWidth:e,d:`M${n[0]/2} 0 V${n[1]} M0 ${n[1]/2} H${n[0]}`,className:$r(["react-flow__background-pattern",t,r])})}function $U({radius:n,className:e}){return he.jsx("circle",{cx:n,cy:n,r:n,className:$r(["react-flow__background-pattern","dots",e])})}var Vu;(function(n){n.Lines="lines",n.Dots="dots",n.Cross="cross"})(Vu||(Vu={}));const WU={[Vu.Dots]:1,[Vu.Lines]:1,[Vu.Cross]:6},HU=n=>({transform:n.transform,patternId:`pattern-${n.rfId}`});function k3({id:n,variant:e=Vu.Dots,gap:t=20,size:r,lineWidth:s=1,offset:i=0,color:a,bgColor:l,style:c,className:p,patternClassName:d}){const h=_e.useRef(null),{transform:m,patternId:x}=On(HU,lr),w=r||WU[e],A=e===Vu.Dots,P=e===Vu.Cross,S=Array.isArray(t)?t:[t,t],C=[S[0]*m[2]||1,S[1]*m[2]||1],I=w*m[2],_=Array.isArray(i)?i:[i,i],D=P?[I,I]:C,F=[_[0]*m[2]||1+D[0]/2,_[1]*m[2]||1+D[1]/2],O=`${x}${n||""}`;return he.jsxs("svg",{className:$r(["react-flow__background",p]),style:{...c,...tv,"--xy-background-color-props":l,"--xy-background-pattern-color-props":a},ref:h,"data-testid":"rf__background",children:[he.jsx("pattern",{id:O,x:m[0]%C[0],y:m[1]%C[1],width:C[0],height:C[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${F[0]},-${F[1]})`,children:A?he.jsx($U,{radius:I/2,className:d}):he.jsx(qU,{dimensions:D,lineWidth:s,variant:e,className:d})}),he.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${O})`})]})}k3.displayName="Background";const KU=_e.memo(k3);function XU(){return he.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:he.jsx("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function GU(){return he.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:he.jsx("path",{d:"M0 0h32v4.2H0z"})})}function YU(){return he.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:he.jsx("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function JU(){return he.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:he.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function ZU(){return he.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:he.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function Hy({children:n,className:e,...t}){return he.jsx("button",{type:"button",className:$r(["react-flow__controls-button",e]),...t,children:n})}const QU=n=>({isInteractive:n.nodesDraggable||n.nodesConnectable||n.elementsSelectable,minZoomReached:n.transform[2]<=n.minZoom,maxZoomReached:n.transform[2]>=n.maxZoom,ariaLabelConfig:n.ariaLabelConfig});function O3({style:n,showZoom:e=!0,showFitView:t=!0,showInteractive:r=!0,fitViewOptions:s,onZoomIn:i,onZoomOut:a,onFitView:l,onInteractiveChange:c,className:p,children:d,position:h="bottom-left",orientation:m="vertical","aria-label":x}){const w=cr(),{isInteractive:A,minZoomReached:P,maxZoomReached:S,ariaLabelConfig:C}=On(QU,lr),{zoomIn:I,zoomOut:_,fitView:D}=ev(),F=()=>{I(),i?.()},O=()=>{_(),a?.()},L=()=>{D(s),l?.()},B=()=>{w.setState({nodesDraggable:!A,nodesConnectable:!A,elementsSelectable:!A}),c?.(!A)},j=m==="horizontal"?"horizontal":"vertical";return he.jsxs(Qx,{className:$r(["react-flow__controls",j,p]),position:h,style:n,"data-testid":"rf__controls","aria-label":x??C["controls.ariaLabel"],children:[e&&he.jsxs(he.Fragment,{children:[he.jsx(Hy,{onClick:F,className:"react-flow__controls-zoomin",title:C["controls.zoomIn.ariaLabel"],"aria-label":C["controls.zoomIn.ariaLabel"],disabled:S,children:he.jsx(XU,{})}),he.jsx(Hy,{onClick:O,className:"react-flow__controls-zoomout",title:C["controls.zoomOut.ariaLabel"],"aria-label":C["controls.zoomOut.ariaLabel"],disabled:P,children:he.jsx(GU,{})})]}),t&&he.jsx(Hy,{className:"react-flow__controls-fitview",onClick:L,title:C["controls.fitView.ariaLabel"],"aria-label":C["controls.fitView.ariaLabel"],children:he.jsx(YU,{})}),r&&he.jsx(Hy,{className:"react-flow__controls-interactive",onClick:B,title:C["controls.interactive.ariaLabel"],"aria-label":C["controls.interactive.ariaLabel"],children:A?he.jsx(ZU,{}):he.jsx(JU,{})}),d]})}O3.displayName="Controls";const e7=_e.memo(O3);function t7({id:n,x:e,y:t,width:r,height:s,style:i,color:a,strokeColor:l,strokeWidth:c,className:p,borderRadius:d,shapeRendering:h,selected:m,onClick:x}){const{background:w,backgroundColor:A}=i||{},P=a||w||A;return he.jsx("rect",{className:$r(["react-flow__minimap-node",{selected:m},p]),x:e,y:t,rx:d,ry:d,width:r,height:s,style:{fill:P,stroke:l,strokeWidth:c},shapeRendering:h,onClick:x?S=>x(S,n):void 0})}const n7=_e.memo(t7),r7=n=>n.nodes.map(e=>e.id),sS=n=>n instanceof Function?n:()=>n;function s7({nodeStrokeColor:n,nodeColor:e,nodeClassName:t="",nodeBorderRadius:r=5,nodeStrokeWidth:s,nodeComponent:i=n7,onClick:a}){const l=On(r7,lr),c=sS(e),p=sS(n),d=sS(t),h=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return he.jsx(he.Fragment,{children:l.map(m=>he.jsx(a7,{id:m,nodeColorFunc:c,nodeStrokeColorFunc:p,nodeClassNameFunc:d,nodeBorderRadius:r,nodeStrokeWidth:s,NodeComponent:i,onClick:a,shapeRendering:h},m))})}function i7({id:n,nodeColorFunc:e,nodeStrokeColorFunc:t,nodeClassNameFunc:r,nodeBorderRadius:s,nodeStrokeWidth:i,shapeRendering:a,NodeComponent:l,onClick:c}){const{node:p,x:d,y:h,width:m,height:x}=On(w=>{const{internals:A}=w.nodeLookup.get(n),P=A.userNode,{x:S,y:C}=A.positionAbsolute,{width:I,height:_}=Gu(P);return{node:P,x:S,y:C,width:I,height:_}},lr);return!p||p.hidden||!kO(p)?null:he.jsx(l,{x:d,y:h,width:m,height:x,style:p.style,selected:!!p.selected,className:r(p),color:e(p),borderRadius:s,strokeColor:t(p),strokeWidth:i,shapeRendering:a,onClick:c,id:p.id})}const a7=_e.memo(i7);var o7=_e.memo(s7);const l7=200,u7=150,c7=n=>!n.hidden,p7=n=>{const e={x:-n.transform[0]/n.transform[2],y:-n.transform[1]/n.transform[2],width:n.width/n.transform[2],height:n.height/n.transform[2]};return{viewBB:e,boundingRect:n.nodeLookup.size>0?MO(_m(n.nodeLookup,{filter:c7}),e):e,rfId:n.rfId,panZoom:n.panZoom,translateExtent:n.translateExtent,flowWidth:n.width,flowHeight:n.height,ariaLabelConfig:n.ariaLabelConfig}},d7="react-flow__minimap-desc";function L3({style:n,className:e,nodeStrokeColor:t,nodeColor:r,nodeClassName:s="",nodeBorderRadius:i=5,nodeStrokeWidth:a,nodeComponent:l,bgColor:c,maskColor:p,maskStrokeColor:d,maskStrokeWidth:h,position:m="bottom-right",onClick:x,onNodeClick:w,pannable:A=!1,zoomable:P=!1,ariaLabel:S,inversePan:C,zoomStep:I=1,offsetScale:_=5}){const D=cr(),F=_e.useRef(null),{boundingRect:O,viewBB:L,rfId:B,panZoom:j,translateExtent:M,flowWidth:ee,flowHeight:ue,ariaLabelConfig:J}=On(p7,lr),ae=n?.width??l7,oe=n?.height??u7,re=O.width/ae,X=O.height/oe,H=Math.max(re,X),Q=H*ae,W=H*oe,Y=_*H,Z=O.x-(Q-O.width)/2-Y,se=O.y-(W-O.height)/2-Y,me=Q+Y*2,Ce=W+Y*2,be=`${d7}-${B}`,Se=_e.useRef(0),Le=_e.useRef();Se.current=H,_e.useEffect(()=>{if(F.current&&j)return Le.current=Nz({domNode:F.current,panZoom:j,getTransform:()=>D.getState().transform,getViewScale:()=>Se.current}),()=>{Le.current?.destroy()}},[j]),_e.useEffect(()=>{Le.current?.update({translateExtent:M,width:ee,height:ue,inversePan:C,pannable:A,zoomStep:I,zoomable:P})},[A,P,C,I,M,ee,ue]);const Ue=x?it=>{const[pt,It]=Le.current?.pointer(it)||[0,0];x(it,{x:pt,y:It})}:void 0,st=w?_e.useCallback((it,pt)=>{const It=D.getState().nodeLookup.get(pt).internals.userNode;w(it,It)},[]):void 0,Ze=S??J["minimap.ariaLabel"];return he.jsx(Qx,{position:m,style:{...n,"--xy-minimap-background-color-props":typeof c=="string"?c:void 0,"--xy-minimap-mask-background-color-props":typeof p=="string"?p:void 0,"--xy-minimap-mask-stroke-color-props":typeof d=="string"?d:void 0,"--xy-minimap-mask-stroke-width-props":typeof h=="number"?h*H:void 0,"--xy-minimap-node-background-color-props":typeof r=="string"?r:void 0,"--xy-minimap-node-stroke-color-props":typeof t=="string"?t:void 0,"--xy-minimap-node-stroke-width-props":typeof a=="number"?a:void 0},className:$r(["react-flow__minimap",e]),"data-testid":"rf__minimap",children:he.jsxs("svg",{width:ae,height:oe,viewBox:`${Z} ${se} ${me} ${Ce}`,className:"react-flow__minimap-svg",role:"img","aria-labelledby":be,ref:F,onClick:Ue,children:[Ze&&he.jsx("title",{id:be,children:Ze}),he.jsx(o7,{onClick:st,nodeColor:r,nodeStrokeColor:t,nodeBorderRadius:i,nodeClassName:s,nodeStrokeWidth:a,nodeComponent:l}),he.jsx("path",{className:"react-flow__minimap-mask",d:`M${Z-Y},${se-Y}h${me+Y*2}v${Ce+Y*2}h${-me-Y*2}z
        M${L.x},${L.y}h${L.width}v${L.height}h${-L.width}z`,fillRule:"evenodd",pointerEvents:"none"})]})})}L3.displayName="MiniMap";const f7=_e.memo(L3),h7=n=>e=>n?`${Math.max(1/e.transform[2],1)}`:void 0,m7={[Nf.Line]:"right",[Nf.Handle]:"bottom-right"};function y7({nodeId:n,position:e,variant:t=Nf.Handle,className:r,style:s=void 0,children:i,color:a,minWidth:l=10,minHeight:c=10,maxWidth:p=Number.MAX_VALUE,maxHeight:d=Number.MAX_VALUE,keepAspectRatio:h=!1,resizeDirection:m,autoScale:x=!0,shouldResize:w,onResizeStart:A,onResize:P,onResizeEnd:S}){const C=p3(),I=typeof n=="string"?n:C,_=cr(),D=_e.useRef(null),F=t===Nf.Handle,O=On(_e.useCallback(h7(F&&x),[F,x]),lr),L=_e.useRef(null),B=e??m7[t];_e.useEffect(()=>{if(!(!D.current||!I))return L.current||(L.current=zz({domNode:D.current,nodeId:I,getStoreItems:()=>{const{nodeLookup:M,transform:ee,snapGrid:ue,snapToGrid:J,nodeOrigin:ae,domNode:oe}=_.getState();return{nodeLookup:M,transform:ee,snapGrid:ue,snapToGrid:J,nodeOrigin:ae,paneDomNode:oe}},onChange:(M,ee)=>{const{triggerNodeChanges:ue,nodeLookup:J,parentLookup:ae,nodeOrigin:oe}=_.getState(),re=[],X={x:M.x,y:M.y},H=J.get(I);if(H&&H.expandParent&&H.parentId){const Q=H.origin??oe,W=M.width??H.measured.width??0,Y=M.height??H.measured.height??0,Z={id:H.id,parentId:H.parentId,rect:{width:W,height:Y,...OO({x:M.x??H.position.x,y:M.y??H.position.y},{width:W,height:Y},H.parentId,J,Q)}},se=Aw([Z],J,ae,oe);re.push(...se),X.x=M.x?Math.max(Q[0]*W,M.x):void 0,X.y=M.y?Math.max(Q[1]*Y,M.y):void 0}if(X.x!==void 0&&X.y!==void 0){const Q={id:I,type:"position",position:{...X}};re.push(Q)}if(M.width!==void 0&&M.height!==void 0){const W={id:I,type:"dimensions",resizing:!0,setAttributes:m?m==="horizontal"?"width":"height":!0,dimensions:{width:M.width,height:M.height}};re.push(W)}for(const Q of ee){const W={...Q,type:"position"};re.push(W)}ue(re)},onEnd:({width:M,height:ee})=>{const ue={id:I,type:"dimensions",resizing:!1,dimensions:{width:M,height:ee}};_.getState().triggerNodeChanges([ue])}})),L.current.update({controlPosition:B,boundaries:{minWidth:l,minHeight:c,maxWidth:p,maxHeight:d},keepAspectRatio:h,resizeDirection:m,onResizeStart:A,onResize:P,onResizeEnd:S,shouldResize:w}),()=>{L.current?.destroy()}},[B,l,c,p,d,h,A,P,S,w]);const j=B.split("-");return he.jsx("div",{className:$r(["react-flow__resize-control","nodrag",...j,t,r]),ref:D,style:{...s,scale:O,...a&&{[F?"backgroundColor":"borderColor"]:a}},children:i})}_e.memo(y7);const x_=n=>{let e;const t=new Set,r=(p,d)=>{const h=typeof p=="function"?p(e):p;if(!Object.is(h,e)){const m=e;e=d??(typeof h!="object"||h===null)?h:Object.assign({},e,h),t.forEach(x=>x(e,m))}},s=()=>e,l={setState:r,getState:s,getInitialState:()=>c,subscribe:p=>(t.add(p),()=>t.delete(p))},c=e=n(r,s,l);return l},g7=(n=>n?x_(n):x_),x7=n=>n;function v7(n,e=x7){const t=Ha.useSyncExternalStore(n.subscribe,Ha.useCallback(()=>e(n.getState()),[n,e]),Ha.useCallback(()=>e(n.getInitialState()),[n,e]));return Ha.useDebugValue(t),t}const T7=n=>{const e=g7(n),t=r=>v7(e,r);return Object.assign(t,e),t},S7=(n=>T7);function v_(n,e){try{const t=parseFloat(localStorage.getItem(n)??"");return isNaN(t)?e:Math.max(.25,Math.min(.75,t))}catch{return e}}function b7(n,e){return{nodes:structuredClone(n),edges:structuredClone(e)}}const D3="fs:graph";function w7(n,e){try{localStorage.setItem(D3,JSON.stringify({nodes:n,edges:e}))}catch{}}function E7(){try{const n=localStorage.getItem(D3);if(!n)return null;const e=JSON.parse(n);if(Array.isArray(e.nodes)&&Array.isArray(e.edges)){const t=new Set(["noise","fractal","voronoi"]);for(const r of e.nodes)r.type==="shader"&&t.has(r.data?.registryType)&&(r.type="preview");return e}}catch{}return null}const tm=[{id:"quest3",label:"Meta Quest 3",maxPoints:150},{id:"quest3s",label:"Meta Quest 3s",maxPoints:120},{id:"steamframe",label:"Steam Frame",maxPoints:300},{id:"pico4",label:"Pico 4",maxPoints:100},{id:"visionpro",label:"Apple Vision Pro",maxPoints:400}],_t=S7()((n,e)=>({nodes:[],edges:[],code:"",codeErrors:[],totalCost:0,syncSource:"initial",syncInProgress:!1,activeScript:null,codeSyncRequested:!1,history:[],historyIndex:-1,isUndoRedo:!1,contextMenu:{open:!1,x:0,y:0,type:"canvas"},splitRatio:v_("fs:splitRatio",.6),rightSplitRatio:v_("fs:rightSplitRatio",.6),shaderName:(()=>{try{return localStorage.getItem("fs:shaderName")||"My Shader"}catch{return"My Shader"}})(),selectedHeadsetId:(()=>{try{return localStorage.getItem("fs:headsetId")||"quest3"}catch{return"quest3"}})(),setNodes:(t,r="graph")=>n({nodes:t,syncSource:r,isUndoRedo:!1}),setEdges:(t,r="graph")=>n({edges:t,syncSource:r,isUndoRedo:!1}),onNodesChange:t=>n(r=>({nodes:i3(t,r.nodes),syncSource:"graph"})),onEdgesChange:t=>n(r=>({edges:a3(t,r.edges),syncSource:"graph"})),addNode:t=>{e().pushHistory(),n(r=>({nodes:[...r.nodes,t],syncSource:"graph",isUndoRedo:!1}))},removeNode:t=>{e().pushHistory(),n(r=>({nodes:r.nodes.filter(s=>s.id!==t),edges:r.edges.filter(s=>s.source!==t&&s.target!==t),syncSource:"graph",isUndoRedo:!1}))},removeEdge:t=>{e().pushHistory(),n(r=>({edges:r.edges.filter(s=>s.id!==t),syncSource:"graph",isUndoRedo:!1}))},updateNodeData:(t,r)=>{e().pushHistory(),n(s=>({nodes:s.nodes.map(i=>i.id===t?{...i,data:{...i.data,...r}}:i),syncSource:"graph",isUndoRedo:!1}))},setCode:(t,r="code")=>{t===e().code&&r==="code"||n(r==="code"?{code:t}:{code:t,syncSource:r})},setCodeErrors:t=>n({codeErrors:t}),requestCodeSync:()=>n({codeSyncRequested:!0}),setTotalCost:t=>n({totalCost:t}),setSyncInProgress:t=>n({syncInProgress:t}),setActiveScript:t=>n({activeScript:t}),pushHistory:()=>n(t=>{if(t.isUndoRedo)return{};const r=b7(t.nodes,t.edges),i=[...t.history.slice(0,t.historyIndex+1),r].slice(-50);return{history:i,historyIndex:i.length-1}}),undo:()=>n(t=>{if(t.historyIndex<0)return{};const r=t.history[t.historyIndex];return{nodes:structuredClone(r.nodes),edges:structuredClone(r.edges),historyIndex:t.historyIndex-1,syncSource:"graph",isUndoRedo:!0}}),redo:()=>n(t=>{if(t.historyIndex>=t.history.length-1)return{};const r=t.history[t.historyIndex+1];return{nodes:structuredClone(r.nodes),edges:structuredClone(r.edges),historyIndex:t.historyIndex+1,syncSource:"graph",isUndoRedo:!0}}),openContextMenu:(t,r,s,i,a)=>n({contextMenu:{open:!0,x:t,y:r,type:s,nodeId:i,edgeId:a}}),closeContextMenu:()=>n({contextMenu:{open:!1,x:0,y:0,type:"canvas"}}),setSplitRatio:t=>{const r=Math.max(.25,Math.min(.75,t));try{localStorage.setItem("fs:splitRatio",String(r))}catch{}n({splitRatio:r})},setRightSplitRatio:t=>{const r=Math.max(.25,Math.min(.75,t));try{localStorage.setItem("fs:rightSplitRatio",String(r))}catch{}n({rightSplitRatio:r})},setShaderName:t=>{try{localStorage.setItem("fs:shaderName",t)}catch{}n({shaderName:t})},setSelectedHeadsetId:t=>{try{localStorage.setItem("fs:headsetId",t)}catch{}n({selectedHeadsetId:t})}}));let iS=null;_t.subscribe((n,e)=>{(n.nodes!==e.nodes||n.edges!==e.edges)&&(iS&&clearTimeout(iS),iS=setTimeout(()=>w7(n.nodes,n.edges),300))});function T_({left:n,right:e,direction:t="horizontal",ratio:r,onRatioChange:s}){const i=_e.useRef(null),a=_e.useRef(!1),l=t==="horizontal",c=_e.useCallback(()=>{a.current=!0,document.body.style.cursor=l?"col-resize":"row-resize",document.body.style.userSelect="none";const d=m=>{if(!a.current||!i.current)return;const x=i.current.getBoundingClientRect(),w=l?(m.clientX-x.left)/x.width:(m.clientY-x.top)/x.height;s(w)},h=()=>{a.current=!1,document.body.style.cursor="",document.body.style.userSelect="",document.removeEventListener("mousemove",d),document.removeEventListener("mouseup",h)};document.addEventListener("mousemove",d),document.addEventListener("mouseup",h)},[l,s]),p=l?{width:`${r*100}%`}:{height:`${r*100}%`};return he.jsxs("div",{ref:i,style:{display:"flex",flexDirection:l?"row":"column",flex:1,overflow:"hidden"},children:[he.jsx("div",{style:{...p,overflow:"hidden"},children:n}),he.jsx("div",{onMouseDown:c,style:{[l?"width":"height"]:"4px",cursor:l?"col-resize":"row-resize",background:"var(--border-subtle)",flexShrink:0,transition:"background var(--transition-fast)"},onMouseEnter:d=>{d.target.style.background="var(--border-focus)"},onMouseLeave:d=>{a.current||(d.target.style.background="var(--border-subtle)")}}),he.jsx("div",{style:{flex:1,overflow:"hidden"},children:e})]})}function P7(){const n=_t(a=>a.shaderName),e=_t(a=>a.setShaderName),t=_t(a=>a.selectedHeadsetId),r=_t(a=>a.setSelectedHeadsetId),s=_e.useCallback(a=>{e(a.target.value)},[e]),i=_e.useCallback(a=>{r(a.target.value)},[r]);return tm.find(a=>a.id===t)??tm[0],he.jsxs("div",{className:"toolbar",children:[he.jsx("div",{className:"toolbar__left",children:he.jsx("span",{className:"toolbar__brand",children:"FastShaders"})}),he.jsx("div",{className:"toolbar__center",children:he.jsx("input",{className:"toolbar__name-input",type:"text",value:n,onChange:s,placeholder:"Shader name...",spellCheck:!1})}),he.jsx("div",{className:"toolbar__right",children:he.jsxs("label",{className:"toolbar__headset-label",children:["Target",he.jsx("select",{className:"toolbar__headset-select",value:t,onChange:i,children:tm.map(a=>he.jsxs("option",{value:a.id,children:[a.label," (",a.maxPoints," pts)"]},a.id))})]})})]})}/**
 * @license
 * Copyright 2010-2026 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const R3="183",A7=0,N7=1,_7=2,rx=3,B1=0,Mm=1,C7=2,_w=0,V1=1,I7=6,j1=100,z1=204,U1=205,S_=3,M7=0,q1=0,Cw=300,gm=301,$1=302,k7=306,b_=1e3,qp=1001,w_=1002,Mi=1003,Hu=1006,F3=1008,O7=1008,L7=1009,D7=1013,Iw=1014,B3=1015,Fu=1016,V3=1023,W1=1026,R7=1027,af=1030,F7=37490,B7=36285,aS=0,V7=1,Ax="",Wo="srgb",Nx="srgb-linear",E_="linear",nm="srgb",oS="",j3="rg",j7="ga",Md=7680,P_=519,z7=513,z3=515,U3=518,_f=35044,_x=35048,jc=2e3,Gc=2001,U7={TEXTURE_COMPARE:"depthTextureCompare"};function q7(n){for(let e=n.length-1;e>=0;--e)if(n[e]>=65535)return!0;return!1}function A_(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}const N_={};function H1(...n){const e="THREE."+n.shift();console.log(e,...n)}function q3(n){const e=n[0];if(typeof e=="string"&&e.startsWith("TSL:")){const t=n[1];t&&t.isStackTrace?n[0]+=" "+t.getLocation():n[1]='Stack trace not available. Enable "THREE.Node.captureStackTrace" to capture stack traces.'}return n}function on(...n){n=q3(n);const e="THREE."+n.shift();{const t=n[0];t&&t.isStackTrace?console.warn(t.getError(e)):console.warn(e,...n)}}function kn(...n){n=q3(n);const e="THREE."+n.shift();{const t=n[0];t&&t.isStackTrace?console.error(t.getError(e)):console.error(e,...n)}}function Xa(...n){const e=n.join(" ");e in N_||(N_[e]=!0,on(...n))}class Df{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(t)===-1&&r[e].push(t)}hasEventListener(e,t){const r=this._listeners;return r===void 0?!1:r[e]!==void 0&&r[e].indexOf(t)!==-1}removeEventListener(e,t){const r=this._listeners;if(r===void 0)return;const s=r[e];if(s!==void 0){const i=s.indexOf(t);i!==-1&&s.splice(i,1)}}dispatchEvent(e){const t=this._listeners;if(t===void 0)return;const r=t[e.type];if(r!==void 0){e.target=this;const s=r.slice(0);for(let i=0,a=s.length;i<a;i++)s[i].call(this,e);e.target=null}}}const Bs=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let __=1234567;const rm=Math.PI/180,Cx=180/Math.PI;function ju(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(Bs[n&255]+Bs[n>>8&255]+Bs[n>>16&255]+Bs[n>>24&255]+"-"+Bs[e&255]+Bs[e>>8&255]+"-"+Bs[e>>16&15|64]+Bs[e>>24&255]+"-"+Bs[t&63|128]+Bs[t>>8&255]+"-"+Bs[t>>16&255]+Bs[t>>24&255]+Bs[r&255]+Bs[r>>8&255]+Bs[r>>16&255]+Bs[r>>24&255]).toLowerCase()}function Nn(n,e,t){return Math.max(e,Math.min(t,n))}function Mw(n,e){return(n%e+e)%e}function $7(n,e,t,r,s){return r+(n-e)*(s-r)/(t-e)}function W7(n,e,t){return n!==e?(t-n)/(e-n):0}function sm(n,e,t){return(1-t)*n+t*e}function H7(n,e,t,r){return sm(n,e,1-Math.exp(-t*r))}function K7(n,e=1){return e-Math.abs(Mw(n,e*2)-e)}function X7(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*(3-2*n))}function G7(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*n*(n*(n*6-15)+10))}function Y7(n,e){return n+Math.floor(Math.random()*(e-n+1))}function J7(n,e){return n+Math.random()*(e-n)}function Z7(n){return n*(.5-Math.random())}function Q7(n){n!==void 0&&(__=n);let e=__+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function eq(n){return n*rm}function tq(n){return n*Cx}function nq(n){return(n&n-1)===0&&n!==0}function rq(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function sq(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function iq(n,e,t,r,s){const i=Math.cos,a=Math.sin,l=i(t/2),c=a(t/2),p=i((e+r)/2),d=a((e+r)/2),h=i((e-r)/2),m=a((e-r)/2),x=i((r-e)/2),w=a((r-e)/2);switch(s){case"XYX":n.set(l*d,c*h,c*m,l*p);break;case"YZY":n.set(c*m,l*d,c*h,l*p);break;case"ZXZ":n.set(c*h,c*m,l*d,l*p);break;case"XZX":n.set(l*d,c*w,c*x,l*p);break;case"YXY":n.set(c*x,l*d,c*w,l*p);break;case"ZYZ":n.set(c*w,c*x,l*d,l*p);break;default:on("MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+s)}}function Xo(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return n/4294967295;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int32Array:return Math.max(n/2147483647,-1);case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function $n(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return Math.round(n*4294967295);case Uint16Array:return Math.round(n*65535);case Uint8Array:return Math.round(n*255);case Int32Array:return Math.round(n*2147483647);case Int16Array:return Math.round(n*32767);case Int8Array:return Math.round(n*127);default:throw new Error("Invalid component type.")}}const $3={DEG2RAD:rm,RAD2DEG:Cx,generateUUID:ju,clamp:Nn,euclideanModulo:Mw,mapLinear:$7,inverseLerp:W7,lerp:sm,damp:H7,pingpong:K7,smoothstep:X7,smootherstep:G7,randInt:Y7,randFloat:J7,randFloatSpread:Z7,seededRandom:Q7,degToRad:eq,radToDeg:tq,isPowerOfTwo:nq,ceilPowerOfTwo:rq,floorPowerOfTwo:sq,setQuaternionFromProperEuler:iq,normalize:$n,denormalize:Xo};class sr{constructor(e=0,t=0){sr.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,r=this.y,s=e.elements;return this.x=s[0]*t+s[3]*r+s[6],this.y=s[1]*t+s[4]*r+s[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Nn(this.x,e.x,t.x),this.y=Nn(this.y,e.y,t.y),this}clampScalar(e,t){return this.x=Nn(this.x,e,t),this.y=Nn(this.y,e,t),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Nn(r,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const r=this.dot(e)/t;return Math.acos(Nn(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y;return t*t+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const r=Math.cos(t),s=Math.sin(t),i=this.x-e.x,a=this.y-e.y;return this.x=i*r-a*s+e.x,this.y=i*s+a*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Rf{constructor(e=0,t=0,r=0,s=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=r,this._w=s}static slerpFlat(e,t,r,s,i,a,l){let c=r[s+0],p=r[s+1],d=r[s+2],h=r[s+3],m=i[a+0],x=i[a+1],w=i[a+2],A=i[a+3];if(h!==A||c!==m||p!==x||d!==w){let P=c*m+p*x+d*w+h*A;P<0&&(m=-m,x=-x,w=-w,A=-A,P=-P);let S=1-l;if(P<.9995){const C=Math.acos(P),I=Math.sin(C);S=Math.sin(S*C)/I,l=Math.sin(l*C)/I,c=c*S+m*l,p=p*S+x*l,d=d*S+w*l,h=h*S+A*l}else{c=c*S+m*l,p=p*S+x*l,d=d*S+w*l,h=h*S+A*l;const C=1/Math.sqrt(c*c+p*p+d*d+h*h);c*=C,p*=C,d*=C,h*=C}}e[t]=c,e[t+1]=p,e[t+2]=d,e[t+3]=h}static multiplyQuaternionsFlat(e,t,r,s,i,a){const l=r[s],c=r[s+1],p=r[s+2],d=r[s+3],h=i[a],m=i[a+1],x=i[a+2],w=i[a+3];return e[t]=l*w+d*h+c*x-p*m,e[t+1]=c*w+d*m+p*h-l*x,e[t+2]=p*w+d*x+l*m-c*h,e[t+3]=d*w-l*h-c*m-p*x,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,r,s){return this._x=e,this._y=t,this._z=r,this._w=s,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t=!0){const r=e._x,s=e._y,i=e._z,a=e._order,l=Math.cos,c=Math.sin,p=l(r/2),d=l(s/2),h=l(i/2),m=c(r/2),x=c(s/2),w=c(i/2);switch(a){case"XYZ":this._x=m*d*h+p*x*w,this._y=p*x*h-m*d*w,this._z=p*d*w+m*x*h,this._w=p*d*h-m*x*w;break;case"YXZ":this._x=m*d*h+p*x*w,this._y=p*x*h-m*d*w,this._z=p*d*w-m*x*h,this._w=p*d*h+m*x*w;break;case"ZXY":this._x=m*d*h-p*x*w,this._y=p*x*h+m*d*w,this._z=p*d*w+m*x*h,this._w=p*d*h-m*x*w;break;case"ZYX":this._x=m*d*h-p*x*w,this._y=p*x*h+m*d*w,this._z=p*d*w-m*x*h,this._w=p*d*h+m*x*w;break;case"YZX":this._x=m*d*h+p*x*w,this._y=p*x*h+m*d*w,this._z=p*d*w-m*x*h,this._w=p*d*h-m*x*w;break;case"XZY":this._x=m*d*h-p*x*w,this._y=p*x*h-m*d*w,this._z=p*d*w+m*x*h,this._w=p*d*h+m*x*w;break;default:on("Quaternion: .setFromEuler() encountered an unknown order: "+a)}return t===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const r=t/2,s=Math.sin(r);return this._x=e.x*s,this._y=e.y*s,this._z=e.z*s,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,r=t[0],s=t[4],i=t[8],a=t[1],l=t[5],c=t[9],p=t[2],d=t[6],h=t[10],m=r+l+h;if(m>0){const x=.5/Math.sqrt(m+1);this._w=.25/x,this._x=(d-c)*x,this._y=(i-p)*x,this._z=(a-s)*x}else if(r>l&&r>h){const x=2*Math.sqrt(1+r-l-h);this._w=(d-c)/x,this._x=.25*x,this._y=(s+a)/x,this._z=(i+p)/x}else if(l>h){const x=2*Math.sqrt(1+l-r-h);this._w=(i-p)/x,this._x=(s+a)/x,this._y=.25*x,this._z=(c+d)/x}else{const x=2*Math.sqrt(1+h-r-l);this._w=(a-s)/x,this._x=(i+p)/x,this._y=(c+d)/x,this._z=.25*x}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let r=e.dot(t)+1;return r<1e-8?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Nn(this.dot(e),-1,1)))}rotateTowards(e,t){const r=this.angleTo(e);if(r===0)return this;const s=Math.min(1,t/r);return this.slerp(e,s),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const r=e._x,s=e._y,i=e._z,a=e._w,l=t._x,c=t._y,p=t._z,d=t._w;return this._x=r*d+a*l+s*p-i*c,this._y=s*d+a*c+i*l-r*p,this._z=i*d+a*p+r*c-s*l,this._w=a*d-r*l-s*c-i*p,this._onChangeCallback(),this}slerp(e,t){let r=e._x,s=e._y,i=e._z,a=e._w,l=this.dot(e);l<0&&(r=-r,s=-s,i=-i,a=-a,l=-l);let c=1-t;if(l<.9995){const p=Math.acos(l),d=Math.sin(p);c=Math.sin(c*p)/d,t=Math.sin(t*p)/d,this._x=this._x*c+r*t,this._y=this._y*c+s*t,this._z=this._z*c+i*t,this._w=this._w*c+a*t,this._onChangeCallback()}else this._x=this._x*c+r*t,this._y=this._y*c+s*t,this._z=this._z*c+i*t,this._w=this._w*c+a*t,this.normalize();return this}slerpQuaternions(e,t,r){return this.copy(e).slerp(t,r)}random(){const e=2*Math.PI*Math.random(),t=2*Math.PI*Math.random(),r=Math.random(),s=Math.sqrt(1-r),i=Math.sqrt(r);return this.set(s*Math.sin(e),s*Math.cos(e),i*Math.sin(t),i*Math.cos(t))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class qe{constructor(e=0,t=0,r=0){qe.prototype.isVector3=!0,this.x=e,this.y=t,this.z=r}set(e,t,r){return r===void 0&&(r=this.z),this.x=e,this.y=t,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(C_.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(C_.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,r=this.y,s=this.z,i=e.elements;return this.x=i[0]*t+i[3]*r+i[6]*s,this.y=i[1]*t+i[4]*r+i[7]*s,this.z=i[2]*t+i[5]*r+i[8]*s,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,r=this.y,s=this.z,i=e.elements,a=1/(i[3]*t+i[7]*r+i[11]*s+i[15]);return this.x=(i[0]*t+i[4]*r+i[8]*s+i[12])*a,this.y=(i[1]*t+i[5]*r+i[9]*s+i[13])*a,this.z=(i[2]*t+i[6]*r+i[10]*s+i[14])*a,this}applyQuaternion(e){const t=this.x,r=this.y,s=this.z,i=e.x,a=e.y,l=e.z,c=e.w,p=2*(a*s-l*r),d=2*(l*t-i*s),h=2*(i*r-a*t);return this.x=t+c*p+a*h-l*d,this.y=r+c*d+l*p-i*h,this.z=s+c*h+i*d-a*p,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,r=this.y,s=this.z,i=e.elements;return this.x=i[0]*t+i[4]*r+i[8]*s,this.y=i[1]*t+i[5]*r+i[9]*s,this.z=i[2]*t+i[6]*r+i[10]*s,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Nn(this.x,e.x,t.x),this.y=Nn(this.y,e.y,t.y),this.z=Nn(this.z,e.z,t.z),this}clampScalar(e,t){return this.x=Nn(this.x,e,t),this.y=Nn(this.y,e,t),this.z=Nn(this.z,e,t),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Nn(r,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const r=e.x,s=e.y,i=e.z,a=t.x,l=t.y,c=t.z;return this.x=s*c-i*l,this.y=i*a-r*c,this.z=r*l-s*a,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const r=e.dot(this)/t;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return lS.copy(this).projectOnVector(e),this.sub(lS)}reflect(e){return this.sub(lS.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const r=this.dot(e)/t;return Math.acos(Nn(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y,s=this.z-e.z;return t*t+r*r+s*s}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,r){const s=Math.sin(t)*e;return this.x=s*Math.sin(r),this.y=Math.cos(t)*e,this.z=s*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,r){return this.x=e*Math.sin(t),this.y=r,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),s=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=r,this.z=s,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,t=Math.random()*2-1,r=Math.sqrt(1-t*t);return this.x=r*Math.cos(e),this.y=t,this.z=r*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const lS=new qe,C_=new Rf;class so{constructor(e,t,r,s,i,a,l,c,p){so.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,t,r,s,i,a,l,c,p)}set(e,t,r,s,i,a,l,c,p){const d=this.elements;return d[0]=e,d[1]=s,d[2]=l,d[3]=t,d[4]=i,d[5]=c,d[6]=r,d[7]=a,d[8]=p,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],this}extractBasis(e,t,r){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,s=t.elements,i=this.elements,a=r[0],l=r[3],c=r[6],p=r[1],d=r[4],h=r[7],m=r[2],x=r[5],w=r[8],A=s[0],P=s[3],S=s[6],C=s[1],I=s[4],_=s[7],D=s[2],F=s[5],O=s[8];return i[0]=a*A+l*C+c*D,i[3]=a*P+l*I+c*F,i[6]=a*S+l*_+c*O,i[1]=p*A+d*C+h*D,i[4]=p*P+d*I+h*F,i[7]=p*S+d*_+h*O,i[2]=m*A+x*C+w*D,i[5]=m*P+x*I+w*F,i[8]=m*S+x*_+w*O,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[1],s=e[2],i=e[3],a=e[4],l=e[5],c=e[6],p=e[7],d=e[8];return t*a*d-t*l*p-r*i*d+r*l*c+s*i*p-s*a*c}invert(){const e=this.elements,t=e[0],r=e[1],s=e[2],i=e[3],a=e[4],l=e[5],c=e[6],p=e[7],d=e[8],h=d*a-l*p,m=l*c-d*i,x=p*i-a*c,w=t*h+r*m+s*x;if(w===0)return this.set(0,0,0,0,0,0,0,0,0);const A=1/w;return e[0]=h*A,e[1]=(s*p-d*r)*A,e[2]=(l*r-s*a)*A,e[3]=m*A,e[4]=(d*t-s*c)*A,e[5]=(s*i-l*t)*A,e[6]=x*A,e[7]=(r*c-p*t)*A,e[8]=(a*t-r*i)*A,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,r,s,i,a,l){const c=Math.cos(i),p=Math.sin(i);return this.set(r*c,r*p,-r*(c*a+p*l)+a+e,-s*p,s*c,-s*(-p*a+c*l)+l+t,0,0,1),this}scale(e,t){return this.premultiply(uS.makeScale(e,t)),this}rotate(e){return this.premultiply(uS.makeRotation(-e)),this}translate(e,t){return this.premultiply(uS.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,r,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,r=e.elements;for(let s=0;s<9;s++)if(t[s]!==r[s])return!1;return!0}fromArray(e,t=0){for(let r=0;r<9;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const uS=new so,I_=new so().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),M_=new so().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function aq(){const n={enabled:!0,workingColorSpace:Nx,spaces:{},convert:function(s,i,a){return this.enabled===!1||i===a||!i||!a||(this.spaces[i].transfer===nm&&(s.r=zu(s.r),s.g=zu(s.g),s.b=zu(s.b)),this.spaces[i].primaries!==this.spaces[a].primaries&&(s.applyMatrix3(this.spaces[i].toXYZ),s.applyMatrix3(this.spaces[a].fromXYZ)),this.spaces[a].transfer===nm&&(s.r=df(s.r),s.g=df(s.g),s.b=df(s.b))),s},workingToColorSpace:function(s,i){return this.convert(s,this.workingColorSpace,i)},colorSpaceToWorking:function(s,i){return this.convert(s,i,this.workingColorSpace)},getPrimaries:function(s){return this.spaces[s].primaries},getTransfer:function(s){return s===Ax?E_:this.spaces[s].transfer},getToneMappingMode:function(s){return this.spaces[s].outputColorSpaceConfig.toneMappingMode||"standard"},getLuminanceCoefficients:function(s,i=this.workingColorSpace){return s.fromArray(this.spaces[i].luminanceCoefficients)},define:function(s){Object.assign(this.spaces,s)},_getMatrix:function(s,i,a){return s.copy(this.spaces[i].toXYZ).multiply(this.spaces[a].fromXYZ)},_getDrawingBufferColorSpace:function(s){return this.spaces[s].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(s=this.workingColorSpace){return this.spaces[s].workingColorSpaceConfig.unpackColorSpace},fromWorkingColorSpace:function(s,i){return Xa("ColorManagement: .fromWorkingColorSpace() has been renamed to .workingToColorSpace()."),n.workingToColorSpace(s,i)},toWorkingColorSpace:function(s,i){return Xa("ColorManagement: .toWorkingColorSpace() has been renamed to .colorSpaceToWorking()."),n.colorSpaceToWorking(s,i)}},e=[.64,.33,.3,.6,.15,.06],t=[.2126,.7152,.0722],r=[.3127,.329];return n.define({[Nx]:{primaries:e,whitePoint:r,transfer:E_,toXYZ:I_,fromXYZ:M_,luminanceCoefficients:t,workingColorSpaceConfig:{unpackColorSpace:Wo},outputColorSpaceConfig:{drawingBufferColorSpace:Wo}},[Wo]:{primaries:e,whitePoint:r,transfer:nm,toXYZ:I_,fromXYZ:M_,luminanceCoefficients:t,outputColorSpaceConfig:{drawingBufferColorSpace:Wo}}}),n}const Nr=aq();function zu(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function df(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}let kd;class oq{static getDataURL(e,t="image/png"){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let r;if(e instanceof HTMLCanvasElement)r=e;else{kd===void 0&&(kd=A_("canvas")),kd.width=e.width,kd.height=e.height;const s=kd.getContext("2d");e instanceof ImageData?s.putImageData(e,0,0):s.drawImage(e,0,0,e.width,e.height),r=kd}return r.toDataURL(t)}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=A_("canvas");t.width=e.width,t.height=e.height;const r=t.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const s=r.getImageData(0,0,e.width,e.height),i=s.data;for(let a=0;a<i.length;a++)i[a]=zu(i[a]/255)*255;return r.putImageData(s,0,0),t}else if(e.data){const t=e.data.slice(0);for(let r=0;r<t.length;r++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[r]=Math.floor(zu(t[r]/255)*255):t[r]=zu(t[r]);return{data:t,width:e.width,height:e.height}}else return on("ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let lq=0;class kw{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:lq++}),this.uuid=ju(),this.data=e,this.dataReady=!0,this.version=0}getSize(e){const t=this.data;return typeof HTMLVideoElement<"u"&&t instanceof HTMLVideoElement?e.set(t.videoWidth,t.videoHeight,0):typeof VideoFrame<"u"&&t instanceof VideoFrame?e.set(t.displayHeight,t.displayWidth,0):t!==null?e.set(t.width,t.height,t.depth||0):e.set(0,0,0),e}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},s=this.data;if(s!==null){let i;if(Array.isArray(s)){i=[];for(let a=0,l=s.length;a<l;a++)s[a].isDataTexture?i.push(cS(s[a].image)):i.push(cS(s[a]))}else i=cS(s);r.url=i}return t||(e.images[this.uuid]=r),r}}function cS(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?oq.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(on("Texture: Unable to serialize Texture."),{})}let uq=0;const pS=new qe;class ri extends Df{constructor(e=ri.DEFAULT_IMAGE,t=ri.DEFAULT_MAPPING,r=qp,s=qp,i=Hu,a=F3,l=V3,c=L7,p=ri.DEFAULT_ANISOTROPY,d=Ax){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:uq++}),this.uuid=ju(),this.name="",this.source=new kw(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=r,this.wrapT=s,this.magFilter=i,this.minFilter=a,this.anisotropy=p,this.format=l,this.internalFormat=null,this.type=c,this.offset=new sr(0,0),this.repeat=new sr(1,1),this.center=new sr(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new so,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=d,this.userData={},this.updateRanges=[],this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.isArrayTexture=!!(e&&e.depth&&e.depth>1),this.pmremVersion=0}get width(){return this.source.getSize(pS).x}get height(){return this.source.getSize(pS).y}get depth(){return this.source.getSize(pS).z}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.renderTarget=e.renderTarget,this.isRenderTargetTexture=e.isRenderTargetTexture,this.isArrayTexture=e.isArrayTexture,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}setValues(e){for(const t in e){const r=e[t];if(r===void 0){on(`Texture.setValues(): parameter '${t}' has value of undefined.`);continue}const s=this[t];if(s===void 0){on(`Texture.setValues(): property '${t}' does not exist.`);continue}s&&r&&s.isVector2&&r.isVector2||s&&r&&s.isVector3&&r.isVector3||s&&r&&s.isMatrix3&&r.isMatrix3?s.copy(r):this[t]=r}}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.7,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),t||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==Cw)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case b_:e.x=e.x-Math.floor(e.x);break;case qp:e.x=e.x<0?0:1;break;case w_:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case b_:e.y=e.y-Math.floor(e.y);break;case qp:e.y=e.y<0?0:1;break;case w_:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}ri.DEFAULT_IMAGE=null;ri.DEFAULT_MAPPING=Cw;ri.DEFAULT_ANISOTROPY=1;class Ss{constructor(e=0,t=0,r=0,s=1){Ss.prototype.isVector4=!0,this.x=e,this.y=t,this.z=r,this.w=s}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,r,s){return this.x=e,this.y=t,this.z=r,this.w=s,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,r=this.y,s=this.z,i=this.w,a=e.elements;return this.x=a[0]*t+a[4]*r+a[8]*s+a[12]*i,this.y=a[1]*t+a[5]*r+a[9]*s+a[13]*i,this.z=a[2]*t+a[6]*r+a[10]*s+a[14]*i,this.w=a[3]*t+a[7]*r+a[11]*s+a[15]*i,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,r,s,i;const c=e.elements,p=c[0],d=c[4],h=c[8],m=c[1],x=c[5],w=c[9],A=c[2],P=c[6],S=c[10];if(Math.abs(d-m)<.01&&Math.abs(h-A)<.01&&Math.abs(w-P)<.01){if(Math.abs(d+m)<.1&&Math.abs(h+A)<.1&&Math.abs(w+P)<.1&&Math.abs(p+x+S-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const I=(p+1)/2,_=(x+1)/2,D=(S+1)/2,F=(d+m)/4,O=(h+A)/4,L=(w+P)/4;return I>_&&I>D?I<.01?(r=0,s=.707106781,i=.707106781):(r=Math.sqrt(I),s=F/r,i=O/r):_>D?_<.01?(r=.707106781,s=0,i=.707106781):(s=Math.sqrt(_),r=F/s,i=L/s):D<.01?(r=.707106781,s=.707106781,i=0):(i=Math.sqrt(D),r=O/i,s=L/i),this.set(r,s,i,t),this}let C=Math.sqrt((P-w)*(P-w)+(h-A)*(h-A)+(m-d)*(m-d));return Math.abs(C)<.001&&(C=1),this.x=(P-w)/C,this.y=(h-A)/C,this.z=(m-d)/C,this.w=Math.acos((p+x+S-1)/2),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this.w=t[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Nn(this.x,e.x,t.x),this.y=Nn(this.y,e.y,t.y),this.z=Nn(this.z,e.z,t.z),this.w=Nn(this.w,e.w,t.w),this}clampScalar(e,t){return this.x=Nn(this.x,e,t),this.y=Nn(this.y,e,t),this.z=Nn(this.z,e,t),this.w=Nn(this.w,e,t),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Nn(r,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this.w=e.w+(t.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class km extends Df{constructor(e=1,t=1,r={}){super(),r=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:Hu,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1,depth:1,multiview:!1},r),this.isRenderTarget=!0,this.width=e,this.height=t,this.depth=r.depth,this.scissor=new Ss(0,0,e,t),this.scissorTest=!1,this.viewport=new Ss(0,0,e,t),this.textures=[];const s={width:e,height:t,depth:r.depth},i=new ri(s),a=r.count;for(let l=0;l<a;l++)this.textures[l]=i.clone(),this.textures[l].isRenderTargetTexture=!0,this.textures[l].renderTarget=this;this._setTextureOptions(r),this.depthBuffer=r.depthBuffer,this.stencilBuffer=r.stencilBuffer,this.resolveDepthBuffer=r.resolveDepthBuffer,this.resolveStencilBuffer=r.resolveStencilBuffer,this._depthTexture=null,this.depthTexture=r.depthTexture,this.samples=r.samples,this.multiview=r.multiview}_setTextureOptions(e={}){const t={minFilter:Hu,generateMipmaps:!1,flipY:!1,internalFormat:null};e.mapping!==void 0&&(t.mapping=e.mapping),e.wrapS!==void 0&&(t.wrapS=e.wrapS),e.wrapT!==void 0&&(t.wrapT=e.wrapT),e.wrapR!==void 0&&(t.wrapR=e.wrapR),e.magFilter!==void 0&&(t.magFilter=e.magFilter),e.minFilter!==void 0&&(t.minFilter=e.minFilter),e.format!==void 0&&(t.format=e.format),e.type!==void 0&&(t.type=e.type),e.anisotropy!==void 0&&(t.anisotropy=e.anisotropy),e.colorSpace!==void 0&&(t.colorSpace=e.colorSpace),e.flipY!==void 0&&(t.flipY=e.flipY),e.generateMipmaps!==void 0&&(t.generateMipmaps=e.generateMipmaps),e.internalFormat!==void 0&&(t.internalFormat=e.internalFormat);for(let r=0;r<this.textures.length;r++)this.textures[r].setValues(t)}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}set depthTexture(e){this._depthTexture!==null&&(this._depthTexture.renderTarget=null),e!==null&&(e.renderTarget=this),this._depthTexture=e}get depthTexture(){return this._depthTexture}setSize(e,t,r=1){if(this.width!==e||this.height!==t||this.depth!==r){this.width=e,this.height=t,this.depth=r;for(let s=0,i=this.textures.length;s<i;s++)this.textures[s].image.width=e,this.textures[s].image.height=t,this.textures[s].image.depth=r,this.textures[s].isData3DTexture!==!0&&(this.textures[s].isArrayTexture=this.textures[s].image.depth>1);this.dispose()}this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let t=0,r=e.textures.length;t<r;t++){this.textures[t]=e.textures[t].clone(),this.textures[t].isRenderTargetTexture=!0,this.textures[t].renderTarget=this;const s=Object.assign({},e.textures[t].image);this.textures[t].source=new kw(s)}return this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class cq extends ri{constructor(e=null,t=1,r=1,s=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:r,depth:s},this.magFilter=Mi,this.minFilter=Mi,this.wrapR=qp,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class zn{constructor(e,t,r,s,i,a,l,c,p,d,h,m,x,w,A,P){zn.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,t,r,s,i,a,l,c,p,d,h,m,x,w,A,P)}set(e,t,r,s,i,a,l,c,p,d,h,m,x,w,A,P){const S=this.elements;return S[0]=e,S[4]=t,S[8]=r,S[12]=s,S[1]=i,S[5]=a,S[9]=l,S[13]=c,S[2]=p,S[6]=d,S[10]=h,S[14]=m,S[3]=x,S[7]=w,S[11]=A,S[15]=P,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new zn().fromArray(this.elements)}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],this}copyPosition(e){const t=this.elements,r=e.elements;return t[12]=r[12],t[13]=r[13],t[14]=r[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,r){return this.determinant()===0?(e.set(1,0,0),t.set(0,1,0),r.set(0,0,1),this):(e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this)}makeBasis(e,t,r){return this.set(e.x,t.x,r.x,0,e.y,t.y,r.y,0,e.z,t.z,r.z,0,0,0,0,1),this}extractRotation(e){if(e.determinant()===0)return this.identity();const t=this.elements,r=e.elements,s=1/Od.setFromMatrixColumn(e,0).length(),i=1/Od.setFromMatrixColumn(e,1).length(),a=1/Od.setFromMatrixColumn(e,2).length();return t[0]=r[0]*s,t[1]=r[1]*s,t[2]=r[2]*s,t[3]=0,t[4]=r[4]*i,t[5]=r[5]*i,t[6]=r[6]*i,t[7]=0,t[8]=r[8]*a,t[9]=r[9]*a,t[10]=r[10]*a,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,r=e.x,s=e.y,i=e.z,a=Math.cos(r),l=Math.sin(r),c=Math.cos(s),p=Math.sin(s),d=Math.cos(i),h=Math.sin(i);if(e.order==="XYZ"){const m=a*d,x=a*h,w=l*d,A=l*h;t[0]=c*d,t[4]=-c*h,t[8]=p,t[1]=x+w*p,t[5]=m-A*p,t[9]=-l*c,t[2]=A-m*p,t[6]=w+x*p,t[10]=a*c}else if(e.order==="YXZ"){const m=c*d,x=c*h,w=p*d,A=p*h;t[0]=m+A*l,t[4]=w*l-x,t[8]=a*p,t[1]=a*h,t[5]=a*d,t[9]=-l,t[2]=x*l-w,t[6]=A+m*l,t[10]=a*c}else if(e.order==="ZXY"){const m=c*d,x=c*h,w=p*d,A=p*h;t[0]=m-A*l,t[4]=-a*h,t[8]=w+x*l,t[1]=x+w*l,t[5]=a*d,t[9]=A-m*l,t[2]=-a*p,t[6]=l,t[10]=a*c}else if(e.order==="ZYX"){const m=a*d,x=a*h,w=l*d,A=l*h;t[0]=c*d,t[4]=w*p-x,t[8]=m*p+A,t[1]=c*h,t[5]=A*p+m,t[9]=x*p-w,t[2]=-p,t[6]=l*c,t[10]=a*c}else if(e.order==="YZX"){const m=a*c,x=a*p,w=l*c,A=l*p;t[0]=c*d,t[4]=A-m*h,t[8]=w*h+x,t[1]=h,t[5]=a*d,t[9]=-l*d,t[2]=-p*d,t[6]=x*h+w,t[10]=m-A*h}else if(e.order==="XZY"){const m=a*c,x=a*p,w=l*c,A=l*p;t[0]=c*d,t[4]=-h,t[8]=p*d,t[1]=m*h+A,t[5]=a*d,t[9]=x*h-w,t[2]=w*h-x,t[6]=l*d,t[10]=A*h+m}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(pq,e,dq)}lookAt(e,t,r){const s=this.elements;return Zi.subVectors(e,t),Zi.lengthSq()===0&&(Zi.z=1),Zi.normalize(),Ac.crossVectors(r,Zi),Ac.lengthSq()===0&&(Math.abs(r.z)===1?Zi.x+=1e-4:Zi.z+=1e-4,Zi.normalize(),Ac.crossVectors(r,Zi)),Ac.normalize(),Ky.crossVectors(Zi,Ac),s[0]=Ac.x,s[4]=Ky.x,s[8]=Zi.x,s[1]=Ac.y,s[5]=Ky.y,s[9]=Zi.y,s[2]=Ac.z,s[6]=Ky.z,s[10]=Zi.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,s=t.elements,i=this.elements,a=r[0],l=r[4],c=r[8],p=r[12],d=r[1],h=r[5],m=r[9],x=r[13],w=r[2],A=r[6],P=r[10],S=r[14],C=r[3],I=r[7],_=r[11],D=r[15],F=s[0],O=s[4],L=s[8],B=s[12],j=s[1],M=s[5],ee=s[9],ue=s[13],J=s[2],ae=s[6],oe=s[10],re=s[14],X=s[3],H=s[7],Q=s[11],W=s[15];return i[0]=a*F+l*j+c*J+p*X,i[4]=a*O+l*M+c*ae+p*H,i[8]=a*L+l*ee+c*oe+p*Q,i[12]=a*B+l*ue+c*re+p*W,i[1]=d*F+h*j+m*J+x*X,i[5]=d*O+h*M+m*ae+x*H,i[9]=d*L+h*ee+m*oe+x*Q,i[13]=d*B+h*ue+m*re+x*W,i[2]=w*F+A*j+P*J+S*X,i[6]=w*O+A*M+P*ae+S*H,i[10]=w*L+A*ee+P*oe+S*Q,i[14]=w*B+A*ue+P*re+S*W,i[3]=C*F+I*j+_*J+D*X,i[7]=C*O+I*M+_*ae+D*H,i[11]=C*L+I*ee+_*oe+D*Q,i[15]=C*B+I*ue+_*re+D*W,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[4],s=e[8],i=e[12],a=e[1],l=e[5],c=e[9],p=e[13],d=e[2],h=e[6],m=e[10],x=e[14],w=e[3],A=e[7],P=e[11],S=e[15],C=c*x-p*m,I=l*x-p*h,_=l*m-c*h,D=a*x-p*d,F=a*m-c*d,O=a*h-l*d;return t*(A*C-P*I+S*_)-r*(w*C-P*D+S*F)+s*(w*I-A*D+S*O)-i*(w*_-A*F+P*O)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,r){const s=this.elements;return e.isVector3?(s[12]=e.x,s[13]=e.y,s[14]=e.z):(s[12]=e,s[13]=t,s[14]=r),this}invert(){const e=this.elements,t=e[0],r=e[1],s=e[2],i=e[3],a=e[4],l=e[5],c=e[6],p=e[7],d=e[8],h=e[9],m=e[10],x=e[11],w=e[12],A=e[13],P=e[14],S=e[15],C=t*l-r*a,I=t*c-s*a,_=t*p-i*a,D=r*c-s*l,F=r*p-i*l,O=s*p-i*c,L=d*A-h*w,B=d*P-m*w,j=d*S-x*w,M=h*P-m*A,ee=h*S-x*A,ue=m*S-x*P,J=C*ue-I*ee+_*M+D*j-F*B+O*L;if(J===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const ae=1/J;return e[0]=(l*ue-c*ee+p*M)*ae,e[1]=(s*ee-r*ue-i*M)*ae,e[2]=(A*O-P*F+S*D)*ae,e[3]=(m*F-h*O-x*D)*ae,e[4]=(c*j-a*ue-p*B)*ae,e[5]=(t*ue-s*j+i*B)*ae,e[6]=(P*_-w*O-S*I)*ae,e[7]=(d*O-m*_+x*I)*ae,e[8]=(a*ee-l*j+p*L)*ae,e[9]=(r*j-t*ee-i*L)*ae,e[10]=(w*F-A*_+S*C)*ae,e[11]=(h*_-d*F-x*C)*ae,e[12]=(l*B-a*M-c*L)*ae,e[13]=(t*M-r*B+s*L)*ae,e[14]=(A*I-w*D-P*C)*ae,e[15]=(d*D-h*I+m*C)*ae,this}scale(e){const t=this.elements,r=e.x,s=e.y,i=e.z;return t[0]*=r,t[4]*=s,t[8]*=i,t[1]*=r,t[5]*=s,t[9]*=i,t[2]*=r,t[6]*=s,t[10]*=i,t[3]*=r,t[7]*=s,t[11]*=i,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],s=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,r,s))}makeTranslation(e,t,r){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,r,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,t,-r,0,0,r,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,0,r,0,0,1,0,0,-r,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,0,r,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const r=Math.cos(t),s=Math.sin(t),i=1-r,a=e.x,l=e.y,c=e.z,p=i*a,d=i*l;return this.set(p*a+r,p*l-s*c,p*c+s*l,0,p*l+s*c,d*l+r,d*c-s*a,0,p*c-s*l,d*c+s*a,i*c*c+r,0,0,0,0,1),this}makeScale(e,t,r){return this.set(e,0,0,0,0,t,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,t,r,s,i,a){return this.set(1,r,i,0,e,1,a,0,t,s,1,0,0,0,0,1),this}compose(e,t,r){const s=this.elements,i=t._x,a=t._y,l=t._z,c=t._w,p=i+i,d=a+a,h=l+l,m=i*p,x=i*d,w=i*h,A=a*d,P=a*h,S=l*h,C=c*p,I=c*d,_=c*h,D=r.x,F=r.y,O=r.z;return s[0]=(1-(A+S))*D,s[1]=(x+_)*D,s[2]=(w-I)*D,s[3]=0,s[4]=(x-_)*F,s[5]=(1-(m+S))*F,s[6]=(P+C)*F,s[7]=0,s[8]=(w+I)*O,s[9]=(P-C)*O,s[10]=(1-(m+A))*O,s[11]=0,s[12]=e.x,s[13]=e.y,s[14]=e.z,s[15]=1,this}decompose(e,t,r){const s=this.elements;e.x=s[12],e.y=s[13],e.z=s[14];const i=this.determinant();if(i===0)return r.set(1,1,1),t.identity(),this;let a=Od.set(s[0],s[1],s[2]).length();const l=Od.set(s[4],s[5],s[6]).length(),c=Od.set(s[8],s[9],s[10]).length();i<0&&(a=-a),Vo.copy(this);const p=1/a,d=1/l,h=1/c;return Vo.elements[0]*=p,Vo.elements[1]*=p,Vo.elements[2]*=p,Vo.elements[4]*=d,Vo.elements[5]*=d,Vo.elements[6]*=d,Vo.elements[8]*=h,Vo.elements[9]*=h,Vo.elements[10]*=h,t.setFromRotationMatrix(Vo),r.x=a,r.y=l,r.z=c,this}makePerspective(e,t,r,s,i,a,l=jc,c=!1){const p=this.elements,d=2*i/(t-e),h=2*i/(r-s),m=(t+e)/(t-e),x=(r+s)/(r-s);let w,A;if(c)w=i/(a-i),A=a*i/(a-i);else if(l===jc)w=-(a+i)/(a-i),A=-2*a*i/(a-i);else if(l===Gc)w=-a/(a-i),A=-a*i/(a-i);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+l);return p[0]=d,p[4]=0,p[8]=m,p[12]=0,p[1]=0,p[5]=h,p[9]=x,p[13]=0,p[2]=0,p[6]=0,p[10]=w,p[14]=A,p[3]=0,p[7]=0,p[11]=-1,p[15]=0,this}makeOrthographic(e,t,r,s,i,a,l=jc,c=!1){const p=this.elements,d=2/(t-e),h=2/(r-s),m=-(t+e)/(t-e),x=-(r+s)/(r-s);let w,A;if(c)w=1/(a-i),A=a/(a-i);else if(l===jc)w=-2/(a-i),A=-(a+i)/(a-i);else if(l===Gc)w=-1/(a-i),A=-i/(a-i);else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+l);return p[0]=d,p[4]=0,p[8]=0,p[12]=m,p[1]=0,p[5]=h,p[9]=0,p[13]=x,p[2]=0,p[6]=0,p[10]=w,p[14]=A,p[3]=0,p[7]=0,p[11]=0,p[15]=1,this}equals(e){const t=this.elements,r=e.elements;for(let s=0;s<16;s++)if(t[s]!==r[s])return!1;return!0}fromArray(e,t=0){for(let r=0;r<16;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e[t+9]=r[9],e[t+10]=r[10],e[t+11]=r[11],e[t+12]=r[12],e[t+13]=r[13],e[t+14]=r[14],e[t+15]=r[15],e}}const Od=new qe,Vo=new zn,pq=new qe(0,0,0),dq=new qe(1,1,1),Ac=new qe,Ky=new qe,Zi=new qe,k_=new zn,O_=new Rf;class nd{constructor(e=0,t=0,r=0,s=nd.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=r,this._order=s}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,r,s=this._order){return this._x=e,this._y=t,this._z=r,this._order=s,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,r=!0){const s=e.elements,i=s[0],a=s[4],l=s[8],c=s[1],p=s[5],d=s[9],h=s[2],m=s[6],x=s[10];switch(t){case"XYZ":this._y=Math.asin(Nn(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-d,x),this._z=Math.atan2(-a,i)):(this._x=Math.atan2(m,p),this._z=0);break;case"YXZ":this._x=Math.asin(-Nn(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(l,x),this._z=Math.atan2(c,p)):(this._y=Math.atan2(-h,i),this._z=0);break;case"ZXY":this._x=Math.asin(Nn(m,-1,1)),Math.abs(m)<.9999999?(this._y=Math.atan2(-h,x),this._z=Math.atan2(-a,p)):(this._y=0,this._z=Math.atan2(c,i));break;case"ZYX":this._y=Math.asin(-Nn(h,-1,1)),Math.abs(h)<.9999999?(this._x=Math.atan2(m,x),this._z=Math.atan2(c,i)):(this._x=0,this._z=Math.atan2(-a,p));break;case"YZX":this._z=Math.asin(Nn(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(-d,p),this._y=Math.atan2(-h,i)):(this._x=0,this._y=Math.atan2(l,x));break;case"XZY":this._z=Math.asin(-Nn(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(m,p),this._y=Math.atan2(l,i)):(this._x=Math.atan2(-d,x),this._y=0);break;default:on("Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,r){return k_.makeRotationFromQuaternion(e),this.setFromRotationMatrix(k_,t,r)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return O_.setFromEuler(this),this.setFromQuaternion(O_,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}nd.DEFAULT_ORDER="XYZ";class fq{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let hq=0;const L_=new qe,Ld=new Rf,Au=new zn,Xy=new qe,dh=new qe,mq=new qe,yq=new Rf,D_=new qe(1,0,0),R_=new qe(0,1,0),F_=new qe(0,0,1),B_={type:"added"},gq={type:"removed"},Dd={type:"childadded",child:null},dS={type:"childremoved",child:null};class Qo extends Df{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:hq++}),this.uuid=ju(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Qo.DEFAULT_UP.clone();const e=new qe,t=new nd,r=new Rf,s=new qe(1,1,1);function i(){r.setFromEuler(t,!1)}function a(){t.setFromQuaternion(r,void 0,!1)}t._onChange(i),r._onChange(a),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:s},modelViewMatrix:{value:new zn},normalMatrix:{value:new so}}),this.matrix=new zn,this.matrixWorld=new zn,this.matrixAutoUpdate=Qo.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=Qo.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new fq,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.customDepthMaterial=void 0,this.customDistanceMaterial=void 0,this.static=!1,this.userData={},this.pivot=null}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return Ld.setFromAxisAngle(e,t),this.quaternion.multiply(Ld),this}rotateOnWorldAxis(e,t){return Ld.setFromAxisAngle(e,t),this.quaternion.premultiply(Ld),this}rotateX(e){return this.rotateOnAxis(D_,e)}rotateY(e){return this.rotateOnAxis(R_,e)}rotateZ(e){return this.rotateOnAxis(F_,e)}translateOnAxis(e,t){return L_.copy(e).applyQuaternion(this.quaternion),this.position.add(L_.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(D_,e)}translateY(e){return this.translateOnAxis(R_,e)}translateZ(e){return this.translateOnAxis(F_,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Au.copy(this.matrixWorld).invert())}lookAt(e,t,r){e.isVector3?Xy.copy(e):Xy.set(e,t,r);const s=this.parent;this.updateWorldMatrix(!0,!1),dh.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Au.lookAt(dh,Xy,this.up):Au.lookAt(Xy,dh,this.up),this.quaternion.setFromRotationMatrix(Au),s&&(Au.extractRotation(s.matrixWorld),Ld.setFromRotationMatrix(Au),this.quaternion.premultiply(Ld.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(kn("Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(B_),Dd.child=e,this.dispatchEvent(Dd),Dd.child=null):kn("Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(gq),dS.child=e,this.dispatchEvent(dS),dS.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),Au.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Au.multiply(e.parent.matrixWorld)),e.applyMatrix4(Au),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(B_),Dd.child=e,this.dispatchEvent(Dd),Dd.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let r=0,s=this.children.length;r<s;r++){const a=this.children[r].getObjectByProperty(e,t);if(a!==void 0)return a}}getObjectsByProperty(e,t,r=[]){this[e]===t&&r.push(this);const s=this.children;for(let i=0,a=s.length;i<a;i++)s[i].getObjectsByProperty(e,t,r);return r}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(dh,e,mq),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(dh,yq,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let r=0,s=t.length;r<s;r++)t[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let r=0,s=t.length;r<s;r++)t[r].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale);const e=this.pivot;if(e!==null){const t=e.x,r=e.y,s=e.z,i=this.matrix.elements;i[12]+=t-i[0]*t-i[4]*r-i[8]*s,i[13]+=r-i[1]*t-i[5]*r-i[9]*s,i[14]+=s-i[2]*t-i[6]*r-i[10]*s}this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let r=0,s=t.length;r<s;r++)t[r].updateMatrixWorld(e)}updateWorldMatrix(e,t){const r=this.parent;if(e===!0&&r!==null&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),t===!0){const s=this.children;for(let i=0,a=s.length;i<a;i++)s[i].updateWorldMatrix(!1,!0)}}toJSON(e){const t=e===void 0||typeof e=="string",r={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.7,type:"Object",generator:"Object3D.toJSON"});const s={};s.uuid=this.uuid,s.type=this.type,this.name!==""&&(s.name=this.name),this.castShadow===!0&&(s.castShadow=!0),this.receiveShadow===!0&&(s.receiveShadow=!0),this.visible===!1&&(s.visible=!1),this.frustumCulled===!1&&(s.frustumCulled=!1),this.renderOrder!==0&&(s.renderOrder=this.renderOrder),this.static!==!1&&(s.static=this.static),Object.keys(this.userData).length>0&&(s.userData=this.userData),s.layers=this.layers.mask,s.matrix=this.matrix.toArray(),s.up=this.up.toArray(),this.pivot!==null&&(s.pivot=this.pivot.toArray()),this.matrixAutoUpdate===!1&&(s.matrixAutoUpdate=!1),this.morphTargetDictionary!==void 0&&(s.morphTargetDictionary=Object.assign({},this.morphTargetDictionary)),this.morphTargetInfluences!==void 0&&(s.morphTargetInfluences=this.morphTargetInfluences.slice()),this.isInstancedMesh&&(s.type="InstancedMesh",s.count=this.count,s.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(s.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(s.type="BatchedMesh",s.perObjectFrustumCulled=this.perObjectFrustumCulled,s.sortObjects=this.sortObjects,s.drawRanges=this._drawRanges,s.reservedRanges=this._reservedRanges,s.geometryInfo=this._geometryInfo.map(l=>({...l,boundingBox:l.boundingBox?l.boundingBox.toJSON():void 0,boundingSphere:l.boundingSphere?l.boundingSphere.toJSON():void 0})),s.instanceInfo=this._instanceInfo.map(l=>({...l})),s.availableInstanceIds=this._availableInstanceIds.slice(),s.availableGeometryIds=this._availableGeometryIds.slice(),s.nextIndexStart=this._nextIndexStart,s.nextVertexStart=this._nextVertexStart,s.geometryCount=this._geometryCount,s.maxInstanceCount=this._maxInstanceCount,s.maxVertexCount=this._maxVertexCount,s.maxIndexCount=this._maxIndexCount,s.geometryInitialized=this._geometryInitialized,s.matricesTexture=this._matricesTexture.toJSON(e),s.indirectTexture=this._indirectTexture.toJSON(e),this._colorsTexture!==null&&(s.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(s.boundingSphere=this.boundingSphere.toJSON()),this.boundingBox!==null&&(s.boundingBox=this.boundingBox.toJSON()));function i(l,c){return l[c.uuid]===void 0&&(l[c.uuid]=c.toJSON(e)),c.uuid}if(this.isScene)this.background&&(this.background.isColor?s.background=this.background.toJSON():this.background.isTexture&&(s.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(s.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){s.geometry=i(e.geometries,this.geometry);const l=this.geometry.parameters;if(l!==void 0&&l.shapes!==void 0){const c=l.shapes;if(Array.isArray(c))for(let p=0,d=c.length;p<d;p++){const h=c[p];i(e.shapes,h)}else i(e.shapes,c)}}if(this.isSkinnedMesh&&(s.bindMode=this.bindMode,s.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(i(e.skeletons,this.skeleton),s.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const l=[];for(let c=0,p=this.material.length;c<p;c++)l.push(i(e.materials,this.material[c]));s.material=l}else s.material=i(e.materials,this.material);if(this.children.length>0){s.children=[];for(let l=0;l<this.children.length;l++)s.children.push(this.children[l].toJSON(e).object)}if(this.animations.length>0){s.animations=[];for(let l=0;l<this.animations.length;l++){const c=this.animations[l];s.animations.push(i(e.animations,c))}}if(t){const l=a(e.geometries),c=a(e.materials),p=a(e.textures),d=a(e.images),h=a(e.shapes),m=a(e.skeletons),x=a(e.animations),w=a(e.nodes);l.length>0&&(r.geometries=l),c.length>0&&(r.materials=c),p.length>0&&(r.textures=p),d.length>0&&(r.images=d),h.length>0&&(r.shapes=h),m.length>0&&(r.skeletons=m),x.length>0&&(r.animations=x),w.length>0&&(r.nodes=w)}return r.object=s,r;function a(l){const c=[];for(const p in l){const d=l[p];delete d.metadata,c.push(d)}return c}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),e.pivot!==null&&(this.pivot=e.pivot.clone()),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.static=e.static,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let r=0;r<e.children.length;r++){const s=e.children[r];this.add(s.clone())}return this}}Qo.DEFAULT_UP=new qe(0,1,0);Qo.DEFAULT_MATRIX_AUTO_UPDATE=!0;Qo.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const W3={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Nc={h:0,s:0,l:0},Gy={h:0,s:0,l:0};function fS(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*6*(2/3-t):n}class xt{constructor(e,t,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,r)}set(e,t,r){if(t===void 0&&r===void 0){const s=e;s&&s.isColor?this.copy(s):typeof s=="number"?this.setHex(s):typeof s=="string"&&this.setStyle(s)}else this.setRGB(e,t,r);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=Wo){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,Nr.colorSpaceToWorking(this,t),this}setRGB(e,t,r,s=Nr.workingColorSpace){return this.r=e,this.g=t,this.b=r,Nr.colorSpaceToWorking(this,s),this}setHSL(e,t,r,s=Nr.workingColorSpace){if(e=Mw(e,1),t=Nn(t,0,1),r=Nn(r,0,1),t===0)this.r=this.g=this.b=r;else{const i=r<=.5?r*(1+t):r+t-r*t,a=2*r-i;this.r=fS(a,i,e+1/3),this.g=fS(a,i,e),this.b=fS(a,i,e-1/3)}return Nr.colorSpaceToWorking(this,s),this}setStyle(e,t=Wo){function r(i){i!==void 0&&parseFloat(i)<1&&on("Color: Alpha component of "+e+" will be ignored.")}let s;if(s=/^(\w+)\(([^\)]*)\)/.exec(e)){let i;const a=s[1],l=s[2];switch(a){case"rgb":case"rgba":if(i=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l))return r(i[4]),this.setRGB(Math.min(255,parseInt(i[1],10))/255,Math.min(255,parseInt(i[2],10))/255,Math.min(255,parseInt(i[3],10))/255,t);if(i=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l))return r(i[4]),this.setRGB(Math.min(100,parseInt(i[1],10))/100,Math.min(100,parseInt(i[2],10))/100,Math.min(100,parseInt(i[3],10))/100,t);break;case"hsl":case"hsla":if(i=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l))return r(i[4]),this.setHSL(parseFloat(i[1])/360,parseFloat(i[2])/100,parseFloat(i[3])/100,t);break;default:on("Color: Unknown color model "+e)}}else if(s=/^\#([A-Fa-f\d]+)$/.exec(e)){const i=s[1],a=i.length;if(a===3)return this.setRGB(parseInt(i.charAt(0),16)/15,parseInt(i.charAt(1),16)/15,parseInt(i.charAt(2),16)/15,t);if(a===6)return this.setHex(parseInt(i,16),t);on("Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=Wo){const r=W3[e.toLowerCase()];return r!==void 0?this.setHex(r,t):on("Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=zu(e.r),this.g=zu(e.g),this.b=zu(e.b),this}copyLinearToSRGB(e){return this.r=df(e.r),this.g=df(e.g),this.b=df(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Wo){return Nr.workingToColorSpace(Vs.copy(this),e),Math.round(Nn(Vs.r*255,0,255))*65536+Math.round(Nn(Vs.g*255,0,255))*256+Math.round(Nn(Vs.b*255,0,255))}getHexString(e=Wo){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=Nr.workingColorSpace){Nr.workingToColorSpace(Vs.copy(this),t);const r=Vs.r,s=Vs.g,i=Vs.b,a=Math.max(r,s,i),l=Math.min(r,s,i);let c,p;const d=(l+a)/2;if(l===a)c=0,p=0;else{const h=a-l;switch(p=d<=.5?h/(a+l):h/(2-a-l),a){case r:c=(s-i)/h+(s<i?6:0);break;case s:c=(i-r)/h+2;break;case i:c=(r-s)/h+4;break}c/=6}return e.h=c,e.s=p,e.l=d,e}getRGB(e,t=Nr.workingColorSpace){return Nr.workingToColorSpace(Vs.copy(this),t),e.r=Vs.r,e.g=Vs.g,e.b=Vs.b,e}getStyle(e=Wo){Nr.workingToColorSpace(Vs.copy(this),e);const t=Vs.r,r=Vs.g,s=Vs.b;return e!==Wo?`color(${e} ${t.toFixed(3)} ${r.toFixed(3)} ${s.toFixed(3)})`:`rgb(${Math.round(t*255)},${Math.round(r*255)},${Math.round(s*255)})`}offsetHSL(e,t,r){return this.getHSL(Nc),this.setHSL(Nc.h+e,Nc.s+t,Nc.l+r)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,r){return this.r=e.r+(t.r-e.r)*r,this.g=e.g+(t.g-e.g)*r,this.b=e.b+(t.b-e.b)*r,this}lerpHSL(e,t){this.getHSL(Nc),e.getHSL(Gy);const r=sm(Nc.h,Gy.h,t),s=sm(Nc.s,Gy.s,t),i=sm(Nc.l,Gy.l,t);return this.setHSL(r,s,i),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,r=this.g,s=this.b,i=e.elements;return this.r=i[0]*t+i[3]*r+i[6]*s,this.g=i[1]*t+i[4]*r+i[7]*s,this.b=i[2]*t+i[5]*r+i[8]*s,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const Vs=new xt;xt.NAMES=W3;const jo=new qe,Nu=new qe,hS=new qe,_u=new qe,Rd=new qe,Fd=new qe,V_=new qe,mS=new qe,yS=new qe,gS=new qe,xS=new Ss,vS=new Ss,TS=new Ss;class Go{constructor(e=new qe,t=new qe,r=new qe){this.a=e,this.b=t,this.c=r}static getNormal(e,t,r,s){s.subVectors(r,t),jo.subVectors(e,t),s.cross(jo);const i=s.lengthSq();return i>0?s.multiplyScalar(1/Math.sqrt(i)):s.set(0,0,0)}static getBarycoord(e,t,r,s,i){jo.subVectors(s,t),Nu.subVectors(r,t),hS.subVectors(e,t);const a=jo.dot(jo),l=jo.dot(Nu),c=jo.dot(hS),p=Nu.dot(Nu),d=Nu.dot(hS),h=a*p-l*l;if(h===0)return i.set(0,0,0),null;const m=1/h,x=(p*c-l*d)*m,w=(a*d-l*c)*m;return i.set(1-x-w,w,x)}static containsPoint(e,t,r,s){return this.getBarycoord(e,t,r,s,_u)===null?!1:_u.x>=0&&_u.y>=0&&_u.x+_u.y<=1}static getInterpolation(e,t,r,s,i,a,l,c){return this.getBarycoord(e,t,r,s,_u)===null?(c.x=0,c.y=0,"z"in c&&(c.z=0),"w"in c&&(c.w=0),null):(c.setScalar(0),c.addScaledVector(i,_u.x),c.addScaledVector(a,_u.y),c.addScaledVector(l,_u.z),c)}static getInterpolatedAttribute(e,t,r,s,i,a){return xS.setScalar(0),vS.setScalar(0),TS.setScalar(0),xS.fromBufferAttribute(e,t),vS.fromBufferAttribute(e,r),TS.fromBufferAttribute(e,s),a.setScalar(0),a.addScaledVector(xS,i.x),a.addScaledVector(vS,i.y),a.addScaledVector(TS,i.z),a}static isFrontFacing(e,t,r,s){return jo.subVectors(r,t),Nu.subVectors(e,t),jo.cross(Nu).dot(s)<0}set(e,t,r){return this.a.copy(e),this.b.copy(t),this.c.copy(r),this}setFromPointsAndIndices(e,t,r,s){return this.a.copy(e[t]),this.b.copy(e[r]),this.c.copy(e[s]),this}setFromAttributeAndIndices(e,t,r,s){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,s),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return jo.subVectors(this.c,this.b),Nu.subVectors(this.a,this.b),jo.cross(Nu).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Go.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return Go.getBarycoord(e,this.a,this.b,this.c,t)}getInterpolation(e,t,r,s,i){return Go.getInterpolation(e,this.a,this.b,this.c,t,r,s,i)}containsPoint(e){return Go.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Go.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const r=this.a,s=this.b,i=this.c;let a,l;Rd.subVectors(s,r),Fd.subVectors(i,r),mS.subVectors(e,r);const c=Rd.dot(mS),p=Fd.dot(mS);if(c<=0&&p<=0)return t.copy(r);yS.subVectors(e,s);const d=Rd.dot(yS),h=Fd.dot(yS);if(d>=0&&h<=d)return t.copy(s);const m=c*h-d*p;if(m<=0&&c>=0&&d<=0)return a=c/(c-d),t.copy(r).addScaledVector(Rd,a);gS.subVectors(e,i);const x=Rd.dot(gS),w=Fd.dot(gS);if(w>=0&&x<=w)return t.copy(i);const A=x*p-c*w;if(A<=0&&p>=0&&w<=0)return l=p/(p-w),t.copy(r).addScaledVector(Fd,l);const P=d*w-x*h;if(P<=0&&h-d>=0&&x-w>=0)return V_.subVectors(i,s),l=(h-d)/(h-d+(x-w)),t.copy(s).addScaledVector(V_,l);const S=1/(P+A+m);return a=A*S,l=m*S,t.copy(r).addScaledVector(Rd,a).addScaledVector(Fd,l)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}class Om{constructor(e=new qe(1/0,1/0,1/0),t=new qe(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t+=3)this.expandByPoint(zo.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,r=e.count;t<r;t++)this.expandByPoint(zo.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const r=zo.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const r=e.geometry;if(r!==void 0){const i=r.getAttribute("position");if(t===!0&&i!==void 0&&e.isInstancedMesh!==!0)for(let a=0,l=i.count;a<l;a++)e.isMesh===!0?e.getVertexPosition(a,zo):zo.fromBufferAttribute(i,a),zo.applyMatrix4(e.matrixWorld),this.expandByPoint(zo);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),Yy.copy(e.boundingBox)):(r.boundingBox===null&&r.computeBoundingBox(),Yy.copy(r.boundingBox)),Yy.applyMatrix4(e.matrixWorld),this.union(Yy)}const s=e.children;for(let i=0,a=s.length;i<a;i++)this.expandByObject(s[i],t);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,zo),zo.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,r;return e.normal.x>0?(t=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),t<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(fh),Jy.subVectors(this.max,fh),Bd.subVectors(e.a,fh),Vd.subVectors(e.b,fh),jd.subVectors(e.c,fh),_c.subVectors(Vd,Bd),Cc.subVectors(jd,Vd),Cp.subVectors(Bd,jd);let t=[0,-_c.z,_c.y,0,-Cc.z,Cc.y,0,-Cp.z,Cp.y,_c.z,0,-_c.x,Cc.z,0,-Cc.x,Cp.z,0,-Cp.x,-_c.y,_c.x,0,-Cc.y,Cc.x,0,-Cp.y,Cp.x,0];return!SS(t,Bd,Vd,jd,Jy)||(t=[1,0,0,0,1,0,0,0,1],!SS(t,Bd,Vd,jd,Jy))?!1:(Zy.crossVectors(_c,Cc),t=[Zy.x,Zy.y,Zy.z],SS(t,Bd,Vd,jd,Jy))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,zo).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(zo).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Cu[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Cu[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Cu[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Cu[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Cu[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Cu[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Cu[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Cu[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Cu),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}toJSON(){return{min:this.min.toArray(),max:this.max.toArray()}}fromJSON(e){return this.min.fromArray(e.min),this.max.fromArray(e.max),this}}const Cu=[new qe,new qe,new qe,new qe,new qe,new qe,new qe,new qe],zo=new qe,Yy=new Om,Bd=new qe,Vd=new qe,jd=new qe,_c=new qe,Cc=new qe,Cp=new qe,fh=new qe,Jy=new qe,Zy=new qe,Ip=new qe;function SS(n,e,t,r,s){for(let i=0,a=n.length-3;i<=a;i+=3){Ip.fromArray(n,i);const l=s.x*Math.abs(Ip.x)+s.y*Math.abs(Ip.y)+s.z*Math.abs(Ip.z),c=e.dot(Ip),p=t.dot(Ip),d=r.dot(Ip);if(Math.max(-Math.max(c,p,d),Math.min(c,p,d))>l)return!1}return!0}const Br=new qe,Qy=new sr;let xq=0;class Ga{constructor(e,t,r=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,Object.defineProperty(this,"id",{value:xq++}),this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=r,this.usage=_f,this.updateRanges=[],this.gpuType=B3,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,r){e*=this.itemSize,r*=t.itemSize;for(let s=0,i=this.itemSize;s<i;s++)this.array[e+s]=t.array[r+s];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,r=this.count;t<r;t++)Qy.fromBufferAttribute(this,t),Qy.applyMatrix3(e),this.setXY(t,Qy.x,Qy.y);else if(this.itemSize===3)for(let t=0,r=this.count;t<r;t++)Br.fromBufferAttribute(this,t),Br.applyMatrix3(e),this.setXYZ(t,Br.x,Br.y,Br.z);return this}applyMatrix4(e){for(let t=0,r=this.count;t<r;t++)Br.fromBufferAttribute(this,t),Br.applyMatrix4(e),this.setXYZ(t,Br.x,Br.y,Br.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)Br.fromBufferAttribute(this,t),Br.applyNormalMatrix(e),this.setXYZ(t,Br.x,Br.y,Br.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)Br.fromBufferAttribute(this,t),Br.transformDirection(e),this.setXYZ(t,Br.x,Br.y,Br.z);return this}set(e,t=0){return this.array.set(e,t),this}getComponent(e,t){let r=this.array[e*this.itemSize+t];return this.normalized&&(r=Xo(r,this.array)),r}setComponent(e,t,r){return this.normalized&&(r=$n(r,this.array)),this.array[e*this.itemSize+t]=r,this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=Xo(t,this.array)),t}setX(e,t){return this.normalized&&(t=$n(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=Xo(t,this.array)),t}setY(e,t){return this.normalized&&(t=$n(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=Xo(t,this.array)),t}setZ(e,t){return this.normalized&&(t=$n(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=Xo(t,this.array)),t}setW(e,t){return this.normalized&&(t=$n(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,r){return e*=this.itemSize,this.normalized&&(t=$n(t,this.array),r=$n(r,this.array)),this.array[e+0]=t,this.array[e+1]=r,this}setXYZ(e,t,r,s){return e*=this.itemSize,this.normalized&&(t=$n(t,this.array),r=$n(r,this.array),s=$n(s,this.array)),this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=s,this}setXYZW(e,t,r,s,i){return e*=this.itemSize,this.normalized&&(t=$n(t,this.array),r=$n(r,this.array),s=$n(s,this.array),i=$n(i,this.array)),this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=s,this.array[e+3]=i,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==_f&&(e.usage=this.usage),e}}class vq extends Ga{constructor(e,t,r){super(new Uint16Array(e),t,r)}}class Tq extends Ga{constructor(e,t,r){super(new Uint32Array(e),t,r)}}class ff extends Ga{constructor(e,t,r){super(new Float32Array(e),t,r)}}const Sq=new Om,hh=new qe,bS=new qe;class Ow{constructor(e=new qe,t=-1){this.isSphere=!0,this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const r=this.center;t!==void 0?r.copy(t):Sq.setFromPoints(e).getCenter(r);let s=0;for(let i=0,a=e.length;i<a;i++)s=Math.max(s,r.distanceToSquared(e[i]));return this.radius=Math.sqrt(s),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const r=this.center.distanceToSquared(e);return t.copy(e),r>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;hh.subVectors(e,this.center);const t=hh.lengthSq();if(t>this.radius*this.radius){const r=Math.sqrt(t),s=(r-this.radius)*.5;this.center.addScaledVector(hh,s/r),this.radius+=s}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(bS.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(hh.copy(e.center).add(bS)),this.expandByPoint(hh.copy(e.center).sub(bS))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}toJSON(){return{radius:this.radius,center:this.center.toArray()}}fromJSON(e){return this.radius=e.radius,this.center.fromArray(e.center),this}}let bq=0;const Ua=new zn,wS=new Qo,zd=new qe,Qi=new Om,mh=new Om,os=new qe;class rd extends Df{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:bq++}),this.uuid=ju(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.indirectOffset=0,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(q7(e)?Tq:vq)(e,1):this.index=e,this}setIndirect(e,t=0){return this.indirect=e,this.indirectOffset=t,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,r=0){this.groups.push({start:e,count:t,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const i=new so().getNormalMatrix(e);r.applyNormalMatrix(i),r.needsUpdate=!0}const s=this.attributes.tangent;return s!==void 0&&(s.transformDirection(e),s.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Ua.makeRotationFromQuaternion(e),this.applyMatrix4(Ua),this}rotateX(e){return Ua.makeRotationX(e),this.applyMatrix4(Ua),this}rotateY(e){return Ua.makeRotationY(e),this.applyMatrix4(Ua),this}rotateZ(e){return Ua.makeRotationZ(e),this.applyMatrix4(Ua),this}translate(e,t,r){return Ua.makeTranslation(e,t,r),this.applyMatrix4(Ua),this}scale(e,t,r){return Ua.makeScale(e,t,r),this.applyMatrix4(Ua),this}lookAt(e){return wS.lookAt(e),wS.updateMatrix(),this.applyMatrix4(wS.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(zd).negate(),this.translate(zd.x,zd.y,zd.z),this}setFromPoints(e){const t=this.getAttribute("position");if(t===void 0){const r=[];for(let s=0,i=e.length;s<i;s++){const a=e[s];r.push(a.x,a.y,a.z||0)}this.setAttribute("position",new ff(r,3))}else{const r=Math.min(e.length,t.count);for(let s=0;s<r;s++){const i=e[s];t.setXYZ(s,i.x,i.y,i.z||0)}e.length>t.count&&on("BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),t.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Om);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){kn("BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new qe(-1/0,-1/0,-1/0),new qe(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let r=0,s=t.length;r<s;r++){const i=t[r];Qi.setFromBufferAttribute(i),this.morphTargetsRelative?(os.addVectors(this.boundingBox.min,Qi.min),this.boundingBox.expandByPoint(os),os.addVectors(this.boundingBox.max,Qi.max),this.boundingBox.expandByPoint(os)):(this.boundingBox.expandByPoint(Qi.min),this.boundingBox.expandByPoint(Qi.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&kn('BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Ow);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){kn("BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new qe,1/0);return}if(e){const r=this.boundingSphere.center;if(Qi.setFromBufferAttribute(e),t)for(let i=0,a=t.length;i<a;i++){const l=t[i];mh.setFromBufferAttribute(l),this.morphTargetsRelative?(os.addVectors(Qi.min,mh.min),Qi.expandByPoint(os),os.addVectors(Qi.max,mh.max),Qi.expandByPoint(os)):(Qi.expandByPoint(mh.min),Qi.expandByPoint(mh.max))}Qi.getCenter(r);let s=0;for(let i=0,a=e.count;i<a;i++)os.fromBufferAttribute(e,i),s=Math.max(s,r.distanceToSquared(os));if(t)for(let i=0,a=t.length;i<a;i++){const l=t[i],c=this.morphTargetsRelative;for(let p=0,d=l.count;p<d;p++)os.fromBufferAttribute(l,p),c&&(zd.fromBufferAttribute(e,p),os.add(zd)),s=Math.max(s,r.distanceToSquared(os))}this.boundingSphere.radius=Math.sqrt(s),isNaN(this.boundingSphere.radius)&&kn('BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){kn("BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=t.position,s=t.normal,i=t.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Ga(new Float32Array(4*r.count),4));const a=this.getAttribute("tangent"),l=[],c=[];for(let L=0;L<r.count;L++)l[L]=new qe,c[L]=new qe;const p=new qe,d=new qe,h=new qe,m=new sr,x=new sr,w=new sr,A=new qe,P=new qe;function S(L,B,j){p.fromBufferAttribute(r,L),d.fromBufferAttribute(r,B),h.fromBufferAttribute(r,j),m.fromBufferAttribute(i,L),x.fromBufferAttribute(i,B),w.fromBufferAttribute(i,j),d.sub(p),h.sub(p),x.sub(m),w.sub(m);const M=1/(x.x*w.y-w.x*x.y);isFinite(M)&&(A.copy(d).multiplyScalar(w.y).addScaledVector(h,-x.y).multiplyScalar(M),P.copy(h).multiplyScalar(x.x).addScaledVector(d,-w.x).multiplyScalar(M),l[L].add(A),l[B].add(A),l[j].add(A),c[L].add(P),c[B].add(P),c[j].add(P))}let C=this.groups;C.length===0&&(C=[{start:0,count:e.count}]);for(let L=0,B=C.length;L<B;++L){const j=C[L],M=j.start,ee=j.count;for(let ue=M,J=M+ee;ue<J;ue+=3)S(e.getX(ue+0),e.getX(ue+1),e.getX(ue+2))}const I=new qe,_=new qe,D=new qe,F=new qe;function O(L){D.fromBufferAttribute(s,L),F.copy(D);const B=l[L];I.copy(B),I.sub(D.multiplyScalar(D.dot(B))).normalize(),_.crossVectors(F,B);const M=_.dot(c[L])<0?-1:1;a.setXYZW(L,I.x,I.y,I.z,M)}for(let L=0,B=C.length;L<B;++L){const j=C[L],M=j.start,ee=j.count;for(let ue=M,J=M+ee;ue<J;ue+=3)O(e.getX(ue+0)),O(e.getX(ue+1)),O(e.getX(ue+2))}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new Ga(new Float32Array(t.count*3),3),this.setAttribute("normal",r);else for(let m=0,x=r.count;m<x;m++)r.setXYZ(m,0,0,0);const s=new qe,i=new qe,a=new qe,l=new qe,c=new qe,p=new qe,d=new qe,h=new qe;if(e)for(let m=0,x=e.count;m<x;m+=3){const w=e.getX(m+0),A=e.getX(m+1),P=e.getX(m+2);s.fromBufferAttribute(t,w),i.fromBufferAttribute(t,A),a.fromBufferAttribute(t,P),d.subVectors(a,i),h.subVectors(s,i),d.cross(h),l.fromBufferAttribute(r,w),c.fromBufferAttribute(r,A),p.fromBufferAttribute(r,P),l.add(d),c.add(d),p.add(d),r.setXYZ(w,l.x,l.y,l.z),r.setXYZ(A,c.x,c.y,c.z),r.setXYZ(P,p.x,p.y,p.z)}else for(let m=0,x=t.count;m<x;m+=3)s.fromBufferAttribute(t,m+0),i.fromBufferAttribute(t,m+1),a.fromBufferAttribute(t,m+2),d.subVectors(a,i),h.subVectors(s,i),d.cross(h),r.setXYZ(m+0,d.x,d.y,d.z),r.setXYZ(m+1,d.x,d.y,d.z),r.setXYZ(m+2,d.x,d.y,d.z);this.normalizeNormals(),r.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let t=0,r=e.count;t<r;t++)os.fromBufferAttribute(e,t),os.normalize(),e.setXYZ(t,os.x,os.y,os.z)}toNonIndexed(){function e(l,c){const p=l.array,d=l.itemSize,h=l.normalized,m=new p.constructor(c.length*d);let x=0,w=0;for(let A=0,P=c.length;A<P;A++){l.isInterleavedBufferAttribute?x=c[A]*l.data.stride+l.offset:x=c[A]*d;for(let S=0;S<d;S++)m[w++]=p[x++]}return new Ga(m,d,h)}if(this.index===null)return on("BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new rd,r=this.index.array,s=this.attributes;for(const l in s){const c=s[l],p=e(c,r);t.setAttribute(l,p)}const i=this.morphAttributes;for(const l in i){const c=[],p=i[l];for(let d=0,h=p.length;d<h;d++){const m=p[d],x=e(m,r);c.push(x)}t.morphAttributes[l]=c}t.morphTargetsRelative=this.morphTargetsRelative;const a=this.groups;for(let l=0,c=a.length;l<c;l++){const p=a[l];t.addGroup(p.start,p.count,p.materialIndex)}return t}toJSON(){const e={metadata:{version:4.7,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const c=this.parameters;for(const p in c)c[p]!==void 0&&(e[p]=c[p]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const r=this.attributes;for(const c in r){const p=r[c];e.data.attributes[c]=p.toJSON(e.data)}const s={};let i=!1;for(const c in this.morphAttributes){const p=this.morphAttributes[c],d=[];for(let h=0,m=p.length;h<m;h++){const x=p[h];d.push(x.toJSON(e.data))}d.length>0&&(s[c]=d,i=!0)}i&&(e.data.morphAttributes=s,e.data.morphTargetsRelative=this.morphTargetsRelative);const a=this.groups;a.length>0&&(e.data.groups=JSON.parse(JSON.stringify(a)));const l=this.boundingSphere;return l!==null&&(e.data.boundingSphere=l.toJSON()),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone());const s=e.attributes;for(const p in s){const d=s[p];this.setAttribute(p,d.clone(t))}const i=e.morphAttributes;for(const p in i){const d=[],h=i[p];for(let m=0,x=h.length;m<x;m++)d.push(h[m].clone(t));this.morphAttributes[p]=d}this.morphTargetsRelative=e.morphTargetsRelative;const a=e.groups;for(let p=0,d=a.length;p<d;p++){const h=a[p];this.addGroup(h.start,h.count,h.materialIndex)}const l=e.boundingBox;l!==null&&(this.boundingBox=l.clone());const c=e.boundingSphere;return c!==null&&(this.boundingSphere=c.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}class H3{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=_f,this.updateRanges=[],this.version=0,this.uuid=ju()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,r){e*=this.stride,r*=t.stride;for(let s=0,i=this.stride;s<i;s++)this.array[e+s]=t.array[r+s];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=ju()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(t,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=ju()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const Js=new qe;class Lw{constructor(e,t,r,s=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=r,this.normalized=s}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,r=this.data.count;t<r;t++)Js.fromBufferAttribute(this,t),Js.applyMatrix4(e),this.setXYZ(t,Js.x,Js.y,Js.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)Js.fromBufferAttribute(this,t),Js.applyNormalMatrix(e),this.setXYZ(t,Js.x,Js.y,Js.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)Js.fromBufferAttribute(this,t),Js.transformDirection(e),this.setXYZ(t,Js.x,Js.y,Js.z);return this}getComponent(e,t){let r=this.array[e*this.data.stride+this.offset+t];return this.normalized&&(r=Xo(r,this.array)),r}setComponent(e,t,r){return this.normalized&&(r=$n(r,this.array)),this.data.array[e*this.data.stride+this.offset+t]=r,this}setX(e,t){return this.normalized&&(t=$n(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=$n(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=$n(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=$n(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=Xo(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=Xo(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=Xo(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=Xo(t,this.array)),t}setXY(e,t,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=$n(t,this.array),r=$n(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this}setXYZ(e,t,r,s){return e=e*this.data.stride+this.offset,this.normalized&&(t=$n(t,this.array),r=$n(r,this.array),s=$n(s,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=s,this}setXYZW(e,t,r,s,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=$n(t,this.array),r=$n(r,this.array),s=$n(s,this.array),i=$n(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=s,this.data.array[e+3]=i,this}clone(e){if(e===void 0){H1("InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let r=0;r<this.count;r++){const s=r*this.data.stride+this.offset;for(let i=0;i<this.itemSize;i++)t.push(this.data.array[s+i])}return new Ga(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Lw(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){H1("InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let r=0;r<this.count;r++){const s=r*this.data.stride+this.offset;for(let i=0;i<this.itemSize;i++)t.push(this.data.array[s+i])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}let wq=0;class K1 extends Df{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:wq++}),this.uuid=ju(),this.name="",this.type="Material",this.blending=V1,this.side=B1,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=z1,this.blendDst=U1,this.blendEquation=j1,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new xt(0,0,0),this.blendAlpha=0,this.depthFunc=S_,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=P_,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Md,this.stencilZFail=Md,this.stencilZPass=Md,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.allowOverride=!0,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const r=e[t];if(r===void 0){on(`Material: parameter '${t}' has value of undefined.`);continue}const s=this[t];if(s===void 0){on(`Material: '${t}' is not a property of THREE.${this.type}.`);continue}s&&s.isColor?s.set(r):s&&s.isVector3&&r&&r.isVector3?s.copy(r):this[t]=r}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const r={metadata:{version:4.7,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.sheenColorMap&&this.sheenColorMap.isTexture&&(r.sheenColorMap=this.sheenColorMap.toJSON(e).uuid),this.sheenRoughnessMap&&this.sheenRoughnessMap.isTexture&&(r.sheenRoughnessMap=this.sheenRoughnessMap.toJSON(e).uuid),this.dispersion!==void 0&&(r.dispersion=this.dispersion),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(r.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(r.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(r.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapRotation!==void 0&&(r.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==V1&&(r.blending=this.blending),this.side!==B1&&(r.side=this.side),this.vertexColors===!0&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=!0),this.blendSrc!==z1&&(r.blendSrc=this.blendSrc),this.blendDst!==U1&&(r.blendDst=this.blendDst),this.blendEquation!==j1&&(r.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(r.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(r.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(r.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(r.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(r.blendAlpha=this.blendAlpha),this.depthFunc!==S_&&(r.depthFunc=this.depthFunc),this.depthTest===!1&&(r.depthTest=this.depthTest),this.depthWrite===!1&&(r.depthWrite=this.depthWrite),this.colorWrite===!1&&(r.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(r.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==P_&&(r.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(r.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(r.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==Md&&(r.stencilFail=this.stencilFail),this.stencilZFail!==Md&&(r.stencilZFail=this.stencilZFail),this.stencilZPass!==Md&&(r.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(r.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaHash===!0&&(r.alphaHash=!0),this.alphaToCoverage===!0&&(r.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=!0),this.forceSinglePass===!0&&(r.forceSinglePass=!0),this.allowOverride===!1&&(r.allowOverride=!1),this.wireframe===!0&&(r.wireframe=!0),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=!0),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData);function s(i){const a=[];for(const l in i){const c=i[l];delete c.metadata,a.push(c)}return a}if(t){const i=s(e.textures),a=s(e.images);i.length>0&&(r.textures=i),a.length>0&&(r.images=a)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let r=null;if(t!==null){const s=t.length;r=new Array(s);for(let i=0;i!==s;++i)r[i]=t[i].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.allowOverride=e.allowOverride,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}const Iu=new qe,ES=new qe,eg=new qe,Ic=new qe,PS=new qe,tg=new qe,AS=new qe;class Eq{constructor(e=new qe,t=new qe(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Iu)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const r=t.dot(this.direction);return r<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,r)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=Iu.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(Iu.copy(this.origin).addScaledVector(this.direction,t),Iu.distanceToSquared(e))}distanceSqToSegment(e,t,r,s){ES.copy(e).add(t).multiplyScalar(.5),eg.copy(t).sub(e).normalize(),Ic.copy(this.origin).sub(ES);const i=e.distanceTo(t)*.5,a=-this.direction.dot(eg),l=Ic.dot(this.direction),c=-Ic.dot(eg),p=Ic.lengthSq(),d=Math.abs(1-a*a);let h,m,x,w;if(d>0)if(h=a*c-l,m=a*l-c,w=i*d,h>=0)if(m>=-w)if(m<=w){const A=1/d;h*=A,m*=A,x=h*(h+a*m+2*l)+m*(a*h+m+2*c)+p}else m=i,h=Math.max(0,-(a*m+l)),x=-h*h+m*(m+2*c)+p;else m=-i,h=Math.max(0,-(a*m+l)),x=-h*h+m*(m+2*c)+p;else m<=-w?(h=Math.max(0,-(-a*i+l)),m=h>0?-i:Math.min(Math.max(-i,-c),i),x=-h*h+m*(m+2*c)+p):m<=w?(h=0,m=Math.min(Math.max(-i,-c),i),x=m*(m+2*c)+p):(h=Math.max(0,-(a*i+l)),m=h>0?i:Math.min(Math.max(-i,-c),i),x=-h*h+m*(m+2*c)+p);else m=a>0?-i:i,h=Math.max(0,-(a*m+l)),x=-h*h+m*(m+2*c)+p;return r&&r.copy(this.origin).addScaledVector(this.direction,h),s&&s.copy(ES).addScaledVector(eg,m),x}intersectSphere(e,t){Iu.subVectors(e.center,this.origin);const r=Iu.dot(this.direction),s=Iu.dot(Iu)-r*r,i=e.radius*e.radius;if(s>i)return null;const a=Math.sqrt(i-s),l=r-a,c=r+a;return c<0?null:l<0?this.at(c,t):this.at(l,t)}intersectsSphere(e){return e.radius<0?!1:this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/t;return r>=0?r:null}intersectPlane(e,t){const r=this.distanceToPlane(e);return r===null?null:this.at(r,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let r,s,i,a,l,c;const p=1/this.direction.x,d=1/this.direction.y,h=1/this.direction.z,m=this.origin;return p>=0?(r=(e.min.x-m.x)*p,s=(e.max.x-m.x)*p):(r=(e.max.x-m.x)*p,s=(e.min.x-m.x)*p),d>=0?(i=(e.min.y-m.y)*d,a=(e.max.y-m.y)*d):(i=(e.max.y-m.y)*d,a=(e.min.y-m.y)*d),r>a||i>s||((i>r||isNaN(r))&&(r=i),(a<s||isNaN(s))&&(s=a),h>=0?(l=(e.min.z-m.z)*h,c=(e.max.z-m.z)*h):(l=(e.max.z-m.z)*h,c=(e.min.z-m.z)*h),r>c||l>s)||((l>r||r!==r)&&(r=l),(c<s||s!==s)&&(s=c),s<0)?null:this.at(r>=0?r:s,t)}intersectsBox(e){return this.intersectBox(e,Iu)!==null}intersectTriangle(e,t,r,s,i){PS.subVectors(t,e),tg.subVectors(r,e),AS.crossVectors(PS,tg);let a=this.direction.dot(AS),l;if(a>0){if(s)return null;l=1}else if(a<0)l=-1,a=-a;else return null;Ic.subVectors(this.origin,e);const c=l*this.direction.dot(tg.crossVectors(Ic,tg));if(c<0)return null;const p=l*this.direction.dot(PS.cross(Ic));if(p<0||c+p>a)return null;const d=-l*Ic.dot(AS);return d<0?null:this.at(d/a,i)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class K3 extends K1{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new xt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new nd,this.combine=M7,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const j_=new zn,Mp=new Eq,ng=new Ow,z_=new qe,rg=new qe,sg=new qe,ig=new qe,NS=new qe,ag=new qe,U_=new qe,og=new qe;class Ix extends Qo{constructor(e=new rd,t=new K3){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.count=1,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const s=t[r[0]];if(s!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let i=0,a=s.length;i<a;i++){const l=s[i].name||String(i);this.morphTargetInfluences.push(0),this.morphTargetDictionary[l]=i}}}}getVertexPosition(e,t){const r=this.geometry,s=r.attributes.position,i=r.morphAttributes.position,a=r.morphTargetsRelative;t.fromBufferAttribute(s,e);const l=this.morphTargetInfluences;if(i&&l){ag.set(0,0,0);for(let c=0,p=i.length;c<p;c++){const d=l[c],h=i[c];d!==0&&(NS.fromBufferAttribute(h,e),a?ag.addScaledVector(NS,d):ag.addScaledVector(NS.sub(t),d))}t.add(ag)}return t}raycast(e,t){const r=this.geometry,s=this.material,i=this.matrixWorld;s!==void 0&&(r.boundingSphere===null&&r.computeBoundingSphere(),ng.copy(r.boundingSphere),ng.applyMatrix4(i),Mp.copy(e.ray).recast(e.near),!(ng.containsPoint(Mp.origin)===!1&&(Mp.intersectSphere(ng,z_)===null||Mp.origin.distanceToSquared(z_)>(e.far-e.near)**2))&&(j_.copy(i).invert(),Mp.copy(e.ray).applyMatrix4(j_),!(r.boundingBox!==null&&Mp.intersectsBox(r.boundingBox)===!1)&&this._computeIntersections(e,t,Mp)))}_computeIntersections(e,t,r){let s;const i=this.geometry,a=this.material,l=i.index,c=i.attributes.position,p=i.attributes.uv,d=i.attributes.uv1,h=i.attributes.normal,m=i.groups,x=i.drawRange;if(l!==null)if(Array.isArray(a))for(let w=0,A=m.length;w<A;w++){const P=m[w],S=a[P.materialIndex],C=Math.max(P.start,x.start),I=Math.min(l.count,Math.min(P.start+P.count,x.start+x.count));for(let _=C,D=I;_<D;_+=3){const F=l.getX(_),O=l.getX(_+1),L=l.getX(_+2);s=lg(this,S,e,r,p,d,h,F,O,L),s&&(s.faceIndex=Math.floor(_/3),s.face.materialIndex=P.materialIndex,t.push(s))}}else{const w=Math.max(0,x.start),A=Math.min(l.count,x.start+x.count);for(let P=w,S=A;P<S;P+=3){const C=l.getX(P),I=l.getX(P+1),_=l.getX(P+2);s=lg(this,a,e,r,p,d,h,C,I,_),s&&(s.faceIndex=Math.floor(P/3),t.push(s))}}else if(c!==void 0)if(Array.isArray(a))for(let w=0,A=m.length;w<A;w++){const P=m[w],S=a[P.materialIndex],C=Math.max(P.start,x.start),I=Math.min(c.count,Math.min(P.start+P.count,x.start+x.count));for(let _=C,D=I;_<D;_+=3){const F=_,O=_+1,L=_+2;s=lg(this,S,e,r,p,d,h,F,O,L),s&&(s.faceIndex=Math.floor(_/3),s.face.materialIndex=P.materialIndex,t.push(s))}}else{const w=Math.max(0,x.start),A=Math.min(c.count,x.start+x.count);for(let P=w,S=A;P<S;P+=3){const C=P,I=P+1,_=P+2;s=lg(this,a,e,r,p,d,h,C,I,_),s&&(s.faceIndex=Math.floor(P/3),t.push(s))}}}}function Pq(n,e,t,r,s,i,a,l){let c;if(e.side===Mm?c=r.intersectTriangle(a,i,s,!0,l):c=r.intersectTriangle(s,i,a,e.side===B1,l),c===null)return null;og.copy(l),og.applyMatrix4(n.matrixWorld);const p=t.ray.origin.distanceTo(og);return p<t.near||p>t.far?null:{distance:p,point:og.clone(),object:n}}function lg(n,e,t,r,s,i,a,l,c,p){n.getVertexPosition(l,rg),n.getVertexPosition(c,sg),n.getVertexPosition(p,ig);const d=Pq(n,e,t,r,rg,sg,ig,U_);if(d){const h=new qe;Go.getBarycoord(U_,rg,sg,ig,h),s&&(d.uv=Go.getInterpolatedAttribute(s,l,c,p,h,new sr)),i&&(d.uv1=Go.getInterpolatedAttribute(i,l,c,p,h,new sr)),a&&(d.normal=Go.getInterpolatedAttribute(a,l,c,p,h,new qe),d.normal.dot(r.direction)>0&&d.normal.multiplyScalar(-1));const m={a:l,b:c,c:p,normal:new qe,materialIndex:0};Go.getNormal(rg,sg,ig,m.normal),d.face=m,d.barycoord=h}return d}class Aq extends ri{constructor(e=null,t=1,r=1,s,i,a,l,c,p=Mi,d=Mi,h,m){super(null,a,l,c,p,d,s,i,h,m),this.isDataTexture=!0,this.image={data:e,width:t,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class hf extends Ga{constructor(e,t,r,s=1){super(e,t,r),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=s}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const _S=new qe,Nq=new qe,_q=new so;class Cq{constructor(e=new qe(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,r,s){return this.normal.set(e,t,r),this.constant=s,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,r){const s=_S.subVectors(r,t).cross(Nq.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(s,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const r=e.delta(_S),s=this.normal.dot(r);if(s===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const i=-(e.start.dot(this.normal)+this.constant)/s;return i<0||i>1?null:t.copy(e.start).addScaledVector(r,i)}intersectsLine(e){const t=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return t<0&&r>0||r<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const r=t||_q.getNormalMatrix(e),s=this.coplanarPoint(_S).applyMatrix4(e),i=this.normal.applyMatrix3(r).normalize();return this.constant=-s.dot(i),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}class X3 extends ri{constructor(e,t){super({width:e,height:t}),this.isFramebufferTexture=!0,this.magFilter=Mi,this.minFilter=Mi,this.generateMipmaps=!1,this.needsUpdate=!0}}class Iq extends ri{constructor(e=[],t=gm,r,s,i,a,l,c,p,d){super(e,t,r,s,i,a,l,c,p,d),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class Ff extends ri{constructor(e,t,r=Iw,s,i,a,l=Mi,c=Mi,p,d=W1,h=1){if(d!==W1&&d!==R7)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");const m={width:e,height:t,depth:h};super(m,s,i,a,l,c,d,r,p),this.isDepthTexture=!0,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.source=new kw(Object.assign({},e.image)),this.compareFunction=e.compareFunction,this}toJSON(e){const t=super.toJSON(e);return this.compareFunction!==null&&(t.compareFunction=this.compareFunction),t}}class Mq extends Ff{constructor(e,t=Iw,r=gm,s,i,a=Mi,l=Mi,c,p=W1){const d={width:e,height:e,depth:1},h=[d,d,d,d,d,d];super(e,e,t,r,s,i,a,l,c,p),this.image=h,this.isCubeDepthTexture=!0,this.isCubeTexture=!0}get images(){return this.image}set images(e){this.image=e}}class Dw extends rd{constructor(e=1,t=1,r=1,s=1,i=1,a=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:r,widthSegments:s,heightSegments:i,depthSegments:a};const l=this;s=Math.floor(s),i=Math.floor(i),a=Math.floor(a);const c=[],p=[],d=[],h=[];let m=0,x=0;w("z","y","x",-1,-1,r,t,e,a,i,0),w("z","y","x",1,-1,r,t,-e,a,i,1),w("x","z","y",1,1,e,r,t,s,a,2),w("x","z","y",1,-1,e,r,-t,s,a,3),w("x","y","z",1,-1,e,t,r,s,i,4),w("x","y","z",-1,-1,e,t,-r,s,i,5),this.setIndex(c),this.setAttribute("position",new ff(p,3)),this.setAttribute("normal",new ff(d,3)),this.setAttribute("uv",new ff(h,2));function w(A,P,S,C,I,_,D,F,O,L,B){const j=_/O,M=D/L,ee=_/2,ue=D/2,J=F/2,ae=O+1,oe=L+1;let re=0,X=0;const H=new qe;for(let Q=0;Q<oe;Q++){const W=Q*M-ue;for(let Y=0;Y<ae;Y++){const Z=Y*j-ee;H[A]=Z*C,H[P]=W*I,H[S]=J,p.push(H.x,H.y,H.z),H[A]=0,H[P]=0,H[S]=F>0?1:-1,d.push(H.x,H.y,H.z),h.push(Y/O),h.push(1-Q/L),re+=1}}for(let Q=0;Q<L;Q++)for(let W=0;W<O;W++){const Y=m+W+ae*Q,Z=m+W+ae*(Q+1),se=m+(W+1)+ae*(Q+1),me=m+(W+1)+ae*Q;c.push(Y,Z,me),c.push(Z,se,me),X+=6}l.addGroup(x,X,B),x+=X,m+=re}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Dw(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}const ug=new qe,cg=new Rf,Rl=new qe;class G3 extends Qo{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new zn,this.projectionMatrix=new zn,this.projectionMatrixInverse=new zn,this.coordinateSystem=jc,this._reversedDepth=!1}get reversedDepth(){return this._reversedDepth}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorld.decompose(ug,cg,Rl),Rl.x===1&&Rl.y===1&&Rl.z===1?this.matrixWorldInverse.copy(this.matrixWorld).invert():this.matrixWorldInverse.compose(ug,cg,Rl.set(1,1,1)).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorld.decompose(ug,cg,Rl),Rl.x===1&&Rl.y===1&&Rl.z===1?this.matrixWorldInverse.copy(this.matrixWorld).invert():this.matrixWorldInverse.compose(ug,cg,Rl.set(1,1,1)).invert()}clone(){return new this.constructor().copy(this)}}const Mc=new qe,q_=new sr,$_=new sr;class kq extends G3{constructor(e=50,t=1,r=.1,s=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=s,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=Cx*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(rm*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return Cx*2*Math.atan(Math.tan(rm*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,t,r){Mc.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),t.set(Mc.x,Mc.y).multiplyScalar(-e/Mc.z),Mc.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),r.set(Mc.x,Mc.y).multiplyScalar(-e/Mc.z)}getViewSize(e,t){return this.getViewBounds(e,q_,$_),t.subVectors($_,q_)}setViewOffset(e,t,r,s,i,a){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=s,this.view.width=i,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(rm*.5*this.fov)/this.zoom,r=2*t,s=this.aspect*r,i=-.5*s;const a=this.view;if(this.view!==null&&this.view.enabled){const c=a.fullWidth,p=a.fullHeight;i+=a.offsetX*s/c,t-=a.offsetY*r/p,s*=a.width/c,r*=a.height/p}const l=this.filmOffset;l!==0&&(i+=e*l/this.getFilmWidth()),this.projectionMatrix.makePerspective(i,i+s,t,t-r,e,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}class Y3 extends G3{constructor(e=-1,t=1,r=1,s=-1,i=.1,a=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=r,this.bottom=s,this.near=i,this.far=a,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,r,s,i,a){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=s,this.view.width=i,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,s=(this.top+this.bottom)/2;let i=r-e,a=r+e,l=s+t,c=s-t;if(this.view!==null&&this.view.enabled){const p=(this.right-this.left)/this.view.fullWidth/this.zoom,d=(this.top-this.bottom)/this.view.fullHeight/this.zoom;i+=p*this.view.offsetX,a=i+p*this.view.width,l-=d*this.view.offsetY,c=l-d*this.view.height}this.projectionMatrix.makeOrthographic(i,a,l,c,this.near,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}class Oq extends H3{constructor(e,t,r=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class Rw{constructor(e,t,r,s){Rw.prototype.isMatrix2=!0,this.elements=[1,0,0,1],e!==void 0&&this.set(e,t,r,s)}identity(){return this.set(1,0,0,1),this}fromArray(e,t=0){for(let r=0;r<4;r++)this.elements[r]=e[r+t];return this}set(e,t,r,s){const i=this.elements;return i[0]=e,i[2]=t,i[1]=r,i[3]=s,this}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:R3}}));typeof window<"u"&&(window.__THREE__?on("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=R3);/**
 * @license
 * Copyright 2010-2026 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const Lq=["alphaMap","alphaTest","anisotropy","anisotropyMap","anisotropyRotation","aoMap","aoMapIntensity","attenuationColor","attenuationDistance","bumpMap","clearcoat","clearcoatMap","clearcoatNormalMap","clearcoatNormalScale","clearcoatRoughness","color","dispersion","displacementMap","emissive","emissiveIntensity","emissiveMap","envMap","envMapIntensity","gradientMap","ior","iridescence","iridescenceIOR","iridescenceMap","iridescenceThicknessMap","lightMap","lightMapIntensity","map","matcap","metalness","metalnessMap","normalMap","normalScale","opacity","roughness","roughnessMap","sheen","sheenColor","sheenColorMap","sheenRoughnessMap","shininess","specular","specularColor","specularColorMap","specularIntensity","specularIntensityMap","specularMap","thickness","transmission","transmissionMap"],CS=new WeakMap;class Dq{constructor(e){this.renderObjects=new WeakMap,this.hasNode=this.containsNode(e),this.hasAnimation=e.object.isSkinnedMesh===!0,this.refreshUniforms=Lq,this.renderId=0}firstInitialization(e){return this.renderObjects.has(e)===!1?(this.getRenderObjectData(e),!0):!1}needsVelocity(e){const t=e.getMRT();return t!==null&&t.has("velocity")}getRenderObjectData(e){let t=this.renderObjects.get(e);if(t===void 0){const{geometry:r,material:s,object:i}=e;if(t={material:this.getMaterialData(s),geometry:{id:r.id,attributes:this.getAttributesData(r.attributes),indexId:r.index?r.index.id:null,indexVersion:r.index?r.index.version:null,drawRange:{start:r.drawRange.start,count:r.drawRange.count}},worldMatrix:i.matrixWorld.clone()},i.center&&(t.center=i.center.clone()),i.morphTargetInfluences&&(t.morphTargetInfluences=i.morphTargetInfluences.slice()),e.bundle!==null&&(t.version=e.bundle.version),t.material.transmission>0){const{width:a,height:l}=e.context;t.bufferWidth=a,t.bufferHeight=l}t.lights=this.getLightsData(e.lightsNode.getLights()),this.renderObjects.set(e,t)}return t}getAttributesData(e){const t={};for(const r in e){const s=e[r];t[r]={id:s.id,version:s.version}}return t}containsNode(e){const t=e.material;for(const r in t)if(t[r]&&t[r].isNode)return!0;return!!(e.context.modelViewMatrix||e.context.modelNormalViewMatrix||e.context.getAO||e.context.getShadow)}getMaterialData(e){const t={};for(const r of this.refreshUniforms){const s=e[r];s!=null&&(typeof s=="object"&&s.clone!==void 0?s.isTexture===!0?t[r]={id:s.id,version:s.version}:t[r]=s.clone():t[r]=s)}return t}equals(e,t){const{object:r,material:s,geometry:i}=e,a=this.getRenderObjectData(e);if(a.worldMatrix.equals(r.matrixWorld)!==!0)return a.worldMatrix.copy(r.matrixWorld),!1;const l=a.material;for(const C in l){const I=l[C],_=s[C];if(I.equals!==void 0){if(I.equals(_)===!1)return I.copy(_),!1}else if(_.isTexture===!0){if(I.id!==_.id||I.version!==_.version)return I.id=_.id,I.version=_.version,!1}else if(I!==_)return l[C]=_,!1}if(l.transmission>0){const{width:C,height:I}=e.context;if(a.bufferWidth!==C||a.bufferHeight!==I)return a.bufferWidth=C,a.bufferHeight=I,!1}const c=a.geometry,p=i.attributes,d=c.attributes,h=Object.keys(d),m=Object.keys(p);if(c.id!==i.id)return c.id=i.id,!1;if(h.length!==m.length)return a.geometry.attributes=this.getAttributesData(p),!1;for(const C of h){const I=d[C],_=p[C];if(_===void 0)return delete d[C],!1;if(I.id!==_.id||I.version!==_.version)return I.id=_.id,I.version=_.version,!1}const x=i.index,w=c.id,A=c.indexVersion,P=x?x.id:null,S=x?x.version:null;if(w!==P||A!==S)return c.id=P,c.indexVersion=S,!1;if(c.drawRange.start!==i.drawRange.start||c.drawRange.count!==i.drawRange.count)return c.drawRange.start=i.drawRange.start,c.drawRange.count=i.drawRange.count,!1;if(a.morphTargetInfluences){let C=!1;for(let I=0;I<a.morphTargetInfluences.length;I++)a.morphTargetInfluences[I]!==r.morphTargetInfluences[I]&&(a.morphTargetInfluences[I]=r.morphTargetInfluences[I],C=!0);if(C)return!1}if(a.lights){for(let C=0;C<t.length;C++)if(a.lights[C].map!==t[C].map)return!1}return a.center&&a.center.equals(r.center)===!1?(a.center.copy(r.center),!0):(e.bundle!==null&&(a.version=e.bundle.version),!0)}getLightsData(e){const t=[];for(const r of e)r.isSpotLight===!0&&r.map!==null&&t.push({map:r.map.version});return t}getLights(e,t){if(CS.has(e)){const s=CS.get(e);if(s.renderId===t)return s.lightsData}const r=this.getLightsData(e.getLights());return CS.set(e,{renderId:t,lightsData:r}),r}needsRefresh(e,t){if(this.hasNode||this.hasAnimation||this.firstInitialization(e)||this.needsVelocity(t.renderer))return!0;const{renderId:r}=t;if(this.renderId!==r)return this.renderId=r,!0;const s=e.object.static===!0,i=e.bundle!==null&&e.bundle.static===!0&&this.getRenderObjectData(e).version===e.bundle.version;if(s||i)return!1;const a=this.getLights(e.lightsNode,r);return this.equals(e,a)!==!0}}const Rq=[/^StackTrace\.js$/,/^TSLCore\.js$/,/^.*Node\.js$/,/^three\.webgpu.*\.js$/];function Fq(n){const e=/(?:at\s+(.+?)\s+\()?(?:(.+?)@)?([^@\s()]+):(\d+):(\d+)/;return n.split(`
`).map(t=>{const r=t.match(e);if(!r)return null;const s=r[1]||r[2]||"",i=r[3].split("?")[0],a=parseInt(r[4],10),l=parseInt(r[5],10),c=i.split("/").pop();return{fn:s,file:c,line:a,column:l}}).filter(t=>t&&!Rq.some(r=>r.test(t.file)))}class Mr{constructor(e=null){this.isStackTrace=!0,this.stack=Fq(e||new Error().stack)}getLocation(){if(this.stack.length===0)return"[Unknown location]";const e=this.stack[0],t=e.fn;return`${t?`"${t}()" at `:""}"${e.file}:${e.line}"`}getError(e){if(this.stack.length===0)return e;const t=this.stack.map(r=>{const s=`${r.file}:${r.line}:${r.column}`;return r.fn?`    at ${r.fn} (${s})`:`    at ${s}`}).join(`
`);return`${e}
${t}`}}function Fw(n,e=0){let t=3735928559^e,r=1103547991^e;if(n instanceof Array)for(let s=0,i;s<n.length;s++)i=n[s],t=Math.imul(t^i,2654435761),r=Math.imul(r^i,1597334677);else for(let s=0,i;s<n.length;s++)i=n.charCodeAt(s),t=Math.imul(t^i,2654435761),r=Math.imul(r^i,1597334677);return t=Math.imul(t^t>>>16,2246822507),t^=Math.imul(r^r>>>13,3266489909),r=Math.imul(r^r>>>16,2246822507),r^=Math.imul(t^t>>>13,3266489909),4294967296*(2097151&r)+(t>>>0)}const Bw=n=>Fw(n),Vw=n=>Fw(n),J3=(...n)=>Fw(n),Bq=new Map([[1,"float"],[2,"vec2"],[3,"vec3"],[4,"vec4"],[9,"mat3"],[16,"mat4"]]),W_=new WeakMap;function Vq(n){return Bq.get(n)}function Mx(n){if(/[iu]?vec\d/.test(n))return n.startsWith("ivec")?Int32Array:n.startsWith("uvec")?Uint32Array:Float32Array;if(/mat\d/.test(n)||/float/.test(n))return Float32Array;if(/uint/.test(n))return Uint32Array;if(/int/.test(n))return Int32Array;throw new Error(`THREE.NodeUtils: Unsupported type: ${n}`)}function Z3(n){if(/float|int|uint/.test(n))return 1;if(/vec2/.test(n))return 2;if(/vec3/.test(n))return 3;if(/vec4/.test(n)||/mat2/.test(n))return 4;if(/mat3/.test(n))return 9;if(/mat4/.test(n))return 16;kn(`TSL: Unsupported type: ${n}`,new Mr)}function jq(n){if(/float|int|uint/.test(n))return 1;if(/vec2/.test(n))return 2;if(/vec3/.test(n))return 3;if(/vec4/.test(n)||/mat2/.test(n))return 4;if(/mat3/.test(n))return 12;if(/mat4/.test(n))return 16;kn(`TSL: Unsupported type: ${n}`,new Mr)}function zq(n){if(/float|int|uint/.test(n))return 4;if(/vec2/.test(n))return 8;if(/vec3/.test(n)||/vec4/.test(n))return 16;if(/mat2/.test(n))return 8;if(/mat3/.test(n)||/mat4/.test(n))return 16;kn(`TSL: Unsupported type: ${n}`,new Mr)}function zc(n){if(n==null)return null;const e=typeof n;return n.isNode===!0?"node":e==="number"?"float":e==="boolean"?"bool":e==="string"?"string":e==="function"?"shader":n.isVector2===!0?"vec2":n.isVector3===!0?"vec3":n.isVector4===!0?"vec4":n.isMatrix2===!0?"mat2":n.isMatrix3===!0?"mat3":n.isMatrix4===!0?"mat4":n.isColor===!0?"color":n instanceof ArrayBuffer?"ArrayBuffer":null}function jw(n,...e){const t=n?n.slice(-4):void 0;return e.length===1&&(t==="vec2"?e=[e[0],e[0]]:t==="vec3"?e=[e[0],e[0],e[0]]:t==="vec4"&&(e=[e[0],e[0],e[0],e[0]])),n==="color"?new xt(...e):t==="vec2"?new sr(...e):t==="vec3"?new qe(...e):t==="vec4"?new Ss(...e):t==="mat2"?new Rw(...e):t==="mat3"?new so(...e):t==="mat4"?new zn(...e):n==="bool"?e[0]||!1:n==="float"||n==="int"||n==="uint"?e[0]||0:n==="string"?e[0]||"":n==="ArrayBuffer"?$q(e[0]):null}function Uq(n){let e=W_.get(n);return e===void 0&&(e={},W_.set(n,e)),e}function qq(n){let e="";const t=new Uint8Array(n);for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return btoa(e)}function $q(n){return Uint8Array.from(atob(n),e=>e.charCodeAt(0)).buffer}const Gh={VERTEX:"vertex",FRAGMENT:"fragment"},Mn={NONE:"none",FRAME:"frame",RENDER:"render",OBJECT:"object"},Wq={BOOLEAN:"bool",INTEGER:"int",FLOAT:"float",VECTOR2:"vec2",VECTOR3:"vec3",VECTOR4:"vec4",MATRIX2:"mat2",MATRIX3:"mat3",MATRIX4:"mat4"},Wl={READ_ONLY:"readOnly",WRITE_ONLY:"writeOnly",READ_WRITE:"readWrite"},Q3=["fragment","vertex"],Hq=["setup","analyze","generate"],Kq=[...Q3,"compute"],Bf=["x","y","z","w"],Xq={analyze:"setup",generate:"analyze"};let Gq=0;class Bt extends Df{static get type(){return"Node"}constructor(e=null){super(),this.nodeType=e,this.updateType=Mn.NONE,this.updateBeforeType=Mn.NONE,this.updateAfterType=Mn.NONE,this.uuid=$3.generateUUID(),this.version=0,this.name="",this.global=!1,this.parents=!1,this.isNode=!0,this._beforeNodes=null,this._cacheKey=null,this._cacheKeyVersion=0,Object.defineProperty(this,"id",{value:Gq++}),this.stackTrace=null,Bt.captureStackTrace===!0&&(this.stackTrace=new Mr)}set needsUpdate(e){e===!0&&this.version++}get type(){return this.constructor.type}onUpdate(e,t){return this.updateType=t,this.update=e.bind(this),this}onFrameUpdate(e){return this.onUpdate(e,Mn.FRAME)}onRenderUpdate(e){return this.onUpdate(e,Mn.RENDER)}onObjectUpdate(e){return this.onUpdate(e,Mn.OBJECT)}onReference(e){return this.updateReference=e.bind(this),this}updateReference(){return this}isGlobal(){return this.global}*getChildren(){for(const{childNode:e}of this._getChildren())yield e}dispose(){this.dispatchEvent({type:"dispose"})}traverse(e){e(this);for(const t of this.getChildren())t.traverse(e)}_getChildren(e=new Set){const t=[];e.add(this);for(const r of Object.getOwnPropertyNames(this)){const s=this[r];if(!(r.startsWith("_")===!0||e.has(s))){if(Array.isArray(s)===!0)for(let i=0;i<s.length;i++){const a=s[i];a&&a.isNode===!0&&t.push({property:r,index:i,childNode:a})}else if(s&&s.isNode===!0)t.push({property:r,childNode:s});else if(s&&Object.getPrototypeOf(s)===Object.prototype)for(const i in s){if(i.startsWith("_")===!0)continue;const a=s[i];a&&a.isNode===!0&&t.push({property:r,index:i,childNode:a})}}}return t}getCacheKey(e=!1,t=null){if(e=e||this.version!==this._cacheKeyVersion,e===!0||this._cacheKey===null){t===null&&(t=new Set);const r=[];for(const{property:s,childNode:i}of this._getChildren(t))r.push(Bw(s.slice(0,-4)),i.getCacheKey(e,t));this._cacheKey=J3(Vw(r),this.customCacheKey()),this._cacheKeyVersion=this.version}return this._cacheKey}customCacheKey(){return this.id}getScope(){return this}getHash(){return this.uuid}getUpdateType(){return this.updateType}getUpdateBeforeType(){return this.updateBeforeType}getUpdateAfterType(){return this.updateAfterType}getElementType(e){const t=this.getNodeType(e);return e.getElementType(t)}getMemberType(){return"void"}getNodeType(e){const t=e.getNodeProperties(this);return t.outputNode?t.outputNode.getNodeType(e):this.nodeType}getShared(e){const t=this.getHash(e);return e.getNodeFromHash(t)||this}getArrayCount(){return null}setup(e){const t=e.getNodeProperties(this);let r=0;for(const s of this.getChildren())t["node"+r++]=s;return t.outputNode||null}analyze(e,t=null){const r=e.increaseUsage(this);if(this.parents===!0){const s=e.getDataFromNode(this,"any");s.stages=s.stages||{},s.stages[e.shaderStage]=s.stages[e.shaderStage]||[],s.stages[e.shaderStage].push(t)}if(r===1){const s=e.getNodeProperties(this);for(const i of Object.values(s))i&&i.isNode===!0&&i.build(e,this)}}generate(e,t){const{outputNode:r}=e.getNodeProperties(this);if(r&&r.isNode===!0)return r.build(e,t)}updateBefore(){on("Abstract function.")}updateAfter(){on("Abstract function.")}update(){on("Abstract function.")}before(e){return this._beforeNodes===null&&(this._beforeNodes=[]),this._beforeNodes.push(e),this}build(e,t=null){const r=this.getShared(e);if(this!==r)return r.build(e,t);if(this._beforeNodes!==null){const c=this._beforeNodes;this._beforeNodes=null;for(const p of c)p.build(e,t);this._beforeNodes=c}const s=e.getDataFromNode(this);s.buildStages=s.buildStages||{},s.buildStages[e.buildStage]=!0;const i=Xq[e.buildStage];if(i&&s.buildStages[i]!==!0){const c=e.getBuildStage();e.setBuildStage(i),this.build(e),e.setBuildStage(c)}e.addChain(this);let a=null;const l=e.getBuildStage();if(l==="setup"){e.addNode(this),this.updateReference(e);const c=e.getNodeProperties(this);if(c.initialized!==!0){c.initialized=!0,c.outputNode=this.setup(e)||c.outputNode||null;for(const p of Object.values(c))if(p&&p.isNode===!0){if(p.parents===!0){const d=e.getNodeProperties(p);d.parents=d.parents||[],d.parents.push(this)}p.build(e)}e.addSequentialNode(this)}a=c.outputNode}else if(l==="analyze")this.analyze(e,t);else if(l==="generate"){if(this.generate.length<2){const p=this.getNodeType(e),d=e.getDataFromNode(this);a=d.snippet,a===void 0?d.generated===void 0?(d.generated=!0,a=this.generate(e)||"",d.snippet=a):(on("Node: Recursion detected.",this),a="/* Recursion detected. */"):d.flowCodes!==void 0&&e.context.nodeBlock!==void 0&&e.addFlowCodeHierarchy(this,e.context.nodeBlock),a=e.format(a,p,t)}else a=this.generate(e,t)||"";a===""&&t!==null&&t!=="void"&&t!=="OutputType"&&(kn(`TSL: Invalid generated code, expected a "${t}".`),a=e.generateConst(t))}return e.removeChain(this),a}getSerializeChildren(){return this._getChildren()}serialize(e){const t=this.getSerializeChildren(),r={};for(const{property:s,index:i,childNode:a}of t)i!==void 0?(r[s]===void 0&&(r[s]=Number.isInteger(i)?[]:{}),r[s][i]=a.toJSON(e.meta).uuid):r[s]=a.toJSON(e.meta).uuid;Object.keys(r).length>0&&(e.inputNodes=r)}deserialize(e){if(e.inputNodes!==void 0){const t=e.meta.nodes;for(const r in e.inputNodes)if(Array.isArray(e.inputNodes[r])){const s=[];for(const i of e.inputNodes[r])s.push(t[i]);this[r]=s}else if(typeof e.inputNodes[r]=="object"){const s={};for(const i in e.inputNodes[r]){const a=e.inputNodes[r][i];s[i]=t[a]}this[r]=s}else{const s=e.inputNodes[r];this[r]=t[s]}}}toJSON(e){const{uuid:t,type:r}=this,s=e===void 0||typeof e=="string";s&&(e={textures:{},images:{},nodes:{}});let i=e.nodes[t];i===void 0&&(i={uuid:t,type:r,meta:e,metadata:{version:4.7,type:"Node",generator:"Node.toJSON"}},s!==!0&&(e.nodes[i.uuid]=i),this.serialize(i),delete i.meta);function a(l){const c=[];for(const p in l){const d=l[p];delete d.metadata,c.push(d)}return c}if(s){const l=a(e.textures),c=a(e.images),p=a(e.nodes);l.length>0&&(i.textures=l),c.length>0&&(i.images=c),p.length>0&&(i.nodes=p)}return i}}Bt.captureStackTrace=!1;class sd extends Bt{static get type(){return"ArrayElementNode"}constructor(e,t){super(),this.node=e,this.indexNode=t,this.isArrayElementNode=!0}getNodeType(e){return this.node.getElementType(e)}getMemberType(e,t){return this.node.getMemberType(e,t)}generate(e){const t=this.indexNode.getNodeType(e),r=this.node.build(e),s=this.indexNode.build(e,!e.isVector(t)&&e.isInteger(t)?t:"uint");return`${r}[ ${s} ]`}}class eL extends Bt{static get type(){return"ConvertNode"}constructor(e,t){super(),this.node=e,this.convertTo=t}getNodeType(e){const t=this.node.getNodeType(e);let r=null;for(const s of this.convertTo.split("|"))(r===null||e.getTypeLength(t)===e.getTypeLength(s))&&(r=s);return r}serialize(e){super.serialize(e),e.convertTo=this.convertTo}deserialize(e){super.deserialize(e),this.convertTo=e.convertTo}generate(e,t){const r=this.node,s=this.getNodeType(e),i=r.build(e,s);return e.format(i,s,t)}}class Sr extends Bt{static get type(){return"TempNode"}constructor(e=null){super(e),this.isTempNode=!0}hasDependencies(e){return e.getDataFromNode(this).usageCount>1}build(e,t){if(e.getBuildStage()==="generate"){const s=e.getVectorType(this.getNodeType(e,t)),i=e.getDataFromNode(this);if(i.propertyName!==void 0)return e.format(i.propertyName,s,t);if(s!=="void"&&t!=="void"&&this.hasDependencies(e)){const a=super.build(e,s),l=e.getVarFromNode(this,null,s),c=e.getPropertyName(l);return e.addLineFlowCode(`${c} = ${a}`,this),i.snippet=a,i.propertyName=c,e.format(i.propertyName,s,t)}}return super.build(e,t)}}class Yq extends Sr{static get type(){return"JoinNode"}constructor(e=[],t=null){super(t),this.nodes=e}getNodeType(e){return this.nodeType!==null?e.getVectorType(this.nodeType):e.getTypeFromLength(this.nodes.reduce((t,r)=>t+e.getTypeLength(r.getNodeType(e)),0))}generate(e,t){const r=this.getNodeType(e),s=e.getTypeLength(r),i=this.nodes,a=e.getComponentType(r),l=[];let c=0;for(const d of i){if(c>=s){kn(`TSL: Length of parameters exceeds maximum length of function '${r}()' type.`,this.stackTrace);break}let h=d.getNodeType(e),m=e.getTypeLength(h),x;if(c+m>s&&(kn(`TSL: Length of '${r}()' data exceeds maximum length of output type.`,this.stackTrace),m=s-c,h=e.getTypeFromLength(m)),c+=m,x=d.build(e,h),e.getComponentType(h)!==a){const A=e.getTypeFromLength(m,a);x=e.format(x,h,A)}l.push(x)}const p=`${e.getType(r)}( ${l.join(", ")} )`;return e.format(p,r,t)}}const Jq=Bf.join("");class tL extends Bt{static get type(){return"SplitNode"}constructor(e,t="x"){super(),this.node=e,this.components=t,this.isSplitNode=!0}getVectorLength(){let e=this.components.length;for(const t of this.components)e=Math.max(Bf.indexOf(t)+1,e);return e}getComponentType(e){return e.getComponentType(this.node.getNodeType(e))}getNodeType(e){return e.getTypeFromLength(this.components.length,this.getComponentType(e))}getScope(){return this.node.getScope()}generate(e,t){const r=this.node,s=e.getTypeLength(r.getNodeType(e));let i=null;if(s>1){let a=null;this.getVectorLength()>=s&&(a=e.getTypeFromLength(this.getVectorLength(),this.getComponentType(e)));const c=r.build(e,a);this.components.length===s&&this.components===Jq.slice(0,this.components.length)?i=e.format(c,a,t):i=e.format(`${c}.${this.components}`,this.getNodeType(e),t)}else i=r.build(e,t);return i}serialize(e){super.serialize(e),e.components=this.components}deserialize(e){super.deserialize(e),this.components=e.components}}class Zq extends Sr{static get type(){return"SetNode"}constructor(e,t,r){super(),this.sourceNode=e,this.components=t,this.targetNode=r}getNodeType(e){return this.sourceNode.getNodeType(e)}generate(e){const{sourceNode:t,components:r,targetNode:s}=this,i=this.getNodeType(e),a=e.getComponentType(s.getNodeType(e)),l=e.getTypeFromLength(r.length,a),c=s.build(e,l),p=t.build(e,i),d=e.getTypeLength(i),h=[];for(let m=0;m<d;m++){const x=Bf[m];x===r[0]?(h.push(c),m+=r.length-1):h.push(p+"."+x)}return`${e.getType(i)}( ${h.join(", ")} )`}}class Qq extends Sr{static get type(){return"FlipNode"}constructor(e,t){super(),this.sourceNode=e,this.components=t}getNodeType(e){return this.sourceNode.getNodeType(e)}generate(e){const{components:t,sourceNode:r}=this,s=this.getNodeType(e),i=r.build(e),a=e.getVarFromNode(this),l=e.getPropertyName(a);e.addLineFlowCode(l+" = "+i,this);const c=e.getTypeLength(s),p=[];let d=0;for(let h=0;h<c;h++){const m=Bf[h];m===t[d]?(p.push("1.0 - "+(l+"."+m)),d++):p.push(l+"."+m)}return`${e.getType(s)}( ${p.join(", ")} )`}}class zw extends Bt{static get type(){return"InputNode"}constructor(e,t=null){super(t),this.isInputNode=!0,this.value=e,this.precision=null}getNodeType(){return this.nodeType===null?zc(this.value):this.nodeType}getInputType(e){return this.getNodeType(e)}setPrecision(e){return this.precision=e,this}serialize(e){super.serialize(e),e.value=this.value,this.value&&this.value.toArray&&(e.value=this.value.toArray()),e.valueType=zc(this.value),e.nodeType=this.nodeType,e.valueType==="ArrayBuffer"&&(e.value=qq(e.value)),e.precision=this.precision}deserialize(e){super.deserialize(e),this.nodeType=e.nodeType,this.value=Array.isArray(e.value)?jw(e.valueType,...e.value):e.value,this.precision=e.precision||null,this.value&&this.value.fromArray&&(this.value=this.value.fromArray(e.value))}generate(){on("Abstract function.")}}const H_=/float|u?int/;class io extends zw{static get type(){return"ConstNode"}constructor(e,t=null){super(e,t),this.isConstNode=!0}generateConst(e){return e.generateConst(this.getNodeType(e),this.value)}generate(e,t){const r=this.getNodeType(e);return H_.test(r)&&H_.test(t)?e.generateConst(t,this.value):e.format(this.generateConst(e),r,t)}}class e$ extends Bt{static get type(){return"MemberNode"}constructor(e,t){super(),this.structNode=e,this.property=t,this.isMemberNode=!0}hasMember(e){return this.structNode.isMemberNode&&this.structNode.hasMember(e)===!1?!1:this.structNode.getMemberType(e,this.property)!=="void"}getNodeType(e){return this.hasMember(e)===!1?"float":this.structNode.getMemberType(e,this.property)}getMemberType(e,t){if(this.hasMember(e)===!1)return"float";const r=this.getNodeType(e);return e.getStructTypeNode(r).getMemberType(e,t)}generate(e){if(this.hasMember(e)===!1){on(`TSL: Member "${this.property}" does not exist in struct.`,this.stackTrace);const r=this.getNodeType(e);return e.generateConst(r)}return this.structNode.build(e)+"."+this.property}}let Yc=null;const X1=new Map;function et(n,e){if(X1.has(n)){on(`TSL: Redefinition of method chaining '${n}'.`);return}if(typeof e!="function")throw new Error(`THREE.TSL: Node element ${n} is not a function`);X1.set(n,e),n!=="assign"&&(Bt.prototype[n]=function(...t){return this.isStackNode?this.addToStack(e(...t)):e(this,...t)},Bt.prototype[n+"Assign"]=function(...t){return this.isStackNode?this.assign(t[0],e(...t)):this.assign(e(this,...t))})}const t$=n=>n.replace(/r|s/g,"x").replace(/g|t/g,"y").replace(/b|p/g,"z").replace(/a|q/g,"w"),K_=n=>t$(n).split("").sort().join("");Bt.prototype.assign=function(...n){if(this.isStackNode!==!0)return Yc!==null?Yc.assign(this,...n):kn("TSL: No stack defined for assign operation. Make sure the assign is inside a Fn().",new Mr),this;{const e=X1.get("assign");return this.addToStack(e(...n))}};Bt.prototype.toVarIntent=function(){return this};Bt.prototype.get=function(n){return new e$(this,n)};const im={};function pg(n,e,t){im[n]=im[e]=im[t]={get(){this._cache=this._cache||{};let a=this._cache[n];return a===void 0&&(a=new tL(this,n),this._cache[n]=a),a},set(a){this[n].assign(Ft(a))}};const r=n.toUpperCase(),s=e.toUpperCase(),i=t.toUpperCase();Bt.prototype["set"+r]=Bt.prototype["set"+s]=Bt.prototype["set"+i]=function(a){const l=K_(n);return new Zq(this,l,Ft(a))},Bt.prototype["flip"+r]=Bt.prototype["flip"+s]=Bt.prototype["flip"+i]=function(){const a=K_(n);return new Qq(this,a)}}const Fl=["x","y","z","w"],Bl=["r","g","b","a"],Vl=["s","t","p","q"];for(let n=0;n<4;n++){let e=Fl[n],t=Bl[n],r=Vl[n];pg(e,t,r);for(let s=0;s<4;s++){e=Fl[n]+Fl[s],t=Bl[n]+Bl[s],r=Vl[n]+Vl[s],pg(e,t,r);for(let i=0;i<4;i++){e=Fl[n]+Fl[s]+Fl[i],t=Bl[n]+Bl[s]+Bl[i],r=Vl[n]+Vl[s]+Vl[i],pg(e,t,r);for(let a=0;a<4;a++)e=Fl[n]+Fl[s]+Fl[i]+Fl[a],t=Bl[n]+Bl[s]+Bl[i]+Bl[a],r=Vl[n]+Vl[s]+Vl[i]+Vl[a],pg(e,t,r)}}}for(let n=0;n<32;n++)im[n]={get(){this._cache=this._cache||{};let e=this._cache[n];return e===void 0&&(e=new sd(this,new io(n,"uint")),this._cache[n]=e),e},set(e){this[n].assign(Ft(e))}};Object.defineProperties(Bt.prototype,im);const X_=new WeakMap,n$=function(n,e=null){const t=zc(n);return t==="node"?n:e===null&&(t==="float"||t==="boolean")||t&&t!=="shader"&&t!=="string"?Ft(G1(n,e)):t==="shader"?n.isFn?n:Oe(n):n},r$=function(n,e=null){for(const t in n)n[t]=Ft(n[t],e);return n},s$=function(n,e=null){const t=n.length;for(let r=0;r<t;r++)n[r]=Ft(n[r],e);return n},nL=function(n,e=null,t=null,r=null){function s(d){return r!==null?(d=Ft(Object.assign(d,r)),r.intent===!0&&(d=d.toVarIntent())):d=Ft(d),d}let i,a=e,l,c;function p(d){let h;return a?h=/[a-z]/i.test(a)?a+"()":a:h=n.type,l!==void 0&&d.length<l?(kn(`TSL: "${h}" parameter length is less than minimum required.`,new Mr),d.concat(new Array(l-d.length).fill(0))):c!==void 0&&d.length>c?(kn(`TSL: "${h}" parameter length exceeds limit.`,new Mr),d.slice(0,c)):d}return e===null?i=(...d)=>s(new n(...Kp(p(d)))):t!==null?(t=Ft(t),i=(...d)=>s(new n(e,...Kp(p(d)),t))):i=(...d)=>s(new n(e,...Kp(p(d)))),i.setParameterLength=(...d)=>(d.length===1?l=c=d[0]:d.length===2&&([l,c]=d),i),i.setName=d=>(a=d,i),i},i$=function(n,...e){return new n(...Kp(e))};class a$ extends Bt{constructor(e,t){super(),this.shaderNode=e,this.rawInputs=t,this.isShaderCallNodeInternal=!0}getNodeType(e){return this.shaderNode.nodeType||this.getOutputNode(e).getNodeType(e)}getElementType(e){return this.getOutputNode(e).getElementType(e)}getMemberType(e,t){return this.getOutputNode(e).getMemberType(e,t)}call(e){const{shaderNode:t,rawInputs:r}=this,s=e.getNodeProperties(t),i=e.getClosestSubBuild(t.subBuilds)||"",a=i||"default";if(s[a])return s[a];const l=e.subBuildFn,c=e.fnCall;e.subBuildFn=i,e.fnCall=this;let p=null;if(t.layout){let d=X_.get(e.constructor);d===void 0&&(d=new WeakMap,X_.set(e.constructor,d));let h=d.get(t);h===void 0&&(h=Ft(e.buildFunctionNode(t)),d.set(t,h)),e.addInclude(h);const m=r?o$(r):null;p=Ft(h.call(m))}else{const d=new Proxy(e,{get:(A,P,S)=>{let C;return Symbol.iterator===P?C=function*(){yield void 0}:C=Reflect.get(A,P,S),C}}),h=r?l$(r):null,m=Array.isArray(r)?r.length>0:r!==null,x=t.jsFunc,w=m||x.length>1?x(h,d):x(d);p=Ft(w)}return e.subBuildFn=l,e.fnCall=c,t.once&&(s[a]=p),p}setupOutput(e){return e.addStack(),e.stack.outputNode=this.call(e),e.removeStack()}getOutputNode(e){const t=e.getNodeProperties(this),r=e.getSubBuildOutput(this);return t[r]=t[r]||this.setupOutput(e),t[r].subBuild=e.getClosestSubBuild(this),t[r]}build(e,t=null){let r=null;const s=e.getBuildStage(),i=e.getNodeProperties(this),a=e.getSubBuildOutput(this),l=this.getOutputNode(e),c=e.fnCall;if(e.fnCall=this,s==="setup"){const p=e.getSubBuildProperty("initialized",this);if(i[p]!==!0&&(i[p]=!0,i[a]=this.getOutputNode(e),i[a].build(e),this.shaderNode.subBuilds))for(const d of e.chaining){const h=e.getDataFromNode(d,"any");h.subBuilds=h.subBuilds||new Set;for(const m of this.shaderNode.subBuilds)h.subBuilds.add(m)}r=i[a]}else s==="analyze"?l.build(e,t):s==="generate"&&(r=l.build(e,t)||"");return e.fnCall=c,r}}function o$(n){let e;return iv(n),n[0]&&(n[0].isNode||Object.getPrototypeOf(n[0])!==Object.prototype)?e=[...n]:e=n[0],e}function l$(n){let e=0;return iv(n),new Proxy(n,{get:(t,r,s)=>{let i;if(r==="length")return i=n.length,i;if(Symbol.iterator===r)i=function*(){for(const a of n)yield Ft(a)};else{if(n.length>0)if(Object.getPrototypeOf(n[0])===Object.prototype){const a=n[0];a[r]===void 0?i=a[e++]:i=Reflect.get(a,r,s)}else n[0]instanceof Bt&&(n[r]===void 0?i=n[e++]:i=Reflect.get(n,r,s));else i=Reflect.get(t,r,s);i=Ft(i)}return i}})}class u$ extends Bt{constructor(e,t){super(t),this.jsFunc=e,this.layout=null,this.global=!0,this.once=!1}setLayout(e){return this.layout=e,this}getLayout(){return this.layout}call(e=null){return new a$(this,e)}setup(){return this.call()}}const c$=[!1,!0],p$=[0,1,2,3],d$=[-1,-2],rL=[.5,1.5,1/3,1e-6,1e6,Math.PI,Math.PI*2,1/Math.PI,2/Math.PI,1/(Math.PI*2),Math.PI/2],Uw=new Map;for(const n of c$)Uw.set(n,new io(n));const qw=new Map;for(const n of p$)qw.set(n,new io(n,"uint"));const $w=new Map([...qw].map(n=>new io(n.value,"int")));for(const n of d$)$w.set(n,new io(n,"int"));const rv=new Map([...$w].map(n=>new io(n.value)));for(const n of rL)rv.set(n,new io(n));for(const n of rL)rv.set(-n,new io(-n));const sv={bool:Uw,uint:qw,ints:$w,float:rv},G_=new Map([...Uw,...rv]),G1=(n,e)=>G_.has(n)?G_.get(n):n.isNode===!0?n:new io(n,e),Wr=function(n,e=null){return(...t)=>{for(const s of t)if(s===void 0)return kn(`TSL: Invalid parameter for the type "${n}".`,new Mr),new io(0,n);if((t.length===0||!["bool","float","int","uint"].includes(n)&&t.every(s=>{const i=typeof s;return i!=="object"&&i!=="function"}))&&(t=[jw(n,...t)]),t.length===1&&e!==null&&e.has(t[0]))return Yh(e.get(t[0]));if(t.length===1){const s=G1(t[0],n);return s.nodeType===n?Yh(s):Yh(new eL(s,n))}const r=t.map(s=>G1(s));return Yh(new Yq(r,n))}},xm=n=>typeof n=="object"&&n!==null?n.value:n,sL=n=>n!=null?n.nodeType||n.convertTo||(typeof n=="string"?n:null):null;function of(n,e){return new u$(n,e)}const Ft=(n,e=null)=>n$(n,e),Yh=(n,e=null)=>Ft(n,e).toVarIntent(),iv=(n,e=null)=>new r$(n,e),Kp=(n,e=null)=>new s$(n,e),dn=(n,e=null,t=null,r=null)=>new nL(n,e,t,r),Nt=(n,...e)=>new i$(n,...e),ft=(n,e=null,t=null,r={})=>new nL(n,e,t,{...r,intent:!0});let f$=0;class h$ extends Bt{constructor(e,t=null){super();let r=null;t!==null&&(typeof t=="object"?r=t.return:(typeof t=="string"?r=t:kn("TSL: Invalid layout type.",new Mr),t=null)),this.shaderNode=new of(e,r),t!==null&&this.setLayout(t),this.isFn=!0}setLayout(e){const t=this.shaderNode.nodeType;if(typeof e.inputs!="object"){const r={name:"fn"+f$++,type:t,inputs:[]};for(const s in e)s!=="return"&&r.inputs.push({name:s,type:e[s]});e=r}return this.shaderNode.setLayout(e),this}getNodeType(e){return this.shaderNode.getNodeType(e)||"float"}call(...e){const t=this.shaderNode.call(e);return this.shaderNode.nodeType==="void"&&t.toStack(),t.toVarIntent()}once(e=null){return this.shaderNode.once=!0,this.shaderNode.subBuilds=e,this}generate(e){const t=this.getNodeType(e);return kn('TSL: "Fn()" was declared but not invoked. Try calling it like "Fn()( ...params )".',this.stackTrace),e.generateConst(t)}}function Oe(n,e=null){const t=new h$(n,e);return new Proxy(()=>{},{apply(r,s,i){return t.call(...i)},get(r,s,i){return Reflect.get(t,s,i)},set(r,s,i,a){return Reflect.set(t,s,i,a)}})}const Y1=n=>{Yc=n},iL=()=>Yc,Jt=(...n)=>Yc.If(...n),m$=(...n)=>Yc.Switch(...n);function av(n){return Yc&&Yc.addToStack(n),n}et("toStack",av);const aL=new Wr("color"),Ee=new Wr("float",sv.float),Ne=new Wr("int",sv.ints),lt=new Wr("uint",sv.uint),eo=new Wr("bool",sv.bool),wt=new Wr("vec2"),jr=new Wr("ivec2"),Ww=new Wr("uvec2"),oL=new Wr("bvec2"),Ve=new Wr("vec3"),Hw=new Wr("ivec3"),id=new Wr("uvec3"),Kw=new Wr("bvec3"),ln=new Wr("vec4"),Xw=new Wr("ivec4"),Gw=new Wr("uvec4"),lL=new Wr("bvec4"),ov=new Wr("mat2"),ya=new Wr("mat3"),$c=new Wr("mat4"),y$=(n="")=>new io(n,"string"),g$=n=>new io(n,"ArrayBuffer");et("toColor",aL);et("toFloat",Ee);et("toInt",Ne);et("toUint",lt);et("toBool",eo);et("toVec2",wt);et("toIVec2",jr);et("toUVec2",Ww);et("toBVec2",oL);et("toVec3",Ve);et("toIVec3",Hw);et("toUVec3",id);et("toBVec3",Kw);et("toVec4",ln);et("toIVec4",Xw);et("toUVec4",Gw);et("toBVec4",lL);et("toMat2",ov);et("toMat3",ya);et("toMat4",$c);const uL=dn(sd).setParameterLength(2),cL=(n,e)=>new eL(Ft(n),e),x$=(n,e)=>new tL(Ft(n),e);et("element",uL);et("convert",cL);const v$=n=>(on("TSL: append() has been renamed to Stack().",new Mr),av(n));et("append",n=>(on("TSL: .append() has been renamed to .toStack().",new Mr),av(n)));class Fn extends Bt{static get type(){return"PropertyNode"}constructor(e,t=null,r=!1){super(e),this.name=t,this.varying=r,this.isPropertyNode=!0,this.global=!0}customCacheKey(){return Bw(this.type+":"+(this.name||"")+":"+(this.varying?"1":"0"))}getHash(e){return this.name||super.getHash(e)}generate(e){let t;return this.varying===!0?(t=e.getVaryingFromNode(this,this.name),t.needsInterpolation=!0):t=e.getVarFromNode(this,this.name),e.getPropertyName(t)}}const Uu=(n,e)=>new Fn(n,e),vm=(n,e)=>new Fn(n,e,!0),Qs=Nt(Fn,"vec4","DiffuseColor"),T$=Nt(Fn,"vec3","DiffuseContribution"),J1=Nt(Fn,"vec3","EmissiveColor"),pL=Nt(Fn,"float","Roughness"),S$=Nt(Fn,"float","Metalness"),b$=Nt(Fn,"float","Clearcoat"),w$=Nt(Fn,"float","ClearcoatRoughness"),E$=Nt(Fn,"vec3","Sheen"),P$=Nt(Fn,"float","SheenRoughness"),dL=Nt(Fn,"float","Iridescence"),A$=Nt(Fn,"float","IridescenceIOR"),N$=Nt(Fn,"float","IridescenceThickness"),Z1=Nt(Fn,"float","AlphaT"),fL=Nt(Fn,"float","Anisotropy"),sx=Nt(Fn,"vec3","AnisotropyT"),mf=Nt(Fn,"vec3","AnisotropyB"),_$=Nt(Fn,"color","SpecularColor"),C$=Nt(Fn,"color","SpecularColorBlended"),I$=Nt(Fn,"float","SpecularF90"),M$=Nt(Fn,"float","Shininess"),yf=Nt(Fn,"vec4","Output"),k$=Nt(Fn,"float","dashSize"),O$=Nt(Fn,"float","gapSize"),L$=Nt(Fn,"float","pointWidth"),D$=Nt(Fn,"float","IOR"),R$=Nt(Fn,"float","Transmission"),F$=Nt(Fn,"float","Thickness"),B$=Nt(Fn,"float","AttenuationDistance"),V$=Nt(Fn,"color","AttenuationColor"),j$=Nt(Fn,"float","Dispersion");class hL extends Bt{static get type(){return"UniformGroupNode"}constructor(e,t=!1,r=1){super("string"),this.name=e,this.shared=t,this.order=r,this.isUniformGroup=!0}serialize(e){super.serialize(e),e.name=this.name,e.version=this.version,e.shared=this.shared}deserialize(e){super.deserialize(e),this.name=e.name,this.version=e.version,this.shared=e.shared}}const mL=n=>new hL(n),lv=(n,e=0)=>new hL(n,!0,e),z$=lv("frame"),un=lv("render"),yL=mL("object");class Lm extends zw{static get type(){return"UniformNode"}constructor(e,t=null){super(e,t),this.isUniformNode=!0,this.name="",this.groupNode=yL}setName(e){return this.name=e,this}label(e){return on('TSL: "label()" has been deprecated. Use "setName()" instead.',new Mr),this.setName(e)}setGroup(e){return this.groupNode=e,this}getGroup(){return this.groupNode}getUniformHash(e){return this.getHash(e)}onUpdate(e,t){return e=e.bind(this),super.onUpdate(r=>{const s=e(r,this);s!==void 0&&(this.value=s)},t)}getInputType(e){let t=super.getInputType(e);return t==="bool"&&(t="uint"),t}generate(e,t){const r=this.getNodeType(e),s=this.getUniformHash(e);let i=e.getNodeFromHash(s);i===void 0&&(e.setHashNode(this,s),i=this);const a=i.getInputType(e),l=e.getUniformFromNode(i,a,e.shaderStage,this.name||e.context.nodeName),c=e.getPropertyName(l);e.context.nodeName!==void 0&&delete e.context.nodeName;let p=c;if(r==="bool"){const d=e.getDataFromNode(this);let h=d.propertyName;if(h===void 0){const m=e.getVarFromNode(this,null,"bool");h=e.getPropertyName(m),d.propertyName=h,p=e.format(c,a,r),e.addLineFlowCode(`${h} = ${p}`,this)}p=h}return e.format(p,r,t)}}const Qt=(n,e)=>{const t=sL(e||n);if(t===n&&(n=jw(t)),n&&n.isNode===!0){let r=n.value;n.traverse(s=>{s.isConstNode===!0&&(r=s.value)}),n=r}return new Lm(n,t)};class Y_ extends Sr{static get type(){return"ArrayNode"}constructor(e,t,r=null){super(e),this.count=t,this.values=r,this.isArrayNode=!0}getArrayCount(){return this.count}getNodeType(e){return this.nodeType===null?this.values[0].getNodeType(e):this.nodeType}getElementType(e){return this.getNodeType(e)}getMemberType(e,t){return this.nodeType===null?this.values[0].getMemberType(e,t):super.getMemberType(e,t)}generate(e){const t=this.getNodeType(e);return e.generateArray(t,this.count,this.values)}}const gL=(...n)=>{let e;if(n.length===1){const t=n[0];e=new Y_(null,t.length,t)}else{const t=n[0],r=n[1];e=new Y_(t,r)}return Ft(e)};et("toArray",(n,e)=>gL(Array(e).fill(n)));class U$ extends Sr{static get type(){return"AssignNode"}constructor(e,t){super(),this.targetNode=e,this.sourceNode=t,this.isAssignNode=!0}hasDependencies(){return!1}getNodeType(e,t){return t!=="void"?this.targetNode.getNodeType(e):"void"}needsSplitAssign(e){const{targetNode:t}=this;if(e.isAvailable("swizzleAssign")===!1&&t.isSplitNode&&t.components.length>1){const r=e.getTypeLength(t.node.getNodeType(e));return Bf.join("").slice(0,r)!==t.components}return!1}setup(e){const{targetNode:t,sourceNode:r}=this,s=t.getScope(),i=e.getDataFromNode(s);i.assign=!0;const a=e.getNodeProperties(this);a.sourceNode=r,a.targetNode=t.context({assign:!0})}generate(e,t){const{targetNode:r,sourceNode:s}=e.getNodeProperties(this),i=this.needsSplitAssign(e),a=r.build(e),l=r.getNodeType(e),c=s.build(e,l),p=s.getNodeType(e),d=e.getDataFromNode(this);let h;if(d.initialized===!0)t!=="void"&&(h=a);else if(i){const m=e.getVarFromNode(this,null,l),x=e.getPropertyName(m);e.addLineFlowCode(`${x} = ${c}`,this);const w=r.node,P=w.node.context({assign:!0}).build(e);for(let S=0;S<w.components.length;S++){const C=w.components[S];e.addLineFlowCode(`${P}.${C} = ${x}[ ${S} ]`,this)}t!=="void"&&(h=a)}else h=`${a} = ${c}`,(t==="void"||p==="void")&&(e.addLineFlowCode(h,this),t!=="void"&&(h=a));return d.initialized=!0,e.format(h,l,t)}}const xL=dn(U$).setParameterLength(2);et("assign",xL);class q$ extends Sr{static get type(){return"FunctionCallNode"}constructor(e=null,t={}){super(),this.functionNode=e,this.parameters=t}setParameters(e){return this.parameters=e,this}getParameters(){return this.parameters}getNodeType(e){return this.functionNode.getNodeType(e)}getMemberType(e,t){return this.functionNode.getMemberType(e,t)}generate(e){const t=[],r=this.functionNode,s=r.getInputs(e),i=this.parameters,a=(c,p)=>{const d=p.type,h=d==="pointer";let m;return h?m="&"+c.build(e):m=c.build(e,d),m};if(Array.isArray(i)){if(i.length>s.length)kn("TSL: The number of provided parameters exceeds the expected number of inputs in 'Fn()'."),i.length=s.length;else if(i.length<s.length)for(kn("TSL: The number of provided parameters is less than the expected number of inputs in 'Fn()'.");i.length<s.length;)i.push(Ee(0));for(let c=0;c<i.length;c++)t.push(a(i[c],s[c]))}else for(const c of s){const p=i[c.name];p!==void 0?t.push(a(p,c)):(kn(`TSL: Input '${c.name}' not found in 'Fn()'.`),t.push(a(Ee(0),c)))}return`${r.build(e,"property")}( ${t.join(", ")} )`}}const vL=(n,...e)=>(e=e.length>1||e[0]&&e[0].isNode===!0?Kp(e):iv(e[0]),new q$(Ft(n),e));et("call",vL);const $$={"==":"equal","!=":"notEqual","<":"lessThan",">":"greaterThan","<=":"lessThanEqual",">=":"greaterThanEqual","%":"mod"};class ur extends Sr{static get type(){return"OperatorNode"}constructor(e,t,r,...s){if(super(),s.length>0){let i=new ur(e,t,r);for(let a=0;a<s.length-1;a++)i=new ur(e,i,s[a]);t=i,r=s[s.length-1]}this.op=e,this.aNode=t,this.bNode=r,this.isOperatorNode=!0}getOperatorMethod(e,t){return e.getMethod($$[this.op],t)}getNodeType(e,t=null){const r=this.op,s=this.aNode,i=this.bNode,a=s.getNodeType(e),l=i?i.getNodeType(e):null;if(a==="void"||l==="void")return t||"void";if(r==="%")return a;if(r==="~"||r==="&"||r==="|"||r==="^"||r===">>"||r==="<<")return e.getIntegerType(a);if(r==="!"||r==="&&"||r==="||"||r==="^^")return"bool";if(r==="=="||r==="!="||r==="<"||r===">"||r==="<="||r===">="){const c=Math.max(e.getTypeLength(a),e.getTypeLength(l));return c>1?`bvec${c}`:"bool"}else{if(e.isMatrix(a)){if(l==="float")return a;if(e.isVector(l))return e.getVectorFromMatrix(a);if(e.isMatrix(l))return a}else if(e.isMatrix(l)){if(a==="float")return l;if(e.isVector(a))return e.getVectorFromMatrix(l)}return e.getTypeLength(l)>e.getTypeLength(a)?l:a}}generate(e,t){const r=this.op,{aNode:s,bNode:i}=this,a=this.getNodeType(e,t);let l=null,c=null;a!=="void"?(l=s.getNodeType(e),c=i?i.getNodeType(e):null,r==="<"||r===">"||r==="<="||r===">="||r==="=="||r==="!="?e.isVector(l)?c=l:e.isVector(c)?l=c:l!==c&&(l=c="float"):r===">>"||r==="<<"?(l=a,c=e.changeComponentType(c,"uint")):r==="%"?(l=a,c=e.isInteger(l)&&e.isInteger(c)?c:l):e.isMatrix(l)?c==="float"?c="float":e.isVector(c)?c=e.getVectorFromMatrix(l):e.isMatrix(c)||(l=c=a):e.isMatrix(c)?l==="float"?l="float":e.isVector(l)?l=e.getVectorFromMatrix(c):l=c=a:l=c=a):l=c=a;const p=s.build(e,l),d=i?i.build(e,c):null,h=e.getFunctionOperator(r);if(t!=="void"){const m=e.renderer.coordinateSystem===jc;if(r==="=="||r==="!="||r==="<"||r===">"||r==="<="||r===">=")return m?e.isVector(l)?e.format(`${this.getOperatorMethod(e,t)}( ${p}, ${d} )`,a,t):e.format(`( ${p} ${r} ${d} )`,a,t):e.format(`( ${p} ${r} ${d} )`,a,t);if(r==="%")return e.isInteger(c)?e.format(`( ${p} % ${d} )`,a,t):e.format(`${this.getOperatorMethod(e,a)}( ${p}, ${d} )`,a,t);if(r==="!"||r==="~")return e.format(`(${r}${p})`,l,t);if(h)return e.format(`${h}( ${p}, ${d} )`,a,t);if(e.isMatrix(l)&&c==="float")return e.format(`( ${d} ${r} ${p} )`,a,t);if(l==="float"&&e.isMatrix(c))return e.format(`${p} ${r} ${d}`,a,t);{let x=`( ${p} ${r} ${d} )`;return!m&&a==="bool"&&e.isVector(l)&&e.isVector(c)&&(x=`all${x}`),e.format(x,a,t)}}else if(l!=="void")return h?e.format(`${h}( ${p}, ${d} )`,a,t):e.isMatrix(l)&&c==="float"?e.format(`${d} ${r} ${p}`,a,t):e.format(`${p} ${r} ${d}`,a,t)}serialize(e){super.serialize(e),e.op=this.op}deserialize(e){super.deserialize(e),this.op=e.op}}const kr=ft(ur,"+").setParameterLength(2,1/0).setName("add"),An=ft(ur,"-").setParameterLength(2,1/0).setName("sub"),an=ft(ur,"*").setParameterLength(2,1/0).setName("mul"),Jl=ft(ur,"/").setParameterLength(2,1/0).setName("div"),Dm=ft(ur,"%").setParameterLength(2).setName("mod"),TL=ft(ur,"==").setParameterLength(2).setName("equal"),SL=ft(ur,"!=").setParameterLength(2).setName("notEqual"),bL=ft(ur,"<").setParameterLength(2).setName("lessThan"),Yw=ft(ur,">").setParameterLength(2).setName("greaterThan"),wL=ft(ur,"<=").setParameterLength(2).setName("lessThanEqual"),EL=ft(ur,">=").setParameterLength(2).setName("greaterThanEqual"),PL=ft(ur,"&&").setParameterLength(2,1/0).setName("and"),AL=ft(ur,"||").setParameterLength(2,1/0).setName("or"),NL=ft(ur,"!").setParameterLength(1).setName("not"),_L=ft(ur,"^^").setParameterLength(2).setName("xor"),CL=ft(ur,"&").setParameterLength(2).setName("bitAnd"),IL=ft(ur,"~").setParameterLength(1).setName("bitNot"),ML=ft(ur,"|").setParameterLength(2).setName("bitOr"),kL=ft(ur,"^").setParameterLength(2).setName("bitXor"),OL=ft(ur,"<<").setParameterLength(2).setName("shiftLeft"),LL=ft(ur,">>").setParameterLength(2).setName("shiftRight"),DL=Oe(([n])=>(n.addAssign(1),n)),RL=Oe(([n])=>(n.subAssign(1),n)),FL=Oe(([n])=>{const e=Ne(n).toConst();return n.addAssign(1),e}),BL=Oe(([n])=>{const e=Ne(n).toConst();return n.subAssign(1),e});et("add",kr);et("sub",An);et("mul",an);et("div",Jl);et("mod",Dm);et("equal",TL);et("notEqual",SL);et("lessThan",bL);et("greaterThan",Yw);et("lessThanEqual",wL);et("greaterThanEqual",EL);et("and",PL);et("or",AL);et("not",NL);et("xor",_L);et("bitAnd",CL);et("bitNot",IL);et("bitOr",ML);et("bitXor",kL);et("shiftLeft",OL);et("shiftRight",LL);et("incrementBefore",DL);et("decrementBefore",RL);et("increment",FL);et("decrement",BL);const VL=(n,e)=>(on('TSL: "modInt()" is deprecated. Use "mod( int( ... ) )" instead.',new Mr),Dm(Ne(n),Ne(e)));et("modInt",VL);class je extends Sr{static get type(){return"MathNode"}constructor(e,t,r=null,s=null){if(super(),(e===je.MAX||e===je.MIN)&&arguments.length>3){let i=new je(e,t,r);for(let a=2;a<arguments.length-1;a++)i=new je(e,i,arguments[a]);t=i,r=arguments[arguments.length-1],s=null}this.method=e,this.aNode=t,this.bNode=r,this.cNode=s,this.isMathNode=!0}getInputType(e){const t=this.aNode.getNodeType(e),r=this.bNode?this.bNode.getNodeType(e):null,s=this.cNode?this.cNode.getNodeType(e):null,i=e.isMatrix(t)?0:e.getTypeLength(t),a=e.isMatrix(r)?0:e.getTypeLength(r),l=e.isMatrix(s)?0:e.getTypeLength(s);return i>a&&i>l?t:a>l?r:l>i?s:t}getNodeType(e){const t=this.method;return t===je.LENGTH||t===je.DISTANCE||t===je.DOT?"float":t===je.CROSS?"vec3":t===je.ALL||t===je.ANY?"bool":t===je.EQUALS?e.changeComponentType(this.aNode.getNodeType(e),"bool"):this.getInputType(e)}setup(e){const{aNode:t,bNode:r,method:s}=this;let i=null;if(s===je.ONE_MINUS)i=An(1,t);else if(s===je.RECIPROCAL)i=Jl(1,t);else if(s===je.DIFFERENCE)i=Gn(An(t,r));else if(s===je.TRANSFORM_DIRECTION){let a=t,l=r;e.isMatrix(a.getNodeType(e))?l=ln(Ve(l),0):a=ln(Ve(a),0);const c=an(a,l).xyz;i=Ya(c)}return i!==null?i:super.setup(e)}generate(e,t){if(e.getNodeProperties(this).outputNode)return super.generate(e,t);let s=this.method;const i=this.getNodeType(e),a=this.getInputType(e),l=this.aNode,c=this.bNode,p=this.cNode,d=e.renderer.coordinateSystem;if(s===je.NEGATE)return e.format("( - "+l.build(e,a)+" )",i,t);{const h=[];return s===je.CROSS?h.push(l.build(e,i),c.build(e,i)):d===jc&&s===je.STEP?h.push(l.build(e,e.getTypeLength(l.getNodeType(e))===1?"float":a),c.build(e,a)):d===jc&&(s===je.MIN||s===je.MAX)?h.push(l.build(e,a),c.build(e,e.getTypeLength(c.getNodeType(e))===1?"float":a)):s===je.REFRACT?h.push(l.build(e,a),c.build(e,a),p.build(e,"float")):s===je.MIX?h.push(l.build(e,a),c.build(e,a),p.build(e,e.getTypeLength(p.getNodeType(e))===1?"float":a)):(d===Gc&&s===je.ATAN&&c!==null&&(s="atan2"),e.shaderStage!=="fragment"&&(s===je.DFDX||s===je.DFDY)&&(on(`TSL: '${s}' is not supported in the ${e.shaderStage} stage.`,this.stackTrace),s="/*"+s+"*/"),h.push(l.build(e,a)),c!==null&&h.push(c.build(e,a)),p!==null&&h.push(p.build(e,a))),e.format(`${e.getMethod(s,i)}( ${h.join(", ")} )`,i,t)}}serialize(e){super.serialize(e),e.method=this.method}deserialize(e){super.deserialize(e),this.method=e.method}}je.ALL="all";je.ANY="any";je.RADIANS="radians";je.DEGREES="degrees";je.EXP="exp";je.EXP2="exp2";je.LOG="log";je.LOG2="log2";je.SQRT="sqrt";je.INVERSE_SQRT="inversesqrt";je.FLOOR="floor";je.CEIL="ceil";je.NORMALIZE="normalize";je.FRACT="fract";je.SIN="sin";je.COS="cos";je.TAN="tan";je.ASIN="asin";je.ACOS="acos";je.ATAN="atan";je.ABS="abs";je.SIGN="sign";je.LENGTH="length";je.NEGATE="negate";je.ONE_MINUS="oneMinus";je.DFDX="dFdx";je.DFDY="dFdy";je.ROUND="round";je.RECIPROCAL="reciprocal";je.TRUNC="trunc";je.FWIDTH="fwidth";je.TRANSPOSE="transpose";je.DETERMINANT="determinant";je.INVERSE="inverse";je.EQUALS="equals";je.MIN="min";je.MAX="max";je.STEP="step";je.REFLECT="reflect";je.DISTANCE="distance";je.DIFFERENCE="difference";je.DOT="dot";je.CROSS="cross";je.POW="pow";je.TRANSFORM_DIRECTION="transformDirection";je.MIX="mix";je.CLAMP="clamp";je.REFRACT="refract";je.SMOOTHSTEP="smoothstep";je.FACEFORWARD="faceforward";const jL=Ee(1e-6),W$=Ee(1e6),kx=Ee(Math.PI),H$=Ee(Math.PI*2),K$=Ee(Math.PI*2),X$=Ee(Math.PI*.5),zL=ft(je,je.ALL).setParameterLength(1),UL=ft(je,je.ANY).setParameterLength(1),qL=ft(je,je.RADIANS).setParameterLength(1),$L=ft(je,je.DEGREES).setParameterLength(1),WL=ft(je,je.EXP).setParameterLength(1),Cf=ft(je,je.EXP2).setParameterLength(1),Jw=ft(je,je.LOG).setParameterLength(1),qu=ft(je,je.LOG2).setParameterLength(1),si=ft(je,je.SQRT).setParameterLength(1),Zw=ft(je,je.INVERSE_SQRT).setParameterLength(1),Kl=ft(je,je.FLOOR).setParameterLength(1),uv=ft(je,je.CEIL).setParameterLength(1),Ya=ft(je,je.NORMALIZE).setParameterLength(1),nl=ft(je,je.FRACT).setParameterLength(1),ei=ft(je,je.SIN).setParameterLength(1),Ho=ft(je,je.COS).setParameterLength(1),HL=ft(je,je.TAN).setParameterLength(1),KL=ft(je,je.ASIN).setParameterLength(1),XL=ft(je,je.ACOS).setParameterLength(1),Qw=ft(je,je.ATAN).setParameterLength(1,2),Gn=ft(je,je.ABS).setParameterLength(1),eE=ft(je,je.SIGN).setParameterLength(1),Ox=ft(je,je.LENGTH).setParameterLength(1),tE=ft(je,je.NEGATE).setParameterLength(1),GL=ft(je,je.ONE_MINUS).setParameterLength(1),nE=ft(je,je.DFDX).setParameterLength(1),rE=ft(je,je.DFDY).setParameterLength(1),YL=ft(je,je.ROUND).setParameterLength(1),JL=ft(je,je.RECIPROCAL).setParameterLength(1),sE=ft(je,je.TRUNC).setParameterLength(1),iE=ft(je,je.FWIDTH).setParameterLength(1),ZL=ft(je,je.TRANSPOSE).setParameterLength(1),QL=ft(je,je.DETERMINANT).setParameterLength(1),eD=ft(je,je.INVERSE).setParameterLength(1),to=ft(je,je.MIN).setParameterLength(2,1/0),qr=ft(je,je.MAX).setParameterLength(2,1/0),If=ft(je,je.STEP).setParameterLength(2),tD=ft(je,je.REFLECT).setParameterLength(2),nD=ft(je,je.DISTANCE).setParameterLength(2),rD=ft(je,je.DIFFERENCE).setParameterLength(2),no=ft(je,je.DOT).setParameterLength(2),Ku=ft(je,je.CROSS).setParameterLength(2),Ka=ft(je,je.POW).setParameterLength(2),sD=n=>an(n,n),iD=n=>an(n,n,n),aD=n=>an(n,n,n,n),oD=ft(je,je.TRANSFORM_DIRECTION).setParameterLength(2),lD=n=>an(eE(n),Ka(Gn(n),1/3)),aE=n=>no(n,n),nr=ft(je,je.MIX).setParameterLength(3),Zl=(n,e=0,t=1)=>new je(je.CLAMP,Ft(n),Ft(e),Ft(t)),oE=n=>Zl(n),uD=ft(je,je.REFRACT).setParameterLength(3),Jc=ft(je,je.SMOOTHSTEP).setParameterLength(3),lE=ft(je,je.FACEFORWARD).setParameterLength(3),cD=Oe(([n])=>{const r=43758.5453,s=no(n.xy,wt(12.9898,78.233)),i=Dm(s,kx);return nl(ei(i).mul(r))}),pD=(n,e,t)=>nr(e,t,n),dD=(n,e,t)=>Jc(e,t,n),fD=(n,e)=>If(e,n),G$=lE,Y$=Zw;et("all",zL);et("any",UL);et("radians",qL);et("degrees",$L);et("exp",WL);et("exp2",Cf);et("log",Jw);et("log2",qu);et("sqrt",si);et("inverseSqrt",Zw);et("floor",Kl);et("ceil",uv);et("normalize",Ya);et("fract",nl);et("sin",ei);et("cos",Ho);et("tan",HL);et("asin",KL);et("acos",XL);et("atan",Qw);et("abs",Gn);et("sign",eE);et("length",Ox);et("lengthSq",aE);et("negate",tE);et("oneMinus",GL);et("dFdx",nE);et("dFdy",rE);et("round",YL);et("reciprocal",JL);et("trunc",sE);et("fwidth",iE);et("min",to);et("max",qr);et("step",fD);et("reflect",tD);et("distance",nD);et("dot",no);et("cross",Ku);et("pow",Ka);et("pow2",sD);et("pow3",iD);et("pow4",aD);et("transformDirection",oD);et("mix",pD);et("clamp",Zl);et("refract",uD);et("smoothstep",dD);et("faceForward",lE);et("difference",rD);et("saturate",oE);et("cbrt",lD);et("transpose",ZL);et("determinant",QL);et("inverse",eD);et("rand",cD);class J$ extends Bt{static get type(){return"ConditionalNode"}constructor(e,t,r=null){super(),this.condNode=e,this.ifNode=t,this.elseNode=r}getNodeType(e){const{ifNode:t,elseNode:r}=e.getNodeProperties(this);if(t===void 0)return e.flowBuildStage(this,"setup"),this.getNodeType(e);const s=t.getNodeType(e);if(r!==null){const i=r.getNodeType(e);if(e.getTypeLength(i)>e.getTypeLength(s))return i}return s}setup(e){const t=this.condNode,r=this.ifNode.isolate(),s=this.elseNode?this.elseNode.isolate():null,i=e.context.nodeBlock;e.getDataFromNode(r).parentNodeBlock=i,s!==null&&(e.getDataFromNode(s).parentNodeBlock=i);const a=e.context.uniformFlow,l=e.getNodeProperties(this);l.condNode=t,l.ifNode=a?r:r.context({nodeBlock:r}),l.elseNode=s?a?s:s.context({nodeBlock:s}):null}generate(e,t){const r=this.getNodeType(e),s=e.getDataFromNode(this);if(s.nodeProperty!==void 0)return s.nodeProperty;const{condNode:i,ifNode:a,elseNode:l}=e.getNodeProperties(this),c=e.currentFunctionNode,p=t!=="void",d=p?Uu(r).build(e):"";s.nodeProperty=d;const h=i.build(e,"bool");if(e.context.uniformFlow&&l!==null){const w=a.build(e,r),A=l.build(e,r),P=e.getTernary(h,w,A);return e.format(P,r,t)}e.addFlowCode(`
${e.tab}if ( ${h} ) {

`).addFlowTab();let x=a.build(e,r);if(x&&(p?x=d+" = "+x+";":(x="return "+x+";",c===null&&(on("TSL: Return statement used in an inline 'Fn()'. Define a layout struct to allow return values.",this.stackTrace),x="// "+x))),e.removeFlowTab().addFlowCode(e.tab+"	"+x+`

`+e.tab+"}"),l!==null){e.addFlowCode(` else {

`).addFlowTab();let w=l.build(e,r);w&&(p?w=d+" = "+w+";":(w="return "+w+";",c===null&&(on("TSL: Return statement used in an inline 'Fn()'. Define a layout struct to allow return values.",this.stackTrace),w="// "+w))),e.removeFlowTab().addFlowCode(e.tab+"	"+w+`

`+e.tab+`}

`)}else e.addFlowCode(`

`);return e.format(d,r,t)}}const zs=dn(J$).setParameterLength(2,3);et("select",zs);class hD extends Bt{static get type(){return"ContextNode"}constructor(e=null,t={}){super(),this.isContextNode=!0,this.node=e,this.value=t}getScope(){return this.node.getScope()}getNodeType(e){return this.node.getNodeType(e)}getFlowContextData(){const e=[];return this.traverse(t=>{t.isContextNode===!0&&e.push(t.value)}),Object.assign({},...e)}getMemberType(e,t){return this.node.getMemberType(e,t)}analyze(e){const t=e.addContext(this.value);this.node.build(e),e.setContext(t)}setup(e){const t=e.addContext(this.value);this.node.build(e),e.setContext(t)}generate(e,t){const r=e.addContext(this.value),s=this.node.build(e,t);return e.setContext(r),s}}const tp=(n=null,e={})=>{let t=n;return(t===null||t.isNode!==!0)&&(e=t||e,t=null),new hD(t,e)},mD=n=>tp(n,{uniformFlow:!0}),uE=(n,e)=>tp(n,{nodeName:e});function yD(n,e,t=null){return tp(t,{getShadow:({light:r,shadowColorNode:s})=>e===r?s.mul(n):s})}function gD(n,e=null){return tp(e,{getAO:(t,{material:r})=>r.transparent===!0?t:t!==null?t.mul(n):n})}function xD(n,e){return on('TSL: "label()" has been deprecated. Use "setName()" instead.'),uE(n,e)}et("context",tp);et("label",xD);et("uniformFlow",mD);et("setName",uE);et("builtinShadowContext",(n,e,t)=>yD(e,t,n));et("builtinAOContext",(n,e)=>gD(e,n));class Z$ extends Bt{static get type(){return"VarNode"}constructor(e,t=null,r=!1){super(),this.node=e,this.name=t,this.global=!0,this.isVarNode=!0,this.readOnly=r,this.parents=!0,this.intent=!1}setIntent(e){return this.intent=e,this}isIntent(e){return e.getDataFromNode(this).forceDeclaration===!0?!1:this.intent}getIntent(){return this.intent}getMemberType(e,t){return this.node.getMemberType(e,t)}getElementType(e){return this.node.getElementType(e)}getNodeType(e){return this.node.getNodeType(e)}getArrayCount(e){return this.node.getArrayCount(e)}isAssign(e){return e.getDataFromNode(this).assign}build(...e){const t=e[0];if(this._hasStack(t)===!1&&t.buildStage==="setup"&&(t.context.nodeLoop||t.context.nodeBlock)){let r=!1;if(this.node.isShaderCallNodeInternal&&this.node.shaderNode.getLayout()===null&&t.fnCall&&t.fnCall.shaderNode&&t.getDataFromNode(this.node.shaderNode).hasLoop){const a=t.getDataFromNode(this);a.forceDeclaration=!0,r=!0}const s=t.getBaseStack();r?s.addToStackBefore(this):s.addToStack(this)}return this.isIntent(t)&&this.isAssign(t)!==!0?this.node.build(...e):super.build(...e)}generate(e){const{node:t,name:r,readOnly:s}=this,{renderer:i}=e,a=i.backend.isWebGPUBackend===!0;let l=!1,c=!1;s&&(l=e.isDeterministic(t),c=a?s:l);const p=this.getNodeType(e);if(p=="void")return this.isIntent(e)!==!0&&kn('TSL: ".toVar()" can not be used with void type.',this.stackTrace),t.build(e);const d=e.getVectorType(p),h=t.build(e,d),m=e.getVarFromNode(this,r,d,void 0,c),x=e.getPropertyName(m);let w=x;if(c)if(a)w=l?`const ${x}`:`let ${x}`;else{const A=t.getArrayCount(e);w=`const ${e.getVar(m.type,x,A)}`}return e.addLineFlowCode(`${w} = ${h}`,this),x}_hasStack(e){return e.getDataFromNode(this).stack!==void 0}}const cE=dn(Z$),vD=(n,e=null)=>cE(n,e).toStack(),TD=(n,e=null)=>cE(n,e,!0).toStack(),SD=n=>cE(n).setIntent(!0).toStack();et("toVar",vD);et("toConst",TD);et("toVarIntent",SD);class Q$ extends Bt{static get type(){return"SubBuild"}constructor(e,t,r=null){super(r),this.node=e,this.name=t,this.isSubBuildNode=!0}getNodeType(e){if(this.nodeType!==null)return this.nodeType;e.addSubBuild(this.name);const t=this.node.getNodeType(e);return e.removeSubBuild(),t}build(e,...t){e.addSubBuild(this.name);const r=this.node.build(e,...t);return e.removeSubBuild(),r}}const gf=(n,e,t=null)=>new Q$(Ft(n),e,t);class eW extends Bt{static get type(){return"VaryingNode"}constructor(e,t=null){super(),this.node=gf(e,"VERTEX"),this.name=t,this.isVaryingNode=!0,this.interpolationType=null,this.interpolationSampling=null,this.global=!0}setInterpolation(e,t=null){return this.interpolationType=e,this.interpolationSampling=t,this}getHash(e){return this.name||super.getHash(e)}getNodeType(e){return this.node.getNodeType(e)}setupVarying(e){const t=e.getNodeProperties(this);let r=t.varying;if(r===void 0){const s=this.name,i=this.getNodeType(e),a=this.interpolationType,l=this.interpolationSampling;t.varying=r=e.getVaryingFromNode(this,s,i,a,l),t.node=gf(this.node,"VERTEX")}return r.needsInterpolation||(r.needsInterpolation=e.shaderStage==="fragment"),r}setup(e){this.setupVarying(e),e.flowNodeFromShaderStage(Gh.VERTEX,this.node)}analyze(e){this.setupVarying(e),e.flowNodeFromShaderStage(Gh.VERTEX,this.node)}generate(e){const t=e.getSubBuildProperty("property",e.currentStack),r=e.getNodeProperties(this),s=this.setupVarying(e);if(r[t]===void 0){const i=this.getNodeType(e),a=e.getPropertyName(s,Gh.VERTEX);e.flowNodeFromShaderStage(Gh.VERTEX,r.node,i,a),r[t]=a}return e.getPropertyName(s)}}const ad=dn(eW).setParameterLength(1,2),bD=n=>ad(n);et("toVarying",ad);et("toVertexStage",bD);const wD=Oe(([n])=>{const e=n.mul(.9478672986).add(.0521327014).pow(2.4),t=n.mul(.0773993808),r=n.lessThanEqual(.04045);return nr(e,t,r)}).setLayout({name:"sRGBTransferEOTF",type:"vec3",inputs:[{name:"color",type:"vec3"}]}),ED=Oe(([n])=>{const e=n.pow(.41666).mul(1.055).sub(.055),t=n.mul(12.92),r=n.lessThanEqual(.0031308);return nr(e,t,r)}).setLayout({name:"sRGBTransferOETF",type:"vec3",inputs:[{name:"color",type:"vec3"}]}),pE="WorkingColorSpace",tW="OutputColorSpace";class dE extends Sr{static get type(){return"ColorSpaceNode"}constructor(e,t,r){super("vec4"),this.colorNode=e,this.source=t,this.target=r}resolveColorSpace(e,t){return t===pE?Nr.workingColorSpace:t===tW?e.context.outputColorSpace||e.renderer.outputColorSpace:t}setup(e){const{colorNode:t}=this,r=this.resolveColorSpace(e,this.source),s=this.resolveColorSpace(e,this.target);let i=t;return Nr.enabled===!1||r===s||!r||!s||(Nr.getTransfer(r)===nm&&(i=ln(wD(i.rgb),i.a)),Nr.getPrimaries(r)!==Nr.getPrimaries(s)&&(i=ln(ya(Nr._getMatrix(new so,r,s)).mul(i.rgb),i.a)),Nr.getTransfer(s)===nm&&(i=ln(ED(i.rgb),i.a))),i}}const PD=(n,e)=>new dE(Ft(n),pE,e),fE=(n,e)=>new dE(Ft(n),e,pE),nW=(n,e,t)=>new dE(Ft(n),e,t);et("workingToColorSpace",PD);et("colorSpaceToWorking",fE);let rW=class extends sd{static get type(){return"ReferenceElementNode"}constructor(e,t){super(e,t),this.referenceNode=e,this.isReferenceElementNode=!0}getNodeType(){return this.referenceNode.uniformType}generate(e){const t=super.generate(e),r=this.referenceNode.getNodeType(),s=this.getNodeType();return e.format(t,r,s)}};class sW extends Bt{static get type(){return"ReferenceBaseNode"}constructor(e,t,r=null,s=null){super(),this.property=e,this.uniformType=t,this.object=r,this.count=s,this.properties=e.split("."),this.reference=r,this.node=null,this.group=null,this.updateType=Mn.OBJECT}setGroup(e){return this.group=e,this}element(e){return new rW(this,Ft(e))}setNodeType(e){const t=Qt(null,e);this.group!==null&&t.setGroup(this.group),this.node=t}getNodeType(e){return this.node===null&&(this.updateReference(e),this.updateValue()),this.node.getNodeType(e)}getValueFromReference(e=this.reference){const{properties:t}=this;let r=e[t[0]];for(let s=1;s<t.length;s++)r=r[t[s]];return r}updateReference(e){return this.reference=this.object!==null?this.object:e.object,this.reference}setup(){return this.updateValue(),this.node}update(){this.updateValue()}updateValue(){this.node===null&&this.setNodeType(this.uniformType);const e=this.getValueFromReference();Array.isArray(e)?this.node.array=e:this.node.value=e}}class iW extends sW{static get type(){return"RendererReferenceNode"}constructor(e,t,r=null){super(e,t,r),this.renderer=r,this.setGroup(un)}updateReference(e){return this.reference=this.renderer!==null?this.renderer:e.renderer,this.reference}}const AD=(n,e,t=null)=>new iW(n,e,t);class aW extends Sr{static get type(){return"ToneMappingNode"}constructor(e,t=_D,r=null){super("vec3"),this._toneMapping=e,this.exposureNode=t,this.colorNode=r}customCacheKey(){return J3(this._toneMapping)}setToneMapping(e){return this._toneMapping=e,this}getToneMapping(){return this._toneMapping}setup(e){const t=this.colorNode||e.context.color,r=this._toneMapping;if(r===q1)return t;let s=null;const i=e.renderer.library.getToneMappingFunction(r);return i!==null?s=ln(i(t.rgb,this.exposureNode),t.a):(kn("ToneMappingNode: Unsupported Tone Mapping configuration.",r),s=t),s}}const ND=(n,e,t)=>new aW(n,Ft(e),Ft(t)),_D=AD("toneMappingExposure","float");et("toneMapping",(n,e,t)=>ND(e,t,n));const J_=new WeakMap;function Z_(n,e){let t=J_.get(n);return t===void 0&&(t=new H3(n,e),J_.set(n,t)),t}class kc extends zw{static get type(){return"BufferAttributeNode"}constructor(e,t=null,r=0,s=0){super(e,t),this.isBufferNode=!0,this.bufferType=t,this.bufferStride=r,this.bufferOffset=s,this.usage=_f,this.instanced=!1,this.attribute=null,this.global=!0,e&&e.isBufferAttribute===!0&&e.itemSize<=4&&(this.attribute=e,this.usage=e.usage,this.instanced=e.isInstancedBufferAttribute)}getHash(e){if(this.bufferStride===0&&this.bufferOffset===0){let t=e.globalCache.getData(this.value);return t===void 0&&(t={node:this},e.globalCache.setData(this.value,t)),t.node.uuid}return this.uuid}getNodeType(e){return this.bufferType===null&&(this.bufferType=e.getTypeFromAttribute(this.attribute)),this.bufferType}setup(e){if(this.attribute!==null)return;const t=this.getNodeType(e),r=e.getTypeLength(t),s=this.value,i=this.bufferStride||r,a=this.bufferOffset;let l;s.isInterleavedBuffer===!0?l=s:s.isBufferAttribute===!0?l=Z_(s.array,i):l=Z_(s,i);const c=new Lw(l,r,a);l.setUsage(this.usage),this.attribute=c,this.attribute.isInstancedBufferAttribute=this.instanced}generate(e){const t=this.getNodeType(e),r=e.getBufferAttributeFromNode(this,t),s=e.getPropertyName(r);let i=null;return e.shaderStage==="vertex"||e.shaderStage==="compute"?(this.name=s,i=s):i=ad(this).build(e,t),i}getInputType(){return"bufferAttribute"}setUsage(e){return this.usage=e,this.attribute&&this.attribute.isBufferAttribute===!0&&(this.attribute.usage=e),this}setInstanced(e){return this.instanced=e,this}}function cv(n,e=null,t=0,r=0,s=_f,i=!1){return e==="mat3"||e===null&&n.itemSize===9?ya(new kc(n,"vec3",9,0).setUsage(s).setInstanced(i),new kc(n,"vec3",9,3).setUsage(s).setInstanced(i),new kc(n,"vec3",9,6).setUsage(s).setInstanced(i)):e==="mat4"||e===null&&n.itemSize===16?$c(new kc(n,"vec4",16,0).setUsage(s).setInstanced(i),new kc(n,"vec4",16,4).setUsage(s).setInstanced(i),new kc(n,"vec4",16,8).setUsage(s).setInstanced(i),new kc(n,"vec4",16,12).setUsage(s).setInstanced(i)):new kc(n,e,t,r).setUsage(s)}const hE=(n,e=null,t=0,r=0)=>cv(n,e,t,r),oW=(n,e=null,t=0,r=0)=>cv(n,e,t,r,_x),Lx=(n,e=null,t=0,r=0)=>cv(n,e,t,r,_f,!0),Q1=(n,e=null,t=0,r=0)=>cv(n,e,t,r,_x,!0);et("toAttribute",n=>hE(n.value));class lW extends Bt{static get type(){return"ComputeNode"}constructor(e,t){super("void"),this.isComputeNode=!0,this.computeNode=e,this.workgroupSize=t,this.count=null,this.version=1,this.name="",this.updateBeforeType=Mn.OBJECT,this.onInitFunction=null}setCount(e){return this.count=e,this}getCount(){return this.count}dispose(){this.dispatchEvent({type:"dispose"})}setName(e){return this.name=e,this}label(e){return on('TSL: "label()" has been deprecated. Use "setName()" instead.',new Mr),this.setName(e)}onInit(e){return this.onInitFunction=e,this}updateBefore({renderer:e}){e.compute(this)}setup(e){const t=this.computeNode.build(e);if(t){const r=e.getNodeProperties(this);r.outputComputeNode=t.outputNode,t.outputNode=null}return t}generate(e,t){const{shaderStage:r}=e;if(r==="compute"){const s=this.computeNode.build(e,"void");s!==""&&e.addLineFlowCode(s,this)}else{const i=e.getNodeProperties(this).outputComputeNode;if(i)return i.build(e,t)}}}const mE=(n,e=[64])=>{(e.length===0||e.length>3)&&kn("TSL: compute() workgroupSize must have 1, 2, or 3 elements",new Mr);for(let t=0;t<e.length;t++){const r=e[t];(typeof r!="number"||r<=0||!Number.isInteger(r))&&kn(`TSL: compute() workgroupSize element at index [ ${t} ] must be a positive integer`,new Mr)}for(;e.length<3;)e.push(1);return new lW(Ft(n),e)},CD=(n,e,t)=>mE(n,t).setCount(e);et("compute",CD);et("computeKernel",mE);class uW extends Bt{static get type(){return"IsolateNode"}constructor(e,t=!0){super(),this.node=e,this.parent=t,this.isIsolateNode=!0}getNodeType(e){const t=e.getCache(),r=e.getCacheFromNode(this,this.parent);e.setCache(r);const s=this.node.getNodeType(e);return e.setCache(t),s}build(e,...t){const r=e.getCache(),s=e.getCacheFromNode(this,this.parent);e.setCache(s);const i=this.node.build(e,...t);return e.setCache(r),i}setParent(e){return this.parent=e,this}getParent(){return this.parent}}const yE=n=>new uW(Ft(n));function ID(n,e=!0){return on('TSL: "cache()" has been deprecated. Use "isolate()" instead.'),yE(n).setParent(e)}et("cache",ID);et("isolate",yE);class cW extends Bt{static get type(){return"BypassNode"}constructor(e,t){super(),this.isBypassNode=!0,this.outputNode=e,this.callNode=t}getNodeType(e){return this.outputNode.getNodeType(e)}generate(e){const t=this.callNode.build(e,"void");return t!==""&&e.addLineFlowCode(t,this),this.outputNode.build(e)}}const MD=dn(cW).setParameterLength(2);et("bypass",MD);class kD extends Bt{static get type(){return"RemapNode"}constructor(e,t,r,s=Ee(0),i=Ee(1)){super(),this.node=e,this.inLowNode=t,this.inHighNode=r,this.outLowNode=s,this.outHighNode=i,this.doClamp=!0}setup(){const{node:e,inLowNode:t,inHighNode:r,outLowNode:s,outHighNode:i,doClamp:a}=this;let l=e.sub(t).div(r.sub(t));return a===!0&&(l=l.clamp()),l.mul(i.sub(s)).add(s)}}const OD=dn(kD,null,null,{doClamp:!1}).setParameterLength(3,5),LD=dn(kD).setParameterLength(3,5);et("remap",OD);et("remapClamp",LD);class pW extends Bt{static get type(){return"ExpressionNode"}constructor(e="",t="void"){super(t),this.snippet=e}generate(e,t){const r=this.getNodeType(e),s=this.snippet;if(r==="void")e.addLineFlowCode(s,this);else return e.format(s,r,t)}}const el=dn(pW).setParameterLength(1,2),DD=n=>(n?zs(n,el("discard")):el("discard")).toStack(),dW=()=>el("return").toStack();et("discard",DD);class fW extends Sr{static get type(){return"RenderOutputNode"}constructor(e,t,r){super("vec4"),this.colorNode=e,this._toneMapping=t,this.outputColorSpace=r,this.isRenderOutputNode=!0}setToneMapping(e){return this._toneMapping=e,this}getToneMapping(){return this._toneMapping}setup({context:e}){let t=this.colorNode||e.color;const r=(this._toneMapping!==null?this._toneMapping:e.toneMapping)||q1,s=(this.outputColorSpace!==null?this.outputColorSpace:e.outputColorSpace)||Ax;return r!==q1&&(t=t.toneMapping(r)),s!==Ax&&s!==Nr.workingColorSpace&&(t=t.workingToColorSpace(s)),t}}const RD=(n,e=null,t=null)=>new fW(Ft(n),e,t);et("renderOutput",RD);class hW extends Sr{static get type(){return"DebugNode"}constructor(e,t=null){super(),this.node=e,this.callback=t}getNodeType(e){return this.node.getNodeType(e)}setup(e){return this.node.build(e)}analyze(e){return this.node.build(e)}generate(e){const t=this.callback,r=this.node.build(e);if(t!==null)t(e,r);else{const s="--- TSL debug - "+e.shaderStage+" shader ---",i="-".repeat(s.length);let a="";a+="// #"+s+`#
`,a+=e.flow.code.replace(/^\t/mg,"")+`
`,a+="/* ... */ "+r+` /* ... */
`,a+="// #"+i+`#
`,H1(a)}return r}}const FD=(n,e=null)=>new hW(Ft(n),e).toStack();et("debug",FD);class mW{constructor(){this._renderer=null,this.currentFrame=null}get nodeFrame(){return this._renderer._nodes.nodeFrame}setRenderer(e){return this._renderer=e,this}getRenderer(){return this._renderer}init(){}begin(){}finish(){}inspect(){}computeAsync(){}beginCompute(){}finishCompute(){}beginRender(){}finishRender(){}copyTextureToTexture(){}copyFramebufferToTexture(){}}class yW extends Bt{static get type(){return"InspectorNode"}constructor(e,t="",r=null){super(),this.node=e,this.name=t,this.callback=r,this.updateType=Mn.FRAME,this.isInspectorNode=!0}getName(){return this.name||this.node.name}update(e){e.renderer.inspector.inspect(this)}getNodeType(e){return this.node.getNodeType(e)}setup(e){let t=this.node;return e.context.inspector===!0&&this.callback!==null&&(t=this.callback(t)),e.renderer.backend.isWebGPUBackend!==!0&&e.renderer.inspector.constructor!==mW&&Xa('TSL: ".toInspector()" is only available with WebGPU.'),t}}function BD(n,e="",t=null){return n=Ft(n),n.before(new yW(n,e,t))}et("toInspector",BD);function gW(n){on("TSL: AddNodeElement has been removed in favor of tree-shaking. Trying add",n)}class VD extends Bt{static get type(){return"AttributeNode"}constructor(e,t=null){super(t),this.global=!0,this._attributeName=e}getHash(e){return this.getAttributeName(e)}getNodeType(e){let t=this.nodeType;if(t===null){const r=this.getAttributeName(e);if(e.hasGeometryAttribute(r)){const s=e.geometry.getAttribute(r);t=e.getTypeFromAttribute(s)}else t="float"}return t}setAttributeName(e){return this._attributeName=e,this}getAttributeName(){return this._attributeName}generate(e){const t=this.getAttributeName(e),r=this.getNodeType(e);if(e.hasGeometryAttribute(t)===!0){const i=e.geometry.getAttribute(t),a=e.getTypeFromAttribute(i),l=e.getAttribute(t,a);return e.shaderStage==="vertex"?e.format(l.name,a,r):ad(this).build(e,r)}else return on(`AttributeNode: Vertex attribute "${t}" not found on geometry.`),e.generateConst(r)}serialize(e){super.serialize(e),e.global=this.global,e._attributeName=this._attributeName}deserialize(e){super.deserialize(e),this.global=e.global,this._attributeName=e._attributeName}}const Zc=(n,e=null)=>new VD(n,e),Un=(n=0)=>Zc("uv"+(n>0?n:""),"vec2");class xW extends Bt{static get type(){return"TextureSizeNode"}constructor(e,t=null){super("uvec2"),this.isTextureSizeNode=!0,this.textureNode=e,this.levelNode=t}generate(e,t){const r=this.textureNode.build(e,"property"),s=this.levelNode===null?"0":this.levelNode.build(e,"int");return e.format(`${e.getMethod("textureDimensions")}( ${r}, ${s} )`,this.getNodeType(e),t)}}const Wc=dn(xW).setParameterLength(1,2);class vW extends Lm{static get type(){return"MaxMipLevelNode"}constructor(e){super(0),this._textureNode=e,this.updateType=Mn.FRAME}get textureNode(){return this._textureNode}get texture(){return this._textureNode.value}update(){const e=this.texture,t=e.images,r=t&&t.length>0?t[0]&&t[0].image||t[0]:e.image;if(r&&r.width!==void 0){const{width:s,height:i}=r;this.value=Math.log2(Math.max(s,i))}}}const gE=dn(vW).setParameterLength(1);class jD extends Error{constructor(e,t=null){super(e),this.name="NodeError",this.stackTrace=t}}const xE=new ri;class Xu extends Lm{static get type(){return"TextureNode"}constructor(e=xE,t=null,r=null,s=null){super(e),this.isTextureNode=!0,this.uvNode=t,this.levelNode=r,this.biasNode=s,this.compareNode=null,this.depthNode=null,this.gradNode=null,this.offsetNode=null,this.sampler=!0,this.updateMatrix=!1,this.updateType=Mn.NONE,this.referenceNode=null,this._value=e,this._matrixUniform=null,this._flipYUniform=null,this.setUpdateMatrix(t===null)}set value(e){this.referenceNode?this.referenceNode.value=e:this._value=e}get value(){return this.referenceNode?this.referenceNode.value:this._value}getUniformHash(){return this.value.uuid}getNodeType(){return this.value.isDepthTexture===!0?"float":this.value.type===Iw?"uvec4":this.value.type===D7?"ivec4":"vec4"}getInputType(){return"texture"}getDefaultUV(){return Un(this.value.channel)}updateReference(){return this.value}getTransformedUV(e){return this._matrixUniform===null&&(this._matrixUniform=Qt(this.value.matrix)),this._matrixUniform.mul(Ve(e,1)).xy}setUpdateMatrix(e){return this.updateMatrix=e,this}setupUV(e,t){return e.isFlipY()&&(this._flipYUniform===null&&(this._flipYUniform=Qt(!1)),t=t.toVar(),this.sampler?t=this._flipYUniform.select(t.flipY(),t):t=this._flipYUniform.select(t.setY(Ne(Wc(this,this.levelNode).y).sub(t.y).sub(1)),t)),t}setup(e){const t=e.getNodeProperties(this);t.referenceNode=this.referenceNode;const r=this.value;if(!r||r.isTexture!==!0)throw new jD("THREE.TSL: `texture( value )` function expects a valid instance of THREE.Texture().",this.stackTrace);const s=Oe(()=>{let c=this.uvNode;return(c===null||e.context.forceUVContext===!0)&&e.context.getUV&&(c=e.context.getUV(this,e)),c||(c=this.getDefaultUV()),this.updateMatrix===!0&&(c=this.getTransformedUV(c)),c=this.setupUV(e,c),this.updateType=this._matrixUniform!==null||this._flipYUniform!==null?Mn.OBJECT:Mn.NONE,c})();let i=this.levelNode;i===null&&e.context.getTextureLevel&&(i=e.context.getTextureLevel(this));let a=null,l=null;this.compareNode!==null&&(e.renderer.hasCompatibility(U7.TEXTURE_COMPARE)?a=this.compareNode:this.value.compareFunction===null||this.value.compareFunction===z7?l=this.compareNode:(a=this.compareNode,Xa('TSL: Only "LessCompare" is supported for depth texture comparison fallback.'))),t.uvNode=s,t.levelNode=i,t.biasNode=this.biasNode,t.compareNode=a,t.compareStepNode=l,t.gradNode=this.gradNode,t.depthNode=this.depthNode,t.offsetNode=this.offsetNode}generateUV(e,t){return t.build(e,this.sampler===!0?"vec2":"ivec2")}generateOffset(e,t){return t.build(e,"ivec2")}generateSnippet(e,t,r,s,i,a,l,c,p){const d=this.value;let h;return i?h=e.generateTextureBias(d,t,r,i,a,p):c?h=e.generateTextureGrad(d,t,r,c,a,p):l?h=e.generateTextureCompare(d,t,r,l,a,p):this.sampler===!1?h=e.generateTextureLoad(d,t,r,s,a,p):s?h=e.generateTextureLevel(d,t,r,s,a,p):h=e.generateTexture(d,t,r,a,p),h}generate(e,t){const r=this.value,s=e.getNodeProperties(this),i=super.generate(e,"property");if(/^sampler/.test(t))return i+"_sampler";if(e.isReference(t))return i;{const a=e.getDataFromNode(this),l=this.getNodeType(e);let c=a.propertyName;if(c===void 0){const{uvNode:d,levelNode:h,biasNode:m,compareNode:x,compareStepNode:w,depthNode:A,gradNode:P,offsetNode:S}=s,C=this.generateUV(e,d),I=h?h.build(e,"float"):null,_=m?m.build(e,"float"):null,D=A?A.build(e,"int"):null,F=x?x.build(e,"float"):null,O=w?w.build(e,"float"):null,L=P?[P[0].build(e,"vec2"),P[1].build(e,"vec2")]:null,B=S?this.generateOffset(e,S):null,j=e.getVarFromNode(this);c=e.getPropertyName(j);let M=this.generateSnippet(e,i,C,I,_,D,F,L,B);O!==null&&(M=If(el(O,"float"),el(M,l)).build(e,l)),e.addLineFlowCode(`${c} = ${M}`,this),a.snippet=M,a.propertyName=c}let p=c;return e.needsToWorkingColorSpace(r)&&(p=fE(el(p,l),r.colorSpace).setup(e).build(e,l)),e.format(p,l,t)}}setSampler(e){return this.sampler=e,this}getSampler(){return this.sampler}sample(e){const t=this.clone();return t.uvNode=Ft(e),t.referenceNode=this.getBase(),Ft(t)}load(e){return this.sample(e).setSampler(!1)}blur(e){const t=this.clone();t.biasNode=Ft(e).mul(gE(t)),t.referenceNode=this.getBase();const r=t.value;return t.generateMipmaps===!1&&(r&&r.generateMipmaps===!1||r.minFilter===Mi||r.magFilter===Mi)&&(on("TSL: texture().blur() requires mipmaps and sampling. Use .generateMipmaps=true and .minFilter/.magFilter=THREE.LinearFilter in the Texture."),t.biasNode=null),Ft(t)}level(e){const t=this.clone();return t.levelNode=Ft(e),t.referenceNode=this.getBase(),Ft(t)}size(e){return Wc(this,e)}bias(e){const t=this.clone();return t.biasNode=Ft(e),t.referenceNode=this.getBase(),Ft(t)}getBase(){return this.referenceNode?this.referenceNode.getBase():this}compare(e){const t=this.clone();return t.compareNode=Ft(e),t.referenceNode=this.getBase(),Ft(t)}grad(e,t){const r=this.clone();return r.gradNode=[Ft(e),Ft(t)],r.referenceNode=this.getBase(),Ft(r)}depth(e){const t=this.clone();return t.depthNode=Ft(e),t.referenceNode=this.getBase(),Ft(t)}offset(e){const t=this.clone();return t.offsetNode=Ft(e),t.referenceNode=this.getBase(),Ft(t)}serialize(e){super.serialize(e),e.value=this.value.toJSON(e.meta).uuid,e.sampler=this.sampler,e.updateMatrix=this.updateMatrix,e.updateType=this.updateType}deserialize(e){super.deserialize(e),this.value=e.meta.textures[e.value],this.sampler=e.sampler,this.updateMatrix=e.updateMatrix,this.updateType=e.updateType}update(){const e=this.value,t=this._matrixUniform;t!==null&&(t.value=e.matrix),e.matrixAutoUpdate===!0&&e.updateMatrix();const r=this._flipYUniform;r!==null&&(r.value=e.image instanceof ImageBitmap&&e.flipY===!0||e.isRenderTargetTexture===!0||e.isFramebufferTexture===!0||e.isDepthTexture===!0)}clone(){const e=new this.constructor(this.value,this.uvNode,this.levelNode,this.biasNode);return e.sampler=this.sampler,e.depthNode=this.depthNode,e.compareNode=this.compareNode,e.gradNode=this.gradNode,e.offsetNode=this.offsetNode,e}}const TW=dn(Xu).setParameterLength(1,4).setName("texture"),or=(n=xE,e=null,t=null,r=null)=>{let s;return n&&n.isTextureNode===!0?(s=Ft(n.clone()),s.referenceNode=n.getBase(),e!==null&&(s.uvNode=Ft(e)),t!==null&&(s.levelNode=Ft(t)),r!==null&&(s.biasNode=Ft(r))):s=TW(n,e,t,r),s},SW=(n=xE)=>or(n),mr=(...n)=>or(...n).setSampler(!1),bW=(n,e,t)=>or(n,e).level(t),wW=n=>(n.isNode===!0?n:or(n)).convert("sampler"),EW=n=>(n.isNode===!0?n:or(n)).convert("samplerComparison");class vE extends Lm{static get type(){return"BufferNode"}constructor(e,t,r=0){super(e,t),this.isBufferNode=!0,this.bufferType=t,this.bufferCount=r,this.updateRanges=[]}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}getElementType(e){return this.getNodeType(e)}getInputType(){return"buffer"}}const Rm=(n,e,t)=>new vE(n,e,t);class PW extends sd{static get type(){return"UniformArrayElementNode"}constructor(e,t){super(e,t),this.isArrayBufferElementNode=!0}generate(e){const t=super.generate(e),r=this.getNodeType(),s=this.node.getPaddedType();return e.format(t,s,r)}}class AW extends vE{static get type(){return"UniformArrayNode"}constructor(e,t=null){super(null),this.array=e,this.elementType=t===null?zc(e[0]):t,this.paddedType=this.getPaddedType(),this.updateType=Mn.RENDER,this.isArrayBufferNode=!0}getNodeType(){return this.paddedType}getElementType(){return this.elementType}getPaddedType(){const e=this.elementType;let t="vec4";return e==="mat2"?t="mat2":/mat/.test(e)===!0?t="mat4":e.charAt(0)==="i"?t="ivec4":e.charAt(0)==="u"&&(t="uvec4"),t}update(){const{array:e,value:t}=this,r=this.elementType;if(r==="float"||r==="int"||r==="uint")for(let s=0;s<e.length;s++){const i=s*4;t[i]=e[s]}else if(r==="color")for(let s=0;s<e.length;s++){const i=s*4,a=e[s];t[i]=a.r,t[i+1]=a.g,t[i+2]=a.b||0}else if(r==="mat2")for(let s=0;s<e.length;s++){const i=s*4,a=e[s];t[i]=a.elements[0],t[i+1]=a.elements[1],t[i+2]=a.elements[2],t[i+3]=a.elements[3]}else if(r==="mat3")for(let s=0;s<e.length;s++){const i=s*16,a=e[s];t[i]=a.elements[0],t[i+1]=a.elements[1],t[i+2]=a.elements[2],t[i+4]=a.elements[3],t[i+5]=a.elements[4],t[i+6]=a.elements[5],t[i+8]=a.elements[6],t[i+9]=a.elements[7],t[i+10]=a.elements[8],t[i+15]=1}else if(r==="mat4")for(let s=0;s<e.length;s++){const i=s*16,a=e[s];for(let l=0;l<a.elements.length;l++)t[i+l]=a.elements[l]}else for(let s=0;s<e.length;s++){const i=s*4,a=e[s];t[i]=a.x,t[i+1]=a.y,t[i+2]=a.z||0,t[i+3]=a.w||0}}setup(e){const t=this.array.length,r=this.elementType;let s=Float32Array;const i=this.paddedType,a=e.getTypeLength(i);return r.charAt(0)==="i"&&(s=Int32Array),r.charAt(0)==="u"&&(s=Uint32Array),this.value=new s(t*a),this.bufferCount=t,this.bufferType=i,this.update(),super.setup(e)}element(e){return new PW(this,Ft(e))}}const ti=(n,e)=>new AW(n,e);class NW extends Bt{constructor(e){super("float"),this.name=e,this.isBuiltinNode=!0}generate(){return this.name}}const np=dn(NW).setParameterLength(1);let yh,gh;class Yn extends Bt{static get type(){return"ScreenNode"}constructor(e){super(),this.scope=e,this._output=null,this.isViewportNode=!0}getNodeType(){return this.scope===Yn.DPR?"float":this.scope===Yn.VIEWPORT?"vec4":"vec2"}getUpdateType(){let e=Mn.NONE;return(this.scope===Yn.SIZE||this.scope===Yn.VIEWPORT||this.scope===Yn.DPR)&&(e=Mn.RENDER),this.updateType=e,e}update({renderer:e}){const t=e.getRenderTarget();this.scope===Yn.VIEWPORT?t!==null?gh.copy(t.viewport):(e.getViewport(gh),gh.multiplyScalar(e.getPixelRatio())):this.scope===Yn.DPR?this._output.value=e.getPixelRatio():t!==null?(yh.width=t.width,yh.height=t.height):e.getDrawingBufferSize(yh)}setup(){const e=this.scope;let t=null;return e===Yn.SIZE?t=Qt(yh||(yh=new sr)):e===Yn.VIEWPORT?t=Qt(gh||(gh=new Ss)):e===Yn.DPR?t=Qt(1):t=wt(ld.div(Mf)),this._output=t,t}generate(e){if(this.scope===Yn.COORDINATE){let t=e.getFragCoord();if(e.isFlipY()){const r=e.getNodeProperties(Mf).outputNode.build(e);t=`${e.getType("vec2")}( ${t}.x, ${r}.y - ${t}.y )`}return t}return super.generate(e)}}Yn.COORDINATE="coordinate";Yn.VIEWPORT="viewport";Yn.SIZE="size";Yn.UV="uv";Yn.DPR="dpr";const _W=Nt(Yn,Yn.DPR),od=Nt(Yn,Yn.UV),Mf=Nt(Yn,Yn.SIZE),ld=Nt(Yn,Yn.COORDINATE),TE=Nt(Yn,Yn.VIEWPORT),zD=TE.zw,UD=ld.sub(TE.xy),CW=UD.div(zD),IW=Oe(()=>(on('TSL: "viewportResolution" is deprecated. Use "screenSize" instead.',new Mr),Mf),"vec2").once()();let IS=null,dg=null,MS=null,fg=null,kS=null,hg=null,OS=null,mg=null,LS=null,yg=null,DS=null,gg=null,RS=null,xg=null;const rp=Qt(0,"uint").setName("u_cameraIndex").setGroup(lv("cameraIndex")).toVarying("v_cameraIndex"),Bc=Qt("float").setName("cameraNear").setGroup(un).onRenderUpdate(({camera:n})=>n.near),Vc=Qt("float").setName("cameraFar").setGroup(un).onRenderUpdate(({camera:n})=>n.far),Fm=Oe(({camera:n})=>{let e;if(n.isArrayCamera&&n.cameras.length>0){const t=[];for(const r of n.cameras)t.push(r.projectionMatrix);dg===null?dg=ti(t).setGroup(un).setName("cameraProjectionMatrices"):dg.array=t,e=dg.element(n.isMultiViewCamera?np("gl_ViewID_OVR"):rp).toConst("cameraProjectionMatrix")}else IS===null&&(IS=Qt(n.projectionMatrix).setName("cameraProjectionMatrix").setGroup(un).onRenderUpdate(({camera:t})=>t.projectionMatrix)),e=IS;return e}).once()(),qD=Oe(({camera:n})=>{let e;if(n.isArrayCamera&&n.cameras.length>0){const t=[];for(const r of n.cameras)t.push(r.projectionMatrixInverse);fg===null?fg=ti(t).setGroup(un).setName("cameraProjectionMatricesInverse"):fg.array=t,e=fg.element(n.isMultiViewCamera?np("gl_ViewID_OVR"):rp).toConst("cameraProjectionMatrixInverse")}else MS===null&&(MS=Qt(n.projectionMatrixInverse).setName("cameraProjectionMatrixInverse").setGroup(un).onRenderUpdate(({camera:t})=>t.projectionMatrixInverse)),e=MS;return e}).once()(),nu=Oe(({camera:n})=>{let e;if(n.isArrayCamera&&n.cameras.length>0){const t=[];for(const r of n.cameras)t.push(r.matrixWorldInverse);hg===null?hg=ti(t).setGroup(un).setName("cameraViewMatrices"):hg.array=t,e=hg.element(n.isMultiViewCamera?np("gl_ViewID_OVR"):rp).toConst("cameraViewMatrix")}else kS===null&&(kS=Qt(n.matrixWorldInverse).setName("cameraViewMatrix").setGroup(un).onRenderUpdate(({camera:t})=>t.matrixWorldInverse)),e=kS;return e}).once()(),MW=Oe(({camera:n})=>{let e;if(n.isArrayCamera&&n.cameras.length>0){const t=[];for(const r of n.cameras)t.push(r.matrixWorld);mg===null?mg=ti(t).setGroup(un).setName("cameraWorldMatrices"):mg.array=t,e=mg.element(n.isMultiViewCamera?np("gl_ViewID_OVR"):rp).toConst("cameraWorldMatrix")}else OS===null&&(OS=Qt(n.matrixWorld).setName("cameraWorldMatrix").setGroup(un).onRenderUpdate(({camera:t})=>t.matrixWorld)),e=OS;return e}).once()(),kW=Oe(({camera:n})=>{let e;if(n.isArrayCamera&&n.cameras.length>0){const t=[];for(const r of n.cameras)t.push(r.normalMatrix);yg===null?yg=ti(t).setGroup(un).setName("cameraNormalMatrices"):yg.array=t,e=yg.element(n.isMultiViewCamera?np("gl_ViewID_OVR"):rp).toConst("cameraNormalMatrix")}else LS===null&&(LS=Qt(n.normalMatrix).setName("cameraNormalMatrix").setGroup(un).onRenderUpdate(({camera:t})=>t.normalMatrix)),e=LS;return e}).once()(),OW=Oe(({camera:n})=>{let e;if(n.isArrayCamera&&n.cameras.length>0){const t=[];for(let r=0,s=n.cameras.length;r<s;r++)t.push(new qe);gg===null?gg=ti(t).setGroup(un).setName("cameraPositions").onRenderUpdate(({camera:r},s)=>{const i=r.cameras,a=s.array;for(let l=0,c=i.length;l<c;l++)a[l].setFromMatrixPosition(i[l].matrixWorld)}):gg.array=t,e=gg.element(n.isMultiViewCamera?np("gl_ViewID_OVR"):rp).toConst("cameraPosition")}else DS===null&&(DS=Qt(new qe).setName("cameraPosition").setGroup(un).onRenderUpdate(({camera:t},r)=>r.value.setFromMatrixPosition(t.matrixWorld))),e=DS;return e}).once()(),LW=Oe(({camera:n})=>{let e;if(n.isArrayCamera&&n.cameras.length>0){const t=[];for(const r of n.cameras)t.push(r.viewport);xg===null?xg=ti(t,"vec4").setGroup(un).setName("cameraViewports"):xg.array=t,e=xg.element(rp).toConst("cameraViewport")}else RS===null&&(RS=ln(0,0,Mf.x,Mf.y).toConst("cameraViewport")),e=RS;return e}).once()(),Q_=new Ow;class wn extends Bt{static get type(){return"Object3DNode"}constructor(e,t=null){super(),this.scope=e,this.object3d=t,this.updateType=Mn.OBJECT,this.uniformNode=new Lm(null)}getNodeType(){const e=this.scope;if(e===wn.WORLD_MATRIX)return"mat4";if(e===wn.POSITION||e===wn.VIEW_POSITION||e===wn.DIRECTION||e===wn.SCALE)return"vec3";if(e===wn.RADIUS)return"float"}update(e){const t=this.object3d,r=this.uniformNode,s=this.scope;if(s===wn.WORLD_MATRIX)r.value=t.matrixWorld;else if(s===wn.POSITION)r.value=r.value||new qe,r.value.setFromMatrixPosition(t.matrixWorld);else if(s===wn.SCALE)r.value=r.value||new qe,r.value.setFromMatrixScale(t.matrixWorld);else if(s===wn.DIRECTION)r.value=r.value||new qe,t.getWorldDirection(r.value);else if(s===wn.VIEW_POSITION){const i=e.camera;r.value=r.value||new qe,r.value.setFromMatrixPosition(t.matrixWorld),r.value.applyMatrix4(i.matrixWorldInverse)}else if(s===wn.RADIUS){const i=e.object.geometry;i.boundingSphere===null&&i.computeBoundingSphere(),Q_.copy(i.boundingSphere).applyMatrix4(t.matrixWorld),r.value=Q_.radius}}generate(e){const t=this.scope;return t===wn.WORLD_MATRIX?this.uniformNode.nodeType="mat4":t===wn.POSITION||t===wn.VIEW_POSITION||t===wn.DIRECTION||t===wn.SCALE?this.uniformNode.nodeType="vec3":t===wn.RADIUS&&(this.uniformNode.nodeType="float"),this.uniformNode.build(e)}serialize(e){super.serialize(e),e.scope=this.scope}deserialize(e){super.deserialize(e),this.scope=e.scope}}wn.WORLD_MATRIX="worldMatrix";wn.POSITION="position";wn.SCALE="scale";wn.VIEW_POSITION="viewPosition";wn.DIRECTION="direction";wn.RADIUS="radius";const DW=dn(wn,wn.DIRECTION).setParameterLength(1),RW=dn(wn,wn.WORLD_MATRIX).setParameterLength(1),FW=dn(wn,wn.POSITION).setParameterLength(1),BW=dn(wn,wn.SCALE).setParameterLength(1),VW=dn(wn,wn.VIEW_POSITION).setParameterLength(1),jW=dn(wn,wn.RADIUS).setParameterLength(1);class ro extends wn{static get type(){return"ModelNode"}constructor(e){super(e)}update(e){this.object3d=e.object,super.update(e)}}const zW=Nt(ro,ro.DIRECTION),Bu=Nt(ro,ro.WORLD_MATRIX),UW=Nt(ro,ro.POSITION),qW=Nt(ro,ro.SCALE),$W=Nt(ro,ro.VIEW_POSITION),WW=Nt(ro,ro.RADIUS),$D=Qt(new so).onObjectUpdate(({object:n},e)=>e.value.getNormalMatrix(n.matrixWorld)),HW=Qt(new zn).onObjectUpdate(({object:n},e)=>e.value.copy(n.matrixWorld).invert()),Bm=Oe(n=>n.context.modelViewMatrix||WD).once()().toVar("modelViewMatrix"),WD=nu.mul(Bu),KW=Oe(n=>(n.context.isHighPrecisionModelViewMatrix=!0,Qt("mat4").onObjectUpdate(({object:e,camera:t})=>e.modelViewMatrix.multiplyMatrices(t.matrixWorldInverse,e.matrixWorld)))).once()().toVar("highpModelViewMatrix"),XW=Oe(n=>{const e=n.context.isHighPrecisionModelViewMatrix;return Qt("mat3").onObjectUpdate(({object:t,camera:r})=>(e!==!0&&t.modelViewMatrix.multiplyMatrices(r.matrixWorldInverse,t.matrixWorld),t.normalMatrix.getNormalMatrix(t.modelViewMatrix)))}).once()().toVar("highpModelNormalViewMatrix"),HD=Oe(n=>n.shaderStage!=="fragment"?(Xa("TSL: `clipSpace` is only available in fragment stage."),ln()):n.context.clipSpace.toVarying("v_clipSpace")).once()(),SE=Zc("position","vec3"),Cr=SE.toVarying("positionLocal"),kf=SE.toVarying("positionPrevious"),Xp=Oe(n=>Bu.mul(Cr).xyz.toVarying(n.getSubBuildProperty("v_positionWorld")),"vec3").once(["POSITION"])(),KD=Oe(()=>Cr.transformDirection(Bu).toVarying("v_positionWorldDirection").normalize().toVar("positionWorldDirection"),"vec3").once(["POSITION"])(),Gr=Oe(n=>{if(n.shaderStage==="fragment"&&n.material.vertexNode){const e=qD.mul(HD);return e.xyz.div(e.w).toVar("positionView")}return n.context.setupPositionView().toVarying("v_positionView")},"vec3").once(["POSITION","VERTEX"])(),ca=Oe(n=>{let e;return n.camera.isOrthographicCamera?e=Ve(0,0,1):e=Gr.negate().toVarying("v_positionViewDirection").normalize(),e.toVar("positionViewDirection")},"vec3").once(["POSITION"])();class GW extends Bt{static get type(){return"FrontFacingNode"}constructor(){super("bool"),this.isFrontFacingNode=!0}generate(e){if(e.shaderStage!=="fragment")return"true";const{material:t}=e;return t.side===Mm?"false":e.getFrontFacing()}}const XD=Nt(GW),bE=Ee(XD).mul(2).sub(1),Vm=Oe(([n],{material:e})=>{const t=e.side;return t===Mm?n=n.mul(-1):t===C7&&(n=n.mul(bE)),n}),wE=Zc("normal","vec3"),ki=Oe(n=>n.geometry.hasAttribute("normal")===!1?(on('TSL: Vertex attribute "normal" not found on geometry.'),Ve(0,1,0)):wE,"vec3").once()().toVar("normalLocal"),GD=Gr.dFdx().cross(Gr.dFdy()).normalize().toVar("normalFlat"),Tm=Oe(n=>{let e;return n.isFlatShading()?e=GD:e=EE(ki).toVarying("v_normalViewGeometry").normalize(),e},"vec3").once()().toVar("normalViewGeometry"),YW=Oe(n=>{let e=Tm.transformDirection(nu);return n.isFlatShading()!==!0&&(e=e.toVarying("v_normalWorldGeometry")),e.normalize().toVar("normalWorldGeometry")},"vec3").once()(),bs=Oe(n=>{let e;return n.subBuildFn==="NORMAL"||n.subBuildFn==="VERTEX"?(e=Tm,n.isFlatShading()!==!0&&(e=Vm(e))):e=n.context.setupNormal().context({getUV:null,getTextureLevel:null}),e},"vec3").once(["NORMAL","VERTEX"])().toVar("normalView"),pv=bs.transformDirection(nu).toVar("normalWorld"),YD=Oe(({subBuildFn:n,context:e})=>{let t;return n==="NORMAL"||n==="VERTEX"?t=bs:t=e.setupClearcoatNormal().context({getUV:null,getTextureLevel:null}),t},"vec3").once(["NORMAL","VERTEX"])().toVar("clearcoatNormalView"),JD=Oe(([n,e=Bu])=>{const t=ya(e),r=n.div(Ve(t[0].dot(t[0]),t[1].dot(t[1]),t[2].dot(t[2])));return t.mul(r).xyz}),EE=Oe(([n],e)=>{const t=e.context.modelNormalViewMatrix;if(t)return t.transformDirection(n);const r=$D.mul(n);return nu.transformDirection(r)}),JW=Oe(()=>(on('TSL: "transformedNormalView" is deprecated. Use "normalView" instead.'),bs)).once(["NORMAL","VERTEX"])(),ZW=Oe(()=>(on('TSL: "transformedNormalWorld" is deprecated. Use "normalWorld" instead.'),pv)).once(["NORMAL","VERTEX"])(),QW=Oe(()=>(on('TSL: "transformedClearcoatNormalView" is deprecated. Use "clearcoatNormalView" instead.'),YD)).once(["NORMAL","VERTEX"])(),eC=new nd,FS=new zn,ZD=Qt(0).onReference(({material:n})=>n).onObjectUpdate(({material:n})=>n.refractionRatio),eH=Qt(1).onReference(({material:n})=>n).onObjectUpdate(function({material:n,scene:e}){return n.envMap?n.envMapIntensity:e.environmentIntensity}),PE=Qt(new zn).onReference(function(n){return n.material}).onObjectUpdate(function({material:n,scene:e}){const t=e.environment!==null&&n.envMap===null?e.environmentRotation:n.envMapRotation;return t?(eC.copy(t),FS.makeRotationFromEuler(eC)):FS.identity(),FS}),QD=ca.negate().reflect(bs),eR=ca.negate().refract(bs,ZD),tR=QD.transformDirection(nu).toVar("reflectVector"),nR=eR.transformDirection(nu).toVar("reflectVector"),rR=new Iq;class tH extends Xu{static get type(){return"CubeTextureNode"}constructor(e,t=null,r=null,s=null){super(e,t,r,s),this.isCubeTextureNode=!0}getInputType(){return this.value.isDepthTexture===!0?"cubeDepthTexture":"cubeTexture"}getDefaultUV(){const e=this.value;return e.mapping===gm?tR:e.mapping===$1?nR:(kn('CubeTextureNode: Mapping "%s" not supported.',e.mapping),Ve(0,0,0))}setUpdateMatrix(){}setupUV(e,t){const r=this.value;return r.isDepthTexture===!0?e.renderer.coordinateSystem===Gc?Ve(t.x,t.y.negate(),t.z):t:((e.renderer.coordinateSystem===Gc||!r.isRenderTargetTexture)&&(t=Ve(t.x.negate(),t.yz)),PE.mul(t))}generateUV(e,t){return t.build(e,this.sampler===!0?"vec3":"ivec3")}}const AE=dn(tH).setParameterLength(1,4).setName("cubeTexture"),Wa=(n=rR,e=null,t=null,r=null)=>{let s;return n&&n.isCubeTextureNode===!0?(s=Ft(n.clone()),s.referenceNode=n,e!==null&&(s.uvNode=Ft(e)),t!==null&&(s.levelNode=Ft(t)),r!==null&&(s.biasNode=Ft(r))):s=AE(n,e,t,r),s},nH=(n=rR)=>AE(n);class rH extends sd{static get type(){return"ReferenceElementNode"}constructor(e,t){super(e,t),this.referenceNode=e,this.isReferenceElementNode=!0}getNodeType(){return this.referenceNode.uniformType}generate(e){const t=super.generate(e),r=this.referenceNode.getNodeType(),s=this.getNodeType();return e.format(t,r,s)}}class dv extends Bt{static get type(){return"ReferenceNode"}constructor(e,t,r=null,s=null){super(),this.property=e,this.uniformType=t,this.object=r,this.count=s,this.properties=e.split("."),this.reference=r,this.node=null,this.group=null,this.name=null,this.updateType=Mn.OBJECT}element(e){return new rH(this,Ft(e))}setGroup(e){return this.group=e,this}setName(e){return this.name=e,this}label(e){return on('TSL: "label()" has been deprecated. Use "setName()" instead.'),this.setName(e)}setNodeType(e){let t=null;this.count!==null?t=Rm(null,e,this.count):Array.isArray(this.getValueFromReference())?t=ti(null,e):e==="texture"?t=or(null):e==="cubeTexture"?t=Wa(null):t=Qt(null,e),this.group!==null&&t.setGroup(this.group),this.name!==null&&t.setName(this.name),this.node=t}getNodeType(e){return this.node===null&&(this.updateReference(e),this.updateValue()),this.node.getNodeType(e)}getValueFromReference(e=this.reference){const{properties:t}=this;let r=e[t[0]];for(let s=1;s<t.length;s++)r=r[t[s]];return r}updateReference(e){return this.reference=this.object!==null?this.object:e.object,this.reference}setup(){return this.updateValue(),this.node}update(){this.updateValue()}updateValue(){this.node===null&&this.setNodeType(this.uniformType);const e=this.getValueFromReference();Array.isArray(e)?this.node.array=e:this.node.value=e}}const zr=(n,e,t)=>new dv(n,e,t),ew=(n,e,t,r)=>new dv(n,e,r,t);class sH extends dv{static get type(){return"MaterialReferenceNode"}constructor(e,t,r=null){super(e,t,r),this.material=r,this.isMaterialReferenceNode=!0}updateReference(e){return this.reference=this.material!==null?this.material:e.material,this.reference}}const jp=(n,e,t=null)=>new sH(n,e,t),sR=Un(),iH=Gr.dFdx(),aH=Gr.dFdy(),iR=sR.dFdx(),aR=sR.dFdy(),oR=bs,lR=aH.cross(oR),uR=oR.cross(iH),tw=lR.mul(iR.x).add(uR.mul(aR.x)),nw=lR.mul(iR.y).add(uR.mul(aR.y)),tC=tw.dot(tw).max(nw.dot(nw)),cR=tC.equal(0).select(0,tC.inverseSqrt()),oH=tw.mul(cR).toVar("tangentViewFrame"),lH=nw.mul(cR).toVar("bitangentViewFrame"),fv=Zc("tangent","vec4"),Of=fv.xyz.toVar("tangentLocal"),hv=Oe(n=>{let e;return n.subBuildFn==="VERTEX"||n.geometry.hasAttribute("tangent")?e=Bm.mul(ln(Of,0)).xyz.toVarying("v_tangentView").normalize():e=oH,n.isFlatShading()!==!0&&(e=Vm(e)),e},"vec3").once(["NORMAL","VERTEX"])().toVar("tangentView"),pR=hv.transformDirection(nu).toVarying("v_tangentWorld").normalize().toVar("tangentWorld"),mv=Oe(([n,e],t)=>{let r=n.mul(fv.w).xyz;return t.subBuildFn==="NORMAL"&&t.isFlatShading()!==!0&&(r=r.toVarying(e)),r}).once(["NORMAL"]),uH=mv(wE.cross(fv),"v_bitangentGeometry").normalize().toVar("bitangentGeometry"),cH=mv(ki.cross(Of),"v_bitangentLocal").normalize().toVar("bitangentLocal"),dR=Oe(n=>{let e;return n.subBuildFn==="VERTEX"||n.geometry.hasAttribute("tangent")?e=mv(bs.cross(hv),"v_bitangentView").normalize():e=lH,n.isFlatShading()!==!0&&(e=Vm(e)),e},"vec3").once(["NORMAL","VERTEX"])().toVar("bitangentView"),pH=mv(pv.cross(pR),"v_bitangentWorld").normalize().toVar("bitangentWorld"),NE=ya(hv,dR,bs).toVar("TBNViewMatrix"),fR=ca.mul(NE),dH=(n,e)=>n.sub(fR.mul(e)),fH=Oe(()=>{let n=mf.cross(ca);return n=n.cross(mf).normalize(),n=nr(n,bs,fL.mul(pL.oneMinus()).oneMinus().pow2().pow2()).normalize(),n}).once()(),hH=n=>Ft(n).mul(.5).add(.5),mH=n=>Ft(n).mul(2).sub(1),rw=n=>Ve(n,si(oE(Ee(1).sub(no(n,n)))));class yH extends Sr{static get type(){return"NormalMapNode"}constructor(e,t=null){super("vec3"),this.node=e,this.scaleNode=t,this.normalMapType=aS,this.unpackNormalMode=oS}setup(e){const{normalMapType:t,scaleNode:r,unpackNormalMode:s}=this;let i=this.node.mul(2).sub(1);if(t===aS?s===j3?i=rw(i.xy):s===j7?i=rw(i.yw):s!==oS&&console.error(`THREE.NodeMaterial: Unexpected unpack normal mode: ${s}`):s!==oS&&console.error(`THREE.NodeMaterial: Normal map type '${t}' is not compatible with unpack normal mode '${s}'`),r!==null){let l=r;e.isFlatShading()===!0&&(l=Vm(l)),i=Ve(i.xy.mul(l),i.z)}let a=null;return t===V7?a=EE(i):t===aS?a=NE.mul(i).normalize():(kn(`NodeMaterial: Unsupported normal map type: ${t}`),a=bs),a}}const sw=dn(yH).setParameterLength(1,2),gH=Oe(({textureNode:n,bumpScale:e})=>{const t=s=>n.isolate().context({getUV:i=>s(i.uvNode||Un()),forceUVContext:!0}),r=Ee(t(s=>s));return wt(Ee(t(s=>s.add(s.dFdx()))).sub(r),Ee(t(s=>s.add(s.dFdy()))).sub(r)).mul(e)}),xH=Oe(n=>{const{surf_pos:e,surf_norm:t,dHdxy:r}=n,s=e.dFdx().normalize(),i=e.dFdy().normalize(),a=t,l=i.cross(a),c=a.cross(s),p=s.dot(l).mul(bE),d=p.sign().mul(r.x.mul(l).add(r.y.mul(c)));return p.abs().mul(t).sub(d).normalize()});class vH extends Sr{static get type(){return"BumpMapNode"}constructor(e,t=null){super("vec3"),this.textureNode=e,this.scaleNode=t}setup(){const e=this.scaleNode!==null?this.scaleNode:1,t=gH({textureNode:this.textureNode,bumpScale:e});return xH({surf_pos:Gr,surf_norm:bs,dHdxy:t})}}const _E=dn(vH).setParameterLength(1,2),nC=new Map;class tt extends Bt{static get type(){return"MaterialNode"}constructor(e){super(),this.scope=e}getCache(e,t){let r=nC.get(e);return r===void 0&&(r=jp(e,t),nC.set(e,r)),r}getFloat(e){return this.getCache(e,"float")}getColor(e){return this.getCache(e,"color")}getTexture(e){return this.getCache(e==="map"?"map":e+"Map","texture")}setup(e){const t=e.context.material,r=this.scope;let s=null;if(r===tt.COLOR){const i=t.color!==void 0?this.getColor(r):Ve();t.map&&t.map.isTexture===!0?s=i.mul(this.getTexture("map")):s=i}else if(r===tt.OPACITY){const i=this.getFloat(r);t.alphaMap&&t.alphaMap.isTexture===!0?s=i.mul(this.getTexture("alpha")):s=i}else if(r===tt.SPECULAR_STRENGTH)t.specularMap&&t.specularMap.isTexture===!0?s=this.getTexture("specular").r:s=Ee(1);else if(r===tt.SPECULAR_INTENSITY){const i=this.getFloat(r);t.specularIntensityMap&&t.specularIntensityMap.isTexture===!0?s=i.mul(this.getTexture(r).a):s=i}else if(r===tt.SPECULAR_COLOR){const i=this.getColor(r);t.specularColorMap&&t.specularColorMap.isTexture===!0?s=i.mul(this.getTexture(r).rgb):s=i}else if(r===tt.ROUGHNESS){const i=this.getFloat(r);t.roughnessMap&&t.roughnessMap.isTexture===!0?s=i.mul(this.getTexture(r).g):s=i}else if(r===tt.METALNESS){const i=this.getFloat(r);t.metalnessMap&&t.metalnessMap.isTexture===!0?s=i.mul(this.getTexture(r).b):s=i}else if(r===tt.EMISSIVE){const i=this.getFloat("emissiveIntensity"),a=this.getColor(r).mul(i);t.emissiveMap&&t.emissiveMap.isTexture===!0?s=a.mul(this.getTexture(r)):s=a}else if(r===tt.NORMAL)t.normalMap?(s=sw(this.getTexture("normal"),this.getCache("normalScale","vec2")),s.normalMapType=t.normalMapType,(t.normalMap.format==af||t.normalMap.format==B7||t.normalMap.format==F7)&&(s.unpackNormalMode=j3)):t.bumpMap?s=_E(this.getTexture("bump").r,this.getFloat("bumpScale")):s=bs;else if(r===tt.CLEARCOAT){const i=this.getFloat(r);t.clearcoatMap&&t.clearcoatMap.isTexture===!0?s=i.mul(this.getTexture(r).r):s=i}else if(r===tt.CLEARCOAT_ROUGHNESS){const i=this.getFloat(r);t.clearcoatRoughnessMap&&t.clearcoatRoughnessMap.isTexture===!0?s=i.mul(this.getTexture(r).r):s=i}else if(r===tt.CLEARCOAT_NORMAL)t.clearcoatNormalMap?s=sw(this.getTexture(r),this.getCache(r+"Scale","vec2")):s=bs;else if(r===tt.SHEEN){const i=this.getColor("sheenColor").mul(this.getFloat("sheen"));t.sheenColorMap&&t.sheenColorMap.isTexture===!0?s=i.mul(this.getTexture("sheenColor").rgb):s=i}else if(r===tt.SHEEN_ROUGHNESS){const i=this.getFloat(r);t.sheenRoughnessMap&&t.sheenRoughnessMap.isTexture===!0?s=i.mul(this.getTexture(r).a):s=i,s=s.clamp(1e-4,1)}else if(r===tt.ANISOTROPY)if(t.anisotropyMap&&t.anisotropyMap.isTexture===!0){const i=this.getTexture(r);s=ov(tf.x,tf.y,tf.y.negate(),tf.x).mul(i.rg.mul(2).sub(wt(1)).normalize().mul(i.b))}else s=tf;else if(r===tt.IRIDESCENCE_THICKNESS){const i=zr("1","float",t.iridescenceThicknessRange);if(t.iridescenceThicknessMap){const a=zr("0","float",t.iridescenceThicknessRange);s=i.sub(a).mul(this.getTexture(r).g).add(a)}else s=i}else if(r===tt.TRANSMISSION){const i=this.getFloat(r);t.transmissionMap?s=i.mul(this.getTexture(r).r):s=i}else if(r===tt.THICKNESS){const i=this.getFloat(r);t.thicknessMap?s=i.mul(this.getTexture(r).g):s=i}else if(r===tt.IOR)s=this.getFloat(r);else if(r===tt.LIGHT_MAP)s=this.getTexture(r).rgb.mul(this.getFloat("lightMapIntensity"));else if(r===tt.AO)s=this.getTexture(r).r.sub(1).mul(this.getFloat("aoMapIntensity")).add(1);else if(r===tt.LINE_DASH_OFFSET)s=t.dashOffset?this.getFloat(r):Ee(0);else{const i=this.getNodeType(e);s=this.getCache(r,i)}return s}}tt.ALPHA_TEST="alphaTest";tt.COLOR="color";tt.OPACITY="opacity";tt.SHININESS="shininess";tt.SPECULAR="specular";tt.SPECULAR_STRENGTH="specularStrength";tt.SPECULAR_INTENSITY="specularIntensity";tt.SPECULAR_COLOR="specularColor";tt.REFLECTIVITY="reflectivity";tt.ROUGHNESS="roughness";tt.METALNESS="metalness";tt.NORMAL="normal";tt.CLEARCOAT="clearcoat";tt.CLEARCOAT_ROUGHNESS="clearcoatRoughness";tt.CLEARCOAT_NORMAL="clearcoatNormal";tt.EMISSIVE="emissive";tt.ROTATION="rotation";tt.SHEEN="sheen";tt.SHEEN_ROUGHNESS="sheenRoughness";tt.ANISOTROPY="anisotropy";tt.IRIDESCENCE="iridescence";tt.IRIDESCENCE_IOR="iridescenceIOR";tt.IRIDESCENCE_THICKNESS="iridescenceThickness";tt.IOR="ior";tt.TRANSMISSION="transmission";tt.THICKNESS="thickness";tt.ATTENUATION_DISTANCE="attenuationDistance";tt.ATTENUATION_COLOR="attenuationColor";tt.LINE_SCALE="scale";tt.LINE_DASH_SIZE="dashSize";tt.LINE_GAP_SIZE="gapSize";tt.LINE_WIDTH="linewidth";tt.LINE_DASH_OFFSET="dashOffset";tt.POINT_SIZE="size";tt.DISPERSION="dispersion";tt.LIGHT_MAP="light";tt.AO="ao";const hR=Nt(tt,tt.ALPHA_TEST),mR=Nt(tt,tt.COLOR),TH=Nt(tt,tt.SHININESS),yR=Nt(tt,tt.EMISSIVE),gR=Nt(tt,tt.OPACITY),SH=Nt(tt,tt.SPECULAR),bH=Nt(tt,tt.SPECULAR_INTENSITY),wH=Nt(tt,tt.SPECULAR_COLOR),EH=Nt(tt,tt.SPECULAR_STRENGTH),PH=Nt(tt,tt.REFLECTIVITY),AH=Nt(tt,tt.ROUGHNESS),NH=Nt(tt,tt.METALNESS),xR=Nt(tt,tt.NORMAL),_H=Nt(tt,tt.CLEARCOAT),CH=Nt(tt,tt.CLEARCOAT_ROUGHNESS),IH=Nt(tt,tt.CLEARCOAT_NORMAL),MH=Nt(tt,tt.ROTATION),kH=Nt(tt,tt.SHEEN),OH=Nt(tt,tt.SHEEN_ROUGHNESS),LH=Nt(tt,tt.ANISOTROPY),DH=Nt(tt,tt.IRIDESCENCE),RH=Nt(tt,tt.IRIDESCENCE_IOR),FH=Nt(tt,tt.IRIDESCENCE_THICKNESS),BH=Nt(tt,tt.TRANSMISSION),VH=Nt(tt,tt.THICKNESS),jH=Nt(tt,tt.IOR),zH=Nt(tt,tt.ATTENUATION_DISTANCE),UH=Nt(tt,tt.ATTENUATION_COLOR),qH=Nt(tt,tt.LINE_SCALE),$H=Nt(tt,tt.LINE_DASH_SIZE),WH=Nt(tt,tt.LINE_GAP_SIZE),HH=Nt(tt,tt.LINE_WIDTH),KH=Nt(tt,tt.LINE_DASH_OFFSET),XH=Nt(tt,tt.POINT_SIZE),GH=Nt(tt,tt.DISPERSION),vR=Nt(tt,tt.LIGHT_MAP),TR=Nt(tt,tt.AO),tf=Qt(new sr).onReference(function(n){return n.material}).onRenderUpdate(function({material:n}){this.value.set(n.anisotropy*Math.cos(n.anisotropyRotation),n.anisotropy*Math.sin(n.anisotropyRotation))}),SR=Oe(n=>n.context.setupModelViewProjection(),"vec4").once()().toVarying("v_modelViewProjection");class YH extends sd{static get type(){return"StorageArrayElementNode"}constructor(e,t){super(e,t),this.isStorageArrayElementNode=!0}set storageBufferNode(e){this.node=e}get storageBufferNode(){return this.node}getMemberType(e,t){const r=this.storageBufferNode.structTypeNode;return r?r.getMemberType(e,t):"void"}setup(e){return e.isAvailable("storageBuffer")===!1&&this.node.isPBO===!0&&e.setupPBO(this.node),super.setup(e)}generate(e,t){let r;const s=e.context.assign;if(e.isAvailable("storageBuffer")===!1?this.node.isPBO===!0&&s!==!0&&(this.node.value.isInstancedBufferAttribute||e.shaderStage!=="compute")?r=e.generatePBO(this):r=this.node.build(e):r=super.generate(e),s!==!0){const i=this.getNodeType(e);r=e.format(r,i,t)}return r}}const JH=dn(YH).setParameterLength(2);class ZH extends vE{static get type(){return"StorageBufferNode"}constructor(e,t=null,r=0){let s,i=null;t&&t.isStruct?(s="struct",i=t.layout,(e.isStorageBufferAttribute||e.isStorageInstancedBufferAttribute)&&(r=e.count)):t===null&&(e.isStorageBufferAttribute||e.isStorageInstancedBufferAttribute)?(s=Vq(e.itemSize),r=e.count):s=t,super(e,s,r),this.isStorageBufferNode=!0,this.structTypeNode=i,this.access=Wl.READ_WRITE,this.isAtomic=!1,this.isPBO=!1,this._attribute=null,this._varying=null,this.global=!0,e.isStorageBufferAttribute!==!0&&e.isStorageInstancedBufferAttribute!==!0&&(e.isInstancedBufferAttribute?e.isStorageInstancedBufferAttribute=!0:e.isStorageBufferAttribute=!0)}getHash(e){if(this.bufferCount===0){let t=e.globalCache.getData(this.value);return t===void 0&&(t={node:this},e.globalCache.setData(this.value,t)),t.node.uuid}return this.uuid}getInputType(){return this.value.isIndirectStorageBufferAttribute?"indirectStorageBuffer":"storageBuffer"}element(e){return JH(this,e)}setPBO(e){return this.isPBO=e,this}getPBO(){return this.isPBO}setAccess(e){return this.access=e,this}toReadOnly(){return this.setAccess(Wl.READ_ONLY)}setAtomic(e){return this.isAtomic=e,this}toAtomic(){return this.setAtomic(!0)}getAttributeData(){return this._attribute===null&&(this._attribute=hE(this.value),this._varying=ad(this._attribute)),{attribute:this._attribute,varying:this._varying}}getNodeType(e){if(this.structTypeNode!==null)return this.structTypeNode.getNodeType(e);if(e.isAvailable("storageBuffer")||e.isAvailable("indirectStorageBuffer"))return super.getNodeType(e);const{attribute:t}=this.getAttributeData();return t.getNodeType(e)}getMemberType(e,t){return this.structTypeNode!==null?this.structTypeNode.getMemberType(e,t):"void"}generate(e){if(this.structTypeNode!==null&&this.structTypeNode.build(e),e.isAvailable("storageBuffer")||e.isAvailable("indirectStorageBuffer"))return super.generate(e);const{attribute:t,varying:r}=this.getAttributeData(),s=r.build(e);return e.registerTransform(s,t),s}}const Hc=(n,e=null,t=0)=>new ZH(n,e,t);class rr extends Bt{static get type(){return"IndexNode"}constructor(e){super("uint"),this.scope=e,this.isIndexNode=!0}generate(e){const t=this.getNodeType(e),r=this.scope;let s;if(r===rr.VERTEX)s=e.getVertexIndex();else if(r===rr.INSTANCE)s=e.getInstanceIndex();else if(r===rr.DRAW)s=e.getDrawIndex();else if(r===rr.INVOCATION_LOCAL)s=e.getInvocationLocalIndex();else if(r===rr.INVOCATION_SUBGROUP)s=e.getInvocationSubgroupIndex();else if(r===rr.SUBGROUP)s=e.getSubgroupIndex();else throw new Error("THREE.IndexNode: Unknown scope: "+r);let i;return e.shaderStage==="vertex"||e.shaderStage==="compute"?i=s:i=ad(this).build(e,t),i}}rr.VERTEX="vertex";rr.INSTANCE="instance";rr.SUBGROUP="subgroup";rr.INVOCATION_LOCAL="invocationLocal";rr.INVOCATION_SUBGROUP="invocationSubgroup";rr.DRAW="draw";const bR=Nt(rr,rr.VERTEX),Xl=Nt(rr,rr.INSTANCE),QH=Nt(rr,rr.SUBGROUP),eK=Nt(rr,rr.INVOCATION_SUBGROUP),tK=Nt(rr,rr.INVOCATION_LOCAL),wR=Nt(rr,rr.DRAW);class ER extends Bt{static get type(){return"InstanceNode"}constructor(e,t,r=null){super("void"),this.count=e,this.instanceMatrix=t,this.instanceColor=r,this.instanceMatrixNode=null,this.instanceColorNode=null,this.updateType=Mn.FRAME,this.buffer=null,this.bufferColor=null,this.previousInstanceMatrixNode=null}get isStorageMatrix(){const{instanceMatrix:e}=this;return e&&e.isStorageInstancedBufferAttribute===!0}get isStorageColor(){const{instanceColor:e}=this;return e&&e.isStorageInstancedBufferAttribute===!0}setup(e){let{instanceMatrixNode:t,instanceColorNode:r}=this;t===null&&(t=this._createInstanceMatrixNode(!0,e),this.instanceMatrixNode=t);const{instanceColor:s,isStorageColor:i}=this;if(s&&r===null){if(i)r=Hc(s,"vec3",Math.max(s.count,1)).element(Xl);else{const l=new hf(s.array,3),c=s.usage===_x?Q1:Lx;this.bufferColor=l,r=Ve(c(l,"vec3",3,0))}this.instanceColorNode=r}const a=t.mul(Cr).xyz;if(Cr.assign(a),e.needsPreviousData()&&kf.assign(this.getPreviousInstancedPosition(e)),e.hasGeometryAttribute("normal")){const l=JD(ki,t);ki.assign(l)}this.instanceColorNode!==null&&vm("vec3","vInstanceColor").assign(this.instanceColorNode)}update(e){this.buffer!==null&&this.isStorageMatrix!==!0&&(this.buffer.clearUpdateRanges(),this.buffer.updateRanges.push(...this.instanceMatrix.updateRanges),this.instanceMatrix.version!==this.buffer.version&&(this.buffer.version=this.instanceMatrix.version)),this.instanceColor&&this.bufferColor!==null&&this.isStorageColor!==!0&&(this.bufferColor.clearUpdateRanges(),this.bufferColor.updateRanges.push(...this.instanceColor.updateRanges),this.instanceColor.version!==this.bufferColor.version&&(this.bufferColor.version=this.instanceColor.version)),this.previousInstanceMatrixNode!==null&&e.object.previousInstanceMatrix.array.set(this.instanceMatrix.array)}getPreviousInstancedPosition(e){const t=e.object;return this.previousInstanceMatrixNode===null&&(t.previousInstanceMatrix=this.instanceMatrix.clone(),this.previousInstanceMatrixNode=this._createInstanceMatrixNode(!1,e)),this.previousInstanceMatrixNode.mul(kf).xyz}_createInstanceMatrixNode(e,t){let r;const{instanceMatrix:s}=this,{count:i}=s;if(this.isStorageMatrix)r=Hc(s,"mat4",Math.max(i,1)).element(Xl);else if(i*16*4<=t.getUniformBufferLimit())r=Rm(s.array,"mat4",Math.max(i,1)).element(Xl);else{const l=new Oq(s.array,16,1);e===!0&&(this.buffer=l);const c=s.usage===_x?Q1:Lx,p=[c(l,"vec4",16,0),c(l,"vec4",16,4),c(l,"vec4",16,8),c(l,"vec4",16,12)];r=$c(...p)}return r}}const nK=dn(ER).setParameterLength(2,3);class rK extends ER{static get type(){return"InstancedMeshNode"}constructor(e){const{count:t,instanceMatrix:r,instanceColor:s}=e;super(t,r,s),this.instancedMesh=e}}const PR=dn(rK).setParameterLength(1);class sK extends Bt{static get type(){return"BatchNode"}constructor(e){super("void"),this.batchMesh=e,this.batchingIdNode=null}setup(e){this.batchingIdNode===null&&(e.getDrawIndex()===null?this.batchingIdNode=Xl:this.batchingIdNode=wR);const r=Oe(([w])=>{const A=Ne(Wc(mr(this.batchMesh._indirectTexture),0).x).toConst(),P=Ne(w).mod(A).toConst(),S=Ne(w).div(A).toConst();return mr(this.batchMesh._indirectTexture,jr(P,S)).x}).setLayout({name:"getIndirectIndex",type:"uint",inputs:[{name:"id",type:"int"}]})(Ne(this.batchingIdNode)),s=this.batchMesh._matricesTexture,i=Ne(Wc(mr(s),0).x).toConst(),a=Ee(r).mul(4).toInt().toConst(),l=a.mod(i).toConst(),c=a.div(i).toConst(),p=$c(mr(s,jr(l,c)),mr(s,jr(l.add(1),c)),mr(s,jr(l.add(2),c)),mr(s,jr(l.add(3),c))),d=this.batchMesh._colorsTexture;if(d!==null){const A=Oe(([P])=>{const S=Ne(Wc(mr(d),0).x).toConst(),C=P,I=C.mod(S).toConst(),_=C.div(S).toConst();return mr(d,jr(I,_)).rgb}).setLayout({name:"getBatchingColor",type:"vec3",inputs:[{name:"id",type:"int"}]})(r);vm("vec3","vBatchColor").assign(A)}const h=ya(p);Cr.assign(p.mul(Cr));const m=ki.div(Ve(h[0].dot(h[0]),h[1].dot(h[1]),h[2].dot(h[2]))),x=h.mul(m).xyz;ki.assign(x),e.hasGeometryAttribute("tangent")&&Of.mulAssign(h)}}const AR=dn(sK).setParameterLength(1),rC=new WeakMap;class NR extends Bt{static get type(){return"SkinningNode"}constructor(e){super("void"),this.skinnedMesh=e,this.updateType=Mn.OBJECT,this.skinIndexNode=Zc("skinIndex","uvec4"),this.skinWeightNode=Zc("skinWeight","vec4"),this.bindMatrixNode=zr("bindMatrix","mat4"),this.bindMatrixInverseNode=zr("bindMatrixInverse","mat4"),this.boneMatricesNode=ew("skeleton.boneMatrices","mat4",e.skeleton.bones.length),this.positionNode=Cr,this.toPositionNode=Cr,this.previousBoneMatricesNode=null}getSkinnedPosition(e=this.boneMatricesNode,t=this.positionNode){const{skinIndexNode:r,skinWeightNode:s,bindMatrixNode:i,bindMatrixInverseNode:a}=this,l=e.element(r.x),c=e.element(r.y),p=e.element(r.z),d=e.element(r.w),h=i.mul(t),m=kr(l.mul(s.x).mul(h),c.mul(s.y).mul(h),p.mul(s.z).mul(h),d.mul(s.w).mul(h));return a.mul(m).xyz}getSkinnedNormalAndTangent(e=this.boneMatricesNode,t=ki,r=Of){const{skinIndexNode:s,skinWeightNode:i,bindMatrixNode:a,bindMatrixInverseNode:l}=this,c=e.element(s.x),p=e.element(s.y),d=e.element(s.z),h=e.element(s.w);let m=kr(i.x.mul(c),i.y.mul(p),i.z.mul(d),i.w.mul(h));m=l.mul(m).mul(a);const x=m.transformDirection(t).xyz,w=m.transformDirection(r).xyz;return{skinNormal:x,skinTangent:w}}getPreviousSkinnedPosition(e){const t=e.object;return this.previousBoneMatricesNode===null&&(t.skeleton.previousBoneMatrices=new Float32Array(t.skeleton.boneMatrices),this.previousBoneMatricesNode=ew("skeleton.previousBoneMatrices","mat4",t.skeleton.bones.length)),this.getSkinnedPosition(this.previousBoneMatricesNode,kf)}setup(e){e.needsPreviousData()&&kf.assign(this.getPreviousSkinnedPosition(e));const t=this.getSkinnedPosition();if(this.toPositionNode&&this.toPositionNode.assign(t),e.hasGeometryAttribute("normal")){const{skinNormal:r,skinTangent:s}=this.getSkinnedNormalAndTangent();ki.assign(r),e.hasGeometryAttribute("tangent")&&Of.assign(s)}return t}generate(e,t){if(t!=="void")return super.generate(e,t)}update(e){const t=e.object&&e.object.skeleton?e.object.skeleton:this.skinnedMesh.skeleton;rC.get(t)!==e.frameId&&(rC.set(t,e.frameId),this.previousBoneMatricesNode!==null&&(t.previousBoneMatrices===null&&(t.previousBoneMatrices=new Float32Array(t.boneMatrices)),t.previousBoneMatrices.set(t.boneMatrices)),t.update())}}const _R=n=>new NR(n),iK=(n,e=null)=>{const t=new NR(n);return t.positionNode=Hc(new hf(n.geometry.getAttribute("position").array,3),"vec3").setPBO(!0).toReadOnly().element(Xl).toVar(),t.skinIndexNode=Hc(new hf(new Uint32Array(n.geometry.getAttribute("skinIndex").array),4),"uvec4").setPBO(!0).toReadOnly().element(Xl).toVar(),t.skinWeightNode=Hc(new hf(n.geometry.getAttribute("skinWeight").array,4),"vec4").setPBO(!0).toReadOnly().element(Xl).toVar(),t.bindMatrixNode=Qt(n.bindMatrix,"mat4"),t.bindMatrixInverseNode=Qt(n.bindMatrixInverse,"mat4"),t.boneMatricesNode=Rm(n.skeleton.boneMatrices,"mat4",n.skeleton.bones.length),t.toPositionNode=e,Ft(t)};class aK extends Bt{static get type(){return"LoopNode"}constructor(e=[]){super("void"),this.params=e}getVarName(e){return String.fromCharCode(105+e)}getProperties(e){const t=e.getNodeProperties(this);if(t.stackNode!==void 0)return t;const r={};for(let l=0,c=this.params.length-1;l<c;l++){const p=this.params[l],d=p.isNode!==!0&&p.name||this.getVarName(l),h=p.isNode!==!0&&p.type||"int";r[d]=el(d,h)}const s=e.addStack(),i=this.params[this.params.length-1](r);t.returnsNode=i.context({nodeLoop:i}),t.stackNode=s;const a=this.params[0];if(a.isNode!==!0&&typeof a.update=="function"){const l=Oe(this.params[0].update)(r);t.updateNode=l.context({nodeLoop:l})}return e.removeStack(),t}setup(e){if(this.getProperties(e),e.fnCall){const t=e.getDataFromNode(e.fnCall.shaderNode);t.hasLoop=!0}}generate(e){const t=this.getProperties(e),r=this.params,s=t.stackNode;for(let a=0,l=r.length-1;a<l;a++){const c=r[a];let p=!1,d=null,h=null,m=null,x=null,w=null,A=null;c.isNode?c.getNodeType(e)==="bool"?(p=!0,x="bool",h=c.build(e,x)):(x="int",m=this.getVarName(a),d="0",h=c.build(e,x),w="<"):(x=c.type||"int",m=c.name||this.getVarName(a),d=c.start,h=c.end,w=c.condition,A=c.update,typeof d=="number"?d=e.generateConst(x,d):d&&d.isNode&&(d=d.build(e,x)),typeof h=="number"?h=e.generateConst(x,h):h&&h.isNode&&(h=h.build(e,x)),d!==void 0&&h===void 0?(d=d+" - 1",h="0",w=">="):h!==void 0&&d===void 0&&(d="0",w="<"),w===void 0&&(Number(d)>Number(h)?w=">=":w="<"));let P;if(p)P=`while ( ${h} )`;else{const S={start:d,end:h},C=S.start,I=S.end;let _;const D=()=>w.includes("<")?"+=":"-=";if(A!=null)switch(typeof A){case"function":_=e.flowStagesNode(t.updateNode,"void").code.replace(/\t|;/g,"");break;case"number":_=m+" "+D()+" "+e.generateConst(x,A);break;case"string":_=m+" "+A;break;default:A.isNode?_=m+" "+D()+" "+A.build(e):(kn("TSL: 'Loop( { update: ... } )' is not a function, string or number.",this.stackTrace),_="break /* invalid update */")}else x==="int"||x==="uint"?A=w.includes("<")?"++":"--":A=D()+" 1.",_=m+" "+A;const F=e.getVar(x,m)+" = "+C,O=m+" "+w+" "+I;P=`for ( ${F}; ${O}; ${_} )`}e.addFlowCode((a===0?`
`:"")+e.tab+P+` {

`).addFlowTab()}const i=s.build(e,"void");t.returnsNode.build(e,"void"),e.removeFlowTab().addFlowCode(`
`+e.tab+i);for(let a=0,l=this.params.length-1;a<l;a++)e.addFlowCode((a===0?"":e.tab)+`}

`).removeFlowTab();e.addFlowTab()}}const Wn=(...n)=>new aK(Kp(n,"int")).toStack(),oK=()=>el("continue").toStack(),CR=()=>el("break").toStack(),BS=new WeakMap,ea=new Ss,sC=Oe(({bufferMap:n,influence:e,stride:t,width:r,depth:s,offset:i})=>{const a=Ne(bR).mul(t).add(i),l=a.div(r),c=a.sub(l.mul(r));return mr(n,jr(c,l)).depth(s).xyz.mul(e)});function lK(n){const e=n.morphAttributes.position!==void 0,t=n.morphAttributes.normal!==void 0,r=n.morphAttributes.color!==void 0,s=n.morphAttributes.position||n.morphAttributes.normal||n.morphAttributes.color,i=s!==void 0?s.length:0;let a=BS.get(n);if(a===void 0||a.count!==i){let C=function(){P.dispose(),BS.delete(n),n.removeEventListener("dispose",C)};var l=C;a!==void 0&&a.texture.dispose();const c=n.morphAttributes.position||[],p=n.morphAttributes.normal||[],d=n.morphAttributes.color||[];let h=0;e===!0&&(h=1),t===!0&&(h=2),r===!0&&(h=3);let m=n.attributes.position.count*h,x=1;const w=4096;m>w&&(x=Math.ceil(m/w),m=w);const A=new Float32Array(m*x*4*i),P=new cq(A,m,x,i);P.type=B3,P.needsUpdate=!0;const S=h*4;for(let I=0;I<i;I++){const _=c[I],D=p[I],F=d[I],O=m*x*4*I;for(let L=0;L<_.count;L++){const B=L*S;e===!0&&(ea.fromBufferAttribute(_,L),A[O+B+0]=ea.x,A[O+B+1]=ea.y,A[O+B+2]=ea.z,A[O+B+3]=0),t===!0&&(ea.fromBufferAttribute(D,L),A[O+B+4]=ea.x,A[O+B+5]=ea.y,A[O+B+6]=ea.z,A[O+B+7]=0),r===!0&&(ea.fromBufferAttribute(F,L),A[O+B+8]=ea.x,A[O+B+9]=ea.y,A[O+B+10]=ea.z,A[O+B+11]=F.itemSize===4?ea.w:1)}}a={count:i,texture:P,stride:h,size:new sr(m,x)},BS.set(n,a),n.addEventListener("dispose",C)}return a}class uK extends Bt{static get type(){return"MorphNode"}constructor(e){super("void"),this.mesh=e,this.morphBaseInfluence=Qt(1),this.updateType=Mn.OBJECT}setup(e){const{geometry:t}=e,r=t.morphAttributes.position!==void 0,s=t.hasAttribute("normal")&&t.morphAttributes.normal!==void 0,i=t.morphAttributes.position||t.morphAttributes.normal||t.morphAttributes.color,a=i!==void 0?i.length:0,{texture:l,stride:c,size:p}=lK(t);r===!0&&Cr.mulAssign(this.morphBaseInfluence),s===!0&&ki.mulAssign(this.morphBaseInfluence);const d=Ne(p.width);Wn(a,({i:h})=>{const m=Ee(0).toVar();this.mesh.count>1&&this.mesh.morphTexture!==null&&this.mesh.morphTexture!==void 0?m.assign(mr(this.mesh.morphTexture,jr(Ne(h).add(1),Ne(Xl))).r):m.assign(zr("morphTargetInfluences","float").element(h).toVar()),Jt(m.notEqual(0),()=>{r===!0&&Cr.addAssign(sC({bufferMap:l,influence:m,stride:c,width:d,depth:h,offset:Ne(0)})),s===!0&&ki.addAssign(sC({bufferMap:l,influence:m,stride:c,width:d,depth:h,offset:Ne(1)}))})})}update(){const e=this.morphBaseInfluence;this.mesh.geometry.morphTargetsRelative?e.value=1:e.value=1-this.mesh.morphTargetInfluences.reduce((t,r)=>t+r,0)}}const IR=dn(uK).setParameterLength(1);class MR extends Bt{static get type(){return"LightingNode"}constructor(){super("vec3"),this.isLightingNode=!0}}class cK extends MR{static get type(){return"AONode"}constructor(e=null){super(),this.aoNode=e}setup(e){e.context.ambientOcclusion.mulAssign(this.aoNode)}}class pK extends hD{static get type(){return"LightingContextNode"}constructor(e,t=null,r=null,s=null){super(e),this.lightingModel=t,this.backdropNode=r,this.backdropAlphaNode=s,this._value=null}getContext(){const{backdropNode:e,backdropAlphaNode:t}=this,r=Ve().toVar("directDiffuse"),s=Ve().toVar("directSpecular"),i=Ve().toVar("indirectDiffuse"),a=Ve().toVar("indirectSpecular"),l={directDiffuse:r,directSpecular:s,indirectDiffuse:i,indirectSpecular:a};return{radiance:Ve().toVar("radiance"),irradiance:Ve().toVar("irradiance"),iblIrradiance:Ve().toVar("iblIrradiance"),ambientOcclusion:Ee(1).toVar("ambientOcclusion"),reflectedLight:l,backdrop:e,backdropAlpha:t}}setup(e){return this.value=this._value||(this._value=this.getContext()),this.value.lightingModel=this.lightingModel||e.context.lightingModel,super.setup(e)}}const kR=dn(pK);class dK extends MR{static get type(){return"IrradianceNode"}constructor(e){super(),this.node=e}setup(e){e.context.irradiance.addAssign(this.node)}}const Ud=new sr;class yv extends Xu{static get type(){return"ViewportTextureNode"}constructor(e=od,t=null,r=null){let s=null;r===null?(s=new X3,s.minFilter=F3,r=s):s=r,super(r,e,t),this.generateMipmaps=!1,this.defaultFramebuffer=s,this.isOutputTextureNode=!0,this.updateBeforeType=Mn.RENDER,this._cacheTextures=new WeakMap}getTextureForReference(e=null){let t,r;if(this.referenceNode?(t=this.referenceNode.defaultFramebuffer,r=this.referenceNode._cacheTextures):(t=this.defaultFramebuffer,r=this._cacheTextures),e===null)return t;if(r.has(e)===!1){const s=t.clone();r.set(e,s)}return r.get(e)}updateReference(e){const t=e.renderer.getRenderTarget();return this.value=this.getTextureForReference(t),this.value}updateBefore(e){const t=e.renderer,r=t.getRenderTarget();r===null?t.getDrawingBufferSize(Ud):Ud.set(r.width,r.height);const s=this.getTextureForReference(r);(s.image.width!==Ud.width||s.image.height!==Ud.height)&&(s.image.width=Ud.width,s.image.height=Ud.height,s.needsUpdate=!0);const i=s.generateMipmaps;s.generateMipmaps=this.generateMipmaps,t.copyFramebufferToTexture(s),s.generateMipmaps=i}clone(){const e=new this.constructor(this.uvNode,this.levelNode,this.value);return e.generateMipmaps=this.generateMipmaps,e}}const fK=dn(yv).setParameterLength(0,3),OR=dn(yv,null,null,{generateMipmaps:!0}).setParameterLength(0,3),hK=OR(),mK=(n=od,e=null)=>hK.sample(n,e);let vg=null;class yK extends yv{static get type(){return"ViewportDepthTextureNode"}constructor(e=od,t=null){vg===null&&(vg=new Ff),super(e,t,vg)}getTextureForReference(){return vg}}const CE=dn(yK).setParameterLength(0,2);class _i extends Bt{static get type(){return"ViewportDepthNode"}constructor(e,t=null){super("float"),this.scope=e,this.valueNode=t,this.isViewportDepthNode=!0}generate(e){const{scope:t}=this;return t===_i.DEPTH_BASE?e.getFragDepth():super.generate(e)}setup({camera:e}){const{scope:t}=this,r=this.valueNode;let s=null;if(t===_i.DEPTH_BASE)r!==null&&(s=DR().assign(r));else if(t===_i.DEPTH)e.isPerspectiveCamera?s=IE(Gr.z,Bc,Vc):s=xf(Gr.z,Bc,Vc);else if(t===_i.LINEAR_DEPTH)if(r!==null)if(e.isPerspectiveCamera){const i=ME(r,Bc,Vc);s=xf(i,Bc,Vc)}else s=r;else s=xf(Gr.z,Bc,Vc);return s}}_i.DEPTH_BASE="depthBase";_i.DEPTH="depth";_i.LINEAR_DEPTH="linearDepth";const xf=(n,e,t)=>n.add(e).div(e.sub(t)),gK=(n,e,t)=>n.add(t).div(t.sub(e)),xK=Oe(([n,e,t],r)=>r.renderer.reversedDepthBuffer===!0?t.sub(e).mul(n).sub(t):e.sub(t).mul(n).sub(e)),IE=(n,e,t)=>e.add(n).mul(t).div(t.sub(e).mul(n)),LR=(n,e,t)=>e.mul(n.add(t)).div(n.mul(e.sub(t))),ME=Oe(([n,e,t],r)=>r.renderer.reversedDepthBuffer===!0?e.mul(t).div(e.sub(t).mul(n).sub(e)):e.mul(t).div(t.sub(e).mul(n).sub(t))),kE=(n,e,t)=>{e=e.max(1e-6).toVar();const r=qu(n.negate().div(e)),s=qu(t.div(e));return r.div(s)},vK=(n,e,t)=>{const r=n.mul(Jw(t.div(e)));return Ee(Math.E).pow(r).mul(e).negate()},DR=dn(_i,_i.DEPTH_BASE),OE=Nt(_i,_i.DEPTH),Dx=dn(_i,_i.LINEAR_DEPTH).setParameterLength(0,1),TK=Dx(CE());OE.assign=n=>DR(n);class Ja extends Bt{static get type(){return"ClippingNode"}constructor(e=Ja.DEFAULT){super(),this.scope=e}setup(e){super.setup(e);const t=e.clippingContext,{intersectionPlanes:r,unionPlanes:s}=t;return this.hardwareClipping=e.material.hardwareClipping,this.scope===Ja.ALPHA_TO_COVERAGE?this.setupAlphaToCoverage(r,s):this.scope===Ja.HARDWARE?this.setupHardwareClipping(s,e):this.setupDefault(r,s)}setupAlphaToCoverage(e,t){return Oe(()=>{const r=Ee().toVar("distanceToPlane"),s=Ee().toVar("distanceToGradient"),i=Ee(1).toVar("clipOpacity"),a=t.length;if(this.hardwareClipping===!1&&a>0){const c=ti(t).setGroup(un);Wn(a,({i:p})=>{const d=c.element(p);r.assign(Gr.dot(d.xyz).negate().add(d.w)),s.assign(r.fwidth().div(2)),i.mulAssign(Jc(s.negate(),s,r))})}const l=e.length;if(l>0){const c=ti(e).setGroup(un),p=Ee(1).toVar("intersectionClipOpacity");Wn(l,({i:d})=>{const h=c.element(d);r.assign(Gr.dot(h.xyz).negate().add(h.w)),s.assign(r.fwidth().div(2)),p.mulAssign(Jc(s.negate(),s,r).oneMinus())}),i.mulAssign(p.oneMinus())}Qs.a.mulAssign(i),Qs.a.equal(0).discard()})()}setupDefault(e,t){return Oe(()=>{const r=t.length;if(this.hardwareClipping===!1&&r>0){const i=ti(t).setGroup(un);Wn(r,({i:a})=>{const l=i.element(a);Gr.dot(l.xyz).greaterThan(l.w).discard()})}const s=e.length;if(s>0){const i=ti(e).setGroup(un),a=eo(!0).toVar("clipped");Wn(s,({i:l})=>{const c=i.element(l);a.assign(Gr.dot(c.xyz).greaterThan(c.w).and(a))}),a.discard()}})()}setupHardwareClipping(e,t){const r=e.length;return t.enableHardwareClipping(r),Oe(()=>{const s=ti(e).setGroup(un),i=np(t.getClipDistance());Wn(r,({i:a})=>{const l=s.element(a),c=Gr.dot(l.xyz).sub(l.w).negate();i.element(a).assign(c)})})()}}Ja.ALPHA_TO_COVERAGE="alphaToCoverage";Ja.DEFAULT="default";Ja.HARDWARE="hardware";const SK=()=>new Ja,bK=()=>new Ja(Ja.ALPHA_TO_COVERAGE),wK=()=>new Ja(Ja.HARDWARE),EK=.05,iC=Oe(([n])=>nl(an(1e4,ei(an(17,n.x).add(an(.1,n.y)))).mul(kr(.1,Gn(ei(an(13,n.y).add(n.x))))))),aC=Oe(([n])=>iC(wt(iC(n.xy),n.z))),PK=Oe(([n])=>{const e=qr(Ox(nE(n.xyz)),Ox(rE(n.xyz))),t=Ee(1).div(Ee(EK).mul(e)).toVar("pixScale"),r=wt(Cf(Kl(qu(t))),Cf(uv(qu(t)))),s=wt(aC(Kl(r.x.mul(n.xyz))),aC(Kl(r.y.mul(n.xyz)))),i=nl(qu(t)),a=kr(an(i.oneMinus(),s.x),an(i,s.y)),l=to(i,i.oneMinus()),c=Ve(a.mul(a).div(an(2,l).mul(An(1,l))),a.sub(an(.5,l)).div(An(1,l)),An(1,An(1,a).mul(An(1,a)).div(an(2,l).mul(An(1,l))))),p=a.lessThan(l.oneMinus()).select(a.lessThan(l).select(c.x,c.y),c.z);return Zl(p,1e-6,1)}).setLayout({name:"getAlphaHashThreshold",type:"float",inputs:[{name:"position",type:"vec3"}]});class AK extends VD{static get type(){return"VertexColorNode"}constructor(e){super(null,"vec4"),this.isVertexColorNode=!0,this.index=e}getAttributeName(){const e=this.index;return"color"+(e>0?e:"")}generate(e){const t=this.getAttributeName(e),r=e.hasGeometryAttribute(t);let s;return r===!0?s=super.generate(e):s=e.generateConst(this.nodeType,new Ss(1,1,1,1)),s}serialize(e){super.serialize(e),e.index=this.index}deserialize(e){super.deserialize(e),this.index=e.index}}const RR=(n=0)=>new AK(n),NK=Oe(([n,e])=>to(1,n.oneMinus().div(e)).oneMinus()).setLayout({name:"blendBurn",type:"vec3",inputs:[{name:"base",type:"vec3"},{name:"blend",type:"vec3"}]}),_K=Oe(([n,e])=>to(n.div(e.oneMinus()),1)).setLayout({name:"blendDodge",type:"vec3",inputs:[{name:"base",type:"vec3"},{name:"blend",type:"vec3"}]}),CK=Oe(([n,e])=>n.oneMinus().mul(e.oneMinus()).oneMinus()).setLayout({name:"blendScreen",type:"vec3",inputs:[{name:"base",type:"vec3"},{name:"blend",type:"vec3"}]}),IK=Oe(([n,e])=>nr(n.mul(2).mul(e),n.oneMinus().mul(2).mul(e.oneMinus()).oneMinus(),If(.5,n))).setLayout({name:"blendOverlay",type:"vec3",inputs:[{name:"base",type:"vec3"},{name:"blend",type:"vec3"}]}),MK=Oe(([n,e])=>{const t=e.a.add(n.a.mul(e.a.oneMinus()));return ln(e.rgb.mul(e.a).add(n.rgb.mul(n.a).mul(e.a.oneMinus())).div(t),t)}).setLayout({name:"blendColor",type:"vec4",inputs:[{name:"base",type:"vec4"},{name:"blend",type:"vec4"}]}),FR=Oe(([n])=>ln(n.rgb.mul(n.a),n.a),{color:"vec4",return:"vec4"}),kK=Oe(([n])=>(Jt(n.a.equal(0),()=>ln(0)),ln(n.rgb.div(n.a),n.a)),{color:"vec4",return:"vec4"});class Lf extends K1{static get type(){return"NodeMaterial"}get type(){return this.constructor.type}set type(e){}constructor(){super(),this.isNodeMaterial=!0,this.fog=!0,this.lights=!1,this.hardwareClipping=!1,this.lightsNode=null,this.envNode=null,this.aoNode=null,this.colorNode=null,this.normalNode=null,this.opacityNode=null,this.backdropNode=null,this.backdropAlphaNode=null,this.alphaTestNode=null,this.maskNode=null,this.maskShadowNode=null,this.positionNode=null,this.geometryNode=null,this.depthNode=null,this.receivedShadowPositionNode=null,this.castShadowPositionNode=null,this.receivedShadowNode=null,this.castShadowNode=null,this.outputNode=null,this.mrtNode=null,this.fragmentNode=null,this.vertexNode=null,this.contextNode=null}_getNodeChildren(){const e=[];for(const t of Object.getOwnPropertyNames(this)){if(t.startsWith("_")===!0)continue;const r=this[t];r&&r.isNode===!0&&e.push({property:t,childNode:r})}return e}customProgramCacheKey(){const e=[];for(const{property:t,childNode:r}of this._getNodeChildren())e.push(Bw(t.slice(0,-4)),r.getCacheKey());return this.type+Vw(e)}build(e){this.setup(e)}setupObserver(e){return new Dq(e)}setup(e){e.context.setupNormal=()=>gf(this.setupNormal(e),"NORMAL","vec3"),e.context.setupPositionView=()=>this.setupPositionView(e),e.context.setupModelViewProjection=()=>this.setupModelViewProjection(e);const t=e.renderer,r=t.getRenderTarget();t.contextNode.isContextNode===!0?e.context={...e.context,...t.contextNode.getFlowContextData()}:kn('NodeMaterial: "renderer.contextNode" must be an instance of `context()`.'),this.contextNode!==null&&(this.contextNode.isContextNode===!0?e.context={...e.context,...this.contextNode.getFlowContextData()}:kn('NodeMaterial: "material.contextNode" must be an instance of `context()`.')),e.addStack();const s=this.setupVertex(e),i=gf(this.vertexNode||s,"VERTEX");e.context.clipSpace=i,e.stack.outputNode=i,this.setupHardwareClipping(e),this.geometryNode!==null&&(e.stack.outputNode=e.stack.outputNode.bypass(this.geometryNode)),e.addFlow("vertex",e.removeStack()),e.addStack();let a;const l=this.setupClipping(e);if((this.depthWrite===!0||this.depthTest===!0)&&(r!==null?r.depthBuffer===!0&&this.setupDepth(e):t.depth===!0&&this.setupDepth(e)),this.fragmentNode===null){this.setupDiffuseColor(e),this.setupVariants(e);const c=this.setupLighting(e);l!==null&&e.stack.addToStack(l);const p=ln(c,Qs.a).max(0);a=this.setupOutput(e,p),yf.assign(a);const d=this.outputNode!==null;if(d&&(a=this.outputNode),e.context.getOutput&&(a=e.context.getOutput(a,e)),r!==null){const h=t.getMRT(),m=this.mrtNode;h!==null?(d&&yf.assign(a),a=h,m!==null&&(a=h.merge(m))):m!==null&&(a=m)}}else{let c=this.fragmentNode;c.isOutputStructNode!==!0&&(c=ln(c)),a=this.setupOutput(e,c)}e.stack.outputNode=a,e.addFlow("fragment",e.removeStack()),e.observer=this.setupObserver(e)}setupClipping(e){if(e.clippingContext===null)return null;const{unionPlanes:t,intersectionPlanes:r}=e.clippingContext;let s=null;if(t.length>0||r.length>0){const i=e.renderer.currentSamples;this.alphaToCoverage&&i>1?s=bK():e.stack.addToStack(SK())}return s}setupHardwareClipping(e){if(this.hardwareClipping=!1,e.clippingContext===null)return;const t=e.clippingContext.unionPlanes.length;t>0&&t<=8&&e.isAvailable("clipDistance")&&(e.stack.addToStack(wK()),this.hardwareClipping=!0)}setupDepth(e){const{renderer:t,camera:r}=e;let s=this.depthNode;if(s===null){const i=t.getMRT();i&&i.has("depth")?s=i.get("depth"):t.logarithmicDepthBuffer===!0&&(r.isPerspectiveCamera?s=kE(Gr.z,Bc,Vc):s=xf(Gr.z,Bc,Vc))}s!==null&&OE.assign(s).toStack()}setupPositionView(){return Bm.mul(Cr).xyz}setupModelViewProjection(){return Fm.mul(Gr)}setupVertex(e){return e.addStack(),this.setupPosition(e),e.context.position=e.removeStack(),SR}setupPosition(e){const{object:t,geometry:r}=e;if((r.morphAttributes.position||r.morphAttributes.normal||r.morphAttributes.color)&&IR(t).toStack(),t.isSkinnedMesh===!0&&_R(t).toStack(),this.displacementMap){const s=jp("displacementMap","texture"),i=jp("displacementScale","float"),a=jp("displacementBias","float");Cr.addAssign(ki.normalize().mul(s.x.mul(i).add(a)))}return t.isBatchedMesh&&AR(t).toStack(),t.isInstancedMesh&&t.instanceMatrix&&t.instanceMatrix.isInstancedBufferAttribute===!0&&PR(t).toStack(),this.positionNode!==null&&Cr.assign(gf(this.positionNode,"POSITION","vec3")),Cr}setupDiffuseColor(e){const{object:t,geometry:r}=e;this.maskNode!==null&&eo(this.maskNode).not().discard();let s=this.colorNode?ln(this.colorNode):mR;this.vertexColors===!0&&r.hasAttribute("color")&&(s=s.mul(RR())),t.instanceColor&&(s=vm("vec3","vInstanceColor").mul(s)),t.isBatchedMesh&&t._colorsTexture&&(s=vm("vec3","vBatchColor").mul(s)),Qs.assign(s);const i=this.opacityNode?Ee(this.opacityNode):gR;Qs.a.assign(Qs.a.mul(i));let a=null;(this.alphaTestNode!==null||this.alphaTest>0)&&(a=this.alphaTestNode!==null?Ee(this.alphaTestNode):hR,this.alphaToCoverage===!0?(Qs.a=Jc(a,a.add(iE(Qs.a)),Qs.a),Qs.a.lessThanEqual(0).discard()):Qs.a.lessThanEqual(a).discard()),this.alphaHash===!0&&Qs.a.lessThan(PK(Cr)).discard(),e.isOpaque()&&Qs.a.assign(1)}setupVariants(){}setupOutgoingLight(){return this.lights===!0?Ve(0):Qs.rgb}setupNormal(){return this.normalNode?Ve(this.normalNode):xR}setupEnvironment(){let e=null;return this.envNode?e=this.envNode:this.envMap&&(e=this.envMap.isCubeTexture?jp("envMap","cubeTexture"):jp("envMap","texture")),e}setupLightMap(e){let t=null;return e.material.lightMap&&(t=new dK(vR)),t}setupLights(e){const t=[],r=this.setupEnvironment(e);r&&r.isLightingNode&&t.push(r);const s=this.setupLightMap(e);s&&s.isLightingNode&&t.push(s);let i=this.aoNode;i===null&&e.material.aoMap&&(i=TR),e.context.getAO&&(i=e.context.getAO(i,e)),i&&t.push(new cK(i));let a=this.lightsNode||e.lightsNode;return t.length>0&&(a=e.renderer.lighting.createNode([...a.getLights(),...t])),a}setupLightingModel(){}setupLighting(e){const{material:t}=e,{backdropNode:r,backdropAlphaNode:s,emissiveNode:i}=this,l=this.lights===!0||this.lightsNode!==null?this.setupLights(e):null;let c=this.setupOutgoingLight(e);if(l&&l.getScope().hasLights){const p=this.setupLightingModel(e)||null;c=kR(l,p,r,s)}else r!==null&&(c=Ve(s!==null?nr(c,r,s):r));return(i&&i.isNode===!0||t.emissive&&t.emissive.isColor===!0)&&(J1.assign(Ve(i||yR)),c=c.add(J1)),c}setupFog(e,t){const r=e.fogNode;return r&&(yf.assign(t),t=ln(r.toVar())),t}setupPremultipliedAlpha(e,t){return FR(t)}setupOutput(e,t){return this.fog===!0&&(t=this.setupFog(e,t)),this.premultipliedAlpha===!0&&(t=this.setupPremultipliedAlpha(e,t)),t}setDefaultValues(e){for(const r in e){const s=e[r];this[r]===void 0&&(this[r]=s,s&&s.clone&&(this[r]=s.clone()))}const t=Object.getOwnPropertyDescriptors(e.constructor.prototype);for(const r in t)Object.getOwnPropertyDescriptor(this.constructor.prototype,r)===void 0&&t[r].get!==void 0&&Object.defineProperty(this.constructor.prototype,r,t[r])}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{},nodes:{}});const r=K1.prototype.toJSON.call(this,e);r.inputNodes={};for(const{property:i,childNode:a}of this._getNodeChildren())r.inputNodes[i]=a.toJSON(e).uuid;function s(i){const a=[];for(const l in i){const c=i[l];delete c.metadata,a.push(c)}return a}if(t){const i=s(e.textures),a=s(e.images),l=s(e.nodes);i.length>0&&(r.textures=i),a.length>0&&(r.images=a),l.length>0&&(r.nodes=l)}return r}copy(e){return this.lightsNode=e.lightsNode,this.envNode=e.envNode,this.aoNode=e.aoNode,this.colorNode=e.colorNode,this.normalNode=e.normalNode,this.opacityNode=e.opacityNode,this.backdropNode=e.backdropNode,this.backdropAlphaNode=e.backdropAlphaNode,this.alphaTestNode=e.alphaTestNode,this.maskNode=e.maskNode,this.maskShadowNode=e.maskShadowNode,this.positionNode=e.positionNode,this.geometryNode=e.geometryNode,this.depthNode=e.depthNode,this.receivedShadowPositionNode=e.receivedShadowPositionNode,this.castShadowPositionNode=e.castShadowPositionNode,this.receivedShadowNode=e.receivedShadowNode,this.castShadowNode=e.castShadowNode,this.outputNode=e.outputNode,this.mrtNode=e.mrtNode,this.fragmentNode=e.fragmentNode,this.vertexNode=e.vertexNode,this.contextNode=e.contextNode,super.copy(e)}}const BR=Oe(([n=KD])=>{const e=n.z.atan(n.x).mul(1/(Math.PI*2)).add(.5),t=n.y.clamp(-1,1).asin().mul(1/Math.PI).add(.5);return wt(e,t)}),VR=Oe(({f0:n,f90:e,dotVH:t})=>{const r=t.mul(-5.55473).sub(6.98316).mul(t).exp2();return n.mul(r.oneMinus()).add(e.mul(r))}),OK=Oe(n=>n.diffuseColor.mul(1/Math.PI)),jR=Oe(n=>{if(n.geometry.hasAttribute("normal")===!1)return Ee(0);const e=Tm.dFdx().abs().max(Tm.dFdy().abs());return e.x.max(e.y).max(e.z)}),LK=Oe(n=>{const{roughness:e}=n,t=jR();let r=e.max(.0525);return r=r.add(t),r=r.min(1),r}),zR=Oe(({alpha:n,dotNL:e,dotNV:t})=>{const r=n.pow2(),s=e.mul(r.add(r.oneMinus().mul(t.pow2())).sqrt()),i=t.mul(r.add(r.oneMinus().mul(e.pow2())).sqrt());return Jl(.5,s.add(i).max(jL))}).setLayout({name:"V_GGX_SmithCorrelated",type:"float",inputs:[{name:"alpha",type:"float"},{name:"dotNL",type:"float"},{name:"dotNV",type:"float"}]}),DK=Oe(({alphaT:n,alphaB:e,dotTV:t,dotBV:r,dotTL:s,dotBL:i,dotNV:a,dotNL:l})=>{const c=l.mul(Ve(n.mul(t),e.mul(r),a).length()),p=a.mul(Ve(n.mul(s),e.mul(i),l).length());return Jl(.5,c.add(p))}).setLayout({name:"V_GGX_SmithCorrelated_Anisotropic",type:"float",inputs:[{name:"alphaT",type:"float",qualifier:"in"},{name:"alphaB",type:"float",qualifier:"in"},{name:"dotTV",type:"float",qualifier:"in"},{name:"dotBV",type:"float",qualifier:"in"},{name:"dotTL",type:"float",qualifier:"in"},{name:"dotBL",type:"float",qualifier:"in"},{name:"dotNV",type:"float",qualifier:"in"},{name:"dotNL",type:"float",qualifier:"in"}]}),UR=Oe(({alpha:n,dotNH:e})=>{const t=n.pow2(),r=e.pow2().mul(t.oneMinus()).oneMinus();return t.div(r.pow2()).mul(1/Math.PI)}).setLayout({name:"D_GGX",type:"float",inputs:[{name:"alpha",type:"float"},{name:"dotNH",type:"float"}]}),RK=Ee(1/Math.PI),FK=Oe(({alphaT:n,alphaB:e,dotNH:t,dotTH:r,dotBH:s})=>{const i=n.mul(e),a=Ve(e.mul(r),n.mul(s),i.mul(t)),l=a.dot(a),c=i.div(l);return RK.mul(i.mul(c.pow2()))}).setLayout({name:"D_GGX_Anisotropic",type:"float",inputs:[{name:"alphaT",type:"float",qualifier:"in"},{name:"alphaB",type:"float",qualifier:"in"},{name:"dotNH",type:"float",qualifier:"in"},{name:"dotTH",type:"float",qualifier:"in"},{name:"dotBH",type:"float",qualifier:"in"}]}),BK=Oe(({lightDirection:n,f0:e,f90:t,roughness:r,f:s,normalView:i=bs,USE_IRIDESCENCE:a,USE_ANISOTROPY:l})=>{const c=r.pow2(),p=n.add(ca).normalize(),d=i.dot(n).clamp(),h=i.dot(ca).clamp(),m=i.dot(p).clamp(),x=ca.dot(p).clamp();let w=VR({f0:e,f90:t,dotVH:x}),A,P;if(xm(a)&&(w=dL.mix(w,s)),xm(l)){const S=sx.dot(n),C=sx.dot(ca),I=sx.dot(p),_=mf.dot(n),D=mf.dot(ca),F=mf.dot(p);A=DK({alphaT:Z1,alphaB:c,dotTV:C,dotBV:D,dotTL:S,dotBL:_,dotNV:h,dotNL:d}),P=FK({alphaT:Z1,alphaB:c,dotNH:m,dotTH:I,dotBH:F})}else A=zR({alpha:c,dotNL:d,dotNV:h}),P=UR({alpha:c,dotNH:m});return w.mul(A).mul(P)}),VK=new Uint16Array([12469,15057,12620,14925,13266,14620,13807,14376,14323,13990,14545,13625,14713,13328,14840,12882,14931,12528,14996,12233,15039,11829,15066,11525,15080,11295,15085,10976,15082,10705,15073,10495,13880,14564,13898,14542,13977,14430,14158,14124,14393,13732,14556,13410,14702,12996,14814,12596,14891,12291,14937,11834,14957,11489,14958,11194,14943,10803,14921,10506,14893,10278,14858,9960,14484,14039,14487,14025,14499,13941,14524,13740,14574,13468,14654,13106,14743,12678,14818,12344,14867,11893,14889,11509,14893,11180,14881,10751,14852,10428,14812,10128,14765,9754,14712,9466,14764,13480,14764,13475,14766,13440,14766,13347,14769,13070,14786,12713,14816,12387,14844,11957,14860,11549,14868,11215,14855,10751,14825,10403,14782,10044,14729,9651,14666,9352,14599,9029,14967,12835,14966,12831,14963,12804,14954,12723,14936,12564,14917,12347,14900,11958,14886,11569,14878,11247,14859,10765,14828,10401,14784,10011,14727,9600,14660,9289,14586,8893,14508,8533,15111,12234,15110,12234,15104,12216,15092,12156,15067,12010,15028,11776,14981,11500,14942,11205,14902,10752,14861,10393,14812,9991,14752,9570,14682,9252,14603,8808,14519,8445,14431,8145,15209,11449,15208,11451,15202,11451,15190,11438,15163,11384,15117,11274,15055,10979,14994,10648,14932,10343,14871,9936,14803,9532,14729,9218,14645,8742,14556,8381,14461,8020,14365,7603,15273,10603,15272,10607,15267,10619,15256,10631,15231,10614,15182,10535,15118,10389,15042,10167,14963,9787,14883,9447,14800,9115,14710,8665,14615,8318,14514,7911,14411,7507,14279,7198,15314,9675,15313,9683,15309,9712,15298,9759,15277,9797,15229,9773,15166,9668,15084,9487,14995,9274,14898,8910,14800,8539,14697,8234,14590,7790,14479,7409,14367,7067,14178,6621,15337,8619,15337,8631,15333,8677,15325,8769,15305,8871,15264,8940,15202,8909,15119,8775,15022,8565,14916,8328,14804,8009,14688,7614,14569,7287,14448,6888,14321,6483,14088,6171,15350,7402,15350,7419,15347,7480,15340,7613,15322,7804,15287,7973,15229,8057,15148,8012,15046,7846,14933,7611,14810,7357,14682,7069,14552,6656,14421,6316,14251,5948,14007,5528,15356,5942,15356,5977,15353,6119,15348,6294,15332,6551,15302,6824,15249,7044,15171,7122,15070,7050,14949,6861,14818,6611,14679,6349,14538,6067,14398,5651,14189,5311,13935,4958,15359,4123,15359,4153,15356,4296,15353,4646,15338,5160,15311,5508,15263,5829,15188,6042,15088,6094,14966,6001,14826,5796,14678,5543,14527,5287,14377,4985,14133,4586,13869,4257,15360,1563,15360,1642,15358,2076,15354,2636,15341,3350,15317,4019,15273,4429,15203,4732,15105,4911,14981,4932,14836,4818,14679,4621,14517,4386,14359,4156,14083,3795,13808,3437,15360,122,15360,137,15358,285,15355,636,15344,1274,15322,2177,15281,2765,15215,3223,15120,3451,14995,3569,14846,3567,14681,3466,14511,3305,14344,3121,14037,2800,13753,2467,15360,0,15360,1,15359,21,15355,89,15346,253,15325,479,15287,796,15225,1148,15133,1492,15008,1749,14856,1882,14685,1886,14506,1783,14324,1608,13996,1398,13702,1183]);let jl=null;const jK=Oe(({roughness:n,dotNV:e})=>{jl===null&&(jl=new Aq(VK,16,16,af,Fu),jl.name="DFG_LUT",jl.minFilter=Hu,jl.magFilter=Hu,jl.wrapS=qp,jl.wrapT=qp,jl.generateMipmaps=!1,jl.needsUpdate=!0);const t=wt(n,e);return or(jl,t).rg}),zK=Oe(({f:n,f90:e,dotVH:t})=>{const r=t.oneMinus().saturate(),s=r.mul(r),i=r.mul(s,s).clamp(0,.9999);return n.sub(Ve(e).mul(i)).div(i.oneMinus())}).setLayout({name:"Schlick_to_F0",type:"vec3",inputs:[{name:"f",type:"vec3"},{name:"f90",type:"float"},{name:"dotVH",type:"float"}]}),gv=1/6,qR=n=>an(gv,an(n,an(n,n.negate().add(3)).sub(3)).add(1)),iw=n=>an(gv,an(n,an(n,an(3,n).sub(6))).add(4)),$R=n=>an(gv,an(n,an(n,an(-3,n).add(3)).add(3)).add(1)),aw=n=>an(gv,Ka(n,3)),oC=n=>qR(n).add(iw(n)),lC=n=>$R(n).add(aw(n)),uC=n=>kr(-1,iw(n).div(qR(n).add(iw(n)))),cC=n=>kr(1,aw(n).div($R(n).add(aw(n)))),pC=(n,e,t)=>{const r=n.uvNode,s=an(r,e.zw).add(.5),i=Kl(s),a=nl(s),l=oC(a.x),c=lC(a.x),p=uC(a.x),d=cC(a.x),h=uC(a.y),m=cC(a.y),x=wt(i.x.add(p),i.y.add(h)).sub(.5).mul(e.xy),w=wt(i.x.add(d),i.y.add(h)).sub(.5).mul(e.xy),A=wt(i.x.add(p),i.y.add(m)).sub(.5).mul(e.xy),P=wt(i.x.add(d),i.y.add(m)).sub(.5).mul(e.xy),S=oC(a.y).mul(kr(l.mul(n.sample(x).level(t)),c.mul(n.sample(w).level(t)))),C=lC(a.y).mul(kr(l.mul(n.sample(A).level(t)),c.mul(n.sample(P).level(t))));return S.add(C)},WR=Oe(([n,e])=>{const t=wt(n.size(Ne(e))),r=wt(n.size(Ne(e.add(1)))),s=Jl(1,t),i=Jl(1,r),a=pC(n,ln(s,t),Kl(e)),l=pC(n,ln(i,r),uv(e));return nl(e).mix(a,l)}),UK=Oe(([n,e])=>{const t=e.mul(gE(n));return WR(n,t)});Ve(.04);Ee(1);const dC=Ee(1),ow=Ee(-2),Tg=Ee(.8),VS=Ee(-1),Sg=Ee(.4),jS=Ee(2),bg=Ee(.305),zS=Ee(3),fC=Ee(.21),qK=Ee(4),hC=Ee(4),$K=Ee(16),WK=Oe(([n])=>{const e=Ve(Gn(n)).toVar(),t=Ee(-1).toVar();return Jt(e.x.greaterThan(e.z),()=>{Jt(e.x.greaterThan(e.y),()=>{t.assign(zs(n.x.greaterThan(0),0,3))}).Else(()=>{t.assign(zs(n.y.greaterThan(0),1,4))})}).Else(()=>{Jt(e.z.greaterThan(e.y),()=>{t.assign(zs(n.z.greaterThan(0),2,5))}).Else(()=>{t.assign(zs(n.y.greaterThan(0),1,4))})}),t}).setLayout({name:"getFace",type:"float",inputs:[{name:"direction",type:"vec3"}]}),HK=Oe(([n,e])=>{const t=wt().toVar();return Jt(e.equal(0),()=>{t.assign(wt(n.z,n.y).div(Gn(n.x)))}).ElseIf(e.equal(1),()=>{t.assign(wt(n.x.negate(),n.z.negate()).div(Gn(n.y)))}).ElseIf(e.equal(2),()=>{t.assign(wt(n.x.negate(),n.y).div(Gn(n.z)))}).ElseIf(e.equal(3),()=>{t.assign(wt(n.z.negate(),n.y).div(Gn(n.x)))}).ElseIf(e.equal(4),()=>{t.assign(wt(n.x.negate(),n.z).div(Gn(n.y)))}).Else(()=>{t.assign(wt(n.x,n.y).div(Gn(n.z)))}),an(.5,t.add(1))}).setLayout({name:"getUV",type:"vec2",inputs:[{name:"direction",type:"vec3"},{name:"face",type:"float"}]}),KK=Oe(([n])=>{const e=Ee(0).toVar();return Jt(n.greaterThanEqual(Tg),()=>{e.assign(dC.sub(n).mul(VS.sub(ow)).div(dC.sub(Tg)).add(ow))}).ElseIf(n.greaterThanEqual(Sg),()=>{e.assign(Tg.sub(n).mul(jS.sub(VS)).div(Tg.sub(Sg)).add(VS))}).ElseIf(n.greaterThanEqual(bg),()=>{e.assign(Sg.sub(n).mul(zS.sub(jS)).div(Sg.sub(bg)).add(jS))}).ElseIf(n.greaterThanEqual(fC),()=>{e.assign(bg.sub(n).mul(qK.sub(zS)).div(bg.sub(fC)).add(zS))}).Else(()=>{e.assign(Ee(-2).mul(qu(an(1.16,n))))}),e}).setLayout({name:"roughnessToMip",type:"float",inputs:[{name:"roughness",type:"float"}]}),HR=Oe(([n,e])=>{const t=n.toVar();t.assign(an(2,t).sub(1));const r=Ve(t,1).toVar();return Jt(e.equal(0),()=>{r.assign(r.zyx)}).ElseIf(e.equal(1),()=>{r.assign(r.xzy),r.xz.mulAssign(-1)}).ElseIf(e.equal(2),()=>{r.x.mulAssign(-1)}).ElseIf(e.equal(3),()=>{r.assign(r.zyx),r.xz.mulAssign(-1)}).ElseIf(e.equal(4),()=>{r.assign(r.xzy),r.xy.mulAssign(-1)}).ElseIf(e.equal(5),()=>{r.z.mulAssign(-1)}),r}).setLayout({name:"getDirection",type:"vec3",inputs:[{name:"uv",type:"vec2"},{name:"face",type:"float"}]}),KR=Oe(([n,e,t,r,s,i])=>{const a=Ee(t),l=Ve(e),c=Zl(KK(a),ow,i),p=nl(c),d=Kl(c),h=Ve(Sm(n,l,d,r,s,i)).toVar();return Jt(p.notEqual(0),()=>{const m=Ve(Sm(n,l,d.add(1),r,s,i)).toVar();h.assign(nr(h,m,p))}),h}),Sm=Oe(([n,e,t,r,s,i])=>{const a=Ee(t).toVar(),l=Ve(e),c=Ee(WK(l)).toVar(),p=Ee(qr(hC.sub(a),0)).toVar();a.assign(qr(a,hC));const d=Ee(Cf(a)).toVar(),h=wt(HK(l,c).mul(d.sub(2)).add(1)).toVar();return Jt(c.greaterThan(2),()=>{h.y.addAssign(d),c.subAssign(3)}),h.x.addAssign(c.mul(d)),h.x.addAssign(p.mul(an(3,$K))),h.y.addAssign(an(4,Cf(i).sub(d))),h.x.mulAssign(r),h.y.mulAssign(s),n.sample(h).grad(wt(),wt())}),US=Oe(({envMap:n,mipInt:e,outputDirection:t,theta:r,axis:s,CUBEUV_TEXEL_WIDTH:i,CUBEUV_TEXEL_HEIGHT:a,CUBEUV_MAX_MIP:l})=>{const c=Ho(r),p=t.mul(c).add(s.cross(t).mul(ei(r))).add(s.mul(s.dot(t).mul(c.oneMinus())));return Sm(n,p,e,i,a,l)}),XR=Oe(({n,latitudinal:e,poleAxis:t,outputDirection:r,weights:s,samples:i,dTheta:a,mipInt:l,envMap:c,CUBEUV_TEXEL_WIDTH:p,CUBEUV_TEXEL_HEIGHT:d,CUBEUV_MAX_MIP:h})=>{const m=Ve(zs(e,t,Ku(t,r))).toVar();Jt(m.equal(Ve(0)),()=>{m.assign(Ve(r.z,0,r.x.negate()))}),m.assign(Ya(m));const x=Ve().toVar();return x.addAssign(s.element(0).mul(US({theta:0,axis:m,outputDirection:r,mipInt:l,envMap:c,CUBEUV_TEXEL_WIDTH:p,CUBEUV_TEXEL_HEIGHT:d,CUBEUV_MAX_MIP:h}))),Wn({start:Ne(1),end:n},({i:w})=>{Jt(w.greaterThanEqual(i),()=>{CR()});const A=Ee(a.mul(Ee(w))).toVar();x.addAssign(s.element(w).mul(US({theta:A.mul(-1),axis:m,outputDirection:r,mipInt:l,envMap:c,CUBEUV_TEXEL_WIDTH:p,CUBEUV_TEXEL_HEIGHT:d,CUBEUV_MAX_MIP:h}))),x.addAssign(s.element(w).mul(US({theta:A,axis:m,outputDirection:r,mipInt:l,envMap:c,CUBEUV_TEXEL_WIDTH:p,CUBEUV_TEXEL_HEIGHT:d,CUBEUV_MAX_MIP:h})))}),ln(x,1)}),XK=Oe(([n])=>{const e=lt(n).toVar();return e.assign(e.shiftLeft(lt(16)).bitOr(e.shiftRight(lt(16)))),e.assign(e.bitAnd(lt(1431655765)).shiftLeft(lt(1)).bitOr(e.bitAnd(lt(2863311530)).shiftRight(lt(1)))),e.assign(e.bitAnd(lt(858993459)).shiftLeft(lt(2)).bitOr(e.bitAnd(lt(3435973836)).shiftRight(lt(2)))),e.assign(e.bitAnd(lt(252645135)).shiftLeft(lt(4)).bitOr(e.bitAnd(lt(4042322160)).shiftRight(lt(4)))),e.assign(e.bitAnd(lt(16711935)).shiftLeft(lt(8)).bitOr(e.bitAnd(lt(4278255360)).shiftRight(lt(8)))),Ee(e).mul(23283064365386963e-26)}),GK=Oe(([n,e])=>wt(Ee(n).div(Ee(e)),XK(n))),YK=Oe(([n,e,t])=>{const r=t.mul(t).toConst(),s=Ve(1,0,0).toConst(),i=Ku(e,s).toConst(),a=si(n.x).toConst(),l=an(2,3.14159265359).mul(n.y).toConst(),c=a.mul(Ho(l)).toConst(),p=a.mul(ei(l)).toVar(),d=an(.5,e.z.add(1)).toConst();p.assign(d.oneMinus().mul(si(c.mul(c).oneMinus())).add(d.mul(p)));const h=s.mul(c).add(i.mul(p)).add(e.mul(si(qr(0,c.mul(c).add(p.mul(p)).oneMinus()))));return Ya(Ve(r.mul(h.x),r.mul(h.y),qr(0,h.z)))}),GR=Oe(({roughness:n,mipInt:e,envMap:t,N_immutable:r,GGX_SAMPLES:s,CUBEUV_TEXEL_WIDTH:i,CUBEUV_TEXEL_HEIGHT:a,CUBEUV_MAX_MIP:l})=>{const c=Ve(r).toVar(),p=Ve(0).toVar(),d=Ee(0).toVar();return Jt(n.lessThan(.001),()=>{p.assign(Sm(t,c,e,i,a,l))}).Else(()=>{const h=zs(Gn(c.z).lessThan(.999),Ve(0,0,1),Ve(1,0,0)),m=Ya(Ku(h,c)).toVar(),x=Ku(c,m).toVar();Wn({start:lt(0),end:s},({i:w})=>{const A=GK(w,s),P=YK(A,Ve(0,0,1),n),S=Ya(m.mul(P.x).add(x.mul(P.y)).add(c.mul(P.z))),C=Ya(S.mul(no(c,S).mul(2)).sub(c)),I=qr(no(c,C),0);Jt(I.greaterThan(0),()=>{const _=Sm(t,C,e,i,a,l);p.addAssign(_.mul(I)),d.addAssign(I)})}),Jt(d.greaterThan(0),()=>{p.assign(p.div(d))})}),ln(p,1)}),Uc=4,mC=[.125,.215,.35,.446,.526,.582],zp=20,JK=512,xh=new Y3(-1,1,1,-1,0,1),ZK=new kq(90,1),yC=new xt;let qS=null,$S=0,WS=0;const QK=new qe,Rx=new WeakMap,eX=[3,1,5,0,4,2],HS=HR(Un(),Zc("faceIndex")).normalize(),xv=Ve(HS.x,HS.y,HS.z);class tX{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._sizeLods=[],this._sigmas=[],this._lodMeshes=[],this._blurMaterial=null,this._ggxMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._backgroundBox=null}get _hasInitialized(){return this._renderer.hasInitialized()}fromScene(e,t=0,r=.1,s=100,i={}){const{size:a=256,position:l=QK,renderTarget:c=null}=i;if(this._setSize(a),this._hasInitialized===!1){on('PMREMGenerator: ".fromScene()" called before the backend is initialized. Try using "await renderer.init()" instead.');const d=c||this._allocateTarget();return i.renderTarget=d,this.fromSceneAsync(e,t,r,s,i),d}qS=this._renderer.getRenderTarget(),$S=this._renderer.getActiveCubeFace(),WS=this._renderer.getActiveMipmapLevel();const p=c||this._allocateTarget();return p.depthBuffer=!0,this._init(p),this._sceneToCubeUV(e,r,s,p,l),t>0&&this._blur(p,0,0,t),this._applyPMREM(p),this._cleanup(p),p}async fromSceneAsync(e,t=0,r=.1,s=100,i={}){return Xa('PMREMGenerator: ".fromSceneAsync()" is deprecated. Use "await renderer.init()" instead.'),await this._renderer.init(),this.fromScene(e,t,r,s,i)}fromEquirectangular(e,t=null){if(this._hasInitialized===!1){on('PMREMGenerator: .fromEquirectangular() called before the backend is initialized. Try using "await renderer.init()" instead.'),this._setSizeFromTexture(e);const r=t||this._allocateTarget();return this.fromEquirectangularAsync(e,r),r}return this._fromTexture(e,t)}async fromEquirectangularAsync(e,t=null){return Xa('PMREMGenerator: ".fromEquirectangularAsync()" is deprecated. Use "await renderer.init()" instead.'),await this._renderer.init(),this._fromTexture(e,t)}fromCubemap(e,t=null){if(this._hasInitialized===!1){on("PMREMGenerator: .fromCubemap() called before the backend is initialized. Try using .fromCubemapAsync() instead."),this._setSizeFromTexture(e);const r=t||this._allocateTarget();return this.fromCubemapAsync(e,t),r}return this._fromTexture(e,t)}async fromCubemapAsync(e,t=null){return Xa('PMREMGenerator: ".fromCubemapAsync()" is deprecated. Use "await renderer.init()" instead.'),await this._renderer.init(),this._fromTexture(e,t)}async compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=xC(),await this._compileMaterial(this._cubemapMaterial))}async compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=vC(),await this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose(),this._backgroundBox!==null&&(this._backgroundBox.geometry.dispose(),this._backgroundBox.material.dispose())}_setSizeFromTexture(e){e.mapping===gm||e.mapping===$1?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4)}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._ggxMaterial!==null&&this._ggxMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodMeshes.length;e++)this._lodMeshes[e].geometry.dispose()}_cleanup(e){this._renderer.setRenderTarget(qS,$S,WS),e.scissorTest=!1,qd(e,0,0,e.width,e.height)}_fromTexture(e,t){this._setSizeFromTexture(e),qS=this._renderer.getRenderTarget(),$S=this._renderer.getActiveCubeFace(),WS=this._renderer.getActiveMipmapLevel();const r=t||this._allocateTarget();return this._init(r),this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTarget(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize;return gC(e,t)}_init(e){if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e.width||this._pingPongRenderTarget.height!==e.height){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=gC(e.width,e.height);const{_lodMax:t}=this;({lodMeshes:this._lodMeshes,sizeLods:this._sizeLods,sigmas:this._sigmas}=nX(t)),this._blurMaterial=rX(t,e.width,e.height),this._ggxMaterial=sX(t,e.width,e.height)}}async _compileMaterial(e){const t=new Ix(new rd,e);await this._renderer.compile(t,xh)}_sceneToCubeUV(e,t,r,s,i){const a=ZK;a.near=t,a.far=r;const l=[1,1,1,1,-1,1],c=[1,-1,1,-1,1,-1],p=this._renderer,d=p.autoClear;p.getClearColor(yC),p.autoClear=!1,this._backgroundBox===null&&(this._backgroundBox=new Ix(new Dw,new K3({name:"PMREM.Background",side:Mm,depthWrite:!1,depthTest:!1})));const h=this._backgroundBox,m=h.material;let x=!1;const w=e.background;w?w.isColor&&(m.color.copy(w),e.background=null,x=!0):(m.color.copy(yC),x=!0),p.setRenderTarget(s),p.clear(),x&&p.render(h,a);for(let A=0;A<6;A++){const P=A%3;P===0?(a.up.set(0,l[A],0),a.position.set(i.x,i.y,i.z),a.lookAt(i.x+c[A],i.y,i.z)):P===1?(a.up.set(0,0,l[A]),a.position.set(i.x,i.y,i.z),a.lookAt(i.x,i.y+c[A],i.z)):(a.up.set(0,l[A],0),a.position.set(i.x,i.y,i.z),a.lookAt(i.x,i.y,i.z+c[A]));const S=this._cubeSize;qd(s,P*S,A>2?S:0,S,S),p.render(e,a)}p.autoClear=d,e.background=w}_textureToCubeUV(e,t){const r=this._renderer,s=e.mapping===gm||e.mapping===$1;s?this._cubemapMaterial===null&&(this._cubemapMaterial=xC(e)):this._equirectMaterial===null&&(this._equirectMaterial=vC(e));const i=s?this._cubemapMaterial:this._equirectMaterial;i.fragmentNode.value=e;const a=this._lodMeshes[0];a.material=i;const l=this._cubeSize;qd(t,0,0,3*l,2*l),r.setRenderTarget(t),r.render(a,xh)}_applyPMREM(e){const t=this._renderer,r=t.autoClear;t.autoClear=!1;const s=this._lodMeshes.length;for(let i=1;i<s;i++)this._applyGGXFilter(e,i-1,i);t.autoClear=r}_applyGGXFilter(e,t,r){const s=this._renderer,i=this._pingPongRenderTarget,a=this._ggxMaterial,l=this._lodMeshes[r];l.material=a;const c=Rx.get(a),p=r/(this._lodMeshes.length-1),d=t/(this._lodMeshes.length-1),h=Math.sqrt(p*p-d*d),m=0+p*1.25,x=h*m,{_lodMax:w}=this,A=this._sizeLods[r],P=3*A*(r>w-Uc?r-w+Uc:0),S=4*(this._cubeSize-A);e.texture.frame=(e.texture.frame||0)+1,c.envMap.value=e.texture,c.roughness.value=x,c.mipInt.value=w-t,qd(i,P,S,3*A,2*A),s.setRenderTarget(i),s.render(l,xh),i.texture.frame=(i.texture.frame||0)+1,c.envMap.value=i.texture,c.roughness.value=0,c.mipInt.value=w-r,qd(e,P,S,3*A,2*A),s.setRenderTarget(e),s.render(l,xh)}_blur(e,t,r,s,i){const a=this._pingPongRenderTarget;this._halfBlur(e,a,t,r,s,"latitudinal",i),this._halfBlur(a,e,r,r,s,"longitudinal",i)}_halfBlur(e,t,r,s,i,a,l){const c=this._renderer,p=this._blurMaterial;a!=="latitudinal"&&a!=="longitudinal"&&kn("blur direction must be either latitudinal or longitudinal!");const d=3,h=this._lodMeshes[s];h.material=p;const m=Rx.get(p),x=this._sizeLods[r]-1,w=isFinite(i)?Math.PI/(2*x):2*Math.PI/(2*zp-1),A=i/w,P=isFinite(i)?1+Math.floor(d*A):zp;P>zp&&on(`sigmaRadians, ${i}, is too large and will clip, as it requested ${P} samples when the maximum is set to ${zp}`);const S=[];let C=0;for(let O=0;O<zp;++O){const L=O/A,B=Math.exp(-L*L/2);S.push(B),O===0?C+=B:O<P&&(C+=2*B)}for(let O=0;O<S.length;O++)S[O]=S[O]/C;e.texture.frame=(e.texture.frame||0)+1,m.envMap.value=e.texture,m.samples.value=P,m.weights.array=S,m.latitudinal.value=a==="latitudinal"?1:0,l&&(m.poleAxis.value=l);const{_lodMax:I}=this;m.dTheta.value=w,m.mipInt.value=I-r;const _=this._sizeLods[s],D=3*_*(s>I-Uc?s-I+Uc:0),F=4*(this._cubeSize-_);qd(t,D,F,3*_,2*_),c.setRenderTarget(t),c.render(h,xh)}}function nX(n){const e=[],t=[],r=[];let s=n;const i=n-Uc+1+mC.length;for(let a=0;a<i;a++){const l=Math.pow(2,s);e.push(l);let c=1/l;a>n-Uc?c=mC[a-n+Uc-1]:a===0&&(c=0),t.push(c);const p=1/(l-2),d=-p,h=1+p,m=[d,d,h,d,h,h,d,d,h,h,d,h],x=6,w=6,A=3,P=2,S=1,C=new Float32Array(A*w*x),I=new Float32Array(P*w*x),_=new Float32Array(S*w*x);for(let F=0;F<x;F++){const O=F%3*2/3-1,L=F>2?0:-1,B=[O,L,0,O+2/3,L,0,O+2/3,L+1,0,O,L,0,O+2/3,L+1,0,O,L+1,0],j=eX[F];C.set(B,A*w*j),I.set(m,P*w*j);const M=[j,j,j,j,j,j];_.set(M,S*w*j)}const D=new rd;D.setAttribute("position",new Ga(C,A)),D.setAttribute("uv",new Ga(I,P)),D.setAttribute("faceIndex",new Ga(_,S)),r.push(new Ix(D,null)),s>Uc&&s--}return{lodMeshes:r,sizeLods:e,sigmas:t}}function gC(n,e){const t={magFilter:Hu,minFilter:Hu,generateMipmaps:!1,type:Fu,format:V3,colorSpace:Nx},r=new km(n,e,t);return r.texture.mapping=k7,r.texture.name="PMREM.cubeUv",r.texture.isPMREMTexture=!0,r.scissorTest=!0,r}function qd(n,e,t,r,s){n.viewport.set(e,t,r,s),n.scissor.set(e,t,r,s)}function vv(n){const e=new Lf;return e.depthTest=!1,e.depthWrite=!1,e.blending=_w,e.name=`PMREM_${n}`,e}function rX(n,e,t){const r=ti(new Array(zp).fill(0)),s=Qt(new qe(0,1,0)),i=Qt(0),a=Ee(zp),l=Qt(0),c=Qt(1),p=or(),d=Qt(0),h=Ee(1/e),m=Ee(1/t),x=Ee(n),w={n:a,latitudinal:l,weights:r,poleAxis:s,outputDirection:xv,dTheta:i,samples:c,envMap:p,mipInt:d,CUBEUV_TEXEL_WIDTH:h,CUBEUV_TEXEL_HEIGHT:m,CUBEUV_MAX_MIP:x},A=vv("blur");return A.fragmentNode=XR({...w,latitudinal:l.equal(1)}),Rx.set(A,w),A}function sX(n,e,t){const r=or(),s=Qt(0),i=Qt(0),a=Ee(1/e),l=Ee(1/t),c=Ee(n),p={envMap:r,roughness:s,mipInt:i,CUBEUV_TEXEL_WIDTH:a,CUBEUV_TEXEL_HEIGHT:l,CUBEUV_MAX_MIP:c},d=vv("ggx");return d.fragmentNode=GR({...p,N_immutable:xv,GGX_SAMPLES:lt(JK)}),Rx.set(d,p),d}function xC(n){const e=vv("cubemap");return e.fragmentNode=Wa(n,xv),e}function vC(n){const e=vv("equirect");return e.fragmentNode=or(n,BR(xv),0),e}const TC=new WeakMap;function iX(n){const e=Math.log2(n)-2,t=1/n;return{texelWidth:1/(3*Math.max(Math.pow(2,e),112)),texelHeight:t,maxMip:e}}function aX(n,e,t){const r=oX(e);let s=r.get(n);if((s!==void 0?s.pmremVersion:-1)!==n.pmremVersion){const a=n.image;if(n.isCubeTexture)if(uX(a))s=t.fromCubemap(n,s);else return null;else if(cX(a))s=t.fromEquirectangular(n,s);else return null;s.pmremVersion=n.pmremVersion,r.set(n,s)}return s.texture}function oX(n){let e=TC.get(n);return e===void 0&&(e=new WeakMap,TC.set(n,e)),e}class lX extends Sr{static get type(){return"PMREMNode"}constructor(e,t=null,r=null){super("vec3"),this._value=e,this._pmrem=null,this.uvNode=t,this.levelNode=r,this._generator=null;const s=new ri;s.isRenderTargetTexture=!0,this._texture=or(s),this._width=Qt(0),this._height=Qt(0),this._maxMip=Qt(0),this.updateBeforeType=Mn.RENDER}set value(e){this._value=e,this._pmrem=null}get value(){return this._value}updateFromTexture(e){const t=iX(e.image.height);this._texture.value=e,this._width.value=t.texelWidth,this._height.value=t.texelHeight,this._maxMip.value=t.maxMip}updateBefore(e){let t=this._pmrem;const r=t?t.pmremVersion:-1,s=this._value;r!==s.pmremVersion&&(s.isPMREMTexture===!0?t=s:t=aX(s,e.renderer,this._generator),t!==null&&(this._pmrem=t,this.updateFromTexture(t)))}setup(e){this._generator===null&&(this._generator=new tX(e.renderer)),this.updateBefore(e);let t=this.uvNode;t===null&&e.context.getUV&&(t=e.context.getUV(this,e)),t=PE.mul(Ve(t.x,t.y.negate(),t.z));let r=this.levelNode;return r===null&&e.context.getTextureLevel&&(r=e.context.getTextureLevel(this)),KR(this._texture,t,r,this._width,this._height,this._maxMip)}dispose(){super.dispose(),this._generator!==null&&this._generator.dispose()}}function uX(n){if(n==null)return!1;let e=0;const t=6;for(let r=0;r<t;r++)n[r]!==void 0&&e++;return e===t}function cX(n){return n==null?!1:n.height>0}const pX=dn(lX).setParameterLength(1,3),dX=Oe(()=>{const n=Ve(ca.z,0,ca.x.negate()).normalize(),e=ca.cross(n);return wt(n.dot(bs),e.dot(bs)).mul(.495).add(.5)}).once(["NORMAL","VERTEX"])().toVar("matcapUV");class fX extends Sr{static get type(){return"RotateNode"}constructor(e,t){super(),this.positionNode=e,this.rotationNode=t}getNodeType(e){return this.positionNode.getNodeType(e)}setup(e){const{rotationNode:t,positionNode:r}=this;if(this.getNodeType(e)==="vec2"){const i=t.cos(),a=t.sin();return ov(i,a,a.negate(),i).mul(r)}else{const i=t,a=$c(ln(1,0,0,0),ln(0,Ho(i.x),ei(i.x).negate(),0),ln(0,ei(i.x),Ho(i.x),0),ln(0,0,0,1)),l=$c(ln(Ho(i.y),0,ei(i.y),0),ln(0,1,0,0),ln(ei(i.y).negate(),0,Ho(i.y),0),ln(0,0,0,1)),c=$c(ln(Ho(i.z),ei(i.z).negate(),0,0),ln(ei(i.z),Ho(i.z),0,0),ln(0,0,1,0),ln(0,0,0,1));return a.mul(l).mul(c).mul(ln(r,1)).xyz}}}const LE=dn(fX).setParameterLength(2);Uu("vec3");Uu("vec3");Uu("vec3");class hX{constructor(){this.weakMaps={}}_getWeakMap(e){const t=e.length;let r=this.weakMaps[t];return r===void 0&&(r=new WeakMap,this.weakMaps[t]=r),r}get(e){let t=this._getWeakMap(e);for(let r=0;r<e.length-1;r++)if(t=t.get(e[r]),t===void 0)return;return t.get(e[e.length-1])}set(e,t){let r=this._getWeakMap(e);for(let s=0;s<e.length-1;s++){const i=e[s];r.has(i)===!1&&r.set(i,new WeakMap),r=r.get(i)}return r.set(e[e.length-1],t),this}delete(e){let t=this._getWeakMap(e);for(let r=0;r<e.length-1;r++)if(t=t.get(e[r]),t===void 0)return!1;return t.delete(e[e.length-1])}}class mX extends Fn{static get type(){return"ParameterNode"}constructor(e,t=null){super(e,t),this.isParameterNode=!0}getMemberType(e,t){const r=this.getNodeType(e),s=e.getStructTypeNode(r);let i;return s!==null?i=s.getMemberType(e,t):(kn(`TSL: Member "${t}" not found in struct "${r}".`,new Mr),i="float"),i}getHash(){return this.uuid}generate(){return this.name}}const yX=(n,e)=>new mX(n,e);class gX extends Bt{static get type(){return"StackNode"}constructor(e=null){super(),this.nodes=[],this.outputNode=null,this.parent=e,this._currentCond=null,this._expressionNode=null,this._currentNode=null,this.isStackNode=!0}getElementType(e){return this.hasOutput(e)?this.outputNode.getElementType(e):"void"}getNodeType(e){return this.hasOutput(e)?this.outputNode.getNodeType(e):"void"}getMemberType(e,t){return this.hasOutput(e)?this.outputNode.getMemberType(e,t):"void"}addToStack(e,t=this.nodes.length){return e.isNode!==!0?(kn("TSL: Invalid node added to stack.",new Mr),this):(this.nodes.splice(t,0,e),this)}addToStackBefore(e){const t=this._currentNode?this.nodes.indexOf(this._currentNode):0;return this.addToStack(e,t)}If(e,t){const r=new of(t);return this._currentCond=zs(e,r),this.addToStack(this._currentCond)}ElseIf(e,t){const r=new of(t),s=zs(e,r);return this._currentCond.elseNode=s,this._currentCond=s,this}Else(e){return this._currentCond.elseNode=new of(e),this}Switch(e){return this._expressionNode=Ft(e),this}Case(...e){const t=[];if(e.length>=2)for(let l=0;l<e.length-1;l++)t.push(this._expressionNode.equal(Ft(e[l])));else kn("TSL: Invalid parameter length. Case() requires at least two parameters.",new Mr);const r=e[e.length-1],s=new of(r);let i=t[0];for(let l=1;l<t.length;l++)i=i.or(t[l]);const a=zs(i,s);return this._currentCond===null?(this._currentCond=a,this.addToStack(this._currentCond)):(this._currentCond.elseNode=a,this._currentCond=a,this)}Default(e){return this.Else(e),this}setup(e){const t=e.getNodeProperties(this);let r=0;for(const s of this.getChildren())s.isVarNode&&s.isIntent(e)&&s.isAssign(e)!==!0||(t["node"+r++]=s);return t.outputNode||null}hasOutput(e){return this.outputNode&&this.outputNode.isNode&&this.outputNode.getNodeType(e)!=="void"}build(e,...t){const r=iL(),s=e.buildStage;Y1(this),e.setActiveStack(this);const i=p=>{if(this._currentNode=p,!(p.isVarNode&&p.isIntent(e)&&p.isAssign(e)!==!0)){if(s==="setup")p.build(e);else if(s==="analyze")p.build(e,this);else if(s==="generate"){const d=e.getDataFromNode(p,"any").stages,h=d&&d[e.shaderStage];if(p.isVarNode&&h&&h.length===1&&h[0]&&h[0].isStackNode)return;p.build(e,"void")}}},a=[...this.nodes];for(const p of a)i(p);this._currentNode=null;const l=this.nodes.filter(p=>a.indexOf(p)===-1);for(const p of l)i(p);let c;return this.hasOutput(e)?c=this.outputNode.build(e,...t):c=super.build(e,...t),Y1(r),e.removeActiveStack(this),c}}const xX=dn(gX).setParameterLength(0,1);function vX(n){return Object.entries(n).map(([e,t])=>typeof t=="string"?{name:e,type:t,atomic:!1}:{name:e,type:t.type,atomic:t.atomic||!1})}class TX extends Bt{static get type(){return"StructTypeNode"}constructor(e,t=null){super("struct"),this.membersLayout=vX(e),this.name=t,this.isStructLayoutNode=!0}getLength(){const e=Float32Array.BYTES_PER_ELEMENT;let t=1,r=0;for(const s of this.membersLayout){const i=s.type,a=jq(i),l=zq(i)/e;t=Math.max(t,l);const p=r%t%l;p!==0&&(r+=l-p),r+=a}return Math.ceil(r/t)*t}getMemberType(e,t){const r=this.membersLayout.find(s=>s.name===t);return r?r.type:"void"}getNodeType(e){return e.getStructTypeFromNode(this,this.membersLayout,this.name).name}setup(e){e.getStructTypeFromNode(this,this.membersLayout,this.name),e.addInclude(this)}generate(e){return this.getNodeType(e)}}class SX extends Bt{static get type(){return"StructNode"}constructor(e,t){super("vec3"),this.structTypeNode=e,this.values=t,this.isStructNode=!0}getNodeType(e){return this.structTypeNode.getNodeType(e)}getMemberType(e,t){return this.structTypeNode.getMemberType(e,t)}_getChildren(){const e=super._getChildren(),t=e.find(r=>r.childNode===this.structTypeNode);return e.splice(e.indexOf(t),1),e.push(t),e}generate(e){const t=e.getVarFromNode(this),r=t.type,s=e.getPropertyName(t);return e.addLineFlowCode(`${s} = ${e.generateStruct(r,this.structTypeNode.membersLayout,this.values)}`,this),t.name}}const bX=(n,e=null)=>{const t=new TX(n,e),r=(...s)=>{let i=null;if(s.length>0)if(s[0].isNode){i={};const a=Object.keys(n);for(let l=0;l<s.length;l++)i[a[l]]=s[l]}else i=s[0];return new SX(t,i)};return r.layout=t,r.isStruct=!0,r};class YR extends Bt{static get type(){return"OutputStructNode"}constructor(...e){super(),this.members=e,this.isOutputStructNode=!0}getNodeType(){return"OutputType"}generate(e){const t=e.getDataFromNode(this);if(t.membersLayout===void 0){const a=this.members,l=[];for(let c=0;c<a.length;c++){const p="m"+c,d=a[c].getNodeType(e);l.push({name:p,type:d,index:c})}t.membersLayout=l,t.structType=e.getOutputStructTypeFromNode(this,t.membersLayout)}const r=e.getOutputStructName(),s=this.members,i=r!==""?r+".":"";for(let a=0;a<s.length;a++){const l=s[a].build(e);e.addLineFlowCode(`${i}m${a} = ${l}`,this)}return r}}const wX=dn(YR);class JR{constructor(e=V1){this.blending=e,this.blendSrc=z1,this.blendDst=U1,this.blendEquation=j1,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.premultiplyAlpha=!1}copy(e){return this.blending=e.blending,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.premultiplyAlpha=e.premultiplyAlpha,this}clone(){return new this.constructor().copy(this)}}const EX=new JR(_w),PX=new JR(I7);function ZR(n,e){for(let t=0;t<n.length;t++)if(n[t].name===e)return t;return-1}class AX extends YR{static get type(){return"MRTNode"}constructor(e){super(),this.outputNodes=e,this.blendModes={output:PX},this.isMRTNode=!0}setBlendMode(e,t){return this.blendModes[e]=t,this}getBlendMode(e){return this.blendModes[e]||EX}has(e){return this.outputNodes[e]!==void 0}get(e){return this.outputNodes[e]}merge(e){const t={...this.outputNodes,...e.outputNodes},r={...this.blendModes,...e.blendModes},s=QR(t);return s.blendings=r,s}setup(e){const t=this.outputNodes,r=e.renderer.getRenderTarget(),s=[],i=r.textures;for(const a in t){const l=ZR(i,a);s[l]=ln(t[a])}return this.members=s,super.setup(e)}}const QR=dn(AX);class jm extends Sr{static get type(){return"BitcastNode"}constructor(e,t,r=null){super(),this.valueNode=e,this.conversionType=t,this.inputType=r,this.isBitcastNode=!0}getNodeType(e){if(this.inputType!==null){const t=this.valueNode.getNodeType(e),r=e.getTypeLength(t);return e.getTypeFromLength(r,this.conversionType)}return this.conversionType}generate(e){const t=this.getNodeType(e);let r="";if(this.inputType!==null){const s=this.valueNode.getNodeType(e);r=e.getTypeLength(s)===1?this.inputType:e.changeComponentType(s,this.inputType)}else r=this.valueNode.getNodeType(e);return`${e.getBitcastMethod(t,r)}( ${this.valueNode.build(e,r)} )`}}const eF=ft(jm).setParameterLength(2),NX=n=>new jm(n,"int","float"),tF=n=>new jm(n,"uint","float"),_X=n=>new jm(n,"float","int"),CX=n=>new jm(n,"float","uint"),wg={};class da extends je{static get type(){return"BitcountNode"}constructor(e,t){super(e,t),this.isBitcountNode=!0}_resolveElementType(e,t,r){r==="int"?t.assign(eF(e,"uint")):t.assign(e)}_returnDataNode(e){switch(e){case"uint":return lt;case"int":return Ne;case"uvec2":return Ww;case"uvec3":return id;case"uvec4":return Gw;case"ivec2":return jr;case"ivec3":return Hw;case"ivec4":return Xw}}_createTrailingZerosBaseLayout(e,t){const r=this._returnDataNode(t);return Oe(([i])=>{const a=lt(0);this._resolveElementType(i,a,t);const l=Ee(a.bitAnd(tE(a))),p=tF(l).shiftRight(23).sub(127);return r(p)}).setLayout({name:e,type:t,inputs:[{name:"value",type:t}]})}_createLeadingZerosBaseLayout(e,t){const r=this._returnDataNode(t);return Oe(([i])=>{Jt(i.equal(lt(0)),()=>lt(32));const a=lt(0),l=lt(0);return this._resolveElementType(i,a,t),Jt(a.shiftRight(16).equal(0),()=>{l.addAssign(16),a.shiftLeftAssign(16)}),Jt(a.shiftRight(24).equal(0),()=>{l.addAssign(8),a.shiftLeftAssign(8)}),Jt(a.shiftRight(28).equal(0),()=>{l.addAssign(4),a.shiftLeftAssign(4)}),Jt(a.shiftRight(30).equal(0),()=>{l.addAssign(2),a.shiftLeftAssign(2)}),Jt(a.shiftRight(31).equal(0),()=>{l.addAssign(1)}),r(l)}).setLayout({name:e,type:t,inputs:[{name:"value",type:t}]})}_createOneBitsBaseLayout(e,t){const r=this._returnDataNode(t);return Oe(([i])=>{const a=lt(0);this._resolveElementType(i,a,t),a.assign(a.sub(a.shiftRight(lt(1)).bitAnd(lt(1431655765)))),a.assign(a.bitAnd(lt(858993459)).add(a.shiftRight(lt(2)).bitAnd(lt(858993459))));const l=a.add(a.shiftRight(lt(4))).bitAnd(lt(252645135)).mul(lt(16843009)).shiftRight(lt(24));return r(l)}).setLayout({name:e,type:t,inputs:[{name:"value",type:t}]})}_createMainLayout(e,t,r,s){const i=this._returnDataNode(t);return Oe(([l])=>{if(r===1)return i(s(l));{const c=i(0),p=["x","y","z","w"];for(let d=0;d<r;d++){const h=p[d];c[h].assign(s(l[h]))}return c}}).setLayout({name:e,type:t,inputs:[{name:"value",type:t}]})}setup(e){const{method:t,aNode:r}=this,{renderer:s}=e;if(s.backend.isWebGPUBackend)return super.setup(e);const i=this.getInputType(e),a=e.getElementType(i),l=e.getTypeLength(i),c=`${t}_base_${a}`,p=`${t}_${i}`;let d=wg[c];if(d===void 0){switch(t){case da.COUNT_LEADING_ZEROS:{d=this._createLeadingZerosBaseLayout(c,a);break}case da.COUNT_TRAILING_ZEROS:{d=this._createTrailingZerosBaseLayout(c,a);break}case da.COUNT_ONE_BITS:{d=this._createOneBitsBaseLayout(c,a);break}}wg[c]=d}let h=wg[p];return h===void 0&&(h=this._createMainLayout(p,i,l,d),wg[p]=h),Oe(()=>h(r))()}}da.COUNT_TRAILING_ZEROS="countTrailingZeros";da.COUNT_LEADING_ZEROS="countLeadingZeros";da.COUNT_ONE_BITS="countOneBits";const IX=ft(da,da.COUNT_TRAILING_ZEROS).setParameterLength(1),MX=ft(da,da.COUNT_LEADING_ZEROS).setParameterLength(1),kX=ft(da,da.COUNT_ONE_BITS).setParameterLength(1),OX=Oe(([n])=>{const e=n.toUint().mul(747796405).add(2891336453),t=e.shiftRight(e.shiftRight(28).add(4)).bitXor(e).mul(277803737);return t.shiftRight(22).bitXor(t).toFloat().mul(1/2**32)}),lw=(n,e)=>Ka(an(4,n.mul(An(1,n))),e),LX=(n,e)=>n.lessThan(.5)?lw(n.mul(2),e).div(2):An(1,lw(an(An(1,n),2),e).div(2)),DX=(n,e,t)=>Ka(Jl(Ka(n,e),kr(Ka(n,e),Ka(An(1,n),t))),1/e),RX=(n,e)=>ei(kx.mul(e.mul(n).sub(1))).div(kx.mul(e.mul(n).sub(1)));class DE extends Sr{static get type(){return"PackFloatNode"}constructor(e,t){super(),this.vectorNode=t,this.encoding=e,this.isPackFloatNode=!0}getNodeType(){return"uint"}generate(e){const t=this.vectorNode.getNodeType(e);return`${e.getFloatPackingMethod(this.encoding)}(${this.vectorNode.build(e,t)})`}}const FX=ft(DE,"snorm").setParameterLength(1),BX=ft(DE,"unorm").setParameterLength(1),VX=ft(DE,"float16").setParameterLength(1);class RE extends Sr{static get type(){return"UnpackFloatNode"}constructor(e,t){super(),this.uintNode=t,this.encoding=e,this.isUnpackFloatNode=!0}getNodeType(){return"vec2"}generate(e){const t=this.uintNode.getNodeType(e);return`${e.getFloatUnpackingMethod(this.encoding)}(${this.uintNode.build(e,t)})`}}const jX=ft(RE,"snorm").setParameterLength(1),zX=ft(RE,"unorm").setParameterLength(1),UX=ft(RE,"float16").setParameterLength(1),Du=Oe(([n])=>n.fract().sub(.5).abs()).setLayout({name:"tri",type:"float",inputs:[{name:"x",type:"float"}]}),qX=Oe(([n])=>Ve(Du(n.z.add(Du(n.y.mul(1)))),Du(n.z.add(Du(n.x.mul(1)))),Du(n.y.add(Du(n.x.mul(1)))))).setLayout({name:"tri3",type:"vec3",inputs:[{name:"p",type:"vec3"}]}),$X=Oe(([n,e,t])=>{const r=Ve(n).toVar(),s=Ee(1.4).toVar(),i=Ee(0).toVar(),a=Ve(r).toVar();return Wn({start:Ee(0),end:Ee(3),type:"float",condition:"<="},()=>{const l=Ve(qX(a.mul(2))).toVar();r.addAssign(l.add(t.mul(Ee(.1).mul(e)))),a.mulAssign(1.8),s.mulAssign(1.5),r.mulAssign(1.2);const c=Ee(Du(r.z.add(Du(r.x.add(Du(r.y)))))).toVar();i.addAssign(c.div(s)),a.addAssign(.14)}),i}).setLayout({name:"triNoise3D",type:"float",inputs:[{name:"position",type:"vec3"},{name:"speed",type:"float"},{name:"time",type:"float"}]});class WX extends Bt{static get type(){return"FunctionOverloadingNode"}constructor(e=[],...t){super(),this.functionNodes=e,this.parametersNodes=t,this._candidateFn=null,this.global=!0}getNodeType(e){return this.getCandidateFn(e).shaderNode.layout.type}getCandidateFn(e){const t=this.parametersNodes;let r=this._candidateFn;if(r===null){let s=null,i=-1;for(const a of this.functionNodes){const c=a.shaderNode.layout;if(c===null)throw new Error("FunctionOverloadingNode: FunctionNode must be a layout.");const p=c.inputs;if(t.length===p.length){let d=0;for(let h=0;h<t.length;h++){const m=t[h],x=p[h];m.getNodeType(e)===x.type&&d++}d>i&&(s=a,i=d)}}this._candidateFn=r=s}return r}setup(e){return this.getCandidateFn(e)(...this.parametersNodes)}}const HX=dn(WX),ws=n=>(...e)=>HX(n,...e),Vf=Qt(0).setGroup(un).onRenderUpdate(n=>n.time),KX=Qt(0).setGroup(un).onRenderUpdate(n=>n.deltaTime),nF=Qt(0,"uint").setGroup(un).onRenderUpdate(n=>n.frameId),XX=(n=Vf)=>n.add(.75).mul(Math.PI*2).sin().mul(.5).add(.5),GX=(n=Vf)=>n.fract().round(),YX=(n=Vf)=>n.add(.5).fract().mul(2).sub(1).abs(),JX=(n=Vf)=>n.fract();function ZX(n,e=null){return tp(e,{getUV:typeof n=="function"?n:()=>n})}const QX=Oe(([n,e,t=wt(.5)])=>LE(n.sub(t),e).add(t)),eG=Oe(([n,e,t=wt(.5)])=>{const r=n.sub(t),s=r.dot(r),a=s.mul(s).mul(e);return n.add(r.mul(a))}),tG=Oe(({position:n=null,horizontal:e=!0,vertical:t=!1})=>{let r;n!==null?(r=Bu.toVar(),r[3][0]=n.x,r[3][1]=n.y,r[3][2]=n.z):r=Bu;const s=nu.mul(r);return xm(e)&&(s[0][0]=Bu[0].length(),s[0][1]=0,s[0][2]=0),xm(t)&&(s[1][0]=0,s[1][1]=Bu[1].length(),s[1][2]=0),s[2][0]=0,s[2][1]=0,s[2][2]=1,Fm.mul(s).mul(Cr)}),nG=Oe(([n=null])=>{const e=Dx();return Dx(CE(n)).sub(e).lessThan(0).select(od,n)}),rG=Oe(([n,e=Un(),t=Ee(0)])=>{const r=n.x,s=n.y,i=t.mod(r.mul(s)).floor(),a=i.mod(r),l=s.sub(i.add(1).div(r).ceil()),c=n.reciprocal(),p=wt(a,l);return e.add(p).mul(c)}),rF=Oe(([n,e=null,t=null,r=Ee(1),s=Cr,i=ki])=>{let a=i.abs().normalize();a=a.div(a.dot(Ve(1)));const l=s.yz.mul(r),c=s.zx.mul(r),p=s.xy.mul(r),d=n.value,h=e!==null?e.value:d,m=t!==null?t.value:d,x=or(d,l).mul(a.x),w=or(h,c).mul(a.y),A=or(m,p).mul(a.z);return kr(x,w,A)}),sG=(...n)=>rF(...n),$d=new Cq,kp=new qe,Wd=new qe,KS=new qe,vh=new zn,Eg=new qe(0,0,-1),zl=new Ss,Th=new qe,Pg=new qe,Sh=new Ss,Ag=new sr,Fx=new km,iG=od.flipX();Fx.depthTexture=new Ff(1,1);let Ng=!1;class FE extends Xu{static get type(){return"ReflectorNode"}constructor(e={}){super(e.defaultTexture||Fx.texture,iG),this._reflectorBaseNode=e.reflector||new aG(this,e),this._depthNode=null,this.setUpdateMatrix(!1)}get reflector(){return this._reflectorBaseNode}get target(){return this._reflectorBaseNode.target}getDepthNode(){if(this._depthNode===null){if(this._reflectorBaseNode.depth!==!0)throw new Error("THREE.ReflectorNode: Depth node can only be requested when the reflector is created with { depth: true }. ");this._depthNode=new FE({defaultTexture:Fx.depthTexture,reflector:this._reflectorBaseNode})}return this._depthNode}setup(e){return e.object.isQuadMesh||this._reflectorBaseNode.build(e),super.setup(e)}clone(){const e=new this.constructor(this.reflectorNode);return e.uvNode=this.uvNode,e.levelNode=this.levelNode,e.biasNode=this.biasNode,e.sampler=this.sampler,e.depthNode=this.depthNode,e.compareNode=this.compareNode,e.gradNode=this.gradNode,e.offsetNode=this.offsetNode,e._reflectorBaseNode=this._reflectorBaseNode,e}dispose(){super.dispose(),this._reflectorBaseNode.dispose()}}class aG extends Bt{static get type(){return"ReflectorBaseNode"}constructor(e,t={}){super();const{target:r=new Qo,resolutionScale:s=1,generateMipmaps:i=!1,bounces:a=!0,depth:l=!1,samples:c=0}=t;this.textureNode=e,this.target=r,this.resolutionScale=s,t.resolution!==void 0&&(Xa('ReflectorNode: The "resolution" parameter has been renamed to "resolutionScale".'),this.resolutionScale=t.resolution),this.generateMipmaps=i,this.bounces=a,this.depth=l,this.samples=c,this.updateBeforeType=a?Mn.RENDER:Mn.FRAME,this.virtualCameras=new WeakMap,this.renderTargets=new Map,this.forceUpdate=!1,this.hasOutput=!1}_updateResolution(e,t){const r=this.resolutionScale;t.getDrawingBufferSize(Ag),e.setSize(Math.round(Ag.width*r),Math.round(Ag.height*r))}setup(e){return this._updateResolution(Fx,e.renderer),super.setup(e)}dispose(){super.dispose();for(const e of this.renderTargets.values())e.dispose()}getVirtualCamera(e){let t=this.virtualCameras.get(e);return t===void 0&&(t=e.clone(),this.virtualCameras.set(e,t)),t}getRenderTarget(e){let t=this.renderTargets.get(e);return t===void 0&&(t=new km(0,0,{type:Fu,samples:this.samples}),this.generateMipmaps===!0&&(t.texture.minFilter=O7,t.texture.generateMipmaps=!0),this.depth===!0&&(t.depthTexture=new Ff),this.renderTargets.set(e,t)),t}updateBefore(e){if(this.bounces===!1&&Ng)return!1;Ng=!0;const{scene:t,camera:r,renderer:s,material:i}=e,{target:a}=this,l=this.getVirtualCamera(r),c=this.getRenderTarget(l);s.getDrawingBufferSize(Ag),this._updateResolution(c,s),Wd.setFromMatrixPosition(a.matrixWorld),KS.setFromMatrixPosition(r.matrixWorld),vh.extractRotation(a.matrixWorld),kp.set(0,0,1),kp.applyMatrix4(vh),Th.subVectors(Wd,KS);const p=Th.dot(kp)>0;let d=!1;if(p===!0&&this.forceUpdate===!1){if(this.hasOutput===!1){Ng=!1;return}d=!0}Th.reflect(kp).negate(),Th.add(Wd),vh.extractRotation(r.matrixWorld),Eg.set(0,0,-1),Eg.applyMatrix4(vh),Eg.add(KS),Pg.subVectors(Wd,Eg),Pg.reflect(kp).negate(),Pg.add(Wd),l.coordinateSystem=r.coordinateSystem,l.position.copy(Th),l.up.set(0,1,0),l.up.applyMatrix4(vh),l.up.reflect(kp),l.lookAt(Pg),l.near=r.near,l.far=r.far,l.updateMatrixWorld(),l.projectionMatrix.copy(r.projectionMatrix),$d.setFromNormalAndCoplanarPoint(kp,Wd),$d.applyMatrix4(l.matrixWorldInverse),zl.set($d.normal.x,$d.normal.y,$d.normal.z,$d.constant);const h=l.projectionMatrix;Sh.x=(Math.sign(zl.x)+h.elements[8])/h.elements[0],Sh.y=(Math.sign(zl.y)+h.elements[9])/h.elements[5],Sh.z=-1,Sh.w=(1+h.elements[10])/h.elements[14],zl.multiplyScalar(1/zl.dot(Sh));const m=0;h.elements[2]=zl.x,h.elements[6]=zl.y,h.elements[10]=s.coordinateSystem===Gc?zl.z-m:zl.z+1-m,h.elements[14]=zl.w,this.textureNode.value=c.texture,this.depth===!0&&(this.textureNode.getDepthNode().value=c.depthTexture),i.visible=!1;const x=s.getRenderTarget(),w=s.getMRT(),A=s.autoClear;s.setMRT(null),s.setRenderTarget(c),s.autoClear=!0;const P=t.name;t.name=(t.name||"Scene")+" [ Reflector ]",d?(s.clear(),this.hasOutput=!1):(s.render(t,l),this.hasOutput=!0),t.name=P,s.setMRT(w),s.setRenderTarget(x),s.autoClear=A,i.visible=!0,Ng=!1,this.forceUpdate=!1}get resolution(){return Xa('ReflectorNode: The "resolution" property has been renamed to "resolutionScale".'),this.resolutionScale}set resolution(e){Xa('ReflectorNode: The "resolution" property has been renamed to "resolutionScale".'),this.resolutionScale=e}}const oG=n=>new FE(n),XS=new Y3(-1,1,1,-1,0,1);class lG extends rd{constructor(e=!1){super();const t=e===!1?[0,-1,0,1,2,1]:[0,2,0,0,2,0];this.setAttribute("position",new ff([-1,3,0,-1,-1,0,3,-1,0],3)),this.setAttribute("uv",new ff(t,2))}}const uG=new lG;class sF extends Ix{constructor(e=null){super(uG,e),this.camera=XS,this.isQuadMesh=!0}async renderAsync(e){Xa('QuadMesh: "renderAsync()" has been deprecated. Use "render()" and "await renderer.init();" when creating the renderer.'),await e.init(),e.render(this,XS)}render(e){e.render(this,XS)}}const cG=new sr;class pG extends Xu{static get type(){return"RTTNode"}constructor(e,t=null,r=null,s={type:Fu}){const i=new km(t,r,s);super(i.texture,Un()),this.isRTTNode=!0,this.node=e,this.width=t,this.height=r,this.pixelRatio=1,this.renderTarget=i,this.textureNeedsUpdate=!0,this.autoUpdate=!0,this._rttNode=null,this._quadMesh=new sF(new Lf),this.updateBeforeType=Mn.RENDER}get autoResize(){return this.width===null}setup(e){return this._rttNode=this.node.context(e.getSharedContext()),this._quadMesh.material.name="RTT",this._quadMesh.material.needsUpdate=!0,super.setup(e)}setSize(e,t){this.width=e,this.height=t;const r=e*this.pixelRatio,s=t*this.pixelRatio;this.renderTarget.setSize(r,s),this.textureNeedsUpdate=!0}setPixelRatio(e){this.pixelRatio=e,this.setSize(this.width,this.height)}updateBefore({renderer:e}){if(this.textureNeedsUpdate===!1&&this.autoUpdate===!1)return;if(this.textureNeedsUpdate=!1,this.autoResize===!0){const s=e.getPixelRatio(),i=e.getSize(cG),a=Math.floor(i.width*s),l=Math.floor(i.height*s);(a!==this.renderTarget.width||l!==this.renderTarget.height)&&(this.renderTarget.setSize(a,l),this.textureNeedsUpdate=!0)}let t="RTT";this.node.name&&(t=this.node.name+" [ "+t+" ]"),this._quadMesh.material.fragmentNode=this._rttNode,this._quadMesh.name=t;const r=e.getRenderTarget();e.setRenderTarget(this.renderTarget),this._quadMesh.render(e),e.setRenderTarget(r)}clone(){const e=new Xu(this.value,this.uvNode,this.levelNode);return e.sampler=this.sampler,e.referenceNode=this,e}}const iF=(n,...e)=>new pG(Ft(n),...e),dG=(n,...e)=>n.isSampleNode||n.isTextureNode?n:n.isPassNode?n.getTextureNode():iF(n,...e),nf=Oe(([n,e,t],r)=>{let s;r.renderer.coordinateSystem===Gc?(n=wt(n.x,n.y.oneMinus()).mul(2).sub(1),s=ln(Ve(n,e),1)):s=ln(Ve(n.x,n.y.oneMinus(),e).mul(2).sub(1),1);const i=ln(t.mul(s));return i.xyz.div(i.w)}),fG=Oe(([n,e])=>{const t=e.mul(ln(n,1)),r=t.xy.div(t.w).mul(.5).add(.5).toVar();return wt(r.x,r.y.oneMinus())}),hG=Oe(([n,e,t])=>{const r=Wc(mr(e)),s=jr(n.mul(r)).toVar(),i=mr(e,s).toVar(),a=mr(e,s.sub(jr(2,0))).toVar(),l=mr(e,s.sub(jr(1,0))).toVar(),c=mr(e,s.add(jr(1,0))).toVar(),p=mr(e,s.add(jr(2,0))).toVar(),d=mr(e,s.add(jr(0,2))).toVar(),h=mr(e,s.add(jr(0,1))).toVar(),m=mr(e,s.sub(jr(0,1))).toVar(),x=mr(e,s.sub(jr(0,2))).toVar(),w=Gn(An(Ee(2).mul(l).sub(a),i)).toVar(),A=Gn(An(Ee(2).mul(c).sub(p),i)).toVar(),P=Gn(An(Ee(2).mul(h).sub(d),i)).toVar(),S=Gn(An(Ee(2).mul(m).sub(x),i)).toVar(),C=nf(n,i,t).toVar(),I=w.lessThan(A).select(C.sub(nf(n.sub(wt(Ee(1).div(r.x),0)),l,t)),C.negate().add(nf(n.add(wt(Ee(1).div(r.x),0)),c,t))),_=P.lessThan(S).select(C.sub(nf(n.add(wt(0,Ee(1).div(r.y))),h,t)),C.negate().add(nf(n.sub(wt(0,Ee(1).div(r.y))),m,t)));return Ya(Ku(I,_))}),BE=Oe(([n])=>nl(Ee(52.9829189).mul(nl(no(n,wt(.06711056,.00583715)))))).setLayout({name:"interleavedGradientNoise",type:"float",inputs:[{name:"position",type:"vec2"}]}),Yo=Oe(([n,e,t])=>{const r=Ee(2.399963229728653),s=si(Ee(n).add(.5).div(Ee(e))),i=Ee(n).mul(r).add(t);return wt(Ho(i),ei(i)).mul(s)}).setLayout({name:"vogelDiskSample",type:"vec2",inputs:[{name:"sampleIndex",type:"int"},{name:"samplesCount",type:"int"},{name:"phi",type:"float"}]});class mG extends Bt{static get type(){return"SampleNode"}constructor(e,t=null){super(),this.callback=e,this.uvNode=t,this.isSampleNode=!0}setup(){return this.sample(Un())}sample(e){return this.callback(e)}}const yG=(n,e=null)=>new mG(n,Ft(e));class Ci extends Bt{static get type(){return"EventNode"}constructor(e,t){super("void"),this.eventType=e,this.callback=t,e===Ci.OBJECT?this.updateType=Mn.OBJECT:e===Ci.MATERIAL?this.updateType=Mn.RENDER:e===Ci.BEFORE_OBJECT?this.updateBeforeType=Mn.OBJECT:e===Ci.BEFORE_MATERIAL&&(this.updateBeforeType=Mn.RENDER)}update(e){this.callback(e)}updateBefore(e){this.callback(e)}}Ci.OBJECT="object";Ci.MATERIAL="material";Ci.BEFORE_OBJECT="beforeObject";Ci.BEFORE_MATERIAL="beforeMaterial";const Tv=(n,e)=>new Ci(n,e).toStack(),gG=n=>Tv(Ci.OBJECT,n),xG=n=>Tv(Ci.MATERIAL,n),vG=n=>Tv(Ci.BEFORE_OBJECT,n),TG=n=>Tv(Ci.BEFORE_MATERIAL,n);class SG extends hf{constructor(e,t,r=Float32Array){const s=ArrayBuffer.isView(e)?e:new r(e*t);super(s,t),this.isStorageInstancedBufferAttribute=!0}}class bG extends Ga{constructor(e,t,r=Float32Array){const s=ArrayBuffer.isView(e)?e:new r(e*t);super(s,t),this.isStorageBufferAttribute=!0}}const wG=(n,e="float")=>{let t,r;e.isStruct===!0?(t=e.layout.getLength(),r=Mx("float")):(t=Z3(e),r=Mx(e));const s=new bG(n,t,r);return Hc(s,e,n)},EG=(n,e="float")=>{let t,r;e.isStruct===!0?(t=e.layout.getLength(),r=Mx("float")):(t=Z3(e),r=Mx(e));const s=new SG(n,t,r);return Hc(s,e,s.count)};class PG extends Bt{static get type(){return"PointUVNode"}constructor(){super("vec2"),this.isPointUVNode=!0}generate(){return"vec2( gl_PointCoord.x, 1.0 - gl_PointCoord.y )"}}const AG=Nt(PG),bh=new nd,GS=new zn,NG=Qt(0).setGroup(un).onRenderUpdate(({scene:n})=>n.backgroundBlurriness),_G=Qt(1).setGroup(un).onRenderUpdate(({scene:n})=>n.backgroundIntensity),CG=Qt(new zn).setGroup(un).onRenderUpdate(({scene:n})=>{const e=n.background;return e!==null&&e.isTexture&&e.mapping!==Cw?(bh.copy(n.backgroundRotation),bh.x*=-1,bh.y*=-1,bh.z*=-1,GS.makeRotationFromEuler(bh)):GS.identity(),GS});class IG extends Xu{static get type(){return"StorageTextureNode"}constructor(e,t,r=null){super(e,t),this.storeNode=r,this.mipLevel=0,this.isStorageTextureNode=!0,this.access=Wl.WRITE_ONLY}getInputType(){return"storageTexture"}setup(e){super.setup(e);const t=e.getNodeProperties(this);return t.storeNode=this.storeNode,t}setAccess(e){return this.access=e,this}setMipLevel(e){return this.mipLevel=e,this}generate(e,t){let r;return this.storeNode!==null?r=this.generateStore(e):r=super.generate(e,t),r}toReadWrite(){return this.setAccess(Wl.READ_WRITE)}toReadOnly(){return this.setAccess(Wl.READ_ONLY)}toWriteOnly(){return this.setAccess(Wl.WRITE_ONLY)}generateStore(e){const t=e.getNodeProperties(this),{uvNode:r,storeNode:s,depthNode:i}=t,a=super.generate(e,"property"),l=r.build(e,this.value.is3DTexture===!0?"uvec3":"uvec2"),c=s.build(e,"vec4"),p=i?i.build(e,"int"):null,d=e.generateTextureStore(e,a,l,p,c);e.addLineFlowCode(d,this)}clone(){const e=super.clone();return e.storeNode=this.storeNode,e.mipLevel=this.mipLevel,e.access=this.access,e}}const aF=dn(IG).setParameterLength(1,3),MG=(n,e,t)=>{let r;return n.isStorageTextureNode===!0?(r=n.clone(),r.uvNode=e,r.storeNode=t):r=aF(n,e,t),t!==null&&r.toStack(),r},kG=Oe(({texture:n,uv:e})=>{const r=Ve().toVar();return Jt(e.x.lessThan(1e-4),()=>{r.assign(Ve(1,0,0))}).ElseIf(e.y.lessThan(1e-4),()=>{r.assign(Ve(0,1,0))}).ElseIf(e.z.lessThan(1e-4),()=>{r.assign(Ve(0,0,1))}).ElseIf(e.x.greaterThan(1-1e-4),()=>{r.assign(Ve(-1,0,0))}).ElseIf(e.y.greaterThan(1-1e-4),()=>{r.assign(Ve(0,-1,0))}).ElseIf(e.z.greaterThan(1-1e-4),()=>{r.assign(Ve(0,0,-1))}).Else(()=>{const i=n.sample(e.add(Ve(-.01,0,0))).r.sub(n.sample(e.add(Ve(.01,0,0))).r),a=n.sample(e.add(Ve(0,-.01,0))).r.sub(n.sample(e.add(Ve(0,.01,0))).r),l=n.sample(e.add(Ve(0,0,-.01))).r.sub(n.sample(e.add(Ve(0,0,.01))).r);r.assign(Ve(i,a,l))}),r.normalize()});class OG extends Xu{static get type(){return"Texture3DNode"}constructor(e,t=null,r=null){super(e,t,r),this.isTexture3DNode=!0}getInputType(){return"texture3D"}getDefaultUV(){return Ve(.5,.5,.5)}setUpdateMatrix(){}generateUV(e,t){return t.build(e,this.sampler===!0?"vec3":"ivec3")}generateOffset(e,t){return t.build(e,"ivec3")}normal(e){return kG({texture:this,uv:e})}}const VE=dn(OG).setParameterLength(1,3),LG=(...n)=>VE(...n).setSampler(!1),DG=(n,e,t)=>VE(n,e).level(t);class RG extends dv{static get type(){return"UserDataNode"}constructor(e,t,r=null){super(e,t,r),this.userData=r}updateReference(e){return this.reference=this.userData!==null?this.userData:e.object.userData,this.reference}}const FG=(n,e,t)=>new RG(n,e,t),SC=new WeakMap;class BG extends Sr{static get type(){return"VelocityNode"}constructor(){super("vec2"),this.projectionMatrix=null,this.updateType=Mn.OBJECT,this.updateAfterType=Mn.OBJECT,this.previousModelWorldMatrix=Qt(new zn),this.previousProjectionMatrix=Qt(new zn).setGroup(un),this.previousCameraViewMatrix=Qt(new zn)}setProjectionMatrix(e){this.projectionMatrix=e}update({frameId:e,camera:t,object:r}){const s=bC(r);this.previousModelWorldMatrix.value.copy(s);const i=oF(t);i.frameId!==e&&(i.frameId=e,i.previousProjectionMatrix===void 0?(i.previousProjectionMatrix=new zn,i.previousCameraViewMatrix=new zn,i.currentProjectionMatrix=new zn,i.currentCameraViewMatrix=new zn,i.previousProjectionMatrix.copy(this.projectionMatrix||t.projectionMatrix),i.previousCameraViewMatrix.copy(t.matrixWorldInverse)):(i.previousProjectionMatrix.copy(i.currentProjectionMatrix),i.previousCameraViewMatrix.copy(i.currentCameraViewMatrix)),i.currentProjectionMatrix.copy(this.projectionMatrix||t.projectionMatrix),i.currentCameraViewMatrix.copy(t.matrixWorldInverse),this.previousProjectionMatrix.value.copy(i.previousProjectionMatrix),this.previousCameraViewMatrix.value.copy(i.previousCameraViewMatrix))}updateAfter({object:e}){bC(e).copy(e.matrixWorld)}setup(){const e=this.projectionMatrix===null?Fm:Qt(this.projectionMatrix),t=this.previousCameraViewMatrix.mul(this.previousModelWorldMatrix),r=e.mul(Bm).mul(Cr),s=this.previousProjectionMatrix.mul(t).mul(kf),i=r.xy.div(r.w),a=s.xy.div(s.w);return An(i,a)}}function oF(n){let e=SC.get(n);return e===void 0&&(e={},SC.set(n,e)),e}function bC(n,e=0){const t=oF(n);let r=t[e];return r===void 0&&(t[e]=r=new zn,t[e].copy(n.matrixWorld)),r}const VG=Nt(BG),jG=Oe(([n])=>jE(n.rgb)),zG=Oe(([n,e=Ee(1)])=>e.mix(jE(n.rgb),n.rgb)),UG=Oe(([n,e=Ee(1)])=>{const t=kr(n.r,n.g,n.b).div(3),r=n.r.max(n.g.max(n.b)),s=r.sub(t).mul(e).mul(-3);return nr(n.rgb,r,s)}),qG=Oe(([n,e=Ee(1)])=>{const t=Ve(.57735,.57735,.57735),r=e.cos();return Ve(n.rgb.mul(r).add(t.cross(n.rgb).mul(e.sin()).add(t.mul(no(t,n.rgb).mul(r.oneMinus())))))}),jE=(n,e=Ve(Nr.getLuminanceCoefficients(new qe)))=>no(n,e),$G=Oe(([n,e=Ve(1),t=Ve(0),r=Ve(1),s=Ee(1),i=Ve(Nr.getLuminanceCoefficients(new qe,Nx))])=>{const a=n.rgb.dot(Ve(i)),l=qr(n.rgb.mul(e).add(t),0).toVar(),c=l.pow(r).toVar();return Jt(l.r.greaterThan(0),()=>{l.r.assign(c.r)}),Jt(l.g.greaterThan(0),()=>{l.g.assign(c.g)}),Jt(l.b.greaterThan(0),()=>{l.b.assign(c.b)}),l.assign(a.add(l.sub(a).mul(s))),ln(l.rgb,n.a)}),WG=Oe(([n,e])=>n.mul(e).floor().div(e));let _g=null;class HG extends yv{static get type(){return"ViewportSharedTextureNode"}constructor(e=od,t=null){_g===null&&(_g=new X3),super(e,t,_g)}getTextureForReference(){return _g}updateReference(){return this}}const KG=dn(HG).setParameterLength(0,2),Cg=new sr;class lF extends Xu{static get type(){return"PassTextureNode"}constructor(e,t){super(t),this.passNode=e,this.isPassTextureNode=!0,this.setUpdateMatrix(!1)}setup(e){const t=e.getNodeProperties(this);return t.passNode=this.passNode,super.setup(e)}clone(){return new this.constructor(this.passNode,this.value)}}class wC extends lF{static get type(){return"PassMultipleTextureNode"}constructor(e,t,r=!1){super(e,null),this.textureName=t,this.previousTexture=r,this.isPassMultipleTextureNode=!0}updateTexture(){this.value=this.previousTexture?this.passNode.getPreviousTexture(this.textureName):this.passNode.getTexture(this.textureName)}setup(e){return this.updateTexture(),super.setup(e)}clone(){const e=new this.constructor(this.passNode,this.textureName,this.previousTexture);return e.uvNode=this.uvNode,e.levelNode=this.levelNode,e.biasNode=this.biasNode,e.sampler=this.sampler,e.depthNode=this.depthNode,e.compareNode=this.compareNode,e.gradNode=this.gradNode,e.offsetNode=this.offsetNode,e}}class Ql extends Sr{static get type(){return"PassNode"}constructor(e,t,r,s={}){super("vec4"),this.scope=e,this.scene=t,this.camera=r,this.options=s,this._pixelRatio=1,this._width=1,this._height=1;const i=new Ff;i.isRenderTargetTexture=!0,i.name="depth";const a=new km(this._width*this._pixelRatio,this._height*this._pixelRatio,{type:Fu,...s});a.texture.name="output",a.depthTexture=i,this.renderTarget=a,this.overrideMaterial=null,this.transparent=!0,this.opaque=!0,this.contextNode=null,this._contextNodeCache=null,this._textures={output:a.texture,depth:i},this._textureNodes={},this._linearDepthNodes={},this._viewZNodes={},this._previousTextures={},this._previousTextureNodes={},this._cameraNear=Qt(0),this._cameraFar=Qt(0),this._mrt=null,this._layers=null,this._resolutionScale=1,this._viewport=null,this._scissor=null,this.isPassNode=!0,this.updateBeforeType=Mn.FRAME,this.global=!0}setResolutionScale(e){return this._resolutionScale=e,this}getResolutionScale(){return this._resolutionScale}setResolution(e){return on("PassNode: .setResolution() is deprecated. Use .setResolutionScale() instead."),this.setResolutionScale(e)}getResolution(){return on("PassNode: .getResolution() is deprecated. Use .getResolutionScale() instead."),this.getResolutionScale()}setLayers(e){return this._layers=e,this}getLayers(){return this._layers}setMRT(e){return this._mrt=e,this}getMRT(){return this._mrt}getTexture(e){let t=this._textures[e];return t===void 0&&(t=this.renderTarget.texture.clone(),t.name=e,this._textures[e]=t,this.renderTarget.textures.push(t)),t}getPreviousTexture(e){let t=this._previousTextures[e];return t===void 0&&(t=this.getTexture(e).clone(),this._previousTextures[e]=t),t}toggleTexture(e){const t=this._previousTextures[e];if(t!==void 0){const r=this._textures[e],s=this.renderTarget.textures.indexOf(r);this.renderTarget.textures[s]=t,this._textures[e]=t,this._previousTextures[e]=r,this._textureNodes[e].updateTexture(),this._previousTextureNodes[e].updateTexture()}}getTextureNode(e="output"){let t=this._textureNodes[e];return t===void 0&&(t=new wC(this,e),t.updateTexture(),this._textureNodes[e]=t),t}getPreviousTextureNode(e="output"){let t=this._previousTextureNodes[e];return t===void 0&&(this._textureNodes[e]===void 0&&this.getTextureNode(e),t=new wC(this,e,!0),t.updateTexture(),this._previousTextureNodes[e]=t),t}getViewZNode(e="depth"){let t=this._viewZNodes[e];if(t===void 0){const r=this._cameraNear,s=this._cameraFar;this._viewZNodes[e]=t=ME(this.getTextureNode(e),r,s)}return t}getLinearDepthNode(e="depth"){let t=this._linearDepthNodes[e];if(t===void 0){const r=this._cameraNear,s=this._cameraFar,i=this.getViewZNode(e);this._linearDepthNodes[e]=t=xf(i,r,s)}return t}async compileAsync(e){const t=e.getRenderTarget(),r=e.getMRT();e.setRenderTarget(this.renderTarget),e.setMRT(this._mrt),await e.compileAsync(this.scene,this.camera),e.setRenderTarget(t),e.setMRT(r)}setup({renderer:e}){return this.renderTarget.samples=this.options.samples===void 0?e.samples:this.options.samples,this.renderTarget.texture.type=e.getOutputBufferType(),this.scope===Ql.COLOR?this.getTextureNode():this.getLinearDepthNode()}updateBefore(e){const{renderer:t}=e,{scene:r}=this;let s,i;const a=t.getOutputRenderTarget();a&&a.isXRRenderTarget===!0?(i=1,s=t.xr.getCamera(),t.xr.updateCamera(s),Cg.set(a.width,a.height)):(s=this.camera,i=t.getPixelRatio(),t.getSize(Cg)),this._pixelRatio=i,this.setSize(Cg.width,Cg.height);const l=t.getRenderTarget(),c=t.getMRT(),p=t.autoClear,d=t.transparent,h=t.opaque,m=s.layers.mask,x=t.contextNode,w=r.overrideMaterial;this._cameraNear.value=s.near,this._cameraFar.value=s.far,this._layers!==null&&(s.layers.mask=this._layers.mask);for(const P in this._previousTextures)this.toggleTexture(P);this.overrideMaterial!==null&&(r.overrideMaterial=this.overrideMaterial),t.setRenderTarget(this.renderTarget),t.setMRT(this._mrt),t.autoClear=!0,t.transparent=this.transparent,t.opaque=this.opaque,this.contextNode!==null&&((this._contextNodeCache===null||this._contextNodeCache.version!==this.version)&&(this._contextNodeCache={version:this.version,context:tp({...t.contextNode.getFlowContextData(),...this.contextNode.getFlowContextData()})}),t.contextNode=this._contextNodeCache.context);const A=r.name;r.name=this.name?this.name:r.name,t.render(r,s),r.name=A,r.overrideMaterial=w,t.setRenderTarget(l),t.setMRT(c),t.autoClear=p,t.transparent=d,t.opaque=h,t.contextNode=x,s.layers.mask=m}setSize(e,t){this._width=e,this._height=t;const r=Math.floor(this._width*this._pixelRatio*this._resolutionScale),s=Math.floor(this._height*this._pixelRatio*this._resolutionScale);this.renderTarget.setSize(r,s),this._scissor!==null&&this.renderTarget.scissor.copy(this._scissor),this._viewport!==null&&this.renderTarget.viewport.copy(this._viewport)}setScissor(e,t,r,s){e===null?this._scissor=null:(this._scissor===null&&(this._scissor=new Ss),e.isVector4?this._scissor.copy(e):this._scissor.set(e,t,r,s),this._scissor.multiplyScalar(this._pixelRatio*this._resolutionScale).floor())}setViewport(e,t,r,s){e===null?this._viewport=null:(this._viewport===null&&(this._viewport=new Ss),e.isVector4?this._viewport.copy(e):this._viewport.set(e,t,r,s),this._viewport.multiplyScalar(this._pixelRatio*this._resolutionScale).floor())}setPixelRatio(e){this._pixelRatio=e,this.setSize(this._width,this._height)}dispose(){this.renderTarget.dispose()}}Ql.COLOR="color";Ql.DEPTH="depth";const XG=(n,e,t)=>new Ql(Ql.COLOR,n,e,t),GG=(n,e)=>new lF(n,e),YG=(n,e,t)=>new Ql(Ql.DEPTH,n,e,t);class JG extends Ql{static get type(){return"ToonOutlinePassNode"}constructor(e,t,r,s,i){super(Ql.COLOR,e,t),this.colorNode=r,this.thicknessNode=s,this.alphaNode=i,this._materialCache=new WeakMap,this.name="Outline Pass"}updateBefore(e){const{renderer:t}=e,r=t.getRenderObjectFunction();t.setRenderObjectFunction((s,i,a,l,c,p,d,h)=>{if((c.isMeshToonMaterial||c.isMeshToonNodeMaterial)&&c.wireframe===!1){const m=this._getOutlineMaterial(c);t.renderObject(s,i,a,l,m,p,d,h)}t.renderObject(s,i,a,l,c,p,d,h)}),super.updateBefore(e),t.setRenderObjectFunction(r)}_createMaterial(){const e=new Lf;e.isMeshToonOutlineMaterial=!0,e.name="Toon_Outline",e.side=Mm;const t=ki.negate(),r=Fm.mul(Bm),s=Ee(1),i=r.mul(ln(Cr,1)),a=r.mul(ln(Cr.add(t),1)),l=Ya(i.sub(a));return e.vertexNode=i.add(l.mul(this.thicknessNode).mul(i.w).mul(s)),e.colorNode=ln(this.colorNode,this.alphaNode),e}_getOutlineMaterial(e){let t=this._materialCache.get(e);return t===void 0&&(t=this._createMaterial(),this._materialCache.set(e,t)),t}}const ZG=(n,e,t=new xt(0,0,0),r=.003,s=1)=>new JG(n,e,Ft(t),Ft(r),Ft(s)),QG=Oe(([n,e])=>n.mul(e).clamp()).setLayout({name:"linearToneMapping",type:"vec3",inputs:[{name:"color",type:"vec3"},{name:"exposure",type:"float"}]}),eY=Oe(([n,e])=>(n=n.mul(e),n.div(n.add(1)).clamp())).setLayout({name:"reinhardToneMapping",type:"vec3",inputs:[{name:"color",type:"vec3"},{name:"exposure",type:"float"}]}),tY=Oe(([n,e])=>{n=n.mul(e),n=n.sub(.004).max(0);const t=n.mul(n.mul(6.2).add(.5)),r=n.mul(n.mul(6.2).add(1.7)).add(.06);return t.div(r).pow(2.2)}).setLayout({name:"cineonToneMapping",type:"vec3",inputs:[{name:"color",type:"vec3"},{name:"exposure",type:"float"}]}),nY=Oe(([n])=>{const e=n.mul(n.add(.0245786)).sub(90537e-9),t=n.mul(n.add(.432951).mul(.983729)).add(.238081);return e.div(t)}),rY=Oe(([n,e])=>{const t=ya(.59719,.35458,.04823,.076,.90834,.01566,.0284,.13383,.83777),r=ya(1.60475,-.53108,-.07367,-.10208,1.10813,-.00605,-.00327,-.07276,1.07602);return n=n.mul(e).div(.6),n=t.mul(n),n=nY(n),n=r.mul(n),n.clamp()}).setLayout({name:"acesFilmicToneMapping",type:"vec3",inputs:[{name:"color",type:"vec3"},{name:"exposure",type:"float"}]}),sY=ya(Ve(1.6605,-.1246,-.0182),Ve(-.5876,1.1329,-.1006),Ve(-.0728,-.0083,1.1187)),iY=ya(Ve(.6274,.0691,.0164),Ve(.3293,.9195,.088),Ve(.0433,.0113,.8956)),aY=Oe(([n])=>{const e=Ve(n).toVar(),t=Ve(e.mul(e)).toVar(),r=Ve(t.mul(t)).toVar();return Ee(15.5).mul(r.mul(t)).sub(an(40.14,r.mul(e))).add(an(31.96,r).sub(an(6.868,t.mul(e))).add(an(.4298,t).add(an(.1191,e).sub(.00232))))}),oY=Oe(([n,e])=>{const t=Ve(n).toVar(),r=ya(Ve(.856627153315983,.137318972929847,.11189821299995),Ve(.0951212405381588,.761241990602591,.0767994186031903),Ve(.0482516061458583,.101439036467562,.811302368396859)),s=ya(Ve(1.1271005818144368,-.1413297634984383,-.14132976349843826),Ve(-.11060664309660323,1.157823702216272,-.11060664309660294),Ve(-.016493938717834573,-.016493938717834257,1.2519364065950405)),i=Ee(-12.47393),a=Ee(4.026069);return t.mulAssign(e),t.assign(iY.mul(t)),t.assign(r.mul(t)),t.assign(qr(t,1e-10)),t.assign(qu(t)),t.assign(t.sub(i).div(a.sub(i))),t.assign(Zl(t,0,1)),t.assign(aY(t)),t.assign(s.mul(t)),t.assign(Ka(qr(Ve(0),t),Ve(2.2))),t.assign(sY.mul(t)),t.assign(Zl(t,0,1)),t}).setLayout({name:"agxToneMapping",type:"vec3",inputs:[{name:"color",type:"vec3"},{name:"exposure",type:"float"}]}),lY=Oe(([n,e])=>{const t=Ee(.76),r=Ee(.15);n=n.mul(e);const s=to(n.r,to(n.g,n.b)),i=zs(s.lessThan(.08),s.sub(an(6.25,s.mul(s))),.04);n.subAssign(i);const a=qr(n.r,qr(n.g,n.b));Jt(a.lessThan(t),()=>n);const l=An(1,t),c=An(1,l.mul(l).div(a.add(l.sub(t))));n.mulAssign(c.div(a));const p=An(1,Jl(1,r.mul(a.sub(c)).add(1)));return nr(n,Ve(c),p)}).setLayout({name:"neutralToneMapping",type:"vec3",inputs:[{name:"color",type:"vec3"},{name:"exposure",type:"float"}]});class cs extends Bt{static get type(){return"CodeNode"}constructor(e="",t=[],r=""){super("code"),this.isCodeNode=!0,this.global=!0,this.code=e,this.includes=t,this.language=r}setIncludes(e){return this.includes=e,this}getIncludes(){return this.includes}generate(e){const t=this.getIncludes(e);for(const s of t)s.build(e);const r=e.getCodeFromNode(this,this.getNodeType(e));return r.code=this.code,r.code}serialize(e){super.serialize(e),e.code=this.code,e.language=this.language}deserialize(e){super.deserialize(e),this.code=e.code,this.language=e.language}}const Sv=dn(cs).setParameterLength(1,3),uY=(n,e)=>Sv(n,e,"js"),cY=(n,e)=>Sv(n,e,"wgsl"),pY=(n,e)=>Sv(n,e,"glsl");class dY extends cs{static get type(){return"FunctionNode"}constructor(e="",t=[],r=""){super(e,t,r)}getNodeType(e){return this.getNodeFunction(e).type}getMemberType(e,t){const r=this.getNodeType(e);return e.getStructTypeNode(r).getMemberType(e,t)}getInputs(e){return this.getNodeFunction(e).inputs}getNodeFunction(e){const t=e.getDataFromNode(this);let r=t.nodeFunction;return r===void 0&&(r=e.parser.parseFunction(this.code),t.nodeFunction=r),r}generate(e,t){super.generate(e);const r=this.getNodeFunction(e),s=r.name,i=r.type,a=e.getCodeFromNode(this,i);s!==""&&(a.name=s);const l=e.getPropertyName(a),c=this.getNodeFunction(e).getCode(l);return a.code=c+`
`,t==="property"?l:e.format(`${l}()`,i,t)}}const uF=(n,e=[],t="")=>{for(let i=0;i<e.length;i++){const a=e[i];typeof a=="function"&&(e[i]=a.functionNode)}const r=new dY(n,e,t),s=(...i)=>r.call(...i);return s.functionNode=r,s},fY=(n,e)=>uF(n,e,"glsl"),hY=(n,e)=>uF(n,e,"wgsl");function zE(n){let e;const t=n.context.getViewZ;return t!==void 0&&(e=t(this)),(e||Gr.z).negate()}const mY=Oe(([n,e],t)=>{const r=zE(t);return Jc(n,e,r)}),yY=Oe(([n],e)=>{const t=zE(e);return n.mul(n,t,t).negate().exp().oneMinus()}),gY=Oe(([n,e],t)=>{const r=zE(t),i=e.sub(Xp.y).max(0).toConst().mul(r).toConst();return n.mul(n,i,i).negate().exp().oneMinus()}),xY=Oe(([n,e])=>ln(e.toFloat().mix(yf.rgb,n.toVec3()),yf.a));let Op=null,Lp=null;class vY extends Bt{static get type(){return"RangeNode"}constructor(e=Ee(),t=Ee()){super(),this.minNode=e,this.maxNode=t}getVectorLength(e){const t=this.getConstNode(this.minNode),r=this.getConstNode(this.maxNode),s=e.getTypeLength(zc(t.value)),i=e.getTypeLength(zc(r.value));return s>i?s:i}getNodeType(e){return e.object.count>1?e.getTypeFromLength(this.getVectorLength(e)):"float"}getConstNode(e){let t=null;if(e.traverse(r=>{r.isConstNode===!0&&(t=r)}),t===null)throw new jD('THREE.TSL: No "ConstNode" found in node graph.',this.stackTrace);return t}setup(e){const t=e.object;let r=null;if(t.count>1){const s=this.getConstNode(this.minNode),i=this.getConstNode(this.maxNode),a=s.value,l=i.value,c=e.getTypeLength(zc(a)),p=e.getTypeLength(zc(l));Op=Op||new Ss,Lp=Lp||new Ss,Op.setScalar(0),Lp.setScalar(0),c===1?Op.setScalar(a):a.isColor?Op.set(a.r,a.g,a.b,1):Op.set(a.x,a.y,a.z||0,a.w||0),p===1?Lp.setScalar(l):l.isColor?Lp.set(l.r,l.g,l.b,1):Lp.set(l.x,l.y,l.z||0,l.w||0);const d=4,h=d*t.count,m=new Float32Array(h);for(let A=0;A<h;A++){const P=A%d,S=Op.getComponent(P),C=Lp.getComponent(P);m[A]=$3.lerp(S,C,Math.random())}const x=this.getNodeType(e);if(t.count*4*4<=e.getUniformBufferLimit())r=Rm(m,"vec4",t.count).element(Xl).convert(x);else{const A=new hf(m,4);e.geometry.setAttribute("__range"+this.id,A),r=Lx(A).convert(x)}}else r=Ee(0);return r}}const TY=dn(vY).setParameterLength(2);class SY extends Bt{static get type(){return"ComputeBuiltinNode"}constructor(e,t){super(t),this._builtinName=e}getHash(e){return this.getBuiltinName(e)}getNodeType(){return this.nodeType}setBuiltinName(e){return this._builtinName=e,this}getBuiltinName(){return this._builtinName}hasBuiltin(e){return e.hasBuiltin(this._builtinName)}generate(e,t){const r=this.getBuiltinName(e),s=this.getNodeType(e);return e.shaderStage==="compute"?e.format(r,s,t):(on(`ComputeBuiltinNode: Compute built-in value ${r} can not be accessed in the ${e.shaderStage} stage`),e.generateConst(s))}serialize(e){super.serialize(e),e.global=this.global,e._builtinName=this._builtinName}deserialize(e){super.deserialize(e),this.global=e.global,this._builtinName=e._builtinName}}const zm=(n,e)=>new SY(n,e),bY=zm("numWorkgroups","uvec3"),wY=zm("workgroupId","uvec3"),EY=zm("globalId","uvec3"),PY=zm("localId","uvec3"),AY=zm("subgroupSize","uint");class NY extends Bt{constructor(e){super(),this.scope=e}generate(e){const{scope:t}=this,{renderer:r}=e;r.backend.isWebGLBackend===!0?e.addFlowCode(`	// ${t}Barrier 
`):e.addLineFlowCode(`${t}Barrier()`,this)}}const UE=dn(NY),_Y=()=>UE("workgroup").toStack(),CY=()=>UE("storage").toStack(),IY=()=>UE("texture").toStack();class MY extends sd{constructor(e,t){super(e,t),this.isWorkgroupInfoElementNode=!0}generate(e,t){let r;const s=e.context.assign;if(r=super.generate(e),s!==!0){const i=this.getNodeType(e);r=e.format(r,i,t)}return r}}class kY extends Bt{constructor(e,t,r=0){super(t),this.bufferType=t,this.bufferCount=r,this.isWorkgroupInfoNode=!0,this.elementType=t,this.scope=e,this.name=""}setName(e){return this.name=e,this}label(e){return on('TSL: "label()" has been deprecated. Use "setName()" instead.',new Mr),this.setName(e)}setScope(e){return this.scope=e,this}getElementType(){return this.elementType}getInputType(){return`${this.scope}Array`}element(e){return new MY(this,e)}generate(e){const t=this.name!==""?this.name:`${this.scope}Array_${this.id}`;return e.getScopedArray(t,this.scope.toLowerCase(),this.bufferType,this.bufferCount)}}const OY=(n,e)=>new kY("Workgroup",n,e);class Yr extends Bt{static get type(){return"AtomicFunctionNode"}constructor(e,t,r){super("uint"),this.method=e,this.pointerNode=t,this.valueNode=r,this.parents=!0}getInputType(e){return this.pointerNode.getNodeType(e)}getNodeType(e){return this.getInputType(e)}generate(e){const t=e.getNodeProperties(this),r=t.parents,s=this.method,i=this.getNodeType(e),a=this.getInputType(e),l=this.pointerNode,c=this.valueNode,p=[];p.push(`&${l.build(e,a)}`),c!==null&&p.push(c.build(e,a));const d=`${e.getMethod(s,i)}( ${p.join(", ")} )`;if(r?r.length===1&&r[0].isStackNode===!0:!1)e.addLineFlowCode(d,this);else return t.constNode===void 0&&(t.constNode=el(d,i).toConst()),t.constNode.build(e)}}Yr.ATOMIC_LOAD="atomicLoad";Yr.ATOMIC_STORE="atomicStore";Yr.ATOMIC_ADD="atomicAdd";Yr.ATOMIC_SUB="atomicSub";Yr.ATOMIC_MAX="atomicMax";Yr.ATOMIC_MIN="atomicMin";Yr.ATOMIC_AND="atomicAnd";Yr.ATOMIC_OR="atomicOr";Yr.ATOMIC_XOR="atomicXor";const LY=dn(Yr),ru=(n,e,t)=>LY(n,e,t).toStack(),DY=n=>ru(Yr.ATOMIC_LOAD,n,null),RY=(n,e)=>ru(Yr.ATOMIC_STORE,n,e),FY=(n,e)=>ru(Yr.ATOMIC_ADD,n,e),BY=(n,e)=>ru(Yr.ATOMIC_SUB,n,e),VY=(n,e)=>ru(Yr.ATOMIC_MAX,n,e),jY=(n,e)=>ru(Yr.ATOMIC_MIN,n,e),zY=(n,e)=>ru(Yr.ATOMIC_AND,n,e),UY=(n,e)=>ru(Yr.ATOMIC_OR,n,e),qY=(n,e)=>ru(Yr.ATOMIC_XOR,n,e);class Ct extends Sr{static get type(){return"SubgroupFunctionNode"}constructor(e,t=null,r=null){super(),this.method=e,this.aNode=t,this.bNode=r}getInputType(e){const t=this.aNode?this.aNode.getNodeType(e):null,r=this.bNode?this.bNode.getNodeType(e):null,s=e.isMatrix(t)?0:e.getTypeLength(t),i=e.isMatrix(r)?0:e.getTypeLength(r);return s>i?t:r}getNodeType(e){const t=this.method;return t===Ct.SUBGROUP_ELECT?"bool":t===Ct.SUBGROUP_BALLOT?"uvec4":this.getInputType(e)}generate(e,t){const r=this.method,s=this.getNodeType(e),i=this.getInputType(e),a=this.aNode,l=this.bNode,c=[];if(r===Ct.SUBGROUP_BROADCAST||r===Ct.SUBGROUP_SHUFFLE||r===Ct.QUAD_BROADCAST){const d=l.getNodeType(e);c.push(a.build(e,s),l.build(e,d==="float"?"int":s))}else r===Ct.SUBGROUP_SHUFFLE_XOR||r===Ct.SUBGROUP_SHUFFLE_DOWN||r===Ct.SUBGROUP_SHUFFLE_UP?c.push(a.build(e,s),l.build(e,"uint")):(a!==null&&c.push(a.build(e,i)),l!==null&&c.push(l.build(e,i)));const p=c.length===0?"()":`( ${c.join(", ")} )`;return e.format(`${e.getMethod(r,s)}${p}`,s,t)}serialize(e){super.serialize(e),e.method=this.method}deserialize(e){super.deserialize(e),this.method=e.method}}Ct.SUBGROUP_ELECT="subgroupElect";Ct.SUBGROUP_BALLOT="subgroupBallot";Ct.SUBGROUP_ADD="subgroupAdd";Ct.SUBGROUP_INCLUSIVE_ADD="subgroupInclusiveAdd";Ct.SUBGROUP_EXCLUSIVE_AND="subgroupExclusiveAdd";Ct.SUBGROUP_MUL="subgroupMul";Ct.SUBGROUP_INCLUSIVE_MUL="subgroupInclusiveMul";Ct.SUBGROUP_EXCLUSIVE_MUL="subgroupExclusiveMul";Ct.SUBGROUP_AND="subgroupAnd";Ct.SUBGROUP_OR="subgroupOr";Ct.SUBGROUP_XOR="subgroupXor";Ct.SUBGROUP_MIN="subgroupMin";Ct.SUBGROUP_MAX="subgroupMax";Ct.SUBGROUP_ALL="subgroupAll";Ct.SUBGROUP_ANY="subgroupAny";Ct.SUBGROUP_BROADCAST_FIRST="subgroupBroadcastFirst";Ct.QUAD_SWAP_X="quadSwapX";Ct.QUAD_SWAP_Y="quadSwapY";Ct.QUAD_SWAP_DIAGONAL="quadSwapDiagonal";Ct.SUBGROUP_BROADCAST="subgroupBroadcast";Ct.SUBGROUP_SHUFFLE="subgroupShuffle";Ct.SUBGROUP_SHUFFLE_XOR="subgroupShuffleXor";Ct.SUBGROUP_SHUFFLE_UP="subgroupShuffleUp";Ct.SUBGROUP_SHUFFLE_DOWN="subgroupShuffleDown";Ct.QUAD_BROADCAST="quadBroadcast";const $Y=ft(Ct,Ct.SUBGROUP_ELECT).setParameterLength(0),WY=ft(Ct,Ct.SUBGROUP_BALLOT).setParameterLength(1),HY=ft(Ct,Ct.SUBGROUP_ADD).setParameterLength(1),KY=ft(Ct,Ct.SUBGROUP_INCLUSIVE_ADD).setParameterLength(1),XY=ft(Ct,Ct.SUBGROUP_EXCLUSIVE_AND).setParameterLength(1),GY=ft(Ct,Ct.SUBGROUP_MUL).setParameterLength(1),YY=ft(Ct,Ct.SUBGROUP_INCLUSIVE_MUL).setParameterLength(1),JY=ft(Ct,Ct.SUBGROUP_EXCLUSIVE_MUL).setParameterLength(1),ZY=ft(Ct,Ct.SUBGROUP_AND).setParameterLength(1),QY=ft(Ct,Ct.SUBGROUP_OR).setParameterLength(1),eJ=ft(Ct,Ct.SUBGROUP_XOR).setParameterLength(1),tJ=ft(Ct,Ct.SUBGROUP_MIN).setParameterLength(1),nJ=ft(Ct,Ct.SUBGROUP_MAX).setParameterLength(1),rJ=ft(Ct,Ct.SUBGROUP_ALL).setParameterLength(0),sJ=ft(Ct,Ct.SUBGROUP_ANY).setParameterLength(0),iJ=ft(Ct,Ct.SUBGROUP_BROADCAST_FIRST).setParameterLength(2),aJ=ft(Ct,Ct.QUAD_SWAP_X).setParameterLength(1),oJ=ft(Ct,Ct.QUAD_SWAP_Y).setParameterLength(1),lJ=ft(Ct,Ct.QUAD_SWAP_DIAGONAL).setParameterLength(1),uJ=ft(Ct,Ct.SUBGROUP_BROADCAST).setParameterLength(2),cJ=ft(Ct,Ct.SUBGROUP_SHUFFLE).setParameterLength(2),pJ=ft(Ct,Ct.SUBGROUP_SHUFFLE_XOR).setParameterLength(2),dJ=ft(Ct,Ct.SUBGROUP_SHUFFLE_UP).setParameterLength(2),fJ=ft(Ct,Ct.SUBGROUP_SHUFFLE_DOWN).setParameterLength(2),hJ=ft(Ct,Ct.QUAD_BROADCAST).setParameterLength(1);let Ig;function bv(n){Ig=Ig||new WeakMap;let e=Ig.get(n);return e===void 0&&Ig.set(n,e={}),e}function qE(n){const e=bv(n);return e.shadowMatrix||(e.shadowMatrix=Qt("mat4").setGroup(un).onRenderUpdate(t=>((n.castShadow!==!0||t.renderer.shadowMap.enabled===!1)&&(n.shadow.camera.coordinateSystem!==t.camera.coordinateSystem&&(n.shadow.camera.coordinateSystem=t.camera.coordinateSystem,n.shadow.camera.updateProjectionMatrix()),n.shadow.updateMatrices(n)),n.shadow.matrix)))}function mJ(n,e=Xp){const t=qE(n).mul(e);return t.xyz.div(t.w)}function cF(n){const e=bv(n);return e.position||(e.position=Qt(new qe).setGroup(un).onRenderUpdate((t,r)=>r.value.setFromMatrixPosition(n.matrixWorld)))}function pF(n){const e=bv(n);return e.targetPosition||(e.targetPosition=Qt(new qe).setGroup(un).onRenderUpdate((t,r)=>r.value.setFromMatrixPosition(n.target.matrixWorld)))}function yJ(n){const e=bv(n);return e.viewPosition||(e.viewPosition=Qt(new qe).setGroup(un).onRenderUpdate(({camera:t},r)=>{r.value=r.value||new qe,r.value.setFromMatrixPosition(n.matrixWorld),r.value.applyMatrix4(t.matrixWorldInverse)}))}const gJ=n=>nu.transformDirection(cF(n).sub(pF(n))),xJ=n=>n.sort((e,t)=>e.id-t.id),vJ=(n,e)=>{for(const t of e)if(t.isAnalyticLightNode&&t.light.id===n)return t;return null},YS=new WeakMap,wh=[];class TJ extends Bt{static get type(){return"LightsNode"}constructor(){super("vec3"),this.totalDiffuseNode=Uu("vec3","totalDiffuse"),this.totalSpecularNode=Uu("vec3","totalSpecular"),this.outgoingLightNode=Uu("vec3","outgoingLight"),this._lights=[],this._lightNodes=null,this._lightNodesHash=null,this.global=!0}customCacheKey(){const e=this._lights;for(let r=0;r<e.length;r++){const s=e[r];if(wh.push(s.id),wh.push(s.castShadow?1:0),s.isSpotLight===!0){const i=s.map!==null?s.map.id:-1,a=s.colorNode?s.colorNode.getCacheKey():-1;wh.push(i,a)}}const t=Vw(wh);return wh.length=0,t}getHash(e){if(this._lightNodesHash===null){this._lightNodes===null&&this.setupLightsNode(e);const t=[];for(const r of this._lightNodes)t.push(r.getHash());this._lightNodesHash="lights-"+t.join(",")}return this._lightNodesHash}analyze(e){const t=e.getNodeProperties(this);for(const r of t.nodes)r.build(e);t.outputNode.build(e)}setupLightsNode(e){const t=[],r=this._lightNodes,s=xJ(this._lights),i=e.renderer.library;for(const a of s)if(a.isNode)t.push(Ft(a));else{let l=null;if(r!==null&&(l=vJ(a.id,r)),l===null){const c=i.getLightNodeClass(a.constructor);if(c===null){on(`LightsNode.setupNodeLights: Light node not found for ${a.constructor.name}`);continue}let p=null;YS.has(a)?p=YS.get(a):(p=new c(a),YS.set(a,p)),t.push(p)}}this._lightNodes=t}setupDirectLight(e,t,r){const{lightingModel:s,reflectedLight:i}=e.context;s.direct({...r,lightNode:t,reflectedLight:i},e)}setupDirectRectAreaLight(e,t,r){const{lightingModel:s,reflectedLight:i}=e.context;s.directRectArea({...r,lightNode:t,reflectedLight:i},e)}setupLights(e,t){for(const r of t)r.build(e)}getLightNodes(e){return this._lightNodes===null&&this.setupLightsNode(e),this._lightNodes}setup(e){const t=e.lightsNode;e.lightsNode=this;let r=this.outgoingLightNode;const s=e.context,i=s.lightingModel,a=e.getNodeProperties(this);if(i){const{totalDiffuseNode:l,totalSpecularNode:c}=this;s.outgoingLight=r;const p=e.addStack();a.nodes=p.nodes,i.start(e);const{backdrop:d,backdropAlpha:h}=s,{directDiffuse:m,directSpecular:x,indirectDiffuse:w,indirectSpecular:A}=s.reflectedLight;let P=m.add(w);d!==null&&(h!==null?P=Ve(h.mix(P,d)):P=Ve(d)),l.assign(P),c.assign(x.add(A)),r.assign(l.add(c)),i.finish(e),r=r.bypass(e.removeStack())}else a.nodes=[];return e.lightsNode=t,r}setLights(e){return this._lights=e,this._lightNodes=null,this._lightNodesHash=null,this}getLights(){return this._lights}get hasLights(){return this._lights.length>0}}const SJ=(n=[])=>new TJ().setLights(n);class bJ extends Bt{static get type(){return"ShadowBaseNode"}constructor(e){super(),this.light=e,this.updateBeforeType=Mn.RENDER,this.isShadowBaseNode=!0}setupShadowPosition({context:e,material:t}){$E.assign(t.receivedShadowPositionNode||e.shadowPositionWorld||Xp)}}const $E=Uu("vec3","shadowPositionWorld");function wJ(n,e={}){return e.toneMapping=n.toneMapping,e.toneMappingExposure=n.toneMappingExposure,e.outputColorSpace=n.outputColorSpace,e.renderTarget=n.getRenderTarget(),e.activeCubeFace=n.getActiveCubeFace(),e.activeMipmapLevel=n.getActiveMipmapLevel(),e.renderObjectFunction=n.getRenderObjectFunction(),e.pixelRatio=n.getPixelRatio(),e.mrt=n.getMRT(),e.clearColor=n.getClearColor(e.clearColor||new xt),e.clearAlpha=n.getClearAlpha(),e.autoClear=n.autoClear,e.scissorTest=n.getScissorTest(),e}function EJ(n,e){return e=wJ(n,e),n.setMRT(null),n.setRenderObjectFunction(null),n.setClearColor(0,1),n.autoClear=!0,e}function PJ(n,e){n.toneMapping=e.toneMapping,n.toneMappingExposure=e.toneMappingExposure,n.outputColorSpace=e.outputColorSpace,n.setRenderTarget(e.renderTarget,e.activeCubeFace,e.activeMipmapLevel),n.setRenderObjectFunction(e.renderObjectFunction),n.setPixelRatio(e.pixelRatio),n.setMRT(e.mrt),n.setClearColor(e.clearColor,e.clearAlpha),n.autoClear=e.autoClear,n.setScissorTest(e.scissorTest)}function AJ(n,e={}){return e.background=n.background,e.backgroundNode=n.backgroundNode,e.overrideMaterial=n.overrideMaterial,e}function NJ(n,e){return e=AJ(n,e),n.background=null,n.backgroundNode=null,n.overrideMaterial=null,e}function _J(n,e){n.background=e.background,n.backgroundNode=e.backgroundNode,n.overrideMaterial=e.overrideMaterial}function CJ(n,e,t){return t=EJ(n,t),t=NJ(e,t),t}function IJ(n,e,t){PJ(n,t),_J(e,t)}const Bx=new WeakMap,dF=Oe(({depthTexture:n,shadowCoord:e,depthLayer:t})=>{let r=or(n,e.xy).setName("t_basic");return n.isArrayTexture&&(r=r.depth(t)),r.compare(e.z)}),fF=Oe(({depthTexture:n,shadowCoord:e,shadow:t,depthLayer:r})=>{const s=(d,h)=>{let m=or(n,d);return n.isArrayTexture&&(m=m.depth(r)),m.compare(h)},i=zr("mapSize","vec2",t).setGroup(un),a=zr("radius","float",t).setGroup(un),l=wt(1).div(i),c=a.mul(l.x),p=BE(ld.xy).mul(6.28318530718);return kr(s(e.xy.add(Yo(0,5,p).mul(c)),e.z),s(e.xy.add(Yo(1,5,p).mul(c)),e.z),s(e.xy.add(Yo(2,5,p).mul(c)),e.z),s(e.xy.add(Yo(3,5,p).mul(c)),e.z),s(e.xy.add(Yo(4,5,p).mul(c)),e.z)).mul(1/5)}),hF=Oe(({depthTexture:n,shadowCoord:e,shadow:t,depthLayer:r})=>{const s=(h,m)=>{let x=or(n,h);return n.isArrayTexture&&(x=x.depth(r)),x.compare(m)},i=zr("mapSize","vec2",t).setGroup(un),a=wt(1).div(i),l=a.x,c=a.y,p=e.xy,d=nl(p.mul(i).add(.5));return p.subAssign(d.mul(a)),kr(s(p,e.z),s(p.add(wt(l,0)),e.z),s(p.add(wt(0,c)),e.z),s(p.add(a),e.z),nr(s(p.add(wt(l.negate(),0)),e.z),s(p.add(wt(l.mul(2),0)),e.z),d.x),nr(s(p.add(wt(l.negate(),c)),e.z),s(p.add(wt(l.mul(2),c)),e.z),d.x),nr(s(p.add(wt(0,c.negate())),e.z),s(p.add(wt(0,c.mul(2))),e.z),d.y),nr(s(p.add(wt(l,c.negate())),e.z),s(p.add(wt(l,c.mul(2))),e.z),d.y),nr(nr(s(p.add(wt(l.negate(),c.negate())),e.z),s(p.add(wt(l.mul(2),c.negate())),e.z),d.x),nr(s(p.add(wt(l.negate(),c.mul(2))),e.z),s(p.add(wt(l.mul(2),c.mul(2))),e.z),d.x),d.y)).mul(1/9)}),mF=Oe(({depthTexture:n,shadowCoord:e,depthLayer:t},r)=>{let s=or(n).sample(e.xy);n.isArrayTexture&&(s=s.depth(t)),s=s.rg;const i=s.x,a=qr(1e-7,s.y.mul(s.y)),l=r.renderer.reversedDepthBuffer?If(i,e.z):If(e.z,i),c=Ee(1).toVar();return Jt(l.notEqual(1),()=>{const p=e.z.sub(i);let d=a.div(a.add(p.mul(p)));d=Zl(An(d,.3).div(.65)),c.assign(qr(l,d))}),c}),yF=n=>{let e=Bx.get(n);return e===void 0&&(e=new Lf,e.colorNode=ln(0,0,0,1),e.isShadowPassMaterial=!0,e.name="ShadowMaterial",e.blending=_w,e.fog=!1,Bx.set(n,e)),e},gF=n=>{const e=Bx.get(n);e!==void 0&&(e.dispose(),Bx.delete(n))},EC=new hX,Hd=[],xF=(n,e,t,r)=>{Hd[0]=n,Hd[1]=e;let s=EC.get(Hd);return(s===void 0||s.shadowType!==t||s.useVelocity!==r)&&(s=(i,a,l,c,p,d,...h)=>{(i.castShadow===!0||i.receiveShadow&&t===rx)&&(r&&(Uq(i).useVelocity=!0),i.onBeforeShadow(n,i,l,e.camera,c,a.overrideMaterial,d),n.renderObject(i,a,l,c,p,d,...h),i.onAfterShadow(n,i,l,e.camera,c,a.overrideMaterial,d))},s.shadowType=t,s.useVelocity=r,EC.set(Hd,s)),Hd[0]=null,Hd[1]=null,s},MJ=Oe(({samples:n,radius:e,size:t,shadowPass:r,depthLayer:s})=>{const i=Ee(0).toVar("meanVertical"),a=Ee(0).toVar("squareMeanVertical"),l=n.lessThanEqual(Ee(1)).select(Ee(0),Ee(2).div(n.sub(1))),c=n.lessThanEqual(Ee(1)).select(Ee(0),Ee(-1));Wn({start:Ne(0),end:Ne(n),type:"int",condition:"<"},({i:d})=>{const h=c.add(Ee(d).mul(l));let m=r.sample(kr(ld.xy,wt(0,h).mul(e)).div(t));r.value.isArrayTexture&&(m=m.depth(s)),m=m.x,i.addAssign(m),a.addAssign(m.mul(m))}),i.divAssign(n),a.divAssign(n);const p=si(a.sub(i.mul(i)).max(0));return wt(i,p)}),kJ=Oe(({samples:n,radius:e,size:t,shadowPass:r,depthLayer:s})=>{const i=Ee(0).toVar("meanHorizontal"),a=Ee(0).toVar("squareMeanHorizontal"),l=n.lessThanEqual(Ee(1)).select(Ee(0),Ee(2).div(n.sub(1))),c=n.lessThanEqual(Ee(1)).select(Ee(0),Ee(-1));Wn({start:Ne(0),end:Ne(n),type:"int",condition:"<"},({i:d})=>{const h=c.add(Ee(d).mul(l));let m=r.sample(kr(ld.xy,wt(h,0).mul(e)).div(t));r.value.isArrayTexture&&(m=m.depth(s)),i.addAssign(m.x),a.addAssign(kr(m.y.mul(m.y),m.x.mul(m.x)))}),i.divAssign(n),a.divAssign(n);const p=si(a.sub(i.mul(i)).max(0));return wt(i,p)}),OJ=[dF,fF,hF,mF];let JS;const Mg=new sF;class vF extends bJ{static get type(){return"ShadowNode"}constructor(e,t=null){super(e),this.shadow=t||e.shadow,this.shadowMap=null,this.vsmShadowMapVertical=null,this.vsmShadowMapHorizontal=null,this.vsmMaterialVertical=null,this.vsmMaterialHorizontal=null,this._node=null,this._currentShadowType=null,this._cameraFrameId=new WeakMap,this.isShadowNode=!0,this.depthLayer=0}setupShadowFilter(e,{filterFn:t,depthTexture:r,shadowCoord:s,shadow:i,depthLayer:a}){const l=s.x.greaterThanEqual(0).and(s.x.lessThanEqual(1)).and(s.y.greaterThanEqual(0)).and(s.y.lessThanEqual(1)).and(s.z.lessThanEqual(1)),c=t({depthTexture:r,shadowCoord:s,shadow:i,depthLayer:a});return l.select(c,Ee(1))}setupShadowCoord(e,t){const{shadow:r}=this,{renderer:s}=e,i=r.biasNode||zr("bias","float",r).setGroup(un);let a=t,l;if(r.camera.isOrthographicCamera||s.logarithmicDepthBuffer!==!0)a=a.xyz.div(a.w),l=a.z;else{const c=a.w;a=a.xy.div(c);const p=zr("near","float",r.camera).setGroup(un),d=zr("far","float",r.camera).setGroup(un);l=kE(c.negate(),p,d)}return a=Ve(a.x,a.y.oneMinus(),s.reversedDepthBuffer?l.sub(i):l.add(i)),a}getShadowFilterFn(e){return OJ[e]}setupRenderTarget(e,t){const r=new Ff(e.mapSize.width,e.mapSize.height);r.name="ShadowDepthTexture",r.compareFunction=t.renderer.reversedDepthBuffer?U3:z3;const s=t.createRenderTarget(e.mapSize.width,e.mapSize.height);return s.texture.name="ShadowMap",s.texture.type=e.mapType,s.depthTexture=r,{shadowMap:s,depthTexture:r}}setupShadow(e){const{renderer:t,camera:r}=e,{light:s,shadow:i}=this,{depthTexture:a,shadowMap:l}=this.setupRenderTarget(i,e),c=t.shadowMap.type;if(c===N7||c===_7?(a.minFilter=Hu,a.magFilter=Hu):(a.minFilter=Mi,a.magFilter=Mi),i.camera.coordinateSystem=r.coordinateSystem,i.camera.updateProjectionMatrix(),c===rx&&i.isPointLightShadow!==!0){a.compareFunction=null,l.depth>1?(l._vsmShadowMapVertical||(l._vsmShadowMapVertical=e.createRenderTarget(i.mapSize.width,i.mapSize.height,{format:af,type:Fu,depth:l.depth,depthBuffer:!1}),l._vsmShadowMapVertical.texture.name="VSMVertical"),this.vsmShadowMapVertical=l._vsmShadowMapVertical,l._vsmShadowMapHorizontal||(l._vsmShadowMapHorizontal=e.createRenderTarget(i.mapSize.width,i.mapSize.height,{format:af,type:Fu,depth:l.depth,depthBuffer:!1}),l._vsmShadowMapHorizontal.texture.name="VSMHorizontal"),this.vsmShadowMapHorizontal=l._vsmShadowMapHorizontal):(this.vsmShadowMapVertical=e.createRenderTarget(i.mapSize.width,i.mapSize.height,{format:af,type:Fu,depthBuffer:!1}),this.vsmShadowMapHorizontal=e.createRenderTarget(i.mapSize.width,i.mapSize.height,{format:af,type:Fu,depthBuffer:!1}));let I=or(a);a.isArrayTexture&&(I=I.depth(this.depthLayer));let _=or(this.vsmShadowMapVertical.texture);a.isArrayTexture&&(_=_.depth(this.depthLayer));const D=zr("blurSamples","float",i).setGroup(un),F=zr("radius","float",i).setGroup(un),O=zr("mapSize","vec2",i).setGroup(un);let L=this.vsmMaterialVertical||(this.vsmMaterialVertical=new Lf);L.fragmentNode=MJ({samples:D,radius:F,size:O,shadowPass:I,depthLayer:this.depthLayer}).context(e.getSharedContext()),L.name="VSMVertical",L=this.vsmMaterialHorizontal||(this.vsmMaterialHorizontal=new Lf),L.fragmentNode=kJ({samples:D,radius:F,size:O,shadowPass:_,depthLayer:this.depthLayer}).context(e.getSharedContext()),L.name="VSMHorizontal"}const p=zr("intensity","float",i).setGroup(un),d=zr("normalBias","float",i).setGroup(un),h=qE(s).mul($E.add(pv.mul(d))),m=this.setupShadowCoord(e,h),x=i.filterNode||this.getShadowFilterFn(t.shadowMap.type)||null;if(x===null)throw new Error("THREE.WebGPURenderer: Shadow map type not supported yet.");const w=c===rx&&i.isPointLightShadow!==!0?this.vsmShadowMapHorizontal.texture:a,A=this.setupShadowFilter(e,{filterFn:x,shadowTexture:l.texture,depthTexture:w,shadowCoord:m,shadow:i,depthLayer:this.depthLayer});let P;t.shadowMap.transmitted===!0&&(l.texture.isCubeTexture?P=Wa(l.texture,m.xyz):(P=or(l.texture,m),a.isArrayTexture&&(P=P.depth(this.depthLayer))));let S;P?S=nr(1,A.rgb.mix(P,1),p.mul(P.a)).toVar():S=nr(1,A,p).toVar(),this.shadowMap=l,this.shadow.map=l;const C=`${this.light.type} Shadow [ ${this.light.name||"ID: "+this.light.id} ]`;return P&&S.toInspector(`${C} / Color`,()=>this.shadowMap.texture.isCubeTexture?Wa(this.shadowMap.texture):or(this.shadowMap.texture)),S.toInspector(`${C} / Depth`,()=>this.shadowMap.texture.isCubeTexture?Wa(this.shadowMap.texture).r.oneMinus():mr(this.shadowMap.depthTexture,Un().mul(Wc(or(this.shadowMap.depthTexture)))).r.oneMinus())}setup(e){if(e.renderer.shadowMap.enabled!==!1)return Oe(()=>{const t=e.renderer.shadowMap.type;this._currentShadowType!==t&&(this._reset(),this._node=null);let r=this._node;return this.setupShadowPosition(e),r===null&&(this._node=r=this.setupShadow(e),this._currentShadowType=t),e.material.receivedShadowNode&&(r=e.material.receivedShadowNode(r)),r})()}renderShadow(e){const{shadow:t,shadowMap:r,light:s}=this,{renderer:i,scene:a}=e;t.updateMatrices(s),r.setSize(t.mapSize.width,t.mapSize.height,r.depth);const l=a.name;a.name=`Shadow Map [ ${s.name||"ID: "+s.id} ]`,i.render(a,t.camera),a.name=l}updateShadow(e){const{shadowMap:t,light:r,shadow:s}=this,{renderer:i,scene:a,camera:l}=e,c=i.shadowMap.type,p=t.depthTexture.version;this._depthVersionCached=p;const d=s.camera.layers.mask;(s.camera.layers.mask&4294967294)===0&&(s.camera.layers.mask=l.layers.mask);const h=i.getRenderObjectFunction(),m=i.getMRT(),x=m?m.has("velocity"):!1;JS=CJ(i,a,JS),a.overrideMaterial=yF(r),i.setRenderObjectFunction(xF(i,s,c,x)),i.setClearColor(0,0),i.setRenderTarget(t),this.renderShadow(e),i.setRenderObjectFunction(h),c===rx&&s.isPointLightShadow!==!0&&this.vsmPass(i),s.camera.layers.mask=d,IJ(i,a,JS)}vsmPass(e){const{shadow:t}=this,r=this.shadowMap.depth;this.vsmShadowMapVertical.setSize(t.mapSize.width,t.mapSize.height,r),this.vsmShadowMapHorizontal.setSize(t.mapSize.width,t.mapSize.height,r),e.setRenderTarget(this.vsmShadowMapVertical),Mg.material=this.vsmMaterialVertical,Mg.render(e),e.setRenderTarget(this.vsmShadowMapHorizontal),Mg.material=this.vsmMaterialHorizontal,Mg.render(e)}dispose(){this._reset(),super.dispose()}_reset(){this._currentShadowType=null,gF(this.light),this.shadowMap&&(this.shadowMap.dispose(),this.shadowMap=null),this.vsmShadowMapVertical!==null&&(this.vsmShadowMapVertical.dispose(),this.vsmShadowMapVertical=null,this.vsmMaterialVertical.dispose(),this.vsmMaterialVertical=null),this.vsmShadowMapHorizontal!==null&&(this.vsmShadowMapHorizontal.dispose(),this.vsmShadowMapHorizontal=null,this.vsmMaterialHorizontal.dispose(),this.vsmMaterialHorizontal=null)}updateBefore(e){const{shadow:t}=this;let r=t.needsUpdate||t.autoUpdate;r&&(this._cameraFrameId[e.camera]===e.frameId&&(r=!1),this._cameraFrameId[e.camera]=e.frameId),r&&(this.updateShadow(e),this.shadowMap.depthTexture.version===this._depthVersionCached&&(t.needsUpdate=!1))}}const LJ=(n,e)=>new vF(n,e),DJ=new xt,PC=new zn,Eh=new qe,ZS=new qe,RJ=[new qe(1,0,0),new qe(-1,0,0),new qe(0,-1,0),new qe(0,1,0),new qe(0,0,1),new qe(0,0,-1)],FJ=[new qe(0,-1,0),new qe(0,-1,0),new qe(0,0,-1),new qe(0,0,1),new qe(0,-1,0),new qe(0,-1,0)],BJ=[new qe(1,0,0),new qe(-1,0,0),new qe(0,1,0),new qe(0,-1,0),new qe(0,0,1),new qe(0,0,-1)],VJ=[new qe(0,-1,0),new qe(0,-1,0),new qe(0,0,1),new qe(0,0,-1),new qe(0,-1,0),new qe(0,-1,0)],TF=Oe(({depthTexture:n,bd3D:e,dp:t})=>Wa(n,e).compare(t)),SF=Oe(({depthTexture:n,bd3D:e,dp:t,shadow:r})=>{const s=zr("radius","float",r).setGroup(un),i=zr("mapSize","vec2",r).setGroup(un),a=s.div(i.x),l=Gn(e),c=Ya(Ku(e,l.x.greaterThan(l.z).select(Ve(0,1,0),Ve(1,0,0)))),p=Ku(e,c),d=BE(ld.xy).mul(6.28318530718),h=Yo(0,5,d),m=Yo(1,5,d),x=Yo(2,5,d),w=Yo(3,5,d),A=Yo(4,5,d);return Wa(n,e.add(c.mul(h.x).add(p.mul(h.y)).mul(a))).compare(t).add(Wa(n,e.add(c.mul(m.x).add(p.mul(m.y)).mul(a))).compare(t)).add(Wa(n,e.add(c.mul(x.x).add(p.mul(x.y)).mul(a))).compare(t)).add(Wa(n,e.add(c.mul(w.x).add(p.mul(w.y)).mul(a))).compare(t)).add(Wa(n,e.add(c.mul(A.x).add(p.mul(A.y)).mul(a))).compare(t)).mul(1/5)}),jJ=Oe(({filterFn:n,depthTexture:e,shadowCoord:t,shadow:r},s)=>{const i=t.xyz.toConst(),a=i.abs().toConst(),l=a.x.max(a.y).max(a.z),c=Qt("float").setGroup(un).onRenderUpdate(()=>r.camera.near),p=Qt("float").setGroup(un).onRenderUpdate(()=>r.camera.far),d=zr("bias","float",r).setGroup(un),h=Ee(1).toVar();return Jt(l.sub(p).lessThanEqual(0).and(l.sub(c).greaterThanEqual(0)),()=>{let m;s.renderer.reversedDepthBuffer?(m=LR(l.negate(),c,p),m.subAssign(d)):(m=IE(l.negate(),c,p),m.addAssign(d));const x=i.normalize();h.assign(n({depthTexture:e,bd3D:x,dp:m,shadow:r}))}),h});class zJ extends vF{static get type(){return"PointShadowNode"}constructor(e,t=null){super(e,t)}getShadowFilterFn(e){return e===A7?TF:SF}setupShadowCoord(e,t){return t}setupShadowFilter(e,{filterFn:t,depthTexture:r,shadowCoord:s,shadow:i}){return jJ({filterFn:t,depthTexture:r,shadowCoord:s,shadow:i})}setupRenderTarget(e,t){const r=new Mq(e.mapSize.width);r.name="PointShadowDepthTexture",r.compareFunction=t.renderer.reversedDepthBuffer?U3:z3;const s=t.createCubeRenderTarget(e.mapSize.width);return s.texture.name="PointShadowMap",s.depthTexture=r,{shadowMap:s,depthTexture:r}}renderShadow(e){const{shadow:t,shadowMap:r,light:s}=this,{renderer:i,scene:a}=e,l=t.camera,c=t.matrix,p=i.coordinateSystem===Gc,d=p?RJ:BJ,h=p?FJ:VJ;r.setSize(t.mapSize.width,t.mapSize.width);const m=i.autoClear,x=i.getClearColor(DJ),w=i.getClearAlpha();i.autoClear=!1,i.setClearColor(t.clearColor,t.clearAlpha);for(let A=0;A<6;A++){i.setRenderTarget(r,A),i.clear();const P=s.distance||l.far;P!==l.far&&(l.far=P,l.updateProjectionMatrix()),Eh.setFromMatrixPosition(s.matrixWorld),l.position.copy(Eh),ZS.copy(l.position),ZS.add(d[A]),l.up.copy(h[A]),l.lookAt(ZS),l.updateMatrixWorld(),c.makeTranslation(-Eh.x,-Eh.y,-Eh.z),PC.multiplyMatrices(l.projectionMatrix,l.matrixWorldInverse),t._frustum.setFromProjectionMatrix(PC,l.coordinateSystem,l.reversedDepth);const S=a.name;a.name=`Point Light Shadow [ ${s.name||"ID: "+s.id} ] - Face ${A+1}`,i.render(a,l),a.name=S}i.autoClear=m,i.setClearColor(x,w)}}const UJ=(n,e)=>new zJ(n,e),bF=Oe(({lightDistance:n,cutoffDistance:e,decayExponent:t})=>{const r=n.pow(t).max(.01).reciprocal();return e.greaterThan(0).select(r.mul(n.div(e).pow4().oneMinus().clamp().pow2()),r)}),qJ=({color:n,lightVector:e,cutoffDistance:t,decayExponent:r})=>{const s=e.normalize(),i=e.length(),a=bF({lightDistance:i,cutoffDistance:t,decayExponent:r}),l=n.mul(a);return{lightDirection:s,lightColor:l}},$J=Oe(([n=Un()])=>{const e=n.mul(2),t=e.x.floor(),r=e.y.floor();return t.add(r).mod(2).sign()}),WJ=Oe(([n=Un()],{renderer:e,material:t})=>{const r=aE(n.mul(2).sub(1));let s;if(t.alphaToCoverage&&e.currentSamples>0){const i=Ee(r.fwidth()).toVar();s=Jc(i.oneMinus(),i.add(1),r).oneMinus()}else s=zs(r.greaterThan(1),0,1);return s}),am=Oe(([n,e,t])=>{const r=Ee(t).toVar(),s=Ee(e).toVar(),i=eo(n).toVar();return zs(i,s,r)}).setLayout({name:"mx_select",type:"float",inputs:[{name:"b",type:"bool"},{name:"t",type:"float"},{name:"f",type:"float"}]}),Vx=Oe(([n,e])=>{const t=eo(e).toVar(),r=Ee(n).toVar();return zs(t,r.negate(),r)}).setLayout({name:"mx_negate_if",type:"float",inputs:[{name:"val",type:"float"},{name:"b",type:"bool"}]}),Ir=Oe(([n])=>{const e=Ee(n).toVar();return Ne(Kl(e))}).setLayout({name:"mx_floor",type:"int",inputs:[{name:"x",type:"float"}]}),ir=Oe(([n,e])=>{const t=Ee(n).toVar();return e.assign(Ir(t)),t.sub(Ee(e))}),HJ=Oe(([n,e,t,r,s,i])=>{const a=Ee(i).toVar(),l=Ee(s).toVar(),c=Ee(r).toVar(),p=Ee(t).toVar(),d=Ee(e).toVar(),h=Ee(n).toVar(),m=Ee(An(1,l)).toVar();return An(1,a).mul(h.mul(m).add(d.mul(l))).add(a.mul(p.mul(m).add(c.mul(l))))}).setLayout({name:"mx_bilerp_0",type:"float",inputs:[{name:"v0",type:"float"},{name:"v1",type:"float"},{name:"v2",type:"float"},{name:"v3",type:"float"},{name:"s",type:"float"},{name:"t",type:"float"}]}),KJ=Oe(([n,e,t,r,s,i])=>{const a=Ee(i).toVar(),l=Ee(s).toVar(),c=Ve(r).toVar(),p=Ve(t).toVar(),d=Ve(e).toVar(),h=Ve(n).toVar(),m=Ee(An(1,l)).toVar();return An(1,a).mul(h.mul(m).add(d.mul(l))).add(a.mul(p.mul(m).add(c.mul(l))))}).setLayout({name:"mx_bilerp_1",type:"vec3",inputs:[{name:"v0",type:"vec3"},{name:"v1",type:"vec3"},{name:"v2",type:"vec3"},{name:"v3",type:"vec3"},{name:"s",type:"float"},{name:"t",type:"float"}]}),wF=ws([HJ,KJ]),XJ=Oe(([n,e,t,r,s,i,a,l,c,p,d])=>{const h=Ee(d).toVar(),m=Ee(p).toVar(),x=Ee(c).toVar(),w=Ee(l).toVar(),A=Ee(a).toVar(),P=Ee(i).toVar(),S=Ee(s).toVar(),C=Ee(r).toVar(),I=Ee(t).toVar(),_=Ee(e).toVar(),D=Ee(n).toVar(),F=Ee(An(1,x)).toVar(),O=Ee(An(1,m)).toVar();return Ee(An(1,h)).toVar().mul(O.mul(D.mul(F).add(_.mul(x))).add(m.mul(I.mul(F).add(C.mul(x))))).add(h.mul(O.mul(S.mul(F).add(P.mul(x))).add(m.mul(A.mul(F).add(w.mul(x))))))}).setLayout({name:"mx_trilerp_0",type:"float",inputs:[{name:"v0",type:"float"},{name:"v1",type:"float"},{name:"v2",type:"float"},{name:"v3",type:"float"},{name:"v4",type:"float"},{name:"v5",type:"float"},{name:"v6",type:"float"},{name:"v7",type:"float"},{name:"s",type:"float"},{name:"t",type:"float"},{name:"r",type:"float"}]}),GJ=Oe(([n,e,t,r,s,i,a,l,c,p,d])=>{const h=Ee(d).toVar(),m=Ee(p).toVar(),x=Ee(c).toVar(),w=Ve(l).toVar(),A=Ve(a).toVar(),P=Ve(i).toVar(),S=Ve(s).toVar(),C=Ve(r).toVar(),I=Ve(t).toVar(),_=Ve(e).toVar(),D=Ve(n).toVar(),F=Ee(An(1,x)).toVar(),O=Ee(An(1,m)).toVar();return Ee(An(1,h)).toVar().mul(O.mul(D.mul(F).add(_.mul(x))).add(m.mul(I.mul(F).add(C.mul(x))))).add(h.mul(O.mul(S.mul(F).add(P.mul(x))).add(m.mul(A.mul(F).add(w.mul(x))))))}).setLayout({name:"mx_trilerp_1",type:"vec3",inputs:[{name:"v0",type:"vec3"},{name:"v1",type:"vec3"},{name:"v2",type:"vec3"},{name:"v3",type:"vec3"},{name:"v4",type:"vec3"},{name:"v5",type:"vec3"},{name:"v6",type:"vec3"},{name:"v7",type:"vec3"},{name:"s",type:"float"},{name:"t",type:"float"},{name:"r",type:"float"}]}),EF=ws([XJ,GJ]),YJ=Oe(([n,e,t])=>{const r=Ee(t).toVar(),s=Ee(e).toVar(),i=lt(n).toVar(),a=lt(i.bitAnd(lt(7))).toVar(),l=Ee(am(a.lessThan(lt(4)),s,r)).toVar(),c=Ee(an(2,am(a.lessThan(lt(4)),r,s))).toVar();return Vx(l,eo(a.bitAnd(lt(1)))).add(Vx(c,eo(a.bitAnd(lt(2)))))}).setLayout({name:"mx_gradient_float_0",type:"float",inputs:[{name:"hash",type:"uint"},{name:"x",type:"float"},{name:"y",type:"float"}]}),JJ=Oe(([n,e,t,r])=>{const s=Ee(r).toVar(),i=Ee(t).toVar(),a=Ee(e).toVar(),l=lt(n).toVar(),c=lt(l.bitAnd(lt(15))).toVar(),p=Ee(am(c.lessThan(lt(8)),a,i)).toVar(),d=Ee(am(c.lessThan(lt(4)),i,am(c.equal(lt(12)).or(c.equal(lt(14))),a,s))).toVar();return Vx(p,eo(c.bitAnd(lt(1)))).add(Vx(d,eo(c.bitAnd(lt(2)))))}).setLayout({name:"mx_gradient_float_1",type:"float",inputs:[{name:"hash",type:"uint"},{name:"x",type:"float"},{name:"y",type:"float"},{name:"z",type:"float"}]}),ps=ws([YJ,JJ]),ZJ=Oe(([n,e,t])=>{const r=Ee(t).toVar(),s=Ee(e).toVar(),i=id(n).toVar();return Ve(ps(i.x,s,r),ps(i.y,s,r),ps(i.z,s,r))}).setLayout({name:"mx_gradient_vec3_0",type:"vec3",inputs:[{name:"hash",type:"uvec3"},{name:"x",type:"float"},{name:"y",type:"float"}]}),QJ=Oe(([n,e,t,r])=>{const s=Ee(r).toVar(),i=Ee(t).toVar(),a=Ee(e).toVar(),l=id(n).toVar();return Ve(ps(l.x,a,i,s),ps(l.y,a,i,s),ps(l.z,a,i,s))}).setLayout({name:"mx_gradient_vec3_1",type:"vec3",inputs:[{name:"hash",type:"uvec3"},{name:"x",type:"float"},{name:"y",type:"float"},{name:"z",type:"float"}]}),qa=ws([ZJ,QJ]),eZ=Oe(([n])=>{const e=Ee(n).toVar();return an(.6616,e)}).setLayout({name:"mx_gradient_scale2d_0",type:"float",inputs:[{name:"v",type:"float"}]}),tZ=Oe(([n])=>{const e=Ee(n).toVar();return an(.982,e)}).setLayout({name:"mx_gradient_scale3d_0",type:"float",inputs:[{name:"v",type:"float"}]}),nZ=Oe(([n])=>{const e=Ve(n).toVar();return an(.6616,e)}).setLayout({name:"mx_gradient_scale2d_1",type:"vec3",inputs:[{name:"v",type:"vec3"}]}),PF=ws([eZ,nZ]),rZ=Oe(([n])=>{const e=Ve(n).toVar();return an(.982,e)}).setLayout({name:"mx_gradient_scale3d_1",type:"vec3",inputs:[{name:"v",type:"vec3"}]}),AF=ws([tZ,rZ]),oa=Oe(([n,e])=>{const t=Ne(e).toVar(),r=lt(n).toVar();return r.shiftLeft(t).bitOr(r.shiftRight(Ne(32).sub(t)))}).setLayout({name:"mx_rotl32",type:"uint",inputs:[{name:"x",type:"uint"},{name:"k",type:"int"}]}),NF=Oe(([n,e,t])=>{n.subAssign(t),n.bitXorAssign(oa(t,Ne(4))),t.addAssign(e),e.subAssign(n),e.bitXorAssign(oa(n,Ne(6))),n.addAssign(t),t.subAssign(e),t.bitXorAssign(oa(e,Ne(8))),e.addAssign(n),n.subAssign(t),n.bitXorAssign(oa(t,Ne(16))),t.addAssign(e),e.subAssign(n),e.bitXorAssign(oa(n,Ne(19))),n.addAssign(t),t.subAssign(e),t.bitXorAssign(oa(e,Ne(4))),e.addAssign(n)}),Um=Oe(([n,e,t])=>{const r=lt(t).toVar(),s=lt(e).toVar(),i=lt(n).toVar();return r.bitXorAssign(s),r.subAssign(oa(s,Ne(14))),i.bitXorAssign(r),i.subAssign(oa(r,Ne(11))),s.bitXorAssign(i),s.subAssign(oa(i,Ne(25))),r.bitXorAssign(s),r.subAssign(oa(s,Ne(16))),i.bitXorAssign(r),i.subAssign(oa(r,Ne(4))),s.bitXorAssign(i),s.subAssign(oa(i,Ne(14))),r.bitXorAssign(s),r.subAssign(oa(s,Ne(24))),r}).setLayout({name:"mx_bjfinal",type:"uint",inputs:[{name:"a",type:"uint"},{name:"b",type:"uint"},{name:"c",type:"uint"}]}),Us=Oe(([n])=>{const e=lt(n).toVar();return Ee(e).div(Ee(lt(Ne(4294967295))))}).setLayout({name:"mx_bits_to_01",type:"float",inputs:[{name:"bits",type:"uint"}]}),Gl=Oe(([n])=>{const e=Ee(n).toVar();return e.mul(e).mul(e).mul(e.mul(e.mul(6).sub(15)).add(10))}).setLayout({name:"mx_fade",type:"float",inputs:[{name:"t",type:"float"}]}),sZ=Oe(([n])=>{const e=Ne(n).toVar(),t=lt(lt(1)).toVar(),r=lt(lt(Ne(3735928559)).add(t.shiftLeft(lt(2))).add(lt(13))).toVar();return Um(r.add(lt(e)),r,r)}).setLayout({name:"mx_hash_int_0",type:"uint",inputs:[{name:"x",type:"int"}]}),iZ=Oe(([n,e])=>{const t=Ne(e).toVar(),r=Ne(n).toVar(),s=lt(lt(2)).toVar(),i=lt().toVar(),a=lt().toVar(),l=lt().toVar();return i.assign(a.assign(l.assign(lt(Ne(3735928559)).add(s.shiftLeft(lt(2))).add(lt(13))))),i.addAssign(lt(r)),a.addAssign(lt(t)),Um(i,a,l)}).setLayout({name:"mx_hash_int_1",type:"uint",inputs:[{name:"x",type:"int"},{name:"y",type:"int"}]}),aZ=Oe(([n,e,t])=>{const r=Ne(t).toVar(),s=Ne(e).toVar(),i=Ne(n).toVar(),a=lt(lt(3)).toVar(),l=lt().toVar(),c=lt().toVar(),p=lt().toVar();return l.assign(c.assign(p.assign(lt(Ne(3735928559)).add(a.shiftLeft(lt(2))).add(lt(13))))),l.addAssign(lt(i)),c.addAssign(lt(s)),p.addAssign(lt(r)),Um(l,c,p)}).setLayout({name:"mx_hash_int_2",type:"uint",inputs:[{name:"x",type:"int"},{name:"y",type:"int"},{name:"z",type:"int"}]}),oZ=Oe(([n,e,t,r])=>{const s=Ne(r).toVar(),i=Ne(t).toVar(),a=Ne(e).toVar(),l=Ne(n).toVar(),c=lt(lt(4)).toVar(),p=lt().toVar(),d=lt().toVar(),h=lt().toVar();return p.assign(d.assign(h.assign(lt(Ne(3735928559)).add(c.shiftLeft(lt(2))).add(lt(13))))),p.addAssign(lt(l)),d.addAssign(lt(a)),h.addAssign(lt(i)),NF(p,d,h),p.addAssign(lt(s)),Um(p,d,h)}).setLayout({name:"mx_hash_int_3",type:"uint",inputs:[{name:"x",type:"int"},{name:"y",type:"int"},{name:"z",type:"int"},{name:"xx",type:"int"}]}),lZ=Oe(([n,e,t,r,s])=>{const i=Ne(s).toVar(),a=Ne(r).toVar(),l=Ne(t).toVar(),c=Ne(e).toVar(),p=Ne(n).toVar(),d=lt(lt(5)).toVar(),h=lt().toVar(),m=lt().toVar(),x=lt().toVar();return h.assign(m.assign(x.assign(lt(Ne(3735928559)).add(d.shiftLeft(lt(2))).add(lt(13))))),h.addAssign(lt(p)),m.addAssign(lt(c)),x.addAssign(lt(l)),NF(h,m,x),h.addAssign(lt(a)),m.addAssign(lt(i)),Um(h,m,x)}).setLayout({name:"mx_hash_int_4",type:"uint",inputs:[{name:"x",type:"int"},{name:"y",type:"int"},{name:"z",type:"int"},{name:"xx",type:"int"},{name:"yy",type:"int"}]}),jn=ws([sZ,iZ,aZ,oZ,lZ]),uZ=Oe(([n,e])=>{const t=Ne(e).toVar(),r=Ne(n).toVar(),s=lt(jn(r,t)).toVar(),i=id().toVar();return i.x.assign(s.bitAnd(Ne(255))),i.y.assign(s.shiftRight(Ne(8)).bitAnd(Ne(255))),i.z.assign(s.shiftRight(Ne(16)).bitAnd(Ne(255))),i}).setLayout({name:"mx_hash_vec3_0",type:"uvec3",inputs:[{name:"x",type:"int"},{name:"y",type:"int"}]}),cZ=Oe(([n,e,t])=>{const r=Ne(t).toVar(),s=Ne(e).toVar(),i=Ne(n).toVar(),a=lt(jn(i,s,r)).toVar(),l=id().toVar();return l.x.assign(a.bitAnd(Ne(255))),l.y.assign(a.shiftRight(Ne(8)).bitAnd(Ne(255))),l.z.assign(a.shiftRight(Ne(16)).bitAnd(Ne(255))),l}).setLayout({name:"mx_hash_vec3_1",type:"uvec3",inputs:[{name:"x",type:"int"},{name:"y",type:"int"},{name:"z",type:"int"}]}),$a=ws([uZ,cZ]),pZ=Oe(([n])=>{const e=wt(n).toVar(),t=Ne().toVar(),r=Ne().toVar(),s=Ee(ir(e.x,t)).toVar(),i=Ee(ir(e.y,r)).toVar(),a=Ee(Gl(s)).toVar(),l=Ee(Gl(i)).toVar(),c=Ee(wF(ps(jn(t,r),s,i),ps(jn(t.add(Ne(1)),r),s.sub(1),i),ps(jn(t,r.add(Ne(1))),s,i.sub(1)),ps(jn(t.add(Ne(1)),r.add(Ne(1))),s.sub(1),i.sub(1)),a,l)).toVar();return PF(c)}).setLayout({name:"mx_perlin_noise_float_0",type:"float",inputs:[{name:"p",type:"vec2"}]}),dZ=Oe(([n])=>{const e=Ve(n).toVar(),t=Ne().toVar(),r=Ne().toVar(),s=Ne().toVar(),i=Ee(ir(e.x,t)).toVar(),a=Ee(ir(e.y,r)).toVar(),l=Ee(ir(e.z,s)).toVar(),c=Ee(Gl(i)).toVar(),p=Ee(Gl(a)).toVar(),d=Ee(Gl(l)).toVar(),h=Ee(EF(ps(jn(t,r,s),i,a,l),ps(jn(t.add(Ne(1)),r,s),i.sub(1),a,l),ps(jn(t,r.add(Ne(1)),s),i,a.sub(1),l),ps(jn(t.add(Ne(1)),r.add(Ne(1)),s),i.sub(1),a.sub(1),l),ps(jn(t,r,s.add(Ne(1))),i,a,l.sub(1)),ps(jn(t.add(Ne(1)),r,s.add(Ne(1))),i.sub(1),a,l.sub(1)),ps(jn(t,r.add(Ne(1)),s.add(Ne(1))),i,a.sub(1),l.sub(1)),ps(jn(t.add(Ne(1)),r.add(Ne(1)),s.add(Ne(1))),i.sub(1),a.sub(1),l.sub(1)),c,p,d)).toVar();return AF(h)}).setLayout({name:"mx_perlin_noise_float_1",type:"float",inputs:[{name:"p",type:"vec3"}]}),WE=ws([pZ,dZ]),fZ=Oe(([n])=>{const e=wt(n).toVar(),t=Ne().toVar(),r=Ne().toVar(),s=Ee(ir(e.x,t)).toVar(),i=Ee(ir(e.y,r)).toVar(),a=Ee(Gl(s)).toVar(),l=Ee(Gl(i)).toVar(),c=Ve(wF(qa($a(t,r),s,i),qa($a(t.add(Ne(1)),r),s.sub(1),i),qa($a(t,r.add(Ne(1))),s,i.sub(1)),qa($a(t.add(Ne(1)),r.add(Ne(1))),s.sub(1),i.sub(1)),a,l)).toVar();return PF(c)}).setLayout({name:"mx_perlin_noise_vec3_0",type:"vec3",inputs:[{name:"p",type:"vec2"}]}),hZ=Oe(([n])=>{const e=Ve(n).toVar(),t=Ne().toVar(),r=Ne().toVar(),s=Ne().toVar(),i=Ee(ir(e.x,t)).toVar(),a=Ee(ir(e.y,r)).toVar(),l=Ee(ir(e.z,s)).toVar(),c=Ee(Gl(i)).toVar(),p=Ee(Gl(a)).toVar(),d=Ee(Gl(l)).toVar(),h=Ve(EF(qa($a(t,r,s),i,a,l),qa($a(t.add(Ne(1)),r,s),i.sub(1),a,l),qa($a(t,r.add(Ne(1)),s),i,a.sub(1),l),qa($a(t.add(Ne(1)),r.add(Ne(1)),s),i.sub(1),a.sub(1),l),qa($a(t,r,s.add(Ne(1))),i,a,l.sub(1)),qa($a(t.add(Ne(1)),r,s.add(Ne(1))),i.sub(1),a,l.sub(1)),qa($a(t,r.add(Ne(1)),s.add(Ne(1))),i,a.sub(1),l.sub(1)),qa($a(t.add(Ne(1)),r.add(Ne(1)),s.add(Ne(1))),i.sub(1),a.sub(1),l.sub(1)),c,p,d)).toVar();return AF(h)}).setLayout({name:"mx_perlin_noise_vec3_1",type:"vec3",inputs:[{name:"p",type:"vec3"}]}),qm=ws([fZ,hZ]),mZ=Oe(([n])=>{const e=Ee(n).toVar(),t=Ne(Ir(e)).toVar();return Us(jn(t))}).setLayout({name:"mx_cell_noise_float_0",type:"float",inputs:[{name:"p",type:"float"}]}),yZ=Oe(([n])=>{const e=wt(n).toVar(),t=Ne(Ir(e.x)).toVar(),r=Ne(Ir(e.y)).toVar();return Us(jn(t,r))}).setLayout({name:"mx_cell_noise_float_1",type:"float",inputs:[{name:"p",type:"vec2"}]}),gZ=Oe(([n])=>{const e=Ve(n).toVar(),t=Ne(Ir(e.x)).toVar(),r=Ne(Ir(e.y)).toVar(),s=Ne(Ir(e.z)).toVar();return Us(jn(t,r,s))}).setLayout({name:"mx_cell_noise_float_2",type:"float",inputs:[{name:"p",type:"vec3"}]}),xZ=Oe(([n])=>{const e=ln(n).toVar(),t=Ne(Ir(e.x)).toVar(),r=Ne(Ir(e.y)).toVar(),s=Ne(Ir(e.z)).toVar(),i=Ne(Ir(e.w)).toVar();return Us(jn(t,r,s,i))}).setLayout({name:"mx_cell_noise_float_3",type:"float",inputs:[{name:"p",type:"vec4"}]}),vZ=ws([mZ,yZ,gZ,xZ]),TZ=Oe(([n])=>{const e=Ee(n).toVar(),t=Ne(Ir(e)).toVar();return Ve(Us(jn(t,Ne(0))),Us(jn(t,Ne(1))),Us(jn(t,Ne(2))))}).setLayout({name:"mx_cell_noise_vec3_0",type:"vec3",inputs:[{name:"p",type:"float"}]}),SZ=Oe(([n])=>{const e=wt(n).toVar(),t=Ne(Ir(e.x)).toVar(),r=Ne(Ir(e.y)).toVar();return Ve(Us(jn(t,r,Ne(0))),Us(jn(t,r,Ne(1))),Us(jn(t,r,Ne(2))))}).setLayout({name:"mx_cell_noise_vec3_1",type:"vec3",inputs:[{name:"p",type:"vec2"}]}),bZ=Oe(([n])=>{const e=Ve(n).toVar(),t=Ne(Ir(e.x)).toVar(),r=Ne(Ir(e.y)).toVar(),s=Ne(Ir(e.z)).toVar();return Ve(Us(jn(t,r,s,Ne(0))),Us(jn(t,r,s,Ne(1))),Us(jn(t,r,s,Ne(2))))}).setLayout({name:"mx_cell_noise_vec3_2",type:"vec3",inputs:[{name:"p",type:"vec3"}]}),wZ=Oe(([n])=>{const e=ln(n).toVar(),t=Ne(Ir(e.x)).toVar(),r=Ne(Ir(e.y)).toVar(),s=Ne(Ir(e.z)).toVar(),i=Ne(Ir(e.w)).toVar();return Ve(Us(jn(t,r,s,i,Ne(0))),Us(jn(t,r,s,i,Ne(1))),Us(jn(t,r,s,i,Ne(2))))}).setLayout({name:"mx_cell_noise_vec3_3",type:"vec3",inputs:[{name:"p",type:"vec4"}]}),wv=ws([TZ,SZ,bZ,wZ]),jx=Oe(([n,e,t,r])=>{const s=Ee(r).toVar(),i=Ee(t).toVar(),a=Ne(e).toVar(),l=Ve(n).toVar(),c=Ee(0).toVar(),p=Ee(1).toVar();return Wn(a,()=>{c.addAssign(p.mul(WE(l))),p.mulAssign(s),l.mulAssign(i)}),c}).setLayout({name:"mx_fractal_noise_float",type:"float",inputs:[{name:"p",type:"vec3"},{name:"octaves",type:"int"},{name:"lacunarity",type:"float"},{name:"diminish",type:"float"}]}),Ev=Oe(([n,e,t,r])=>{const s=Ee(r).toVar(),i=Ee(t).toVar(),a=Ne(e).toVar(),l=Ve(n).toVar(),c=Ve(0).toVar(),p=Ee(1).toVar();return Wn(a,()=>{c.addAssign(p.mul(qm(l))),p.mulAssign(s),l.mulAssign(i)}),c}).setLayout({name:"mx_fractal_noise_vec3",type:"vec3",inputs:[{name:"p",type:"vec3"},{name:"octaves",type:"int"},{name:"lacunarity",type:"float"},{name:"diminish",type:"float"}]}),EZ=Oe(([n,e,t,r])=>{const s=Ee(r).toVar(),i=Ee(t).toVar(),a=Ne(e).toVar(),l=Ve(n).toVar();return wt(jx(l,a,i,s),jx(l.add(Ve(Ne(19),Ne(193),Ne(17))),a,i,s))}).setLayout({name:"mx_fractal_noise_vec2",type:"vec2",inputs:[{name:"p",type:"vec3"},{name:"octaves",type:"int"},{name:"lacunarity",type:"float"},{name:"diminish",type:"float"}]}),PZ=Oe(([n,e,t,r])=>{const s=Ee(r).toVar(),i=Ee(t).toVar(),a=Ne(e).toVar(),l=Ve(n).toVar(),c=Ve(Ev(l,a,i,s)).toVar(),p=Ee(jx(l.add(Ve(Ne(19),Ne(193),Ne(17))),a,i,s)).toVar();return ln(c,p)}).setLayout({name:"mx_fractal_noise_vec4",type:"vec4",inputs:[{name:"p",type:"vec3"},{name:"octaves",type:"int"},{name:"lacunarity",type:"float"},{name:"diminish",type:"float"}]}),AZ=Oe(([n,e,t,r,s,i,a])=>{const l=Ne(a).toVar(),c=Ee(i).toVar(),p=Ne(s).toVar(),d=Ne(r).toVar(),h=Ne(t).toVar(),m=Ne(e).toVar(),x=wt(n).toVar(),w=Ve(wv(wt(m.add(d),h.add(p)))).toVar(),A=wt(w.x,w.y).toVar();A.subAssign(.5),A.mulAssign(c),A.addAssign(.5);const P=wt(wt(Ee(m),Ee(h)).add(A)).toVar(),S=wt(P.sub(x)).toVar();return Jt(l.equal(Ne(2)),()=>Gn(S.x).add(Gn(S.y))),Jt(l.equal(Ne(3)),()=>qr(Gn(S.x),Gn(S.y))),no(S,S)}).setLayout({name:"mx_worley_distance_0",type:"float",inputs:[{name:"p",type:"vec2"},{name:"x",type:"int"},{name:"y",type:"int"},{name:"xoff",type:"int"},{name:"yoff",type:"int"},{name:"jitter",type:"float"},{name:"metric",type:"int"}]}),NZ=Oe(([n,e,t,r,s,i,a,l,c])=>{const p=Ne(c).toVar(),d=Ee(l).toVar(),h=Ne(a).toVar(),m=Ne(i).toVar(),x=Ne(s).toVar(),w=Ne(r).toVar(),A=Ne(t).toVar(),P=Ne(e).toVar(),S=Ve(n).toVar(),C=Ve(wv(Ve(P.add(x),A.add(m),w.add(h)))).toVar();C.subAssign(.5),C.mulAssign(d),C.addAssign(.5);const I=Ve(Ve(Ee(P),Ee(A),Ee(w)).add(C)).toVar(),_=Ve(I.sub(S)).toVar();return Jt(p.equal(Ne(2)),()=>Gn(_.x).add(Gn(_.y)).add(Gn(_.z))),Jt(p.equal(Ne(3)),()=>qr(Gn(_.x),Gn(_.y),Gn(_.z))),no(_,_)}).setLayout({name:"mx_worley_distance_1",type:"float",inputs:[{name:"p",type:"vec3"},{name:"x",type:"int"},{name:"y",type:"int"},{name:"z",type:"int"},{name:"xoff",type:"int"},{name:"yoff",type:"int"},{name:"zoff",type:"int"},{name:"jitter",type:"float"},{name:"metric",type:"int"}]}),jf=ws([AZ,NZ]),_Z=Oe(([n,e,t])=>{const r=Ne(t).toVar(),s=Ee(e).toVar(),i=wt(n).toVar(),a=Ne().toVar(),l=Ne().toVar(),c=wt(ir(i.x,a),ir(i.y,l)).toVar(),p=Ee(1e6).toVar();return Wn({start:-1,end:Ne(1),name:"x",condition:"<="},({x:d})=>{Wn({start:-1,end:Ne(1),name:"y",condition:"<="},({y:h})=>{const m=Ee(jf(c,d,h,a,l,s,r)).toVar();p.assign(to(p,m))})}),Jt(r.equal(Ne(0)),()=>{p.assign(si(p))}),p}).setLayout({name:"mx_worley_noise_float_0",type:"float",inputs:[{name:"p",type:"vec2"},{name:"jitter",type:"float"},{name:"metric",type:"int"}]}),CZ=Oe(([n,e,t])=>{const r=Ne(t).toVar(),s=Ee(e).toVar(),i=wt(n).toVar(),a=Ne().toVar(),l=Ne().toVar(),c=wt(ir(i.x,a),ir(i.y,l)).toVar(),p=wt(1e6,1e6).toVar();return Wn({start:-1,end:Ne(1),name:"x",condition:"<="},({x:d})=>{Wn({start:-1,end:Ne(1),name:"y",condition:"<="},({y:h})=>{const m=Ee(jf(c,d,h,a,l,s,r)).toVar();Jt(m.lessThan(p.x),()=>{p.y.assign(p.x),p.x.assign(m)}).ElseIf(m.lessThan(p.y),()=>{p.y.assign(m)})})}),Jt(r.equal(Ne(0)),()=>{p.assign(si(p))}),p}).setLayout({name:"mx_worley_noise_vec2_0",type:"vec2",inputs:[{name:"p",type:"vec2"},{name:"jitter",type:"float"},{name:"metric",type:"int"}]}),IZ=Oe(([n,e,t])=>{const r=Ne(t).toVar(),s=Ee(e).toVar(),i=wt(n).toVar(),a=Ne().toVar(),l=Ne().toVar(),c=wt(ir(i.x,a),ir(i.y,l)).toVar(),p=Ve(1e6,1e6,1e6).toVar();return Wn({start:-1,end:Ne(1),name:"x",condition:"<="},({x:d})=>{Wn({start:-1,end:Ne(1),name:"y",condition:"<="},({y:h})=>{const m=Ee(jf(c,d,h,a,l,s,r)).toVar();Jt(m.lessThan(p.x),()=>{p.z.assign(p.y),p.y.assign(p.x),p.x.assign(m)}).ElseIf(m.lessThan(p.y),()=>{p.z.assign(p.y),p.y.assign(m)}).ElseIf(m.lessThan(p.z),()=>{p.z.assign(m)})})}),Jt(r.equal(Ne(0)),()=>{p.assign(si(p))}),p}).setLayout({name:"mx_worley_noise_vec3_0",type:"vec3",inputs:[{name:"p",type:"vec2"},{name:"jitter",type:"float"},{name:"metric",type:"int"}]}),MZ=Oe(([n,e,t])=>{const r=Ne(t).toVar(),s=Ee(e).toVar(),i=Ve(n).toVar(),a=Ne().toVar(),l=Ne().toVar(),c=Ne().toVar(),p=Ve(ir(i.x,a),ir(i.y,l),ir(i.z,c)).toVar(),d=Ee(1e6).toVar();return Wn({start:-1,end:Ne(1),name:"x",condition:"<="},({x:h})=>{Wn({start:-1,end:Ne(1),name:"y",condition:"<="},({y:m})=>{Wn({start:-1,end:Ne(1),name:"z",condition:"<="},({z:x})=>{const w=Ee(jf(p,h,m,x,a,l,c,s,r)).toVar();d.assign(to(d,w))})})}),Jt(r.equal(Ne(0)),()=>{d.assign(si(d))}),d}).setLayout({name:"mx_worley_noise_float_1",type:"float",inputs:[{name:"p",type:"vec3"},{name:"jitter",type:"float"},{name:"metric",type:"int"}]}),kZ=ws([_Z,MZ]),OZ=Oe(([n,e,t])=>{const r=Ne(t).toVar(),s=Ee(e).toVar(),i=Ve(n).toVar(),a=Ne().toVar(),l=Ne().toVar(),c=Ne().toVar(),p=Ve(ir(i.x,a),ir(i.y,l),ir(i.z,c)).toVar(),d=wt(1e6,1e6).toVar();return Wn({start:-1,end:Ne(1),name:"x",condition:"<="},({x:h})=>{Wn({start:-1,end:Ne(1),name:"y",condition:"<="},({y:m})=>{Wn({start:-1,end:Ne(1),name:"z",condition:"<="},({z:x})=>{const w=Ee(jf(p,h,m,x,a,l,c,s,r)).toVar();Jt(w.lessThan(d.x),()=>{d.y.assign(d.x),d.x.assign(w)}).ElseIf(w.lessThan(d.y),()=>{d.y.assign(w)})})})}),Jt(r.equal(Ne(0)),()=>{d.assign(si(d))}),d}).setLayout({name:"mx_worley_noise_vec2_1",type:"vec2",inputs:[{name:"p",type:"vec3"},{name:"jitter",type:"float"},{name:"metric",type:"int"}]}),LZ=ws([CZ,OZ]),DZ=Oe(([n,e,t])=>{const r=Ne(t).toVar(),s=Ee(e).toVar(),i=Ve(n).toVar(),a=Ne().toVar(),l=Ne().toVar(),c=Ne().toVar(),p=Ve(ir(i.x,a),ir(i.y,l),ir(i.z,c)).toVar(),d=Ve(1e6,1e6,1e6).toVar();return Wn({start:-1,end:Ne(1),name:"x",condition:"<="},({x:h})=>{Wn({start:-1,end:Ne(1),name:"y",condition:"<="},({y:m})=>{Wn({start:-1,end:Ne(1),name:"z",condition:"<="},({z:x})=>{const w=Ee(jf(p,h,m,x,a,l,c,s,r)).toVar();Jt(w.lessThan(d.x),()=>{d.z.assign(d.y),d.y.assign(d.x),d.x.assign(w)}).ElseIf(w.lessThan(d.y),()=>{d.z.assign(d.y),d.y.assign(w)}).ElseIf(w.lessThan(d.z),()=>{d.z.assign(w)})})})}),Jt(r.equal(Ne(0)),()=>{d.assign(si(d))}),d}).setLayout({name:"mx_worley_noise_vec3_1",type:"vec3",inputs:[{name:"p",type:"vec3"},{name:"jitter",type:"float"},{name:"metric",type:"int"}]}),HE=ws([IZ,DZ]),RZ=Oe(([n,e,t,r,s,i,a,l,c,p,d])=>{const h=Ne(n).toVar(),m=wt(e).toVar(),x=wt(t).toVar(),w=wt(r).toVar(),A=Ee(s).toVar(),P=Ee(i).toVar(),S=Ee(a).toVar(),C=eo(l).toVar(),I=Ne(c).toVar(),_=Ee(p).toVar(),D=Ee(d).toVar(),F=m.mul(x).add(w),O=Ee(0).toVar();return Jt(h.equal(Ne(0)),()=>{O.assign(qm(F))}),Jt(h.equal(Ne(1)),()=>{O.assign(wv(F))}),Jt(h.equal(Ne(2)),()=>{O.assign(HE(F,A,Ne(0)))}),Jt(h.equal(Ne(3)),()=>{O.assign(Ev(Ve(F,0),I,_,D))}),O.assign(O.mul(S.sub(P)).add(P)),Jt(C,()=>{O.assign(Zl(O,P,S))}),O}).setLayout({name:"mx_unifiednoise2d",type:"float",inputs:[{name:"noiseType",type:"int"},{name:"texcoord",type:"vec2"},{name:"freq",type:"vec2"},{name:"offset",type:"vec2"},{name:"jitter",type:"float"},{name:"outmin",type:"float"},{name:"outmax",type:"float"},{name:"clampoutput",type:"bool"},{name:"octaves",type:"int"},{name:"lacunarity",type:"float"},{name:"diminish",type:"float"}]}),FZ=Oe(([n,e,t,r,s,i,a,l,c,p,d])=>{const h=Ne(n).toVar(),m=Ve(e).toVar(),x=Ve(t).toVar(),w=Ve(r).toVar(),A=Ee(s).toVar(),P=Ee(i).toVar(),S=Ee(a).toVar(),C=eo(l).toVar(),I=Ne(c).toVar(),_=Ee(p).toVar(),D=Ee(d).toVar(),F=m.mul(x).add(w),O=Ee(0).toVar();return Jt(h.equal(Ne(0)),()=>{O.assign(qm(F))}),Jt(h.equal(Ne(1)),()=>{O.assign(wv(F))}),Jt(h.equal(Ne(2)),()=>{O.assign(HE(F,A,Ne(0)))}),Jt(h.equal(Ne(3)),()=>{O.assign(Ev(F,I,_,D))}),O.assign(O.mul(S.sub(P)).add(P)),Jt(C,()=>{O.assign(Zl(O,P,S))}),O}).setLayout({name:"mx_unifiednoise3d",type:"float",inputs:[{name:"noiseType",type:"int"},{name:"position",type:"vec3"},{name:"freq",type:"vec3"},{name:"offset",type:"vec3"},{name:"jitter",type:"float"},{name:"outmin",type:"float"},{name:"outmax",type:"float"},{name:"clampoutput",type:"bool"},{name:"octaves",type:"int"},{name:"lacunarity",type:"float"},{name:"diminish",type:"float"}]}),BZ=Oe(([n])=>{const e=n.y,t=n.z,r=Ve().toVar();return Jt(e.lessThan(1e-4),()=>{r.assign(Ve(t,t,t))}).Else(()=>{let s=n.x;s=s.sub(Kl(s)).mul(6).toVar();const i=Ne(sE(s)),a=s.sub(Ee(i)),l=t.mul(e.oneMinus()),c=t.mul(e.mul(a).oneMinus()),p=t.mul(e.mul(a.oneMinus()).oneMinus());Jt(i.equal(Ne(0)),()=>{r.assign(Ve(t,p,l))}).ElseIf(i.equal(Ne(1)),()=>{r.assign(Ve(c,t,l))}).ElseIf(i.equal(Ne(2)),()=>{r.assign(Ve(l,t,p))}).ElseIf(i.equal(Ne(3)),()=>{r.assign(Ve(l,c,t))}).ElseIf(i.equal(Ne(4)),()=>{r.assign(Ve(p,l,t))}).Else(()=>{r.assign(Ve(t,l,c))})}),r}).setLayout({name:"mx_hsvtorgb",type:"vec3",inputs:[{name:"hsv",type:"vec3"}]}),VZ=Oe(([n])=>{const e=Ve(n).toVar(),t=Ee(e.x).toVar(),r=Ee(e.y).toVar(),s=Ee(e.z).toVar(),i=Ee(to(t,to(r,s))).toVar(),a=Ee(qr(t,qr(r,s))).toVar(),l=Ee(a.sub(i)).toVar(),c=Ee().toVar(),p=Ee().toVar(),d=Ee().toVar();return d.assign(a),Jt(a.greaterThan(0),()=>{p.assign(l.div(a))}).Else(()=>{p.assign(0)}),Jt(p.lessThanEqual(0),()=>{c.assign(0)}).Else(()=>{Jt(t.greaterThanEqual(a),()=>{c.assign(r.sub(s).div(l))}).ElseIf(r.greaterThanEqual(a),()=>{c.assign(kr(2,s.sub(t).div(l)))}).Else(()=>{c.assign(kr(4,t.sub(r).div(l)))}),c.mulAssign(1/6),Jt(c.lessThan(0),()=>{c.addAssign(1)})}),Ve(c,p,d)}).setLayout({name:"mx_rgbtohsv",type:"vec3",inputs:[{name:"c",type:"vec3"}]}),jZ=Oe(([n])=>{const e=Ve(n).toVar(),t=Kw(Yw(e,Ve(.04045))).toVar(),r=Ve(e.div(12.92)).toVar(),s=Ve(Ka(qr(e.add(Ve(.055)),Ve(0)).div(1.055),Ve(2.4))).toVar();return nr(r,s,t)}).setLayout({name:"mx_srgb_texture_to_lin_rec709",type:"vec3",inputs:[{name:"color",type:"vec3"}]}),_F=(n,e)=>{n=Ee(n),e=Ee(e);const t=wt(e.dFdx(),e.dFdy()).length().mul(.7071067811865476);return Jc(n.sub(t),n.add(t),e)},CF=(n,e,t,r)=>nr(n,e,t[r].clamp()),zZ=(n,e,t=Un())=>CF(n,e,t,"x"),UZ=(n,e,t=Un())=>CF(n,e,t,"y"),qZ=(n,e,t,r,s=Un())=>{const i=s.x.clamp(),a=s.y.clamp(),l=nr(n,e,i),c=nr(t,r,i);return nr(l,c,a)},IF=(n,e,t,r,s)=>nr(n,e,_F(t,r[s])),$Z=(n,e,t,r=Un())=>IF(n,e,t,r,"x"),WZ=(n,e,t,r=Un())=>IF(n,e,t,r,"y"),HZ=(n=1,e=0,t=Un())=>t.mul(n).add(e),KZ=(n,e=1)=>(n=Ee(n),n.abs().pow(e).mul(n.sign())),XZ=(n,e=1,t=.5)=>Ee(n).sub(t).mul(e).add(t),GZ=(n=Un(),e=1,t=0)=>WE(n.convert("vec2|vec3")).mul(e).add(t),YZ=(n=Un(),e=1,t=0)=>qm(n.convert("vec2|vec3")).mul(e).add(t),JZ=(n=Un(),e=1,t=0)=>(n=n.convert("vec2|vec3"),ln(qm(n),WE(n.add(wt(19,73)))).mul(e).add(t)),ZZ=(n,e=Un(),t=wt(1,1),r=wt(0,0),s=1,i=0,a=1,l=!1,c=1,p=2,d=.5)=>RZ(n,e.convert("vec2|vec3"),t,r,s,i,a,l,c,p,d),QZ=(n,e=Un(),t=wt(1,1),r=wt(0,0),s=1,i=0,a=1,l=!1,c=1,p=2,d=.5)=>FZ(n,e.convert("vec2|vec3"),t,r,s,i,a,l,c,p,d),eQ=(n=Un(),e=1)=>kZ(n.convert("vec2|vec3"),e,Ne(1)),tQ=(n=Un(),e=1)=>LZ(n.convert("vec2|vec3"),e,Ne(1)),nQ=(n=Un(),e=1)=>HE(n.convert("vec2|vec3"),e,Ne(1)),rQ=(n=Un())=>vZ(n.convert("vec2|vec3")),sQ=(n=Un(),e=3,t=2,r=.5,s=1)=>jx(n,Ne(e),t,r).mul(s),iQ=(n=Un(),e=3,t=2,r=.5,s=1)=>EZ(n,Ne(e),t,r).mul(s),aQ=(n=Un(),e=3,t=2,r=.5,s=1)=>Ev(n,Ne(e),t,r).mul(s),oQ=(n=Un(),e=3,t=2,r=.5,s=1)=>PZ(n,Ne(e),t,r).mul(s),lQ=(n,e=Ee(0))=>kr(n,e),uQ=(n,e=Ee(0))=>An(n,e),cQ=(n,e=Ee(1))=>an(n,e),pQ=(n,e=Ee(1))=>Jl(n,e),dQ=(n,e=Ee(1))=>Dm(n,e),fQ=(n,e=Ee(1))=>Ka(n,e),hQ=(n=Ee(0),e=Ee(1))=>Qw(n,e),mQ=()=>Vf,yQ=()=>nF,gQ=(n,e=Ee(1))=>An(e,n),xQ=(n,e,t,r)=>n.greaterThan(e).mix(t,r),vQ=(n,e,t,r)=>n.greaterThanEqual(e).mix(t,r),TQ=(n,e,t,r)=>n.equal(e).mix(t,r),SQ=(n,e=null)=>{if(typeof e=="string"){const t={x:0,r:0,y:1,g:1,z:2,b:2,w:3,a:3},r=e.replace(/^out/,"").toLowerCase();if(t[r]!==void 0)return n.element(t[r])}if(typeof e=="number")return n.element(e);if(typeof e=="string"&&e.length===1){const t={x:0,r:0,y:1,g:1,z:2,b:2,w:3,a:3};if(t[e]!==void 0)return n.element(t[e])}return n},bQ=(n,e=wt(.5,.5),t=wt(1,1),r=Ee(0),s=wt(0,0))=>{let i=n;if(e&&(i=i.sub(e)),t&&(i=i.mul(t)),r){const a=r.mul(Math.PI/180),l=a.cos(),c=a.sin();i=wt(i.x.mul(l).sub(i.y.mul(c)),i.x.mul(c).add(i.y.mul(l)))}return e&&(i=i.add(e)),s&&(i=i.add(s)),i},wQ=(n,e)=>{n=wt(n),e=Ee(e);const t=e.mul(Math.PI/180);return LE(n,t)},EQ=(n,e,t)=>{n=Ve(n),e=Ee(e),t=Ve(t);const r=e.mul(Math.PI/180),s=t.normalize(),i=r.cos(),a=r.sin(),l=Ee(1).sub(i);return n.mul(i).add(s.cross(n).mul(a)).add(s.mul(s.dot(n)).mul(l))},PQ=(n,e)=>(n=Ve(n),e=Ee(e),_E(n,e)),AQ=Oe(([n,e,t])=>{const r=Ya(n).toVar(),s=An(Ee(.5).mul(e.sub(t)),Xp).div(r).toVar(),i=An(Ee(-.5).mul(e.sub(t)),Xp).div(r).toVar(),a=Ve().toVar();a.x=r.x.greaterThan(Ee(0)).select(s.x,i.x),a.y=r.y.greaterThan(Ee(0)).select(s.y,i.y),a.z=r.z.greaterThan(Ee(0)).select(s.z,i.z);const l=to(a.x,a.y,a.z).toVar();return Xp.add(r.mul(l)).toVar().sub(t)}),NQ=Oe(([n,e])=>{const t=n.x,r=n.y,s=n.z;let i=e.element(0).mul(.886227);return i=i.add(e.element(1).mul(2*.511664).mul(r)),i=i.add(e.element(2).mul(2*.511664).mul(s)),i=i.add(e.element(3).mul(2*.511664).mul(t)),i=i.add(e.element(4).mul(2*.429043).mul(t).mul(r)),i=i.add(e.element(5).mul(2*.429043).mul(r).mul(s)),i=i.add(e.element(6).mul(s.mul(s).mul(.743125).sub(.247708))),i=i.add(e.element(7).mul(2*.429043).mul(t).mul(s)),i=i.add(e.element(8).mul(.429043).mul(an(t,t).sub(an(r,r)))),i});var q=Object.freeze({__proto__:null,BRDF_GGX:BK,BRDF_Lambert:OK,BasicPointShadowFilter:TF,BasicShadowFilter:dF,Break:CR,Const:TD,Continue:oK,DFGLUT:jK,D_GGX:UR,Discard:DD,EPSILON:jL,F_Schlick:VR,Fn:Oe,HALF_PI:X$,INFINITY:W$,If:Jt,Loop:Wn,NodeAccess:Wl,NodeShaderStage:Gh,NodeType:Wq,NodeUpdateType:Mn,OnBeforeMaterialUpdate:TG,OnBeforeObjectUpdate:vG,OnMaterialUpdate:xG,OnObjectUpdate:gG,PCFShadowFilter:fF,PCFSoftShadowFilter:hF,PI:kx,PI2:H$,PointShadowFilter:SF,Return:dW,Schlick_to_F0:zK,ShaderNode:of,Stack:av,Switch:m$,TBNViewMatrix:NE,TWO_PI:K$,VSMShadowFilter:mF,V_GGX_SmithCorrelated:zR,Var:vD,VarIntent:SD,abs:Gn,acesFilmicToneMapping:rY,acos:XL,add:kr,addMethodChaining:et,addNodeElement:gW,agxToneMapping:oY,all:zL,alphaT:Z1,and:PL,anisotropy:fL,anisotropyB:mf,anisotropyT:sx,any:UL,append:v$,array:gL,arrayBuffer:g$,asin:KL,assign:xL,atan:Qw,atomicAdd:FY,atomicAnd:zY,atomicFunc:ru,atomicLoad:DY,atomicMax:VY,atomicMin:jY,atomicOr:UY,atomicStore:RY,atomicSub:BY,atomicXor:qY,attenuationColor:V$,attenuationDistance:B$,attribute:Zc,attributeArray:wG,backgroundBlurriness:NG,backgroundIntensity:_G,backgroundRotation:CG,batch:AR,bentNormalView:fH,billboarding:tG,bitAnd:CL,bitNot:IL,bitOr:ML,bitXor:kL,bitangentGeometry:uH,bitangentLocal:cH,bitangentView:dR,bitangentWorld:pH,bitcast:eF,blendBurn:NK,blendColor:MK,blendDodge:_K,blendOverlay:IK,blendScreen:CK,blur:XR,bool:eo,buffer:Rm,bufferAttribute:hE,builtin:np,builtinAOContext:gD,builtinShadowContext:yD,bumpMap:_E,bvec2:oL,bvec3:Kw,bvec4:lL,bypass:MD,cache:ID,call:vL,cameraFar:Vc,cameraIndex:rp,cameraNear:Bc,cameraNormalMatrix:kW,cameraPosition:OW,cameraProjectionMatrix:Fm,cameraProjectionMatrixInverse:qD,cameraViewMatrix:nu,cameraViewport:LW,cameraWorldMatrix:MW,cbrt:lD,cdl:$G,ceil:uv,checker:$J,cineonToneMapping:tY,clamp:Zl,clearcoat:b$,clearcoatNormalView:YD,clearcoatRoughness:w$,clipSpace:HD,code:Sv,color:aL,colorSpaceToWorking:fE,colorToDirection:mH,compute:CD,computeKernel:mE,computeSkinning:iK,context:tp,convert:cL,convertColorSpace:nW,convertToTexture:dG,cos:Ho,countLeadingZeros:MX,countOneBits:kX,countTrailingZeros:IX,cross:Ku,cubeTexture:Wa,cubeTextureBase:AE,dFdx:nE,dFdy:rE,dashSize:k$,debug:FD,decrement:BL,decrementBefore:RL,defaultBuildStages:Hq,defaultShaderStages:Q3,defined:xm,degrees:$L,deltaTime:KX,densityFogFactor:yY,depth:OE,depthPass:YG,determinant:QL,difference:rD,diffuseColor:Qs,diffuseContribution:T$,directPointLight:qJ,directionToColor:hH,directionToFaceDirection:Vm,dispersion:j$,disposeShadowMaterial:gF,distance:nD,div:Jl,dot:no,drawIndex:wR,dynamicBufferAttribute:oW,element:uL,emissive:J1,equal:TL,equirectUV:BR,exp:WL,exp2:Cf,exponentialHeightFogFactor:gY,expression:el,faceDirection:bE,faceForward:lE,faceforward:G$,float:Ee,floatBitsToInt:NX,floatBitsToUint:tF,floor:Kl,fog:xY,fract:nl,frameGroup:z$,frameId:nF,frontFacing:XD,fwidth:iE,gain:LX,gapSize:O$,getConstNodeType:sL,getCurrentStack:iL,getDirection:HR,getDistanceAttenuation:bF,getGeometryRoughness:jR,getNormalFromDepth:hG,getParallaxCorrectNormal:AQ,getRoughness:LK,getScreenPosition:fG,getShIrradianceAt:NQ,getShadowMaterial:yF,getShadowRenderObjectFunction:xF,getTextureIndex:ZR,getViewPosition:nf,ggxConvolution:GR,globalId:EY,glsl:pY,glslFn:fY,grayscale:jG,greaterThan:Yw,greaterThanEqual:EL,hash:OX,highpModelNormalViewMatrix:XW,highpModelViewMatrix:KW,hue:qG,increment:FL,incrementBefore:DL,inspector:BD,instance:nK,instanceIndex:Xl,instancedArray:EG,instancedBufferAttribute:Lx,instancedDynamicBufferAttribute:Q1,instancedMesh:PR,int:Ne,intBitsToFloat:_X,interleavedGradientNoise:BE,inverse:eD,inverseSqrt:Zw,inversesqrt:Y$,invocationLocalIndex:tK,invocationSubgroupIndex:eK,ior:D$,iridescence:dL,iridescenceIOR:A$,iridescenceThickness:N$,isolate:yE,ivec2:jr,ivec3:Hw,ivec4:Xw,js:uY,label:xD,length:Ox,lengthSq:aE,lessThan:bL,lessThanEqual:wL,lightPosition:cF,lightProjectionUV:mJ,lightShadowMatrix:qE,lightTargetDirection:gJ,lightTargetPosition:pF,lightViewPosition:yJ,lightingContext:kR,lights:SJ,linearDepth:Dx,linearToneMapping:QG,localId:PY,log:Jw,log2:qu,logarithmicDepthToViewZ:vK,luminance:jE,mat2:ov,mat3:ya,mat4:$c,matcapUV:dX,materialAO:TR,materialAlphaTest:hR,materialAnisotropy:LH,materialAnisotropyVector:tf,materialAttenuationColor:UH,materialAttenuationDistance:zH,materialClearcoat:_H,materialClearcoatNormal:IH,materialClearcoatRoughness:CH,materialColor:mR,materialDispersion:GH,materialEmissive:yR,materialEnvIntensity:eH,materialEnvRotation:PE,materialIOR:jH,materialIridescence:DH,materialIridescenceIOR:RH,materialIridescenceThickness:FH,materialLightMap:vR,materialLineDashOffset:KH,materialLineDashSize:$H,materialLineGapSize:WH,materialLineScale:qH,materialLineWidth:HH,materialMetalness:NH,materialNormal:xR,materialOpacity:gR,materialPointSize:XH,materialReference:jp,materialReflectivity:PH,materialRefractionRatio:ZD,materialRotation:MH,materialRoughness:AH,materialSheen:kH,materialSheenRoughness:OH,materialShininess:TH,materialSpecular:SH,materialSpecularColor:wH,materialSpecularIntensity:bH,materialSpecularStrength:EH,materialThickness:VH,materialTransmission:BH,max:qr,maxMipLevel:gE,mediumpModelViewMatrix:WD,metalness:S$,min:to,mix:nr,mixElement:pD,mod:Dm,modInt:VL,modelDirection:zW,modelNormalMatrix:$D,modelPosition:UW,modelRadius:WW,modelScale:qW,modelViewMatrix:Bm,modelViewPosition:$W,modelViewProjection:SR,modelWorldMatrix:Bu,modelWorldMatrixInverse:HW,morphReference:IR,mrt:QR,mul:an,mx_aastep:_F,mx_add:lQ,mx_atan2:hQ,mx_cell_noise_float:rQ,mx_contrast:XZ,mx_divide:pQ,mx_fractal_noise_float:sQ,mx_fractal_noise_vec2:iQ,mx_fractal_noise_vec3:aQ,mx_fractal_noise_vec4:oQ,mx_frame:yQ,mx_heighttonormal:PQ,mx_hsvtorgb:BZ,mx_ifequal:TQ,mx_ifgreater:xQ,mx_ifgreatereq:vQ,mx_invert:gQ,mx_modulo:dQ,mx_multiply:cQ,mx_noise_float:GZ,mx_noise_vec3:YZ,mx_noise_vec4:JZ,mx_place2d:bQ,mx_power:fQ,mx_ramp4:qZ,mx_ramplr:zZ,mx_ramptb:UZ,mx_rgbtohsv:VZ,mx_rotate2d:wQ,mx_rotate3d:EQ,mx_safepower:KZ,mx_separate:SQ,mx_splitlr:$Z,mx_splittb:WZ,mx_srgb_texture_to_lin_rec709:jZ,mx_subtract:uQ,mx_timer:mQ,mx_transform_uv:HZ,mx_unifiednoise2d:ZZ,mx_unifiednoise3d:QZ,mx_worley_noise_float:eQ,mx_worley_noise_vec2:tQ,mx_worley_noise_vec3:nQ,negate:tE,neutralToneMapping:lY,nodeArray:Kp,nodeImmutable:Nt,nodeObject:Ft,nodeObjectIntent:Yh,nodeObjects:iv,nodeProxy:dn,nodeProxyIntent:ft,normalFlat:GD,normalGeometry:wE,normalLocal:ki,normalMap:sw,normalView:bs,normalViewGeometry:Tm,normalWorld:pv,normalWorldGeometry:YW,normalize:Ya,not:NL,notEqual:SL,numWorkgroups:bY,objectDirection:DW,objectGroup:yL,objectPosition:FW,objectRadius:jW,objectScale:BW,objectViewPosition:VW,objectWorldMatrix:RW,oneMinus:GL,or:AL,orthographicDepthToViewZ:xK,oscSawtooth:JX,oscSine:XX,oscSquare:GX,oscTriangle:YX,output:yf,outputStruct:wX,overloadingFn:ws,packHalf2x16:VX,packSnorm2x16:FX,packUnorm2x16:BX,parabola:lw,parallaxDirection:fR,parallaxUV:dH,parameter:yX,pass:XG,passTexture:GG,pcurve:DX,perspectiveDepthToViewZ:ME,pmremTexture:pX,pointShadow:UJ,pointUV:AG,pointWidth:L$,positionGeometry:SE,positionLocal:Cr,positionPrevious:kf,positionView:Gr,positionViewDirection:ca,positionWorld:Xp,positionWorldDirection:KD,posterize:WG,pow:Ka,pow2:sD,pow3:iD,pow4:aD,premultiplyAlpha:FR,property:Uu,quadBroadcast:hJ,quadSwapDiagonal:lJ,quadSwapX:aJ,quadSwapY:oJ,radians:qL,rand:cD,range:TY,rangeFogFactor:mY,reciprocal:JL,reference:zr,referenceBuffer:ew,reflect:tD,reflectVector:tR,reflectView:QD,reflector:oG,refract:uD,refractVector:nR,refractView:eR,reinhardToneMapping:eY,remap:OD,remapClamp:LD,renderGroup:un,renderOutput:RD,rendererReference:AD,replaceDefaultUV:ZX,rotate:LE,rotateUV:QX,roughness:pL,round:YL,rtt:iF,sRGBTransferEOTF:wD,sRGBTransferOETF:ED,sample:yG,sampler:wW,samplerComparison:EW,saturate:oE,saturation:zG,screenCoordinate:ld,screenDPR:_W,screenSize:Mf,screenUV:od,select:zs,setCurrentStack:Y1,setName:uE,shaderStages:Kq,shadow:LJ,shadowPositionWorld:$E,shapeCircle:WJ,sharedUniformGroup:lv,sheen:E$,sheenRoughness:P$,shiftLeft:OL,shiftRight:LL,shininess:M$,sign:eE,sin:ei,sinc:RX,skinning:_R,smoothstep:Jc,smoothstepElement:dD,specularColor:_$,specularColorBlended:C$,specularF90:I$,spherizeUV:eG,split:x$,spritesheetUV:rG,sqrt:si,stack:xX,step:If,stepElement:fD,storage:Hc,storageBarrier:CY,storageTexture:aF,string:y$,struct:bX,sub:An,subBuild:gf,subgroupAdd:HY,subgroupAll:rJ,subgroupAnd:ZY,subgroupAny:sJ,subgroupBallot:WY,subgroupBroadcast:uJ,subgroupBroadcastFirst:iJ,subgroupElect:$Y,subgroupExclusiveAdd:XY,subgroupExclusiveMul:JY,subgroupInclusiveAdd:KY,subgroupInclusiveMul:YY,subgroupIndex:QH,subgroupMax:nJ,subgroupMin:tJ,subgroupMul:GY,subgroupOr:QY,subgroupShuffle:cJ,subgroupShuffleDown:fJ,subgroupShuffleUp:dJ,subgroupShuffleXor:pJ,subgroupSize:AY,subgroupXor:eJ,tan:HL,tangentGeometry:fv,tangentLocal:Of,tangentView:hv,tangentWorld:pR,texture:or,texture3D:VE,texture3DLevel:DG,texture3DLoad:LG,textureBarrier:IY,textureBicubic:UK,textureBicubicLevel:WR,textureCubeUV:KR,textureLevel:bW,textureLoad:mr,textureSize:Wc,textureStore:MG,thickness:F$,time:Vf,toneMapping:ND,toneMappingExposure:_D,toonOutlinePass:ZG,transformDirection:oD,transformNormal:JD,transformNormalToView:EE,transformedClearcoatNormalView:QW,transformedNormalView:JW,transformedNormalWorld:ZW,transmission:R$,transpose:ZL,triNoise3D:$X,triplanarTexture:sG,triplanarTextures:rF,trunc:sE,uint:lt,uintBitsToFloat:CX,uniform:Qt,uniformArray:ti,uniformCubeTexture:nH,uniformFlow:mD,uniformGroup:mL,uniformTexture:SW,unpackHalf2x16:UX,unpackNormal:rw,unpackSnorm2x16:jX,unpackUnorm2x16:zX,unpremultiplyAlpha:kK,userData:FG,uv:Un,uvec2:Ww,uvec3:id,uvec4:Gw,varying:ad,varyingProperty:vm,vec2:wt,vec3:Ve,vec4:ln,vectorComponents:Bf,velocity:VG,vertexColor:RR,vertexIndex:bR,vertexStage:bD,vibrance:UG,viewZToLogarithmicDepth:kE,viewZToOrthographicDepth:xf,viewZToPerspectiveDepth:IE,viewZToReversedOrthographicDepth:gK,viewZToReversedPerspectiveDepth:LR,viewport:TE,viewportCoordinate:UD,viewportDepthTexture:CE,viewportLinearDepth:TK,viewportMipTexture:OR,viewportOpaqueMipTexture:mK,viewportResolution:IW,viewportSafeUV:nG,viewportSharedTexture:KG,viewportSize:zD,viewportTexture:fK,viewportUV:CW,vogelDiskSample:Yo,wgsl:cY,wgslFn:hY,workgroupArray:OY,workgroupBarrier:_Y,workgroupId:wY,workingToColorSpace:PD,xor:_L});new cs("uint tsl_bitcast_int_to_uint ( int x ) { return floatBitsToUint( intBitsToFloat ( x ) ); }"),new cs("uint tsl_bitcast_uint_to_int ( uint x ) { return floatBitsToInt( uintBitsToFloat ( x ) ); }");const QS=typeof self<"u"&&self.GPUShaderStage?self.GPUShaderStage:{VERTEX:1,FRAGMENT:2,COMPUTE:4};Wl.READ_ONLY+"",Wl.WRITE_ONLY+"",Wl.READ_WRITE+"";QS.VERTEX,QS.FRAGMENT,QS.COMPUTE;new cs("fn tsl_xor( a : bool, b : bool ) -> bool { return ( a || b ) && !( a && b ); }"),new cs("fn tsl_mod_float( x : f32, y : f32 ) -> f32 { return x - y * floor( x / y ); }"),new cs("fn tsl_mod_vec2( x : vec2f, y : vec2f ) -> vec2f { return x - y * floor( x / y ); }"),new cs("fn tsl_mod_vec3( x : vec3f, y : vec3f ) -> vec3f { return x - y * floor( x / y ); }"),new cs("fn tsl_mod_vec4( x : vec4f, y : vec4f ) -> vec4f { return x - y * floor( x / y ); }"),new cs("fn tsl_equals_bool( a : bool, b : bool ) -> bool { return a == b; }"),new cs("fn tsl_equals_bvec2( a : vec2f, b : vec2f ) -> vec2<bool> { return vec2<bool>( a.x == b.x, a.y == b.y ); }"),new cs("fn tsl_equals_bvec3( a : vec3f, b : vec3f ) -> vec3<bool> { return vec3<bool>( a.x == b.x, a.y == b.y, a.z == b.z ); }"),new cs("fn tsl_equals_bvec4( a : vec4f, b : vec4f ) -> vec4<bool> { return vec4<bool>( a.x == b.x, a.y == b.y, a.z == b.z, a.w == b.w ); }"),new cs("fn tsl_repeatWrapping_float( coord: f32 ) -> f32 { return fract( coord ); }"),new cs("fn tsl_mirrorWrapping_float( coord: f32 ) -> f32 { let mirrored = fract( coord * 0.5 ) * 2.0; return 1.0 - abs( 1.0 - mirrored ); }"),new cs("fn tsl_clampWrapping_float( coord: f32 ) -> f32 { return clamp( coord, 0.0, 1.0 ); }"),new cs(`
fn tsl_biquadraticTexture( map : texture_2d<f32>, coord : vec2f, iRes : vec2u, level : u32 ) -> vec4f {

	let res = vec2f( iRes );

	let uvScaled = coord * res;
	let uvWrapping = ( ( uvScaled % res ) + res ) % res;

	// https://www.shadertoy.com/view/WtyXRy

	let uv = uvWrapping - 0.5;
	let iuv = floor( uv );
	let f = fract( uv );

	let rg1 = textureLoad( map, vec2u( iuv + vec2( 0.5, 0.5 ) ) % iRes, level );
	let rg2 = textureLoad( map, vec2u( iuv + vec2( 1.5, 0.5 ) ) % iRes, level );
	let rg3 = textureLoad( map, vec2u( iuv + vec2( 0.5, 1.5 ) ) % iRes, level );
	let rg4 = textureLoad( map, vec2u( iuv + vec2( 1.5, 1.5 ) ) % iRes, level );

	return mix( mix( rg1, rg2, f.x ), mix( rg3, rg4, f.x ), f.y );

}
`),new cs(`
fn tsl_biquadraticTexture_array( map : texture_2d_array<f32>, coord : vec2f, iRes : vec2u, layer : u32, level : u32 ) -> vec4f {

	let res = vec2f( iRes );

	let uvScaled = coord * res;
	let uvWrapping = ( ( uvScaled % res ) + res ) % res;

	// https://www.shadertoy.com/view/WtyXRy

	let uv = uvWrapping - 0.5;
	let iuv = floor( uv );
	let f = fract( uv );

	let rg1 = textureLoad( map, vec2u( iuv + vec2( 0.5, 0.5 ) ) % iRes, layer, level );
	let rg2 = textureLoad( map, vec2u( iuv + vec2( 1.5, 0.5 ) ) % iRes, layer, level );
	let rg3 = textureLoad( map, vec2u( iuv + vec2( 0.5, 1.5 ) ) % iRes, layer, level );
	let rg4 = textureLoad( map, vec2u( iuv + vec2( 1.5, 1.5 ) ) % iRes, layer, level );

	return mix( mix( rg1, rg2, f.x ), mix( rg3, rg4, f.x ), f.y );

}
`);const _Q=new Map([[Int8Array,["sint8","snorm8"]],[Uint8Array,["uint8","unorm8"]],[Int16Array,["sint16","snorm16"]],[Uint16Array,["uint16","unorm16"]],[Int32Array,["sint32","snorm32"]],[Uint32Array,["uint32","unorm32"]],[Float32Array,["float32"]]]);typeof Float16Array<"u"&&_Q.set(Float16Array,["float16"]);/**
 * @license
 * Copyright 2010-2026 Three.js Authors
 * SPDX-License-Identifier: MIT
 */q.BRDF_GGX;q.BRDF_Lambert;q.BasicPointShadowFilter;q.BasicShadowFilter;q.Break;q.Const;q.Continue;q.DFGLUT;q.D_GGX;q.Discard;q.EPSILON;q.F_Schlick;const kt=q.Fn;q.INFINITY;const eu=q.If,ao=q.Loop;q.NodeAccess;q.NodeShaderStage;q.NodeType;q.NodeUpdateType;q.PCFShadowFilter;q.PCFSoftShadowFilter;q.PI;q.PI2;q.TWO_PI;q.HALF_PI;q.PointShadowFilter;q.Return;q.Schlick_to_F0;q.ShaderNode;q.Stack;q.Switch;q.TBNViewMatrix;q.VSMShadowFilter;q.V_GGX_SmithCorrelated;q.Var;q.VarIntent;const Ai=q.abs;q.acesFilmicToneMapping;const KE=q.acos,ii=q.add;q.addMethodChaining;q.addNodeElement;q.agxToneMapping;q.all;q.alphaT;q.and;q.anisotropy;q.anisotropyB;q.anisotropyT;q.any;q.append;q.array;q.arrayBuffer;q.asin;q.assign;q.atan;q.atomicAdd;q.atomicAnd;q.atomicFunc;q.atomicLoad;q.atomicMax;q.atomicMin;q.atomicOr;q.atomicStore;q.atomicSub;q.atomicXor;q.attenuationColor;q.attenuationDistance;q.attribute;q.attributeArray;q.backgroundBlurriness;q.backgroundIntensity;q.backgroundRotation;q.batch;q.bentNormalView;q.billboarding;q.bitAnd;q.bitNot;q.bitOr;q.bitXor;q.bitangentGeometry;q.bitangentLocal;q.bitangentView;q.bitangentWorld;q.bitcast;q.blendBurn;q.blendColor;q.blendDodge;q.blendOverlay;q.blendScreen;q.blur;q.bool;q.buffer;q.bufferAttribute;q.bumpMap;q.builtin;q.builtinAOContext;q.builtinShadowContext;q.bvec2;q.bvec3;q.bvec4;q.bypass;q.cache;q.call;q.cameraFar;q.cameraIndex;q.cameraNear;q.cameraNormalMatrix;q.cameraPosition;q.cameraProjectionMatrix;q.cameraProjectionMatrixInverse;q.cameraViewMatrix;q.cameraViewport;q.cameraWorldMatrix;q.cbrt;q.cdl;q.ceil;q.checker;q.cineonToneMapping;const Gp=q.clamp;q.clearcoat;q.clearcoatNormalView;q.clearcoatRoughness;q.clipSpace;q.code;q.color;q.colorSpaceToWorking;q.colorToDirection;q.compute;q.computeKernel;q.computeSkinning;q.context;q.convert;q.convertColorSpace;q.convertToTexture;q.countLeadingZeros;q.countOneBits;q.countTrailingZeros;const fa=q.cos,Yu=q.cross;q.cubeTexture;q.cubeTextureBase;q.dFdx;q.dFdy;q.dashSize;q.debug;q.decrement;q.decrementBefore;q.defaultBuildStages;q.defaultShaderStages;q.defined;q.degrees;q.deltaTime;q.densityFog;q.densityFogFactor;q.depth;q.depthPass;q.determinant;q.difference;q.diffuseColor;q.directPointLight;q.directionToColor;q.directionToFaceDirection;q.dispersion;const CQ=q.distance,Jh=q.div;q.dot;q.drawIndex;q.dynamicBufferAttribute;q.element;q.emissive;q.equal;const MF=q.equirectUV,cn=q.exp,IQ=q.exp2;q.exponentialHeightFogFactor;q.expression;q.faceDirection;q.faceForward;q.faceforward;const Rn=q.float;q.floatBitsToInt;q.floatBitsToUint;const eb=q.floor;q.fog;q.fract;q.frameGroup;q.frameId;q.frontFacing;q.fwidth;q.gain;q.gapSize;q.getConstNodeType;q.getCurrentStack;q.getDirection;q.getDistanceAttenuation;q.getGeometryRoughness;q.getNormalFromDepth;q.interleavedGradientNoise;q.vogelDiskSample;q.getParallaxCorrectNormal;q.getRoughness;q.getScreenPosition;q.getShIrradianceAt;q.getShadowMaterial;q.getShadowRenderObjectFunction;q.getTextureIndex;q.getViewPosition;q.globalId;q.glsl;q.glslFn;q.grayscale;q.greaterThan;q.greaterThanEqual;q.hash;q.highpModelNormalViewMatrix;q.highpModelViewMatrix;q.hue;q.increment;q.incrementBefore;q.instance;q.instanceIndex;q.instancedArray;q.instancedBufferAttribute;q.instancedDynamicBufferAttribute;q.instancedMesh;const vf=q.int;q.intBitsToFloat;q.inverse;q.inverseSqrt;q.inversesqrt;q.invocationLocalIndex;q.invocationSubgroupIndex;q.ior;q.iridescence;q.iridescenceIOR;q.iridescenceThickness;q.ivec2;q.ivec3;q.ivec4;q.js;q.label;q.length;q.lengthSq;q.lessThan;q.lessThanEqual;q.lightPosition;q.lightProjectionUV;q.lightShadowMatrix;q.lightTargetDirection;q.lightTargetPosition;q.lightViewPosition;q.lightingContext;q.lights;q.linearDepth;q.linearToneMapping;q.localId;q.log;const AC=q.log2;q.logarithmicDepthToViewZ;q.luminance;const MQ=q.mat2;q.mat3;q.mat4;const kQ=q.matcapUV;q.materialAO;q.materialAlphaTest;q.materialAnisotropy;q.materialAnisotropyVector;q.materialAttenuationColor;q.materialAttenuationDistance;q.materialClearcoat;q.materialClearcoatNormal;q.materialClearcoatRoughness;q.materialColor;q.materialDispersion;q.materialEmissive;q.materialEnvIntensity;q.materialEnvRotation;q.materialIOR;q.materialIridescence;q.materialIridescenceIOR;q.materialIridescenceThickness;q.materialLightMap;q.materialLineDashOffset;q.materialLineDashSize;q.materialLineGapSize;q.materialLineScale;q.materialLineWidth;q.materialMetalness;q.materialNormal;q.materialOpacity;q.materialPointSize;q.materialReference;q.materialReflectivity;q.materialRefractionRatio;q.materialRotation;q.materialRoughness;q.materialSheen;q.materialSheenRoughness;q.materialShininess;q.materialSpecular;q.materialSpecularColor;q.materialSpecularIntensity;q.materialSpecularStrength;q.materialThickness;q.materialTransmission;const Qc=q.max;q.maxMipLevel;q.mediumpModelViewMatrix;q.metalness;const Kc=q.min,Yt=q.mix;q.mixElement;const kF=q.mod;q.modInt;q.modelDirection;q.modelNormalMatrix;q.modelPosition;q.modelRadius;q.modelScale;q.modelViewMatrix;q.modelViewPosition;q.modelViewProjection;q.modelWorldMatrix;q.modelWorldMatrixInverse;q.morphReference;q.mrt;const Tr=q.mul;q.mx_aastep;q.mx_add;q.mx_atan2;q.mx_cell_noise_float;q.mx_contrast;q.mx_divide;const $u=q.mx_fractal_noise_float;q.mx_fractal_noise_vec2;const XE=q.mx_fractal_noise_vec3;q.mx_fractal_noise_vec4;q.mx_frame;q.mx_heighttonormal;q.mx_hsvtorgb;q.mx_ifequal;q.mx_ifgreater;q.mx_ifgreatereq;q.mx_invert;q.mx_modulo;q.mx_multiply;const vt=q.mx_noise_float;q.mx_noise_vec3;q.mx_noise_vec4;q.mx_place2d;q.mx_power;q.mx_ramp4;q.mx_ramplr;q.mx_ramptb;q.mx_rgbtohsv;q.mx_rotate2d;q.mx_rotate3d;q.mx_safepower;q.mx_separate;q.mx_splitlr;q.mx_splittb;q.mx_srgb_texture_to_lin_rec709;q.mx_subtract;q.mx_timer;q.mx_transform_uv;q.mx_unifiednoise2d;q.mx_unifiednoise3d;const Ii=q.mx_worley_noise_float,OF=q.mx_worley_noise_vec2,LF=q.mx_worley_noise_vec3;q.negate;q.neutralToneMapping;q.nodeArray;q.nodeImmutable;q.nodeObject;q.nodeObjectIntent;q.nodeObjects;q.nodeProxy;q.nodeProxyIntent;q.normalFlat;q.normalGeometry;const sp=q.normalLocal;q.normalMap;q.normalView;q.normalViewGeometry;q.normalWorld;q.normalWorldGeometry;q.normalize;q.not;q.notEqual;q.numWorkgroups;q.objectDirection;q.objectGroup;q.objectPosition;q.objectRadius;q.objectScale;q.objectViewPosition;q.objectWorldMatrix;q.OnBeforeObjectUpdate;q.OnBeforeMaterialUpdate;q.OnObjectUpdate;q.OnMaterialUpdate;const tl=q.oneMinus,OQ=q.or;q.orthographicDepthToViewZ;q.oscSawtooth;q.oscSine;q.oscSquare;q.oscTriangle;q.output;q.outputStruct;q.overloadingFn;q.packHalf2x16;q.packSnorm2x16;q.packUnorm2x16;q.parabola;q.parallaxDirection;q.parallaxUV;q.parameter;q.pass;q.passTexture;q.pcurve;q.perspectiveDepthToViewZ;q.pmremTexture;q.pointShadow;q.pointUV;q.pointWidth;const en=q.positionGeometry;q.positionLocal;q.positionPrevious;q.positionView;q.positionViewDirection;q.positionWorld;q.positionWorldDirection;q.posterize;const Yp=q.pow;q.pow2;q.pow3;q.pow4;q.premultiplyAlpha;q.property;const DF=q.radians;q.rand;q.range;q.rangeFog;q.rangeFogFactor;const NC=q.reciprocal;q.reference;q.referenceBuffer;q.reflect;q.reflectVector;q.reflectView;q.reflector;q.refract;q.refractVector;q.refractView;q.reinhardToneMapping;const $p=q.remap,RF=q.remapClamp;q.renderGroup;q.renderOutput;q.rendererReference;q.replaceDefaultUV;const FF=q.rotate;q.rotateUV;q.roughness;const _C=q.round;q.rtt;q.sRGBTransferEOTF;q.sRGBTransferOETF;q.sample;q.sampler;q.samplerComparison;q.saturate;q.saturation;q.screen;const LQ=q.screenCoordinate;q.screenDPR;const CC=q.screenSize,BF=q.screenUV,Za=q.select;q.setCurrentStack;q.setName;q.shaderStages;q.shadow;q.shadowPositionWorld;q.shapeCircle;q.sharedUniformGroup;q.sheen;q.sheenRoughness;q.shiftLeft;q.shiftRight;q.shininess;const DQ=q.sign,Ts=q.sin;q.sinc;q.skinning;const $m=q.smoothstep;q.smoothstepElement;q.specularColor;q.specularF90;q.spherizeUV;q.split;q.spritesheetUV;const tb=q.sqrt;q.stack;q.step;q.stepElement;q.storage;q.storageBarrier;q.storageTexture;q.string;q.struct;const ni=q.sub;q.subgroupAdd;q.subgroupAll;q.subgroupAnd;q.subgroupAny;q.subgroupBallot;q.subgroupBroadcast;q.subgroupBroadcastFirst;q.subBuild;q.subgroupElect;q.subgroupExclusiveAdd;q.subgroupExclusiveMul;q.subgroupInclusiveAdd;q.subgroupInclusiveMul;q.subgroupIndex;q.subgroupMax;q.subgroupMin;q.subgroupMul;q.subgroupOr;q.subgroupShuffle;q.subgroupShuffleDown;q.subgroupShuffleUp;q.subgroupShuffleXor;q.subgroupSize;q.subgroupXor;const nb=q.tan;q.tangentGeometry;const ip=q.tangentLocal;q.tangentView;q.tangentWorld;q.texture;q.texture3D;q.textureBarrier;q.textureBicubic;q.textureBicubicLevel;q.textureCubeUV;q.textureLoad;q.textureSize;q.textureLevel;q.textureStore;q.thickness;const Pv=q.time;q.toneMapping;q.toneMappingExposure;q.toonOutlinePass;q.transformDirection;q.transformNormal;const RQ=q.transformNormalToView;q.transformedClearcoatNormalView;q.transformedNormalView;q.transformedNormalWorld;q.transmission;q.transpose;q.triNoise3D;q.triplanarTexture;q.triplanarTextures;q.trunc;q.uint;q.uintBitsToFloat;q.uniform;q.uniformArray;q.uniformCubeTexture;q.uniformGroup;q.uniformFlow;q.uniformTexture;q.unpackHalf2x16;q.unpackSnorm2x16;q.unpackUnorm2x16;q.unpremultiplyAlpha;q.userData;q.uv;q.uvec2;q.uvec3;q.uvec4;q.varying;q.varyingProperty;const FQ=q.vec2,Dt=q.vec3;q.vec4;q.vectorComponents;q.velocity;q.vertexColor;q.vertexIndex;q.vertexStage;q.vibrance;q.viewZToLogarithmicDepth;q.viewZToOrthographicDepth;q.viewZToPerspectiveDepth;q.viewZToReversedOrthographicDepth;q.viewZToReversedPerspectiveDepth;q.viewport;q.viewportCoordinate;q.viewportDepthTexture;q.viewportLinearDepth;q.viewportMipTexture;q.viewportOpaqueMipTexture;q.viewportResolution;q.viewportSafeUV;q.viewportSharedTexture;q.viewportSize;q.viewportTexture;q.viewportUV;q.wgsl;q.wgslFn;q.workgroupArray;q.workgroupBarrier;q.workgroupId;q.workingToColorSpace;q.xor;const Av=kt(([n])=>n.dot(Dt(12.9898,78.233,-97.5123)).sin().mul(43758.5453).fract().mul(2).sub(1)).setLayout({name:"vnoise",type:"float",inputs:[{name:"v",type:"vec3"}]}),Ju=kt(([n,e,t])=>{var r=ni(e,n),s=ni(t,n);return RQ(Yu(r,s).normalize())}).setLayout({name:"approximateNormal",type:"vec3",inputs:[{name:"pos",type:"vec3"},{name:"posU",type:"vec3"},{name:"posV",type:"vec3"}]}),Jp=kt(([n,e,t,r,s])=>(n=$p(n,e,t,0,1),n=Yp(2,Tr(n,AC(s.div(r))).add(AC(r))),n)).setLayout({name:"remapExp",type:"float",inputs:[{name:"x",type:"float"},{name:"fromMin",type:"float"},{name:"fromMax",type:"float"},{name:"toMin",type:"float"},{name:"toMax",type:"float"}]});var Vr=null,IC=10;async function BQ(){if(navigator.gpu!=null){var n=await navigator.gpu.requestAdapter();if(n)return}var e=`
	<div style="font-size:1.25em; font-weight:bold;">PLEASE, WAIT</div>
	<div  style="font-size:0.85em; font-weight:100;" >NO WEBGPU &mdash; TRYING WEBGL2</div>
	<div id="counter"></div>
	`;Vr=document.createElement("div"),Vr.innerHTML=e,Vr.style.left="calc(50% - 8em)",Vr.style.width="16em",Vr.style.fontFamily="Bahnschrifts, Arial",Vr.style.position="absolute",Vr.style.bottom="20px",Vr.style.padding="12px 6px",Vr.style.border="1px solid white",Vr.style.borderRadius="4px",Vr.style.background="rgba(0,0,0,0.5)",Vr.style.color="white",Vr.style.textAlign="center",Vr.style.opacity="0.8",Vr.style.outline="none",Vr.style.zIndex="999",document.body.appendChild(Vr)}function VQ(){Vr&&(IC>0?IC--:(Vr.style.display="none",Vr=null))}const rb=kt(([n,e,t,r])=>{var s=r.add(n.mul(12)).mod(12),i=e.mul(Kc(t,ni(1,t)));return t.sub(i.mul(Qc(-1,Kc(Kc(s.sub(3),ni(9,s)),1))))}).setLayout({name:"hslHelper",type:"float",inputs:[{name:"h",type:"float"},{name:"s",type:"float"},{name:"l",type:"float"},{name:"n",type:"float"}]}),Qa=kt(([n])=>{var e=n.x.fract().add(1).fract(),t=n.y.clamp(0,1),r=n.z.clamp(0,1),s=rb(e,t,r,0),i=rb(e,t,r,8),a=rb(e,t,r,4);return Dt(s,i,a)}).setLayout({name:"hsl",type:"vec3",inputs:[{name:"col",type:"vec3"}]}),ha=kt(([n])=>{var e=Rn(n.x).toVar(),t=Rn(n.y).toVar(),r=Rn(n.z).toVar(),s=Qc(e,Qc(t,r)).toVar(),i=Kc(e,Kc(t,r)).toVar(),a=Rn(0).toVar(),l=Rn(0).toVar(),c=ii(s,i).div(2);return eu(i.notEqual(s),()=>{const p=ni(s,i).toVar();l.assign(Za(c.lessThanEqual(.5),p.div(ii(i,s)),p.div(ni(2,ii(i,s))))),eu(s.equal(e),()=>{a.assign(ni(t,r).div(p).add(Za(t.lessThanEqual(r),6,0)))}).ElseIf(s.equal(t),()=>{a.assign(ni(r,e).div(p).add(2))}).Else(()=>{a.assign(ni(e,t).div(p).add(4))}),a.divAssign(6)}),Dt(a,l,c)});ha.setLayout({name:"toHsl",type:"vec3",inputs:[{name:"rgb",type:"vec3"}]});const Nv=kt(([n,e])=>Dt(Ts(e).mul(Ts(n)),fa(n),fa(e).mul(Ts(n)))).setLayout({name:"spherical",type:"vec3",inputs:[{name:"phi",type:"float"},{name:"theta",type:"float"}]}),VF=kt(([n,e,t])=>FF(n.sub(e),t).add(e)).setLayout({name:"rotatePivot",type:"vec3",inputs:[{name:"vector",type:"vec3"},{name:"pivot",type:"vec3"},{name:"angle",type:"vec3"}]}),_v=kt(([n,e,t,r])=>{var s=Nv(e.x,e.y).mul(r).toVar(),i=t.sub(s.div(2)).sub(n).dot(s).div(s.dot(s)).negate();return $m(0,1,i)}).setLayout({name:"selectPlanar",type:"float",inputs:[{name:"pos",type:"vec3"},{name:"selAngles",type:"vec2"},{name:"selCenter",type:"vec3"},{name:"selWidth",type:"float"}]});var GE={$name:"Brain",position:en,scale:2,smooth:.5,wave:.5,speed:2.5,time:Pv,color:new xt(16765136),background:new xt(5242880),seed:0},jQ=kt(([n,e,t,r,s,i])=>{var a=n.mul(e.div(3).exp()).add(i).toVar("pos"),l=t.oneMinus().mul(2).exp().toVar("octaves"),c=$u(a.mul(5),l).add(1).div(2).clamp(0,1).pow(2);return Yt(r,s,c)}).setLayout({name:"brainRaw",type:"vec3",inputs:[{name:"position",type:"vec3"},{name:"scale",type:"float"},{name:"xsmooth",type:"float"},{name:"color",type:"vec3"},{name:"background",type:"vec3"},{name:"seed",type:"float"}]}),zQ=kt(([n,e,t,r,s,i,a])=>{var l=n.mul(e.div(3).exp()).add(a).toVar("pos"),c=t.oneMinus().mul(2).exp().toVar("octaves");const p=.01;var d=$u(l.mul(5),c).toVar("n"),h=$u(l.add(Dt(p,0,0)).mul(5),c).sub(d).div(p).toVar("dx"),m=$u(l.add(Dt(0,p,0)).mul(5),c).sub(d).div(p).toVar("dy"),x=vt(l.mul(r,5)).add(1).div(2).mul(6.28).toVar("dTime");return Dt(h,m,i.mul(s).add(x).sin().add(d,1)).normalize()}).setLayout({name:"brainNormalRaw",type:"vec3",inputs:[{name:"position",type:"vec3"},{name:"scale",type:"float"},{name:"xsmooth",type:"float"},{name:"wave",type:"float"},{name:"speed",type:"float"},{name:"time",type:"float"},{name:"seed",type:"float"}]});function YE(n={}){var{position:e,scale:t,smooth:r,color:s,background:i,seed:a}={...GE,...n};return jQ(e,t,r,s,i,a)}YE.normal=function(n={}){var{position:e,scale:t,smooth:r,wave:s,speed:i,time:a,seed:l}={...GE,...n};return zQ(e,t,r,s,i,a,l)};YE.defaults=GE;var jF={$name:"Camouflage",position:en,scale:2,colorA:new xt(12762792),colorB:new xt(10258782),colorC:new xt(9610101),colorD:new xt(7435617),seed:0},UQ=kt(([n,e,t,r,s,i,a])=>{var l=n.mul(e.exp()).add(a).toVar("pos"),c=i.toVar("color");return eu(vt(l).greaterThanEqual(.3),()=>{c.assign(t)}).ElseIf(vt(l.yzx).greaterThanEqual(.2),()=>{c.assign(r)}).ElseIf(vt(l.zxy).greaterThanEqual(.1),()=>{c.assign(s)}),c}).setLayout({name:"camouflageRaw",type:"vec3",inputs:[{name:"position",type:"vec3"},{name:"scale",type:"float"},{name:"colorA",type:"vec3"},{name:"colorB",type:"vec3"},{name:"colorC",type:"vec3"},{name:"colorD",type:"vec3"},{name:"seed",type:"float"}]});function zF(n={}){var{position:e,scale:t,colorA:r,colorB:s,colorC:i,colorD:a,seed:l}={...jF,...n};return UQ(e,t,r,s,i,a,l)}zF.defaults=jF;var UF={$name:"Cave art",position:en,scale:2,thinness:2,noise:.3,color:new xt(13845829),background:new xt(16775408),seed:0},qQ=kt(([n,e,t,r,s,i,a])=>{var l=n.mul(e.exp()).add(a).toVar("pos");t=Rn(3).sub(t).exp();var c=vt(l,4).sin().toVar("k1"),p=vt(l.mul(1.5),4).cos().toVar("k2"),d=t.sub(c.add(p).abs().pow2().mul(20)).toVar("k");return eu(OQ(c.greaterThan(p),d.lessThan(0)),()=>{d.assign(0)}),eu(d.lessThanEqual(0),()=>{d.assign(r.mul(vt(l.mul(30)).pow2()))}),Yt(i,s,d)}).setLayout({name:"caveArtRaw",type:"vec3",inputs:[{name:"position",type:"vec3"},{name:"scale",type:"float"},{name:"thinness",type:"float"},{name:"xnoise",type:"float"},{name:"color",type:"vec3"},{name:"background",type:"vec3"},{name:"seed",type:"float"}]});function qF(n={}){var{position:e,scale:t,thinness:r,noise:s,color:i,background:a,seed:l}={...UF,...n};return qQ(e,t,r,s,i,a,l)}qF.defaults=UF;var $F={$name:"Circles",position:en,scale:2,variety:1,color:new xt(15786192),seed:0},$Q=kt(([n,e,t,r,s])=>{for(var i=n.toVar(),a=KE(Gp(i.y,-1,1)).mul(20),l=a.div(3e3).mul(cn(e.sub(1))),c=s.sin().mul(100).toVar(),p=0;p<=10;p++)c.addAssign(Ts(l.mul(2**p).sub(Math.PI*p/2)).mul(-p*(p+1)/2));c.assign(c.div(200).clamp(-2,2));var d=ha(r),h=d.x.add(c.mul(t)).mod(1).mul(10),m=h.floor(),x=h.sub(m);return x=Za(x.lessThan(.5),x.pow(1.5),x.pow(1/1.5)),Qa(Dt(m.add(x).div(10),d.yz))}).setLayout({name:"circlesRaw",type:"vec3",inputs:[{name:"position",type:"vec3"},{name:"scale",type:"float"},{name:"variety",type:"float"},{name:"color",type:"vec3"},{name:"seed",type:"float"}]});function WF(n={}){var{position:e,scale:t,variety:r,color:s,seed:i}={...$F,...n};return $Q(e,t,r,s,i)}WF.defaults=$F;var JE={$name:"Clouds",position:en,scale:2,density:.5,opacity:1,color:new xt(16777215),subcolor:new xt(10526896),seed:0},HF=kt(([n,e,t,r])=>{const s=n.mul(cn(e.div(1.5).sub(.5))).add(r).toVar("pos");return $u(s,4).add(t.remap(0,1,-.5,1.5))}).setLayout({name:"cloud_core",type:"float",inputs:[{name:"position",type:"vec3"},{name:"scale",type:"float"},{name:"density",type:"float"},{name:"seed",type:"float"}]}),WQ=kt(([n,e,t,r,s,i])=>{var a=HF(n,e,t,i);return Yt(s,r,a.clamp(0,1))}).setLayout({name:"cloudsRaw",type:"vec3",inputs:[{name:"position",type:"vec3"},{name:"scale",type:"float"},{name:"density",type:"float"},{name:"color",type:"vec3"},{name:"subcolor",type:"vec3"},{name:"seed",type:"float"}]}),HQ=kt(([n,e,t,r,s])=>{var i=HF(n,e,t,s);return Gp(0,1,Tr(i,2).pow(1.5).sub(1).mul(r))}).setLayout({name:"cloudsOpacityRaw",type:"float",inputs:[{name:"position",type:"vec3"},{name:"scale",type:"float"},{name:"density",type:"float"},{name:"opacity",type:"float"},{name:"seed",type:"float"}]});function ZE(n={}){var{position:e,scale:t,density:r,color:s,subcolor:i,seed:a}={...JE,...n};return WQ(e,t,r,s,i,a)}ZE.opacity=function(n={}){var{position:e,scale:t,density:r,opacity:s,seed:i}={...JE,...n};return HQ(e,t,r,s,i)};ZE.defaults=JE;var KF={$name:"Concrete",$normalNode:!0,position:en,scale:2,density:.5,bump:.5,seed:0},sb=kt(([n,e,t])=>{var r=vt(n,.5,.5).abs().pow(t);return n.add(e.mul(r))}).setLayout({name:"surfacePos",type:"vec3",inputs:[{name:"position",type:"vec3"},{name:"normal",type:"vec3"},{name:"density",type:"float"}]}),KQ=kt(([n,e,t,r,s,i,a])=>{var c=Dt(1,2,3).mul(a).sin().mul(100).toVar("seed3d"),p=n.mul(cn(r.div(2).add(2))).add(c).toVar("xposition"),d=e.normalize().toVar("xnormal"),h=t.normalize().mul(.001).toVar("xtangent"),m=Yu(d,h).normalize().mul(.001).toVar("xbitangent"),x=$p(s,0,1,10,.5).toVar("xdensity");d.mulAssign(i);var w=sb(p,d,x).toVar("pos"),A=sb(p.add(h),d,x).toVar("posU"),P=sb(p.add(m),d,x).toVar("posV");return Ju(w,A,P)}).setLayout({name:"concreteRaw",type:"vec3",inputs:[{name:"position",type:"vec3"},{name:"normal",type:"vec3"},{name:"tangent",type:"vec3"},{name:"scale",type:"float"},{name:"density",type:"float"},{name:"bump",type:"float"},{name:"seed",type:"float"}]});function XF(n={}){var{position:e,scale:t,density:r,bump:s,seed:i}={...KF,...n};return KQ(e,sp,ip,t,r,s,i)}XF.defaults=KF;var GF={$name:"Cork",position:en,scale:1,straight:1,noise:.3,color:new xt(16773312),background:new xt(13664352),seed:0},XQ=kt(([n,e,t,r,s,i,a])=>{var l=n.mul(cn(e.div(1.5).add(1))).add(a).toVar("pos"),c=l.round().toConst("midCell"),p=c.toVar("minCell"),d=Rn(1).toVar("minDist"),h=Dt().toVar("cell"),m=Rn().toVar("dist"),x=t.exp().reciprocal().toVar("strtaightness"),w=vf(0).toVar("i"),A=vf(0).toVar("j"),P=vf(0).toVar("k");ao(3,3,3,()=>{h.assign(c.add(Dt(w,A,P).sub(1)));var _=h.add(Av(h));m.assign(l.distance(_)),m.addAssign(vt(l.add(h),x)),eu(m.lessThan(d),()=>{d.assign(m),p.assign(h)})});var S=vt(p.mul(Math.PI),.5,.5).toVar("n"),C=vt(l.mul(12)).toVar("r");C.mulAssign(C,C),C.addAssign(vt(l.mul(40),1/3));var I=Yt(s,i,S.add(C.mul(r)));return I}).setLayout({name:"camouflageRaw",type:"vec3",inputs:[{name:"position",type:"vec3"},{name:"scale",type:"float"},{name:"straight",type:"float"},{name:"xnoise",type:"float"},{name:"color",type:"vec3"},{name:"background",type:"vec3"},{name:"seed",type:"float"}]});function YF(n={}){var{position:e,scale:t,straight:r,noise:s,color:i,background:a,seed:l}={...GF,...n};return XQ(e,t,r,s,i,a,l)}YF.defaults=GF;var JF={$name:"Dalmatian spots",$width:260,position:en,scale:2,density:.6,color:new xt(16777215),background:new xt(0),seed:0},GQ=kt(([n,e,t,r,s,i])=>{var a=n.mul(e.exp()).add(i).sub(1e3).toVar("pos"),l=Rn(1).toVar("k"),c=Rn(1.5).sub(t).mul(2).toVar("d"),p=t.mul(5).add(5).toVar("count");return ao(p,()=>{l.mulAssign(vt(a).abs().pow(c).mul(100).sub(50).clamp(0,1).oneMinus()),a.assign(a.mul(1.01)),l.mulAssign(vt(a.yzx).abs().pow(c).mul(100).sub(50).clamp(0,1).oneMinus()),a.assign(a.mul(1.01)),l.mulAssign(vt(a.zxy).abs().pow(c).mul(100).sub(50).clamp(0,1).oneMinus()),a.assign(a.mul(1.01))}),Yt(s,r,l.clamp(0,1))}).setLayout({name:"dalmatianSpotsRaw",type:"vec3",inputs:[{name:"position",type:"vec3"},{name:"scale",type:"float"},{name:"density",type:"float"},{name:"color",type:"vec3"},{name:"background",type:"vec3"},{name:"seed",type:"float"}]});function ZF(n={}){var{position:e,scale:t,density:r,color:s,background:i,seed:a}={...JF,...n};return GQ(e,t,r,s,i,a)}ZF.defaults=JF;var QF={$name:"Darth Maul",position:en,scale:2,shift:new qe(0,0,0),complexity:0,angle:60,distance:1.9,color:new xt(15745088),background:new xt(0),balance:0,seed:0},YQ=kt(([n,e,t,r,s,i,a,l,c,p])=>{var d=n.add(t).mul(cn(e.div(1.5).sub(1))).sub(t).mul(Dt(1,.5,.5)).toVar(),h=Za(n.y.mul(s.radians().cos()).add(n.z.mul(s.radians().sin())).greaterThan(i),1,0);d.x.assign(d.x.add(t.x).abs()),d.y.addAssign(p),d.z.mulAssign(t.z);var m=vt(d).toVar(),x=m.sin().mul(m.mul(r.mul(2).add(1).exp()).sin()).remap(0,.2,1,-1).greaterThan(c).select(0,1),w=Za(d.x.greaterThan(vt(d.mul(2.3)).abs().mul(.5).add(.02)),1,0);return Yt(l,a,x.mul(h).mul(w).clamp(0,1))}).setLayout({name:"darthMaulRaw",type:"vec3",inputs:[{name:"position",type:"vec3"},{name:"scale",type:"float"},{name:"shift",type:"vec3"},{name:"complexity",type:"float"},{name:"angle",type:"float"},{name:"distance",type:"float"},{name:"color",type:"vec3"},{name:"background",type:"vec3"},{name:"balance",type:"float"},{name:"seed",type:"float"}]});function eB(n={}){var{position:e,scale:t,shift:r,complexity:s,angle:i,distance:a,color:l,background:c,balance:p,seed:d}={...QF,...n};return YQ(e,t,r,s,i,a,l,c,p,d)}eB.defaults=QF;var tB={$name:"Dyson sphere",position:en,scale:2,complexity:2,variation:0,color:new xt(12636415),background:new xt(0),seed:0},Oc=kt(([n])=>{var e=n.mul(2.23606797749979).fract().toVar();return e.addAssign(e.dot(e.add(Dt(31.4159,27.1828,14.142)))),e.z.mul(e.x.add(e.y)).fract().mul(2).sub(1)}).setLayout({name:"noisea",type:"float",inputs:[{name:"pos",type:"vec3"}]}),Kd=kt(([n])=>{var e=n.oneMinus().clamp(0,1).toVar();return e.mul(e).mul(Rn(3).sub(e.mul(2)))}).setLayout({name:"smoother",type:"float",inputs:[{name:"x",type:"float"}]}),JQ=kt(([n])=>{var e=n.x.floor().toVar(),t=e.add(1).toVar(),r=n.y.floor().toVar(),s=r.add(1).toVar(),i=n.z.floor().toVar(),a=i.add(1).toVar(),l=Kd(n.x.fract()).toVar(),c=Kd(n.y.fract()).toVar(),p=Kd(n.z.fract()).toVar(),d=Kd(l.oneMinus()).toVar(),h=Kd(c.oneMinus()).toVar(),m=Kd(p.oneMinus()).toVar(),x=Oc(Dt(e,r,i)).mul(d).mul(h).mul(m).toVar(),w=Oc(Dt(e,r,a)).mul(d).mul(h).mul(p).toVar(),A=Oc(Dt(e,s,i)).mul(d).mul(c).mul(m).toVar(),P=Oc(Dt(e,s,a)).mul(d).mul(c).mul(p).toVar(),S=Oc(Dt(t,r,i)).mul(l).mul(h).mul(m).toVar(),C=Oc(Dt(t,r,a)).mul(l).mul(h).mul(p).toVar(),I=Oc(Dt(t,s,i)).mul(l).mul(c).mul(m).toVar(),_=Oc(Dt(t,s,a)).mul(l).mul(c).mul(p).toVar();return x.add(w).add(A).add(P).add(S).add(C).add(I).add(_)}).setLayout({name:"noiseg",type:"float",inputs:[{name:"pos",type:"vec3"}]}),ZQ=kt(([n,e,t,r,s,i])=>{var a=n.mul(cn(e.div(2).add(.5))).add(i).toVar(),l=Dt().toVar(),c=Rn(1).toVar();return ao(t.add(4),()=>{l.addAssign(JQ(a.mul(c))),c.addAssign(c)}),Yt(s,r,l.x.add(1).div(5))}).setLayout({name:"dysonSphereRaw",type:"vec3",inputs:[{name:"position",type:"vec3"},{name:"scale",type:"float"},{name:"complexity",type:"float"},{name:"color",type:"vec3"},{name:"background",type:"vec3"},{name:"seed",type:"float"}]});function nB(n={}){var{position:e,scale:t,complexity:r,color:s,background:i,seed:a}={...tB,...n};return ZQ(e,t,r,s,i,a)}nB.defaults=tB;var rB={$name:"Entangled",position:en,scale:2,density:10,color:new xt(8256),background:new xt(16777215),seed:0},QQ=kt(([n,e,t,r,s,i])=>{var a=cn(e.div(2)).toVar(),l=n.add(i).toVar(),c=Rn(-1e4).toVar(),p=Rn(0).toVar();return ao(t,()=>{p.assign(Ts(vt(Tr(l,a)).mul(3*Math.PI))),c.assign(Qc(c,p)),a.mulAssign(1.2)}),c.assign(tl(Yp(Ai(c),5)).mul(6)),Yt(r,s,c)}).setLayout({name:"entangled",type:"vec3",inputs:[{name:"position",type:"vec3"},{name:"scale",type:"float"},{name:"density",type:"int"},{name:"color",type:"vec3"},{name:"background",type:"vec3"},{name:"seed",type:"float"}]});function sB(n={}){var{position:e,scale:t,density:r,color:s,background:i,seed:a}={...rB,...n};return QQ(e,t,r,s,i,a)}sB.defaults=rB;var iB={$name:"Fordite",position:en,scale:2,color:new xt(0,0,0),seed:0},eee=kt(([n,e,t,r])=>{var s=n.mul(cn(e)).add(r).toVar(),i=vt(Dt(vt(s,1),vt(s,2),vt(s,3))).toVar();return Qa(Dt(i,1,Ts(Tr(i,Math.PI,4)).mul(.5).add(.5))).add(t)}).setLayout({name:"forditeRaw",type:"vec3",inputs:[{name:"position",type:"vec3"},{name:"scale",type:"float"},{name:"color",type:"vec3"},{name:"seed",type:"float"}]});function aB(n={}){var{position:e,scale:t,color:r,seed:s}={...iB,...n};return eee(e,t,r,s)}aB.defaults=iB;var oB={$name:"Gas giant",position:en,scale:2,turbulence:.3,blur:.6,colorA:new xt(16775408),colorB:new xt(15788208),colorC:new xt(11509968),seed:0},tee=kt(([n,e,t,r,s,i,a,l])=>{var c=e.div(2).add(1).toVar(),p=n.mul(cn(c)).add(l).toVar(),d=t.mul(vt(Dt(0,p.y.mul(.5),0).add(1)).add(vt(Dt(0,p.y.mul(1),0).add(1)).mul(.5),vt(Dt(1,p.y.mul(2),1).add(1)).mul(.25))).mul(5).abs().toVar(),h=vt(p.div(4)).add(1).div(2).pow(10).mul(10).smoothstep(0,1);p.addAssign(Dt(vt(p),vt(p.yxz),vt(p.yzx)).mul(d.mul(h.mul(2).exp())));var m=r.pow(.2).oneMinus().mul(d.add(1)).toVar(),x=vt(p.mul(Dt(0,c,0)));x=x.add(vt(p.mul(Dt(1,15,1))).mul(m)),x=x.add(-.5).smoothstep(-1,1).oneMinus();var w=vt(Dt(0,p.y.mul(.75),0)).add(1),A=ha(Yt(i,s,w)),P=Qa(Dt(A.x.add(vt(p.mul(Dt(0,c,0))).div(4)),A.yz)).toVar();return P.assign(Yt(P,a,d.mul(.3))),P.mul(x)}).setLayout({name:"gasGiantRaw",type:"vec3",inputs:[{name:"position",type:"vec3"},{name:"scale",type:"float"},{name:"turbulence",type:"float"},{name:"blur",type:"float"},{name:"colorA",type:"vec3"},{name:"colorB",type:"vec3"},{name:"colorC",type:"vec3"},{name:"seed",type:"float"}]});function lB(n={}){var{position:e,scale:t,turbulence:r,blur:s,colorA:i,colorB:a,colorC:l,seed:c}={...oB,...n};return tee(e,t,r,s,i,a,l,c)}lB.defaults=oB;var uB={$name:"Grid",$replaceExportUVS:BF,$replaceExportASP:CC.x.div(CC.y).log2(),uvs:MF(en.normalize()),countU:32,countV:16,aspect:1,thinness:.8,equirectangular:!0,color:new xt(0),background:new xt(16777215)},nee=kt(([n,e,t,r,s,i,a,l])=>{var c=Qc(IQ(r),1),p=Tr(n.x,c,Math.PI).toVar(),d=Tr(n.y,Math.PI).toVar(),h=Jh(_C(Tr(n.x,e)),e),m=Jh(_C(Tr(n.y,t)),t),x=Tr(h,c,Math.PI),w=Tr(m,Math.PI),A=Ai(ni(p,x)).mul(Yt(1,Ts(d),i)),P=Ai(ni(d,w)),S=Kc(A,P),C=Tr(Kc(Jh(c.mul(Math.PI),e),Jh(Math.PI,t)),RF(Yp(s,.5),0,1,.9,.04),.5),I=tl($m(ni(C,.002),ii(C,.002),S));return Yt(l,a,I)}).setLayout({name:"gridRaw",type:"vec3",inputs:[{name:"uvs",type:"vec2"},{name:"countU",type:"float"},{name:"countV",type:"float"},{name:"aspect",type:"float"},{name:"thinness",type:"float"},{name:"equirectangular",type:"int"},{name:"color",type:"vec3"},{name:"background",type:"vec3"}]});function cB(n={}){var{uvs:e,countU:t,countV:r,aspect:s,thinness:i,equirectangular:a,color:l,background:c}={...uB,...n};return nee(e,t,r,s,i,a,l,c)}cB.defaults=uB;var pB={$name:"Isolines",position:en,scale:2,density:40,blur:.3,thinness:.6,color:new xt(16777215),background:new xt(0),seed:0},ree=kt(([n,e,t,r,s,i,a,l])=>{var c=n.mul(cn(e)).add(l).toVar(),p=vt(c,t);return p=tl(Ts(p)).div(2),p=$m(ni(s,r),ii(s,r),p),Yt(i,a,p)}).setLayout({name:"isolinesRaw",type:"vec3",inputs:[{name:"position",type:"vec3"},{name:"scale",type:"float"},{name:"density",type:"float"},{name:"blur",type:"float"},{name:"thinness",type:"float"},{name:"color",type:"vec3"},{name:"background",type:"vec3"},{name:"seed",type:"float"}]});function dB(n={}){var{position:e,scale:t,density:r,blur:s,thinness:i,color:a,background:l,seed:c}={...pB,...n};return ree(e,t,r,s,i,a,l,c)}dB.defaults=pB;var fB={$name:"Karst rock",position:en,scale:2,color:new xt(16774384),background:new xt(13684944),seed:0},see=kt(([n,e,t,r,s])=>{var i=n.mul(cn(e)).add(s.sin().mul(5)).toVar(),a=i.add(vt(i.mul(2))).toVar(),l=vt(a).div(vt(a.mul(1.01))).clamp(0,2).toVar();return l.addAssign(vt(i.mul(100)).div(3)),l.addAssign(vt(i.mul(2)).div(2)),Yt(r,t,l).mul(l.pow(.1))}).setLayout({name:"karstRockRaw",type:"vec3",inputs:[{name:"position",type:"vec3"},{name:"scale",type:"float"},{name:"color",type:"vec3"},{name:"background",type:"vec3"},{name:"seed",type:"float"}]});function hB(n={}){var{position:e,scale:t,color:r,background:s,seed:i}={...fB,...n};return see(e,t,r,s,i)}hB.defaults=fB;var mB={$name:"Marble",position:en,scale:1.2,thinness:5,noise:.3,color:new xt(4539859),background:new xt(15792383),seed:0},iee=kt(([n,e,t,r,s,i,a])=>{var l=n.mul(cn(e)).add(a).toVar(),c=ii(vt(l),vt(l.mul(2)).mul(.5),vt(l.mul(6)).mul(.1)),c=tl(c.abs().pow(2.5)).toVar(),p=tl(Yp(.5,t.add(7))).toVar(),d=tl(Yp(.5,t.add(7).mul(.5))).toVar();return eu(c.greaterThan(p),()=>{c.assign(1)}).ElseIf(c.lessThan(d),()=>{c.assign(0)}).Else(()=>{var h=c.sub(d),m=p.sub(d);c.assign(Yp(Jh(h,m),5).mul(.75)),c.assign(c.mul(ii(.5,vt(l.mul(2)).mul(1.5))))}),c.assign(c.add(Tr(r,vt(l.mul(150)).abs().pow3()))),Yt(i,s,c)}).setLayout({name:"marbleRaw",type:"vec3",inputs:[{name:"position",type:"vec3"},{name:"scale",type:"float"},{name:"thinness",type:"float"},{name:"xnoise",type:"float"},{name:"color",type:"vec3"},{name:"background",type:"vec3"},{name:"seed",type:"float"}]});function yB(n={}){var{position:e,scale:t,thinness:r,noise:s,color:i,background:a,seed:l}={...mB,...n};return iee(e,t,r,s,i,a,l)}yB.defaults=mB;var gB={$name:"Neon Lights",position:en,scale:2,thinness:.8,mode:0,colorA:new xt(16711680),colorB:new xt(65280),colorC:new xt(255),background:new xt(0),seed:0},aee=kt(([n,e,t,r,s,i,a,l,c])=>{var p=n,d=cn(e.remap(0,4,-2,2)).toVar(),h=cn(t.remap(0,1,1.5,0)).toVar(),m=l.toVar(),x=Dt(0).toVar(),w=vt(p.xyz).toVar(),A=vt(p.yzx).toVar(),P=vt(p.zxy).toVar(),S=vt(Dt(w,A,P).mul(d).add(c)).toVar();S.assign(tl(tb(Ai(S))).pow(3)),x.assign(s);var C=ha(x);x.assign(Qa(Dt(C.xy,C.z.mul(S)))),m.addAssign(Za(r.equal(0),x,x.negate()).mul(h)),S.assign(vt(Dt(A,P,w).mul(d).sub(c))),S.assign(tl(tb(Ai(S))).pow(3)),x.assign(i);var C=ha(x);x.assign(Qa(Dt(C.xy,C.z.mul(S)))),m.addAssign(Za(r.equal(0),x,x.negate()).mul(h)),S.assign(vt(Dt(P,w,A.negate()).mul(d).add(c))),S.assign(tl(tb(Ai(S))).pow(3)),x.assign(a);var C=ha(x);return x.assign(Qa(Dt(C.xy,C.z.mul(S)))),m.addAssign(Za(r.equal(0),x,x.negate()).mul(h)),m}).setLayout({name:"neonLightsRaw",type:"vec3",inputs:[{name:"position",type:"vec3"},{name:"scale",type:"float"},{name:"thinness",type:"float"},{name:"node",type:"float"},{name:"colorA",type:"vec3"},{name:"colorB",type:"vec3"},{name:"colorC",type:"vec3"},{name:"background",type:"vec3"},{name:"seed",type:"float"}]});function xB(n={}){var{position:e,scale:t,thinness:r,mode:s,colorA:i,colorB:a,colorC:l,background:c,seed:p}={...gB,...n};return aee(e,t,r,s,i,a,l,c,p)}xB.defaults=gB;var vB={$name:"Perlin noise",position:en,scale:2,balance:0,contrast:0,color:new xt(16777215),background:new xt(0),seed:0},oee=kt(([n,e,t,r,s,i,a])=>{var l=n.mul(cn(e)).add(a),c=Gp(0,1,vt(l).mul(.5,cn(r)).add(.5,t));return Yt(i,s,c)}).setLayout({name:"perlinNoiseRaw",type:"vec3",inputs:[{name:"position",type:"vec3"},{name:"scale",type:"float"},{name:"balance",type:"float"},{name:"contrast",type:"float"},{name:"color",type:"vec3"},{name:"background",type:"vec3"},{name:"seed",type:"float"}]});function TB(n={}){var{position:e,scale:t,balance:r,contrast:s,color:i,background:a,seed:l}={...vB,...n};return oee(e,t,r,s,i,a,l)}TB.defaults=vB;var SB={$name:"Photosphere",position:en,scale:2,color:new xt(16776960),background:new xt(16711680),seed:0},lee=kt(([n,e,t,r,s])=>{var i=cn(e.add(1)).toVar(),a=n.toVar(),l=Dt(a).toVar();ao(6,()=>{l.assign(FF(l,a.mul(i))),i.mulAssign(s.mul(i).sin().mul(.05).add(1.1))});var c=vt(l).add(1).div(2);return Yt(r,t,c)}).setLayout({name:"photosphereRaw",type:"vec3",inputs:[{name:"position",type:"vec3"},{name:"scale",type:"float"},{name:"color",type:"vec3"},{name:"background",type:"vec3"},{name:"seed",type:"float"}]});function bB(n={}){var{position:e,scale:t,color:r,background:s,seed:i}={...SB,...n};return lee(e,t,r,s,i)}bB.defaults=SB;var wB={$name:"Planet",position:en,scale:2,iterations:5,levelSea:.3,levelMountain:.7,balanceWater:.3,balanceSand:.2,balanceSnow:.8,colorDeep:new xt(1194585).convertLinearToSRGB(),colorShallow:new xt(8900331).convertLinearToSRGB(),colorBeach:new xt(16775885).convertLinearToSRGB(),colorGrass:new xt(3978097).convertLinearToSRGB(),colorForest:new xt(12288).convertLinearToSRGB(),colorSnow:new xt(15794175).convertLinearToSRGB(),seed:0},uee=kt(([n,e,t,I,_,i,a,l,c,p,d,h,m,x,w])=>{var A=Rn(0).toVar(),P=Rn(0).toVar(),S=cn(e.sub(2)).toVar(),C=Rn(2).toVar();ao(t.add(10),()=>{A.addAssign(Tr(C,vt(n.mul(S).add(w)))),P.addAssign(C),S.mulAssign(1.5),C.mulAssign(.8)}),A.assign(Tr(A,A,.5).div(P));var I=I.pow(2).toVar(),_=_.pow(2).toVar(),D=Yt(I,_,a).toVar(),F=Yt(I,D,.4).toVar(),O=Yt(I,D,.6).toVar(),L=Dt().toVar();return eu(A.lessThan(I),()=>{L.assign(Yt(c,p,$p(A,0,I,0,1).pow(cn(i.mul(-8).add(4)))))}).ElseIf(A.lessThan(F),()=>{L.assign(Yt(p,d,$p(A,I,F)))}).ElseIf(A.lessThan(O),()=>{L.assign(d)}).ElseIf(A.lessThan(D),()=>{L.assign(Yt(d,h,$p(A,O,D)))}).ElseIf(A.lessThan(_),()=>{L.assign(Yt(h,m,$p(A,D,_).pow(.75)))}).Else(()=>{var B=Yt(1,_,l);L.assign(Yt(m,x,$m(Yt(B,_,l.pow(.5)),B,A)))}),L}).setLayout({name:"planetRaw",type:"vec3",inputs:[{name:"position",type:"vec3"},{name:"scale",type:"float"},{name:"iterations",type:"int"},{name:"levelSea",type:"float"},{name:"levelMountain",type:"float"},{name:"balanceWater",type:"float"},{name:"balanceSand",type:"float"},{name:"balanceSnow",type:"float"},{name:"colorDeep",type:"vec3"},{name:"colorShallow",type:"vec3"},{name:"colorBeach",type:"vec3"},{name:"colorGrass",type:"vec3"},{name:"colorForest",type:"vec3"},{name:"colorSnow",type:"vec3"},{name:"seed",type:"float"}]});function EB(n={}){var{position:e,scale:t,iterations:r,levelSea:s,levelMountain:i,balanceWater:a,balanceSand:l,balanceSnow:c,colorDeep:p,colorShallow:d,colorBeach:h,colorGrass:m,colorForest:x,colorSnow:w,seed:A}={...wB,...n};return uee(e,t,r,s,i,a,l,c,p,d,h,m,x,w,A)}EB.defaults=wB;var PB={$name:"Polka dots",position:en,count:2,size:.5,blur:.25,color:new xt(0),background:new xt(16777215),flat:0},cee=(1+5**.5)/2,pee=kt(([n,e,t,r,s,i,a])=>{var l=Rn(1).toVar();eu(a.equal(1),()=>{var h=e.pow(2).sub(.5).toVar(),m=n.xy.mul(h).mul(MQ(1,1,-1,1)),x=m.round().toVar();l.assign(m.distance(x).div(h))}).Else(()=>{var h=Yp(10,e).toVar(),m=n.normalize().toVar(),x=tl(m.y).mul(h).sub(1).div(2),w=Qc(10,h.pow(.5)),A=x.sub(w).floor().clamp(0,h),P=x.add(w).floor().clamp(0,h);l.assign(1).toVar(),ao(P.sub(A),({i:S})=>{var C=ii(S,A),I=kF(Tr(2*Math.PI/cee,C),2*Math.PI),_=KE(tl(Rn(C).mul(2).add(1).div(h))),D=Nv(_,I);l.assign(Kc(l,CQ(m,D)))})});var c=cn(t.mul(5).sub(5)).toVar(),p=r.pow(4).toVar(),d=$m(c.sub(p),c.add(p),l);return Yt(s,i,d)}).setLayout({name:"polkaDotsRaw",type:"vec3",inputs:[{name:"position",type:"vec3"},{name:"count",type:"float"},{name:"size",type:"float"},{name:"blur",type:"float"},{name:"color",type:"vec3"},{name:"background",type:"vec3"},{name:"xflat",type:"int"}]});function AB(n={}){var{position:e,count:t,size:r,blur:s,color:i,background:a,flat:l}={...PB,...n};return pee(e,t,r,s,i,a,l)}AB.defaults=PB;var NB={$name:"Processed wood",$width:260,position:en,scale:2,lengths:4,strength:.3,angle:0,color:new xt(7348256),background:new xt(15782048),seed:0},dee=kt(([n,e,t,r,c,i,a,l])=>{var c=DF(c).toVar(),p=Dt(ni(n.x.mul(fa(c)),n.y.mul(Ts(c))),ii(n.x.mul(Ts(c)),n.y.mul(fa(c))),n.z).toVar(),d=e.div(2).add(1).toVar(),h=p.mul(cn(e)).add(l).toVar(),m=t.add(5).reciprocal().toVar(),x=vt(h.mul(d,Dt(1,m,m)));return x=x.mul(vt(h.mul(Dt(25,1,1))).add(-1).mul(.2)),x=x.add(r.sub(.5)).smoothstep(-.3,.3).oneMinus(),Yt(i,a,x)}).setLayout({name:"processedWoodRaw",type:"vec3",inputs:[{name:"position",type:"vec3"},{name:"scale",type:"float"},{name:"lengths",type:"float"},{name:"strength",type:"float"},{name:"angle",type:"float"},{name:"color",type:"vec3"},{name:"background",type:"vec3"},{name:"seed",type:"float"}]});function _B(n={}){var{position:e,scale:t,lengths:r,strength:s,angle:i,color:a,background:l,seed:c}={...NB,...n};return dee(e,t,r,s,i,a,l,c)}_B.defaults=NB;var CB={$name:"Protozoa",position:en,matcap:kQ,scale:1.5,fat:.7,amount:.4,color:new xt(10526880),subcolor:new xt(14739711),background:new xt(15792383),seed:0},MC=kt(([n,e])=>vt(n).mul(e).clamp(-3.14,3.14).cos().add(1).div(2)).setLayout({name:"pnoise",type:"float",inputs:[{name:"pos",type:"vec3"},{name:"fat",type:"float"}]}),fee=kt(([n,e,t,A,s,i,a,l,c])=>{var p=n.mul(cn(t.sub(1))).add(c).toVar(),d=Dt(e,e.length()).toVar(),h=Rn(0).toVar(),m=Rn(0).toVar(),x=Rn(0).toVar(),w=Rn(0).toVar(),A=A.add(.2).oneMinus().mul(60).add(30).toVar(),P=Rn(2).toVar(),S=s.div(2).add(.5).exp().toVar();return ao(10,()=>{h.assign(MC(p.xyz.add(d),A)),m.assign(MC(p.yzx.add(d),A)),x.addAssign(h.mul(m).mul(P)),w.addAssign(h.max(m).mul(P)),p.assign(Yt(p.mul(S),0,.4)),t.mulAssign(.9)}),Yt(l,Yt(i,a,w.mul(.1)),x)}).setLayout({name:"protozoaRaw",type:"vec3",inputs:[{name:"position",type:"vec3"},{name:"matcap",type:"vec2"},{name:"scale",type:"float"},{name:"fat",type:"float"},{name:"amount",type:"float"},{name:"color",type:"vec3"},{name:"subcolor",type:"vec3"},{name:"background",type:"vec3"},{name:"seed",type:"float"}]});function IB(n={}){var{position:e,matcap:t,scale:r,fat:s,amount:i,color:a,subcolor:l,background:c,seed:p}={...CB,...n};return fee(e,t,r,s,i,a,l,c,p)}IB.defaults=CB;var QE={$name:"Rotator",$positionNode:!0,$selectorPlanar:!0,angles:new qe(-.2,.7,0),center:new qe(0,0,0),selectorCenter:new qe(0,0,0),selectorAngles:new sr(0,0),selectorWidth:2},ix=kt(([n,e,t,r,s,i])=>{var a=_v(n,r,s,i);return VF(n,t,e.mul(a))}).setLayout({name:"surfacePos",type:"vec3",inputs:[{name:"pos",type:"vec3"},{name:"angles",type:"vec3"},{name:"center",type:"vec3"},{name:"selectorAngles",type:"vec2"},{name:"selectorCenter",type:"vec3"},{name:"selectorWidth",type:"float"}]}),hee=kt(([n,e,t,r,s])=>ix(en,n,e,t,r,s)).setLayout({name:"rotatorRaw",type:"vec3",inputs:[{name:"angles",type:"vec3"},{name:"center",type:"vec3"},{name:"selectorAngles",type:"vec2"},{name:"selectorCenter",type:"vec3"},{name:"selectorWidth",type:"float"}]}),mee=kt(([n,e,t,r,s])=>{var a=en,l=sp.normalize().toVar(),c=ip.normalize().mul(.01).toVar(),p=Yu(l,c).normalize().mul(.01).toVar(),d=ix(a,n,e,t,r,s),h=ix(a.add(c),n,e,t,r,s),m=ix(a.add(p),n,e,t,r,s);return Ju(d,h,m)}).setLayout({name:"rotatorNormalRaw",type:"vec3",inputs:[{name:"angles",type:"vec3"},{name:"center",type:"vec3"},{name:"selectorAngles",type:"vec2"},{name:"selectorCenter",type:"vec3"},{name:"selectorWidth",type:"float"}]});function eP(n={}){var{angles:e,center:t,selectorAngles:r,selectorCenter:s,selectorWidth:i}={...QE,...n};return hee(e,t,r,s,i)}eP.normal=function(n={}){var{angles:e,center:t,selectorAngles:r,selectorCenter:s,selectorWidth:i}={...QE,...n};return mee(e,t,r,s,i)};eP.defaults=QE;var MB={$name:"Rough clay",$normalNode:!0,position:en,scale:2,bump:.5,curvature:.2,seed:0},ib=kt(([n,e,t])=>{var r=Ii(n.add(vt(n).mul(t))).add(.8).pow(5).toVar();return r.addAssign(r.pow(.5)),n.add(e.mul(r))}).setLayout({name:"surfacePos",type:"vec3",inputs:[{name:"position",type:"vec3"},{name:"normal",type:"vec3"},{name:"curvature",type:"float"}]}),yee=kt(([n,e,t,r,s,i,a])=>{var c=n.mul(cn(r.div(2))).add(a.sin().mul(10)).toVar(),p=e.normalize().toVar(),d=t.normalize().mul(.001).toVar(),h=Yu(p,d).normalize().mul(.001).toVar();p.mulAssign(s,1/50);var m=ib(c,p,i),x=ib(c.add(d),p,i),w=ib(c.add(h),p,i);return Ju(m,x,w)}).setLayout({name:"concreteRaw",type:"vec3",inputs:[{name:"position",type:"vec3"},{name:"normal",type:"vec3"},{name:"tangent",type:"vec3"},{name:"scale",type:"float"},{name:"bump",type:"float"},{name:"curvature",type:"float"},{name:"seed",type:"float"}]});function kB(n={}){var{position:e,scale:t,bump:r,curvature:s,seed:i}={...MB,...n};return yee(e,sp,ip,t,r,s,i)}kB.defaults=MB;var Cv={$name:"Runny eggs",position:en,scale:1,sizeYolk:.2,sizeWhite:.7,colorYolk:new xt("orange"),colorWhite:new xt("white"),colorBackground:new xt("lightgray"),seed:0},ab=kt(([n,e,t,r])=>{var s=Ii(n).toVar(),i=s.add(r).pow(8).oneMinus(),a=s.add(t).pow(18).oneMinus().clamp(0,1),l=Yt(0,Yt(0,1,a),i);return n.add(e.mul(l))}).setLayout({name:"surfacePos",type:"vec3",inputs:[{name:"pos",type:"vec3"},{name:"normal",type:"vec3"},{name:"sizeYolk",type:"float"},{name:"sizeWhite",type:"float"}]}),gee=kt(([n,e,t,r,s,i,a,l])=>{var c=n.mul(cn(e)).add(l.sin().mul(10)).toVar(),p=Ii(c).toVar(),d=p.add(r.oneMinus()).pow(8).oneMinus().clamp(-.5,1),h=p.add(t.oneMinus()).pow(18).oneMinus().clamp(0,1).pow(.4).clamp(0,1);return Yt(a,Yt(i,s,h),d)}).setLayout({name:"runnyEggsRaw",type:"vec3",inputs:[{name:"pos",type:"vec3"},{name:"normal",type:"vec3"},{name:"sizeYolk",type:"float"},{name:"sizeWhite",type:"float"},{name:"colorYolk",type:"vec3"},{name:"colorWhite",type:"vec3"},{name:"colorBackground",type:"vec3"},{name:"seed",type:"float"}]}),xee=kt(([n,e,t,r,s,i,a])=>{var p=n.mul(cn(r)).add(a.sin().mul(10)).toVar(),d=e.normalize().toVar(),h=t.normalize().mul(.001).toVar(),m=Yu(d,h).normalize().mul(.001).toVar(),x=s.oneMinus(),w=i.oneMinus();d.mulAssign(.05);var A=ab(p,d,x,w),P=ab(p.add(h),d,x,w),S=ab(p.add(m),d,x,w);return Ju(A,P,S)}).setLayout({name:"runnyEggsNormalRaw",type:"vec3",inputs:[{name:"position",type:"vec3"},{name:"normal",type:"vec3"},{name:"tangent",type:"vec3"},{name:"scale",type:"float"},{name:"sizeYolk",type:"float"},{name:"sizeWhite",type:"float"},{name:"seed",type:"float"}]}),vee=kt(([n,e,t,r])=>{var s=n.mul(cn(e)).add(r.sin().mul(10)).toVar(),i=Ii(s).toVar(),a=i.add(t.oneMinus()).pow(18).clamp(0,1);return a}).setLayout({name:"runnyEggsRoughnessRaw",type:"float",inputs:[{name:"position",type:"vec3"},{name:"scale",type:"float"},{name:"sizeYolk",type:"float"},{name:"seed",type:"float"}]});function Iv(n={}){var{position:e,scale:t,sizeYolk:r,sizeWhite:s,colorYolk:i,colorWhite:a,colorBackground:l,seed:c}={...Cv,...n};return gee(e,t,r,s,i,a,l,c)}Iv.normal=function(n={}){var{position:e,scale:t,sizeYolk:r,sizeWhite:s,seed:i}={...Cv,...n};return xee(e,sp,ip,t,r,s,i)};Iv.roughness=function(n={}){var{position:e,scale:t,sizeYolk:r,seed:s}={...Cv,...n};return vee(e,t,r,s)};Iv.defaults=Cv;var tP={$name:"rust",position:en,scale:2,iterations:8,amount:-.3,opacity:.5,noise:.5,noiseScale:.5,color:new xt(12615680),background:new xt(32),seed:0},OB=kt(([n,e,t,r,s])=>{var i=n.mul(cn(e.div(4).add(-1))).add(s).toVar(),a=r.mul(vt(i.mul(r.div(2).add(4))).add(4)).toVar(),l=vt(i).toVar();return ao(t,()=>{i.mulAssign(2),l.addAssign(vt(i))}),l.subAssign(vt(i.mul(2)).abs()),l.assign(l.sub(a).clamp(0,15)),l}).setLayout({name:"_rust",type:"float",inputs:[{name:"position",type:"vec3"},{name:"scale",type:"float"},{name:"iterations",type:"int"},{name:"amount",type:"float"},{name:"seed",type:"float"}]}),Tee=kt(([n,e,t,r,s,i,a,l,c])=>{var p=OB(n,e,t,r,c).mul(1.25).pow(.5),d=n.mul(cn(e.add(i.mul(3),2)));return p.addAssign(s.mul(vt(d).abs().add(.1).pow(2))),Yt(a,l,p)}).setLayout({name:"rustRaw",type:"vec3",inputs:[{name:"position",type:"vec3"},{name:"scale",type:"float"},{name:"iterations",type:"int"},{name:"amount",type:"float"},{name:"xnoise",type:"float"},{name:"noiseScale",type:"float"},{name:"color",type:"vec3"},{name:"background",type:"vec3"},{name:"seed",type:"float"}]}),See=kt(([n,e,t,r,s,i])=>{var a=OB(n,e,t,r,i).mul(s.add(.2));return a.oneMinus()}).setLayout({name:"rustOpacityRaw",type:"float",inputs:[{name:"position",type:"vec3"},{name:"scale",type:"float"},{name:"iterations",type:"int"},{name:"amount",type:"float"},{name:"opacity",type:"float"},{name:"seed",type:"float"}]});function nP(n={}){var{position:e,scale:t,iterations:r,amount:s,noise:i,noiseScale:a,color:l,background:c,seed:p}={...tP,...n};return Tee(e,t,r,s,i,a,l,c,p)}nP.opacity=function(n={}){var{position:e,scale:t,iterations:r,amount:s,opacity:i,seed:a}={...tP,...n};return See(e,t,r,s,i,a)};nP.defaults=tP;var LB={$name:"Satin",position:en,scale:2,color:new xt(7373055),background:new xt(80),seed:0},bee=kt(([n,a,t,r,s])=>{var i=n.toVar("pos"),a=a.div(3).exp().toVar("xscale"),l=vt(Dt(vt(Dt(i.x.mul(2),i.y,i.z).mul(a)),vt(Dt(i.x,i.y.mul(2),i.z).mul(a)),vt(Dt(i.x,i.y,i.z.mul(2)).mul(a))).mul(a).add(s)).abs().pow(3).mul(20).toVar("k");return Yt(r,t,l)}).setLayout({name:"satinRaw",type:"vec3",inputs:[{name:"position",type:"vec3"},{name:"scale",type:"float"},{name:"color",type:"vec3"},{name:"background",type:"vec3"},{name:"seed",type:"float"}]});function DB(n={}){var{position:e,scale:t,color:r,background:s,seed:i}={...LB,...n};return bee(e,t,r,s,i)}DB.defaults=LB;var rP={$name:"Scaler",$positionNode:!0,$selectorPlanar:!0,scales:new qe(.01,.9,1.7),center:new qe(0,0,0),selectorCenter:new qe(0,0,0),selectorAngles:new sr(0,0),selectorWidth:2},ax=kt(([n,e,t,r,s,i])=>{var a=_v(n,r,s,i),l=Yt(Dt(1,1,1),e,a);return n.sub(t).mul(l).add(t)}),wee=kt(([n,e,t,r,s])=>ax(en,n,e,t,r,s)).setLayout({name:"scalerRaw",type:"vec3",inputs:[{name:"scales",type:"vec3"},{name:"center",type:"vec3"},{name:"selectorAngles",type:"vec2"},{name:"selectorCenter",type:"vec3"},{name:"selectorWidth",type:"float"}]}),Eee=kt(([n,e,t,r,s])=>{var i=.01,a=en,l=sp.normalize().toVar(),c=ip.normalize().mul(i).toVar(),p=Yu(l,c).normalize().mul(i).toVar(),d=ax(a,n,e,t,r,s),h=ax(a.add(c),n,e,t,r,s),m=ax(a.add(p),n,e,t,r,s);return Ju(d,h,m)}).setLayout({name:"scalerNormalRaw",type:"vec3",inputs:[{name:"scales",type:"vec3"},{name:"center",type:"vec3"},{name:"selectorAngles",type:"vec2"},{name:"selectorCenter",type:"vec3"},{name:"selectorWidth",type:"float"}]});function sP(n={}){var{scales:e,center:t,selectorAngles:r,selectorCenter:s,selectorWidth:i}={...rP,...n};return wee(e,t,r,s,i)}sP.normal=function(n={}){var{scales:e,center:t,selectorAngles:r,selectorCenter:s,selectorWidth:i}={...rP,...n};return Eee(e,t,r,s,i)};sP.defaults=rP;var RB={$name:"Scepter head",position:en,xFactor:10,yFactor:22,zFactor:10,colorRim:new xt(16777215),colorA:new xt(7397631),colorB:new xt(3145983)},Pee=kt(([n,e,t,r,s,i,a])=>{var l=n.toVar("pos"),c=l.x.mul(Jp(e,0,100,1.35,30)).toVar("fx"),p=l.y.mul(Jp(t,0,100,1.35,30)).toVar("fy"),d=l.z.mul(Jp(r,0,100,1.35,30)).toVar("fz"),h=fa(c),m=fa(p),x=fa(d),w=vt(Dt(l.x.div(h),l.y.div(m),l.z.div(x)));w=DQ(w).mul(Ai(w).pow(.75));var A=Ai(Tr(c,nb(c)).add(1).div(h)),P=Ai(Tr(p,nb(p)).add(1).div(m)),S=Ai(Tr(d,nb(d)).add(1).div(x)),C=Dt().toVar(),I=Ai(eb(c.mul(2/Math.PI).add(1).div(2))),_=Ai(eb(p.mul(2/Math.PI).add(1).div(2))),D=Ai(eb(d.mul(2/Math.PI).add(1).div(2))),F=kF(ii(I,_,D),2);C.assign(ha(Yt(i,a,F)));var O=Qa(Dt(C.xy,C.z.mul(w))).toVar("color1");C.assign(ha(s));var L=Qa(Dt(C.xy,Tr(2,w,C.z))).toVar("color2");return Yt(O,L,RF(Qc(A,Qc(P,S)),45,65))}).setLayout({name:"scepterHeadRaw",type:"vec3",inputs:[{name:"position",type:"vec3"},{name:"xFactor",type:"float"},{name:"yFactor",type:"float"},{name:"zFactor",type:"float"},{name:"colorRim",type:"vec3"},{name:"colorA",type:"vec3"},{name:"colorB",type:"vec3"}]});function FB(n={}){var{position:e,xFactor:t,yFactor:r,zFactor:s,colorRim:i,colorA:a,colorB:l}={...RB,...n};return Pee(e,t,r,s,i,a,l)}FB.defaults=RB;var BB={$name:"Scream",position:en,scale:2,variety:1,color:new xt(15790176),background:new xt(13668496),seed:0},Aee=kt(([n,e,t,r,s,i])=>{var a=n.mul(cn(e)).add(i).toVar("pos"),l=vt(ii(Ts(a.xyz),fa(a.yzx)));a.assign(n.mul(cn(e).mul(l)).add(i));var l=vt(ii(Ts(a.xyz),fa(a.yzx)).mul(2)),c=Yt(s,r,l).toVar("col"),p=ha(c).toVar("HSL");return Qa(Dt(ii(p.x,t.mul(Ts(l.mul(Math.PI))).mul(.5)),p.yz))}).setLayout({name:"satinRaw",type:"vec3",inputs:[{name:"position",type:"vec3"},{name:"scale",type:"float"},{name:"variety",type:"float"},{name:"color",type:"vec3"},{name:"background",type:"vec3"},{name:"seed",type:"float"}]});function VB(n={}){var{position:e,scale:t,variety:r,color:s,background:i,seed:a}={...BB,...n};return Aee(e,t,r,s,i,a)}VB.defaults=BB;var jB={$name:"Stars",position:en,scale:2,density:2,variation:0,color:new xt(16774640),background:new xt(96),seed:0},Nee=kt(([n,e,t,r,s,i,a])=>{var l=n.mul(cn(e.div(2).add(3))).add(a).toVar(),c=Ai(vt(l)).pow(10).mul(10);c=c.mul(cn(t.sub(2)));var p=Za(c.greaterThan(.1),r.mul(vt(l)),0),d=ha(Yt(i,s,c));return Qa(Dt(ii(d.x,p),d.yz))}).setLayout({name:"starsRaw",type:"vec3",inputs:[{name:"position",type:"vec3"},{name:"scale",type:"float"},{name:"density",type:"float"},{name:"variation",type:"float"},{name:"color",type:"vec3"},{name:"background",type:"vec3"},{name:"seed",type:"float"}]});function zB(n={}){var{position:e,scale:t,density:r,variation:s,color:i,background:a,seed:l}={...jB,...n};return Nee(e,t,r,s,i,a,l)}zB.defaults=jB;var UB={$name:"Static noise",position:LQ,time:Pv,scale:2,balance:0,contrast:0,delay:0,seed:0},_ee=kt(([n,e,t,r,s,i,a])=>{var l=n.div(cn(t)).add(a),c=i.sub(1).mul(5).exp(),p=e.div(c).round().mul(c),d=Av(p.sin()).mul(1e3),h=Gp(0,1,vt(l.add(d)));return h=h.mul(.5,cn(s)).add(.5,r),Dt(h)}).setLayout({name:"staticNoiseRaw",type:"vec3",inputs:[{name:"position",type:"vec2"},{name:"time",type:"float"},{name:"scale",type:"float"},{name:"balance",type:"float"},{name:"contrast",type:"float"},{name:"delay",type:"float"},{name:"seed",type:"float"}]});function qB(n={}){var{position:e,time:t,scale:r,balance:s,contrast:i,delay:a,seed:l}={...UB,...n};return _ee(e,t,r,s,i,a,l)}qB.defaults=UB;var iP={$name:"Supersphere",$positionNode:!0,exponent:3},ox=kt(([n,e])=>{var t=Rn(2).pow(e),r=n.div(n.length()).toVar(),s=r.abs().pow(t).toVar(),i=s.x.add(s.y).add(s.z).pow(t.reciprocal());return r.div(i)}).setLayout({name:"surfacePos",type:"vec3",inputs:[{name:"pos",type:"vec3"},{name:"exponent",type:"float"}]}),Cee=kt(([n])=>ox(en,n)).setLayout({name:"supersphereRaw",type:"vec3",inputs:[{name:"exponent",type:"float"}]}),Iee=kt(([n])=>{var t=en,r=sp.normalize().toVar(),s=ip.normalize().mul(.01).toVar(),i=Yu(r,s).normalize().mul(.01).toVar(),a=ox(t,n),l=ox(t.add(s),n),c=ox(t.add(i),n);return Ju(a,l,c)}).setLayout({name:"supersphereRaw",type:"vec3",inputs:[{name:"exponent",type:"float"}]});function aP(n={}){var{exponent:e}={...iP,...n};return Cee(e)}aP.normal=function(n={}){var{exponent:e}={...iP,...n};return Iee(e)};aP.defaults=iP;var $B={$name:"Tiger fur",position:en,scale:2,lengths:4,blur:.3,strength:.3,hairs:.5,color:new xt(16755200),bottomColor:new xt(16777198),seed:0},Mee=kt(([n,e,t,r,s,m,a,l,c])=>{var p=e.div(2).add(1).toVar(),d=n.mul(cn(p)).add(c).toVar(),h=t.add(5).reciprocal().toVar(),m=m.mul(.3).toVar(),x=vt(d.mul(p,Dt(1,h,h)));x=x.add(vt(d.mul(Dt(25,1,1))).add(1).mul(m)),x=x.add(s.sub(.5)).smoothstep(r.negate(),r).oneMinus();var w=n.y.add(m.sub(.5)).smoothstep(-1,.5);return Yt(l,a,w).mul(x)}).setLayout({name:"tigerFurRaw",type:"vec3",inputs:[{name:"position",type:"vec3"},{name:"scale",type:"float"},{name:"lengths",type:"float"},{name:"blur",type:"float"},{name:"strength",type:"float"},{name:"hairs",type:"float"},{name:"color",type:"vec3"},{name:"bottomColor",type:"vec3"},{name:"seed",type:"float"}]});function WB(n={}){var{position:e,scale:t,lengths:r,blur:s,strength:i,hairs:a,color:l,bottomColor:c,seed:p}={...$B,...n};return Mee(e,t,r,s,i,a,l,c,p)}WB.defaults=$B;var oP={$name:"Translator",$positionNode:!0,$selectorPlanar:!0,distance:new qe(-.5,0,.2),selectorCenter:new qe(0,0,0),selectorAngles:new sr(0,0),selectorWidth:.7},lx=kt(([n,e,t,r,s])=>{var i=_v(n,t,r,s);return n.add(e.mul(i))}).setLayout({name:"surfacePos",type:"vec3",inputs:[{name:"pos",type:"vec3"},{name:"distance",type:"vec3"},{name:"selectorAngles",type:"vec2"},{name:"selectorCenter",type:"vec3"},{name:"selectorWidth",type:"float"}]}),kee=kt(([n,e,t,r])=>lx(en,n,e,t,r)).setLayout({name:"translatorRaw",type:"vec3",inputs:[{name:"distance",type:"vec3"},{name:"selectorAngles",type:"vec2"},{name:"selectorCenter",type:"vec3"},{name:"selectorWidth",type:"float"}]}),Oee=kt(([n,e,t,r])=>{var s=.01,i=en,a=sp.normalize().toVar(),l=ip.normalize().mul(s).toVar(),c=Yu(a,l).normalize().mul(s).toVar(),p=lx(i,n,e,t,r),d=lx(i.add(l),n,e,t,r),h=lx(i.add(c),n,e,t,r);return Ju(p,d,h)}).setLayout({name:"translatorNormalRaw",type:"vec3",inputs:[{name:"distance",type:"vec3"},{name:"selectorAngles",type:"vec2"},{name:"selectorCenter",type:"vec3"},{name:"selectorWidth",type:"float"}]});function lP(n={}){var{distance:e,selectorAngles:t,selectorCenter:r,selectorWidth:s}={...oP,...n};return kee(e,t,r,s)}lP.normal=function(n={}){var{distance:e,selectorAngles:t,selectorCenter:r,selectorWidth:s}={...oP,...n};return Oee(e,t,r,s)};lP.defaults=oP;var HB={$name:"Voronoi cells",position:en,scale:2,variation:0,facet:0,color:new xt(0),background:new xt(12636415),seed:0},Lee=kt(([n,e,t,r,C,i,a])=>{var l=n.mul(cn(e.div(2).add(.5))).add(a).toVar(),c=l.round().toVar(),p=c.toVar(),d=Rn(1).toVar(),h=Dt().toVar(),m=Rn().toVar(),x=vf(0).toVar("i"),w=vf(0).toVar("j"),A=vf(0).toVar("k");ao(3,3,3,()=>{h.assign(c.add(Dt(x,w,A).sub(1)));var _=h.add(Av(h.mul(Math.PI*2)).div(2));m.assign(l.distance(_)),eu(m.lessThan(d),()=>{d.assign(m),p.assign(h)})});var P=vt(p.mul(Math.PI)).toVar(),S=Yt(d,P.add(1).div(2),r),C=Yt(C,i,S).toVar(),I=Dt(P.mul(16.8),P.mul(31.4159),P.mul(27.1828)).sin().add(1).div(2);return Yt(C,Yt(C,I,t),t)}).setLayout({name:"voronoiCellsRaw",type:"vec3",inputs:[{name:"position",type:"vec3"},{name:"scale",type:"float"},{name:"variation",type:"float"},{name:"facet",type:"float"},{name:"color",type:"vec3"},{name:"background",type:"vec3"},{name:"seed",type:"float"}]});function KB(n={}){var{position:e,scale:t,variation:r,facet:s,color:i,background:a,seed:l}={...HB,...n};return Lee(e,t,r,s,i,a,l)}KB.defaults=HB;var XB={$name:"Water Drops",$normalNode:!0,position:en,scale:1.4,density:.5,bump:.6,seed:0},ob=kt(([n,e,t])=>{var r=vt(n,1,t).clamp(0,1);return r=fa(r.mul(Math.PI)).add(1).pow(.5).toVar(),n.add(e.mul(r))}).setLayout({name:"surfacePos",type:"vec3",inputs:[{name:"position",type:"vec3"},{name:"normal",type:"vec3"},{name:"density",type:"float"}]}),Dee=kt(([n,e,t,r,s,i,a])=>{var l=.001,c=Dt(1,2,3).mul(a).sin().mul(100).toVar(),p=n.mul(cn(r.div(1).add(1))).add(c).toVar(),d=e.normalize().toVar(),h=t.normalize().mul(l).toVar(),m=Yu(d,h).normalize().mul(l).toVar(),x=$p(s,0,1,1.5,.7).toVar();d.mulAssign(i);var w=ob(p,d,x),A=ob(p.add(h),d,x),P=ob(p.add(m),d,x);return Ju(w,A,P)}).setLayout({name:"waterDropsRaw",type:"vec3",inputs:[{name:"position",type:"vec3"},{name:"normal",type:"vec3"},{name:"tangent",type:"vec3"},{name:"scale",type:"float"},{name:"density",type:"float"},{name:"bump",type:"float"},{name:"seed",type:"float"}]});function GB(n={}){var{position:e,scale:t,density:r,bump:s,seed:i}={...XB,...n};return Dee(e,sp,ip,t,r,s,i)}GB.defaults=XB;var YB={$name:"Watermelon",$replaceExportUVS:BF,position:en,uvs:MF(en.normalize()),scale:2,stripes:12,variation:.5,noise:.25,color:new xt("yellowgreen"),background:new xt("darkgreen"),seed:0},Ree=kt(([n,e,t,r,s,i,m,l,c])=>{var p=n.mul(cn(t.div(4).add(2))).add(c).toVar(),d=e.x.mul(r,2*Math.PI).add(vt(p.mul(Dt(1,.3,1))).mul(2)),h=d.sin().add(.5).div(2).mul(e.y.remap(0,1,-Math.PI,Math.PI).cos().add(1.2).clamp(0,1)).add(s.mul(2,vt(p.mul(1.5)).div(2))).add(s.mul(2,vt(p.mul(4)).div(6))).toVar();h.assign(h.mix(h.round(),.75).add(vt(p.mul(2)).mul(i,.5)).add(vt(p.mul(3)).mul(i,1)).add(vt(p.mul(15)).mul(i,.2)).clamp(0,1));var m=Yt(l,m,h).toVar();return m}).setLayout({name:"watermelonRaw",type:"vec3",inputs:[{name:"position",type:"vec3"},{name:"uvs",type:"vec2"},{name:"scale",type:"float"},{name:"stripes",type:"int"},{name:"variation",type:"float"},{name:"xnoise",type:"float"},{name:"color",type:"vec3"},{name:"background",type:"vec3"},{name:"seed",type:"float"}]});function JB(n={}){var{position:e,uvs:t,scale:r,stripes:s,variation:i,noise:a,color:l,background:c,seed:p}={...YB,...n};return Ree(e,t,r,s,i,a,l,c,p)}JB.defaults=YB;var ZB={$name:"Wood",position:en,scale:2.5,rings:4.5,lengths:1,angle:0,fibers:.3,fibersDensity:10,color:new xt(.8,.4,0),background:new xt(.4,.1,0),seed:0},Fee=kt(([n,P,t,r,d,i,a,l,c,p])=>{var d=DF(d).toVar(),h=Dt(ni(n.x.mul(fa(d)),n.y.mul(Ts(d))),ii(n.x.mul(Ts(d)),n.y.mul(fa(d))),n.z).toVar(),m=h.mul(cn(P.sub(3)).mul(Dt(NC(r),4,NC(r)))).add(p).toVar(),x=vt(m).add(1).mul(10).mul(t);x=x.add(x.cos()).cos().add(1).div(2);var w=Rn(0).toVar(),A=Rn(0).toVar(),P=cn(P.sub(2)).mul(Dt(1,a,1)).toVar(),S=Rn(2).toVar();return ao(10,()=>{w.addAssign(Tr(S,vt(h.mul(P).add(p)))),A.addAssign(S),P.mulAssign(1.8),S.mulAssign(.6)}),w.assign(Tr(w,5).div(A).mul(10).sin().add(1).div(2)),Yt(l,c,Yt(x,w,i))}).setLayout({name:"woodRaw",type:"vec3",inputs:[{name:"position",type:"vec3"},{name:"scale",type:"float"},{name:"rings",type:"float"},{name:"lengths",type:"float"},{name:"angle",type:"float"},{name:"fibers",type:"float"},{name:"fibersDensity",type:"float"},{name:"color",type:"vec3"},{name:"background",type:"vec3"},{name:"seed",type:"float"}]});function QB(n={}){var{position:e,scale:t,rings:r,lengths:s,angle:i,fibers:a,fibersDensity:l,color:c,background:p,seed:d}={...ZB,...n};return Fee(e,t,r,s,i,a,l,c,p,d)}QB.defaults=ZB;var e4={$name:"Zebra lines",position:en,scale:2,thinness:.5,phi:0,theta:0,color:new xt(0),background:new xt(16777215),flat:0},Bee=kt(([n,h,t,r,s,i,a,l])=>{var c=Za(l,n,n.normalize()).toVar(),p=Za(l,FQ(fa(r),Ts(r)),Nv(r,s)).toVar(),d=Za(l,Gp(p.dot(c),-2,2),KE(Gp(p.dot(c),-1,1))).toVar(),h=cn(h.add(1)).toVar(),m=Ts(d.mul(h)).sub(t.sub(.5).mul(2));return m=Gp(m.mul(1e3).div(h),-1,1).mul(.5).add(.5),Yt(a,i,m)}).setLayout({name:"zebraLinesRaw",type:"vec3",inputs:[{name:"position",type:"vec3"},{name:"scale",type:"float"},{name:"thinness",type:"float"},{name:"phi",type:"float"},{name:"theta",type:"float"},{name:"color",type:"vec3"},{name:"background",type:"vec3"},{name:"xflat",type:"int"}]});function t4(n={}){var{position:e,scale:t,thinness:r,phi:s,theta:i,color:a,background:l,flat:c}={...e4,...n};return Bee(e,t,r,s,i,a,l,c)}t4.defaults=e4;var n4={$name:"Circle decor",position:en,scale:2,grains:.2,complexity:1,blur:.2,color:new xt(0),background:new xt(16777215),seed:0},Vee=kt(([n,e,t,r,s,i,a,l])=>{var c=n.mul(cn(e.div(4))).add(l).toVar("pos"),p=c.mul(2).toVar("subpos"),d=Ii(c),h=Ii(p),m=Ii(c.mul(t.mul(4).add(2))).mul(2),x=vt(c).div(2).add(1),w=d.min(h,m).clamp(0,1).mul(r.add(2).exp(),x,Math.PI).sin().smoothstep(s.negate(),s);return Yt(i,a,w.oneMinus())}).setLayout({name:"camouflageRaw",type:"vec3",inputs:[{name:"position",type:"vec3"},{name:"scale",type:"float"},{name:"grains",type:"float"},{name:"complexity",type:"float"},{name:"blur",type:"float"},{name:"color",type:"vec3"},{name:"background",type:"vec3"},{name:"seed",type:"float"}]});function r4(n={}){var{position:e,scale:t,grains:r,complexity:s,blur:i,color:a,background:l,seed:c}={...n4,...n};return Vee(e,t,r,s,i,a,l,c)}r4.defaults=n4;var s4={$name:"Reticular veins",position:en,scale:2,reticulation:5,strength:.2,organelles:.2,color:new xt(16777200),background:new xt(2129952),seed:0},jee=kt(([n,e,t,r,s,i,a,l])=>{var c=n.mul(cn(e.div(2).add(.5))).add(l).toVar(),p=Ii(c),d=Ii(c.add(100).mul(t)).mul(r),h=vt(c.mul(100)).mul(r,s),m=p.add(d).add(h);return Yt(a,i,m)}).setLayout({name:"reticularVeinsRaw",type:"vec3",inputs:[{name:"position",type:"vec3"},{name:"scale",type:"float"},{name:"reticulation",type:"float"},{name:"strength",type:"float"},{name:"organelles",type:"float"},{name:"color",type:"vec3"},{name:"background",type:"vec3"},{name:"seed",type:"float"}]});function i4(n={}){var{position:e,scale:t,reticulation:r,strength:s,organelles:i,color:a,background:l,seed:c}={...s4,...n};return jee(e,t,r,s,i,a,l,c)}i4.defaults=s4;var a4={$name:"Roman paving",position:en,scale:2,depth:.5,seed:0},zee=kt(([n,e,t,r])=>{var s=n.mul(cn(e)).add(r).toVar(),i=OF(s).toVar();return i.y.sub(i.x).pow(t.mul(3).sub(3).exp()).smoothstep(0,1)}).setLayout({name:"romanPavingRaw",type:"vec3",inputs:[{name:"position",type:"vec3"},{name:"scale",type:"float"},{name:"depth",type:"float"},{name:"seed",type:"float"}]});function o4(n={}){var{position:e,scale:t,depth:r,seed:s}={...a4,...n};return zee(e,t,r,s)}o4.defaults=a4;var l4={$name:"Crumpled fabric",$width:260,position:en,scale:2,pinch:.5,color:new xt(11596031),subcolor:new xt(4210928),background:new xt(12288),seed:0},Uee=kt(([n,e,t,r,s,i,a])=>{var l=n.mul(cn(e.sub(.5))).add(a).toVar();ao(4,()=>{var m=vt(l.xyz),x=vt(l.yzx),w=vt(l.zxy);l.addAssign(Dt(m,x,w).mul(t))});var c=vt(l).add(1).div(2).clamp(0,1),p=r.mul(c.mul(2).sub(1).abs().oneMinus()),d=s.mul(c).pow(2),h=i.mul(c.oneMinus().pow(2));return p.add(d).add(h)}).setLayout({name:"crumpledFabricRaw",type:"vec3",inputs:[{name:"position",type:"vec3"},{name:"scale",type:"float"},{name:"pinch",type:"float"},{name:"color",type:"vec3"},{name:"subcolor",type:"vec3"},{name:"background",type:"vec3"},{name:"seed",type:"float"}]});function u4(n={}){var{position:e,scale:t,pinch:r,color:s,subcolor:i,background:a,seed:l}={...l4,...n};return Uee(e,t,r,s,i,a,l)}u4.defaults=l4;var c4={$name:"Isolayers",position:en,scale:2,layers:10,edge:.5,darkness:0,color:new xt(16777200),background:new xt(16728128),seed:0},qee=kt(([n,e,t,r,s,i,a,l])=>{var c=n.mul(cn(e.sub(1))).add(l).toVar(),p=r.remap(0,1,40,10),d=vt(c,1.2,1).div(2),h=d.mul(t).round().div(t).clamp(0,1),m=d.sub(Rn(.5+.03).div(t)).mul(t).fract().mul(Rn(2).pow(p.reciprocal())).pow(p).sub(1).abs().oneMinus(),x=Yt(ha(a),ha(i),h).toVar();return x.z.mulAssign(Yt(1,h.mul(1.5),s).clamp(0,1)),Qa(x).sub(m)}).setLayout({name:"isolayersRaw",type:"vec3",inputs:[{name:"position",type:"vec3"},{name:"scale",type:"float"},{name:"layers",type:"int"},{name:"edge",type:"float"},{name:"darkness",type:"float"},{name:"color",type:"vec3"},{name:"background",type:"vec3"},{name:"seed",type:"float"}]});function p4(n={}){var{position:e,scale:t,layers:r,edge:s,darkness:i,color:a,background:l,seed:c}={...c4,...n};return qee(e,t,r,s,i,a,l,c)}p4.defaults=c4;var d4={$name:"Turbulent smoke",$width:260,position:en,scale:2,speed:0,details:5,time:Pv,seed:0},$ee=kt(([n,e,t,r,s,i])=>{var a=n.mul(cn(e.sub(1))).add(i).toVar(),l=s.mul(t.sub(1).exp()),c=a.add(Dt($u(a.add(Dt(1,l.sin(),-1))),$u(a.add(Dt(l.add(2*Math.PI/3).sin(),1,-1))),$u(a.add(Dt(1,-1,l.add(4*Math.PI/3).sin()))))),p=XE(c,r),d=Ii(a.add(p.div(2))).pow(4).mul(4).oneMinus();return d}).setLayout({name:"turbulentSmokeRaw",type:"vec3",inputs:[{name:"position",type:"vec3"},{name:"scale",type:"float"},{name:"speed",type:"float"},{name:"details",type:"int"},{name:"time",type:"float"},{name:"seed",type:"float"}]});function f4(n={}){var{position:e,scale:t,speed:r,details:s,time:i,seed:a}={...d4,...n};return $ee(e,t,r,s,i,a)}f4.defaults=d4;var h4={$name:"Caustics",position:en,scale:2,speed:0,time:Pv,color:new xt(5286080),seed:0},Wee=kt(([n,e,t,r,s,i])=>{var a=n.mul(cn(e.sub(1))).add(i).toVar(),l=r.mul(t.sub(1).exp()).add(Dt(0,2*Math.PI/3,4*Math.PI/3)).sin(),c=LF(a.add(Dt(Ii(a.add(l.xyz)),Ii(a.add(l.yzx)),Ii(a.add(l.zxy))))),p=c.length().div(Math.sqrt(3));return p.add(s.sub(.5).mul(2))}).setLayout({name:"causticsRaw",type:"vec3",inputs:[{name:"position",type:"vec3"},{name:"scale",type:"float"},{name:"speed",type:"float"},{name:"time",type:"float"},{name:"color",type:"vec3"},{name:"seed",type:"float"}]});function m4(n={}){var{position:e,scale:t,speed:r,time:s,color:i,seed:a}={...h4,...n};return Wee(e,t,r,s,i,a)}m4.defaults=h4;var y4={$name:"Bricks",position:en,scale:2,brickSize:new qe(2,1,2),brickShift:2,jointSize:.05,jointSpan:.5,jointJitter:.5,jointBlur:.03,noiseSize:.5,noiseStrength:.2,colorShade:.5,color:new xt(16728064),additional:new xt(13672496),background:new xt(11184810),seed:0},Hee=kt(([n,e,t,r,s,i,a,l,c,p,d,h,m,x,w])=>{var A=n.mul(cn(e)).add(w).toVar(),P=t,S=A.div(P).floor().div(r),C=Dt(S.y,0,S.y).toVar(),I=A.div(P).fract().add(C).fract().toVar(),_=XE(A.mul(Jp(i,0,1,20,.2))).div(Jp(a,0,1,500,1)).toVar(),D=Tr(I.mul(P).add(_.z).smoothstep(P.y.sub(s,l),P.y.sub(s)).y.oneMinus(),I.mul(P).add(_.y).smoothstep(s,s.add(l)).y,I.mul(P).add(_.y).smoothstep(P.x.sub(s,l),P.x.sub(s)).x.oneMinus(),I.mul(P).add(_.x).smoothstep(s,s.add(l)).x,I.mul(P).add(_.x).smoothstep(P.z.sub(s,l),P.z.sub(s)).z.oneMinus(),I.mul(P).add(_.z).smoothstep(s,s.add(l)).z).clamp(0,1),F=Yt(Rn(1),vt(vt(A.xyz.div(P).add(C).floor().zxy.mul(100).add(Math.PI)).mul(10)).add(2).div(2).pow(4).clamp(0,1),d),O=vt(A.mul(Jp(c,0,1,5,250))).mul(p).add(1),L=vt(vt(A.xyz.div(P).add(C).floor().zxy.mul(200).add(Math.PI)).mul(10)).add(1).div(1),B=Yt(h,m,L.pow(2));return Yt(x,F.mul(B,D),D).mul(O)}).setLayout({name:"bricksRaw",type:"vec3",inputs:[{name:"position",type:"vec3"},{name:"scale",type:"float"},{name:"brickSize",type:"vec3"},{name:"brickShift",type:"float"},{name:"jointSize",type:"float"},{name:"jointSpan",type:"float"},{name:"jointJitter",type:"float"},{name:"jointBlur",type:"float"},{name:"noiseSize",type:"float"},{name:"noiseStrength",type:"float"},{name:"colorShade",type:"float"},{name:"color",type:"vec3"},{name:"additional",type:"vec3"},{name:"background",type:"vec3"},{name:"seed",type:"float"}]});function g4(n={}){var{position:e,scale:t,brickSize:r,brickShift:s,jointSize:i,jointSpan:a,jointJitter:l,jointBlur:c,noiseSize:p,noiseStrength:d,colorShade:h,color:m,additional:x,background:w,seed:A}={...y4,...n};return Hee(e,t,r,s,i,a,l,c,p,d,h,m,x,w,A)}g4.defaults=y4;window.__TSL_TEXTURES__=3;const x4=Object.freeze(Object.defineProperty({__proto__:null,approximateNormal:Ju,brain:YE,bricks:g4,camouflage:zF,caustics:m4,caveArt:qF,circleDecor:r4,circles:WF,clouds:ZE,concrete:XF,cork:YF,crumpledFabric:u4,dalmatianSpots:ZF,darthMaul:eB,dysonSphere:nB,entangled:sB,fordite:aB,fractal:$u,fractal3:XE,gasGiant:lB,grid:cB,hideFallbackWarning:VQ,hsl:Qa,isolayers:p4,isolines:dB,karstRock:hB,marble:yB,neonLights:xB,noise:vt,perlinNoise:TB,photosphere:bB,planet:EB,polkaDots:AB,processedWood:_B,protozoa:IB,remapExp:Jp,reticularVeins:i4,romanPaving:o4,rotatePivot:VF,rotator:eP,roughClay:kB,runnyEggs:Iv,rust:nP,satin:DB,scaler:sP,scepterHead:FB,scream:VB,selectPlanar:_v,showFallbackWarning:BQ,spherical:Nv,stars:zB,staticNoise:qB,supersphere:aP,tigerFur:WB,toHsl:ha,translator:lP,turbulentSmoke:f4,vnoise:Av,voronoi:Ii,voronoi2:OF,voronoi3:LF,voronoiCells:KB,waterDrops:GB,watermelon:JB,wood:QB,zebraLines:t4},Symbol.toStringTag,{value:"Module"})),kC={position:"vec3",time:"float"};function Kee(n,e){return n.startsWith("$")?{kind:"meta",key:n,defaultValue:e}:n in kC?{kind:"tslRef",key:n,defaultValue:e,tslRefDataType:kC[n]}:e&&typeof e=="object"&&"isNode"in e&&e.isNode?{kind:"tslRef",key:n,defaultValue:e,tslRefDataType:"any"}:e instanceof xt?{kind:"color",key:n,defaultValue:e}:e instanceof qe?{kind:"vec3",key:n,defaultValue:e}:e instanceof sr?{kind:"vec2",key:n,defaultValue:e}:typeof e=="number"?{kind:"number",key:n,defaultValue:e}:{kind:"meta",key:n,defaultValue:e}}function lb(n){return n.replace(/([A-Z])/g," $1").replace(/^./,e=>e.toUpperCase()).trim()}const ub=new Map;function v4(n){if(ub.has(n))return ub.get(n);const e=x4[n];if(!e?.defaults)return[];const t=e.defaults,r=[];for(const[s,i]of Object.entries(t))r.push(Kee(s,i));return ub.set(n,r),r}function Xee(){const n=[];for(const[e,t]of Object.entries(x4)){if(typeof t!="function"||!("defaults"in t)||!t.defaults)continue;const r=t.defaults,s=r.$name??lb(e),i=!!r.$positionNode,a=[],l={},c=v4(e);for(const p of c)if(p.kind!=="meta"){if(p.kind==="tslRef")a.push({id:p.key,label:lb(p.key),dataType:p.tslRefDataType??"any"});else if(p.kind==="number")a.push({id:p.key,label:lb(p.key),dataType:"float"}),l[p.key]=p.defaultValue;else if(p.kind==="color"){const d=p.defaultValue;l[p.key]="#"+d.getHexString()}else if(p.kind==="vec3"){const d=p.defaultValue;l[`${p.key}_x`]=Math.round(d.x*1e4)/1e4,l[`${p.key}_y`]=Math.round(d.y*1e4)/1e4,l[`${p.key}_z`]=Math.round(d.z*1e4)/1e4}else if(p.kind==="vec2"){const d=p.defaultValue;l[`${p.key}_x`]=Math.round(d.x*1e4)/1e4,l[`${p.key}_y`]=Math.round(d.y*1e4)/1e4}}n.push({type:`tslTex_${e}`,label:s,category:"texture",tslFunction:e,tslImportModule:"tsl-textures",inputs:a,outputs:[{id:"out",label:i?"Position":"Color",dataType:i?"vec3":"color"}],defaultValues:Object.keys(l).length>0?l:void 0})}return n}const Gee=[{type:"positionGeometry",label:"Position",category:"input",tslFunction:"positionGeometry",tslImportModule:"three/tsl",inputs:[],outputs:[{id:"out",label:"Position",dataType:"vec3"}],description:"Geometry position in local space"},{type:"normalLocal",label:"Normal",category:"input",tslFunction:"normalLocal",tslImportModule:"three/tsl",inputs:[],outputs:[{id:"out",label:"Normal",dataType:"vec3"}]},{type:"tangentLocal",label:"Tangent",category:"input",tslFunction:"tangentLocal",tslImportModule:"three/tsl",inputs:[],outputs:[{id:"out",label:"Tangent",dataType:"vec3"}]},{type:"time",label:"Time",category:"input",tslFunction:"time",tslImportModule:"three/tsl",inputs:[],outputs:[{id:"out",label:"Time",dataType:"float"}]},{type:"screenUV",label:"Screen UV",category:"input",tslFunction:"screenUV",tslImportModule:"three/tsl",inputs:[],outputs:[{id:"out",label:"UV",dataType:"vec2"}]},{type:"uniform_float",label:"Uniform (float)",category:"input",tslFunction:"uniform",tslImportModule:"three/tsl",inputs:[],outputs:[{id:"out",label:"Value",dataType:"float"}],defaultValues:{value:1}},{type:"float",label:"Float",category:"type",tslFunction:"float",tslImportModule:"three/tsl",inputs:[],outputs:[{id:"out",label:"Value",dataType:"float"}],defaultValues:{value:0}},{type:"int",label:"Int",category:"type",tslFunction:"int",tslImportModule:"three/tsl",inputs:[],outputs:[{id:"out",label:"Value",dataType:"int"}],defaultValues:{value:0}},{type:"vec2",label:"Vec2",category:"type",tslFunction:"vec2",tslImportModule:"three/tsl",inputs:[{id:"x",label:"X",dataType:"float"},{id:"y",label:"Y",dataType:"float"}],outputs:[{id:"out",label:"Output",dataType:"vec2"}]},{type:"vec3",label:"Vec3",category:"type",tslFunction:"vec3",tslImportModule:"three/tsl",inputs:[{id:"x",label:"X",dataType:"float"},{id:"y",label:"Y",dataType:"float"},{id:"z",label:"Z",dataType:"float"}],outputs:[{id:"out",label:"Output",dataType:"vec3"}]},{type:"vec4",label:"Vec4",category:"type",tslFunction:"vec4",tslImportModule:"three/tsl",inputs:[{id:"x",label:"X",dataType:"float"},{id:"y",label:"Y",dataType:"float"},{id:"z",label:"Z",dataType:"float"},{id:"w",label:"W",dataType:"float"}],outputs:[{id:"out",label:"Output",dataType:"vec4"}]},{type:"color",label:"Color",category:"type",tslFunction:"color",tslImportModule:"three/tsl",inputs:[],outputs:[{id:"out",label:"Color",dataType:"color"}],defaultValues:{hex:"#ff0000"}},{type:"add",label:"Add",category:"arithmetic",tslFunction:"add",tslImportModule:"three/tsl",inputs:[{id:"a",label:"A",dataType:"any"},{id:"b",label:"B",dataType:"any"}],outputs:[{id:"out",label:"Result",dataType:"any"}],chainable:!0},{type:"sub",label:"Subtract",category:"arithmetic",tslFunction:"sub",tslImportModule:"three/tsl",inputs:[{id:"a",label:"A",dataType:"any"},{id:"b",label:"B",dataType:"any"}],outputs:[{id:"out",label:"Result",dataType:"any"}],chainable:!0},{type:"mul",label:"Multiply",category:"arithmetic",tslFunction:"mul",tslImportModule:"three/tsl",inputs:[{id:"a",label:"A",dataType:"any"},{id:"b",label:"B",dataType:"any"}],outputs:[{id:"out",label:"Result",dataType:"any"}],chainable:!0},{type:"div",label:"Divide",category:"arithmetic",tslFunction:"div",tslImportModule:"three/tsl",inputs:[{id:"a",label:"A",dataType:"any"},{id:"b",label:"B",dataType:"any"}],outputs:[{id:"out",label:"Result",dataType:"any"}],chainable:!0},...[["sin","Sine"],["cos","Cosine"],["abs","Abs"],["sqrt","Sqrt"],["exp","Exp"],["log2","Log2"],["floor","Floor"],["round","Round"],["fract","Fract"]].map(([n,e])=>({type:n,label:e,category:"math",tslFunction:n,tslImportModule:"three/tsl",inputs:[{id:"x",label:"X",dataType:"any"}],outputs:[{id:"out",label:"Result",dataType:"any"}]})),{type:"pow",label:"Power",category:"math",tslFunction:"pow",tslImportModule:"three/tsl",inputs:[{id:"base",label:"Base",dataType:"any"},{id:"exp",label:"Exponent",dataType:"float"}],outputs:[{id:"out",label:"Result",dataType:"any"}]},{type:"mod",label:"Mod",category:"math",tslFunction:"mod",tslImportModule:"three/tsl",inputs:[{id:"x",label:"X",dataType:"any"},{id:"y",label:"Y",dataType:"any"}],outputs:[{id:"out",label:"Result",dataType:"any"}]},{type:"clamp",label:"Clamp",category:"math",tslFunction:"clamp",tslImportModule:"three/tsl",inputs:[{id:"x",label:"Value",dataType:"any"},{id:"min",label:"Min",dataType:"any"},{id:"max",label:"Max",dataType:"any"}],outputs:[{id:"out",label:"Result",dataType:"any"}]},{type:"min",label:"Min",category:"math",tslFunction:"min",tslImportModule:"three/tsl",inputs:[{id:"a",label:"A",dataType:"any"},{id:"b",label:"B",dataType:"any"}],outputs:[{id:"out",label:"Result",dataType:"any"}]},{type:"max",label:"Max",category:"math",tslFunction:"max",tslImportModule:"three/tsl",inputs:[{id:"a",label:"A",dataType:"any"},{id:"b",label:"B",dataType:"any"}],outputs:[{id:"out",label:"Result",dataType:"any"}]},{type:"mix",label:"Mix",category:"interpolation",tslFunction:"mix",tslImportModule:"three/tsl",inputs:[{id:"a",label:"A",dataType:"any"},{id:"b",label:"B",dataType:"any"},{id:"t",label:"Factor",dataType:"float"}],outputs:[{id:"out",label:"Result",dataType:"any"}]},{type:"smoothstep",label:"Smoothstep",category:"interpolation",tslFunction:"smoothstep",tslImportModule:"three/tsl",inputs:[{id:"edge0",label:"Edge 0",dataType:"float"},{id:"edge1",label:"Edge 1",dataType:"float"},{id:"x",label:"X",dataType:"float"}],outputs:[{id:"out",label:"Result",dataType:"float"}]},{type:"remap",label:"Remap",category:"interpolation",tslFunction:"remap",tslImportModule:"three/tsl",inputs:[{id:"x",label:"Value",dataType:"float"},{id:"inLow",label:"In Low",dataType:"float"},{id:"inHigh",label:"In High",dataType:"float"},{id:"outLow",label:"Out Low",dataType:"float"},{id:"outHigh",label:"Out High",dataType:"float"}],outputs:[{id:"out",label:"Result",dataType:"float"}]},{type:"select",label:"Select",category:"interpolation",tslFunction:"select",tslImportModule:"three/tsl",inputs:[{id:"condition",label:"Condition",dataType:"float"},{id:"a",label:"True",dataType:"any"},{id:"b",label:"False",dataType:"any"}],outputs:[{id:"out",label:"Result",dataType:"any"}]},{type:"normalize",label:"Normalize",category:"vector",tslFunction:"normalize",tslImportModule:"three/tsl",inputs:[{id:"v",label:"Vector",dataType:"vec3"}],outputs:[{id:"out",label:"Result",dataType:"vec3"}]},{type:"length",label:"Length",category:"vector",tslFunction:"length",tslImportModule:"three/tsl",inputs:[{id:"v",label:"Vector",dataType:"vec3"}],outputs:[{id:"out",label:"Result",dataType:"float"}]},{type:"distance",label:"Distance",category:"vector",tslFunction:"distance",tslImportModule:"three/tsl",inputs:[{id:"a",label:"A",dataType:"vec3"},{id:"b",label:"B",dataType:"vec3"}],outputs:[{id:"out",label:"Result",dataType:"float"}]},{type:"dot",label:"Dot Product",category:"vector",tslFunction:"dot",tslImportModule:"three/tsl",inputs:[{id:"a",label:"A",dataType:"vec3"},{id:"b",label:"B",dataType:"vec3"}],outputs:[{id:"out",label:"Result",dataType:"float"}]},{type:"cross",label:"Cross Product",category:"vector",tslFunction:"cross",tslImportModule:"three/tsl",inputs:[{id:"a",label:"A",dataType:"vec3"},{id:"b",label:"B",dataType:"vec3"}],outputs:[{id:"out",label:"Result",dataType:"vec3"}]},{type:"split",label:"Split",category:"vector",tslFunction:"split",tslImportModule:"",inputs:[{id:"v",label:"Vector",dataType:"any"}],outputs:[{id:"x",label:"X",dataType:"float"},{id:"y",label:"Y",dataType:"float"},{id:"z",label:"Z",dataType:"float"},{id:"w",label:"W",dataType:"float"}],description:"Split vector into components. Also: Separate"},{type:"noise",label:"Noise",category:"noise",tslFunction:"mx_noise_float",tslImportModule:"three/tsl",inputs:[{id:"pos",label:"Position",dataType:"vec3"}],outputs:[{id:"out",label:"Value",dataType:"float"}],defaultValues:{scale:1}},{type:"fractal",label:"Fractal (fBm)",category:"noise",tslFunction:"mx_fractal_noise_float",tslImportModule:"three/tsl",inputs:[{id:"pos",label:"Position",dataType:"vec3"},{id:"octaves",label:"Octaves",dataType:"int"},{id:"lacunarity",label:"Lacunarity",dataType:"float"},{id:"diminish",label:"Diminish",dataType:"float"}],outputs:[{id:"out",label:"Value",dataType:"float"}],defaultValues:{scale:1,octaves:4,lacunarity:2,diminish:.5}},{type:"voronoi",label:"Voronoi",category:"noise",tslFunction:"mx_worley_noise_float",tslImportModule:"three/tsl",inputs:[{id:"pos",label:"Position",dataType:"vec3"}],outputs:[{id:"out",label:"Value",dataType:"float"}],defaultValues:{scale:1}},{type:"hsl",label:"HSL to RGB",category:"color",tslFunction:"hsl",tslImportModule:"three/tsl",inputs:[{id:"h",label:"Hue",dataType:"float"},{id:"s",label:"Saturation",dataType:"float"},{id:"l",label:"Lightness",dataType:"float"}],outputs:[{id:"out",label:"Color",dataType:"vec3"}]},{type:"toHsl",label:"RGB to HSL",category:"color",tslFunction:"toHsl",tslImportModule:"three/tsl",inputs:[{id:"rgb",label:"RGB",dataType:"vec3"}],outputs:[{id:"out",label:"HSL",dataType:"vec3"}]},{type:"output",label:"Output",category:"output",tslFunction:"output",tslImportModule:"",inputs:[{id:"color",label:"Color",dataType:"color"},{id:"emissive",label:"Emissive",dataType:"color"},{id:"normal",label:"Normal",dataType:"vec3"},{id:"position",label:"Position",dataType:"vec3"},{id:"opacity",label:"Opacity",dataType:"float"},{id:"roughness",label:"Roughness",dataType:"float"}],outputs:[]}],Mv=[...Gee,...Xee()],ds=new Map(Mv.map(n=>[n.type,n])),T4=new Map(Mv.filter(n=>n.tslFunction).map(n=>[n.tslFunction,n]));function Yee(n){const e=n.toLowerCase();return Mv.filter(t=>t.label.toLowerCase().includes(e)||t.type.toLowerCase().includes(e)||t.tslFunction.toLowerCase().includes(e)||t.description?.toLowerCase().includes(e))}function Jee(){return Mv}const Zee=[139,195,74],OC=[255,193,7],Qee=[255,87,34];function cb(n,e,t){return n+(e-n)*t}function ete(n,e,t){return"#"+[n,e,t].map(r=>Math.round(r).toString(16).padStart(2,"0")).join("")}function tte(n){const e=parseInt(n.slice(1,3),16)/255,t=parseInt(n.slice(3,5),16)/255,r=parseInt(n.slice(5,7),16)/255;return[e,t,r]}function Wm(n){if(n<=0)return"#EBEBEB";const e=Math.min(n/80,1),[t,r]=e<.5?[Zee,OC]:[OC,Qee],s=e<.5?e*2:(e-.5)*2,i=cb(t[0],r[0],s)*.45+255*.55,a=cb(t[1],r[1],s)*.45+255*.55,l=cb(t[2],r[2],s)*.45+255*.55;return ete(i,a,l)}function Hm(n){return n<=0?1:1+Math.min(n/80,1)*.35}const LC={float:"var(--type-float)",int:"var(--type-int)",vec2:"var(--type-vec2)",vec3:"var(--type-vec3)",vec4:"var(--type-vec4)",color:"var(--type-color)",any:"var(--type-any)"};function uP(n){return LC[n]||LC.any}function ep({type:n,position:e,id:t,dataType:r,style:s}){return he.jsx(ym,{type:n,position:e,id:t,className:"typed-handle",style:{background:uP(r),...s},isConnectableStart:!0})}const nte=3,rte=.005,ste=.002;function Ph(n,e){const t=10**e;return Math.round(n*t)/t}function lf({value:n,onChange:e,step:t=.1,compact:r=!1,className:s=""}){const[i,a]=_e.useState(!1),[l,c]=_e.useState(""),[p,d]=_e.useState(!1),h=_e.useRef({startX:0,startValue:0,moved:!1,isDown:!1}),m=_e.useRef(null),x=_e.useCallback(()=>{c(String(Ph(n,4))),a(!0)},[n]),w=_e.useCallback(()=>{a(!1);const O=parseFloat(l);isNaN(O)||e(O)},[l,e]),A=_e.useCallback(()=>{a(!1)},[]),P=_e.useCallback(O=>{O.key==="Enter"&&w(),O.key==="Escape"&&A()},[w,A]);_e.useEffect(()=>{i&&m.current&&(m.current.focus(),m.current.select())},[i]);const S=_e.useCallback(O=>{i||(O.preventDefault(),O.target.setPointerCapture(O.pointerId),h.current={startX:O.clientX,startValue:n,moved:!1,isDown:!0})},[n,i]),C=_e.useCallback(O=>{if(i||!h.current.isDown)return;const L=O.clientX-h.current.startX;if(!h.current.moved&&Math.abs(L)<nte)return;h.current.moved=!0,d(!0);const B=rte+Math.abs(L)*ste,j=h.current.startValue+L*B;e(Ph(j,4))},[e,i]),I=_e.useCallback(O=>{O.target.releasePointerCapture(O.pointerId),h.current.isDown=!1,d(!1),h.current.moved||x()},[x]),_=_e.useCallback(()=>{e(Ph(n+t,4))},[n,t,e]),D=_e.useCallback(()=>{e(Ph(n-t,4))},[n,t,e]),F=Ph(n,2);return he.jsxs("span",{className:`drag-num nodrag ${r?"drag-num--compact":""} ${s}`,children:[he.jsx("button",{className:"drag-num__arrow",onPointerDown:D,type:"button",children:""}),i?he.jsx("input",{ref:m,className:"drag-num__edit",type:"number",value:l,onChange:O=>c(O.target.value),onKeyDown:P,onBlur:w,step:t}):he.jsx("span",{className:`drag-num__value ${p?"drag-num__value--dragging":""}`,onPointerDown:S,onPointerMove:C,onPointerUp:I,children:F}),he.jsx("button",{className:"drag-num__arrow",onPointerDown:_,type:"button",children:""})]})}const cP={input:"var(--cat-input)",type:"var(--cat-type)",arithmetic:"var(--cat-arithmetic)",math:"var(--cat-math)",interpolation:"var(--cat-interpolation)",vector:"var(--cat-vector)",noise:"var(--cat-noise)",color:"var(--cat-color)",texture:"var(--cat-texture)"};function ite(n){const e=[],t=n.defaultValues??{};if(n.inputs.length===0&&Object.keys(t).length>0){const r=Object.keys(t),s=new Set,i=[];for(const l of r)if(!s.has(l))if(l.endsWith("_x")){const c=l.slice(0,-2);r.includes(`${c}_z`)?(s.add(l),s.add(`${c}_y`),s.add(`${c}_z`),i.push({key:l,type:"vec3",baseKey:c})):r.includes(`${c}_y`)?(s.add(l),s.add(`${c}_y`),i.push({key:l,type:"vec2",baseKey:c})):i.push({key:l,type:"number"})}else l.endsWith("_y")||l.endsWith("_z")?s.has(l)||i.push({key:l,type:"number"}):i.push({key:l,type:String(t[l]).startsWith("#")?"color":"number"});const a=Math.max(i.length,n.outputs.length);for(let l=0;l<a;l++){const c=i[l];e.push({input:null,output:n.outputs[l]??null,settingKey:c?.key??null,settingType:c?.type??null,vecBaseKey:c?.baseKey})}}else{const r=new Set(n.inputs.map(c=>c.id)),s=[],i=new Set,a=Object.keys(t);for(const c of a)if(!(i.has(c)||r.has(c)))if(c.endsWith("_x")){const p=c.slice(0,-2);r.has(p)||(a.includes(`${p}_z`)?(i.add(c),i.add(`${p}_y`),i.add(`${p}_z`),s.push({key:c,type:"vec3",baseKey:p})):a.includes(`${p}_y`)&&(i.add(c),i.add(`${p}_y`),s.push({key:c,type:"vec2",baseKey:p})))}else c.endsWith("_y")||c.endsWith("_z")||r.has(c)||s.push({key:c,type:String(t[c]).startsWith("#")?"color":"number"});const l=Math.max(n.inputs.length+s.length,n.outputs.length);for(let c=0;c<l;c++)if(c<n.inputs.length){const p=n.inputs[c],d=p.id in t?p.id:null;e.push({input:p,output:n.outputs[c]??null,settingKey:d,settingType:d?String(t[d]).startsWith("#")?"color":"number":null})}else{const p=s[c-n.inputs.length];e.push({input:null,output:n.outputs[c]??null,settingKey:p?.key??null,settingType:p?.type??null,vecBaseKey:p?.baseKey})}}if(e.length===0&&n.outputs.length>0)for(const r of n.outputs)e.push({input:null,output:r,settingKey:null,settingType:null});return e}const ate=_e.memo(function({id:e,data:t,selected:r}){const s=ds.get(t.registryType);if(!s)return null;const i=_t(w=>w.updateNodeData),a=_t(w=>w.edges),l=cP[s.category]??"var(--type-any)",c=Wm(t.cost),p=Hm(t.cost),d=`${t.cost}`,h=ite(s),m=new Set(a.filter(w=>w.target===e).map(w=>w.targetHandle)),x=_e.useCallback((w,A)=>{const P=parseFloat(A),S=isNaN(P)?A:P;i(e,{values:{...t.values,[w]:S}})},[e,t.values,i]);return he.jsxs("div",{className:`node-base ${r?"node-base--selected":""}`,style:{background:c,transform:`scale(${p})`,transformOrigin:"top left"},children:[he.jsxs("div",{className:"node-base__header",children:[he.jsx("span",{className:"node-base__dot",style:{background:l}}),he.jsx("span",{className:"node-base__title",children:t.label}),he.jsx("span",{className:"node-base__cost",children:d})]}),he.jsx("div",{className:"node-base__body",children:h.map((w,A)=>{const P=w.input?m.has(w.input.id):!1,S=w.input&&!P&&!w.settingKey;return he.jsxs("div",{className:"node-base__row shader-node__row",children:[he.jsxs("div",{className:"shader-node__left",children:[w.input&&he.jsx(ep,{type:"target",position:Xt.Left,id:w.input.id,dataType:w.input.dataType}),w.input&&he.jsx("span",{className:"node-base__port-label",children:w.input.label}),w.settingKey&&w.settingType==="number"&&!P&&he.jsx(lf,{compact:!0,value:Number(t.values[w.settingKey]??s.defaultValues?.[w.settingKey]??0),onChange:C=>x(w.settingKey,String(C))}),w.settingKey&&w.settingType==="color"&&he.jsxs("span",{className:"shader-node__color-wrap",children:[he.jsx("input",{type:"color",className:"shader-node__input-color nodrag",value:String(t.values[w.settingKey]??s.defaultValues?.[w.settingKey]??"#ff0000"),onChange:C=>x(w.settingKey,C.target.value)}),he.jsx("span",{className:"shader-node__color-hex",children:String(t.values[w.settingKey]??s.defaultValues?.[w.settingKey]??"#ff0000")})]}),w.settingType==="vec3"&&w.vecBaseKey&&he.jsxs("span",{className:"shader-node__vec-group",children:[he.jsx("span",{className:"shader-node__vec-label",children:w.vecBaseKey}),["x","y","z"].map(C=>{const I=`${w.vecBaseKey}_${C}`;return he.jsx(lf,{compact:!0,value:Number(t.values[I]??s.defaultValues?.[I]??0),onChange:_=>x(I,String(_))},C)})]}),w.settingType==="vec2"&&w.vecBaseKey&&he.jsxs("span",{className:"shader-node__vec-group",children:[he.jsx("span",{className:"shader-node__vec-label",children:w.vecBaseKey}),["x","y"].map(C=>{const I=`${w.vecBaseKey}_${C}`;return he.jsx(lf,{compact:!0,value:Number(t.values[I]??s.defaultValues?.[I]??0),onChange:_=>x(I,String(_))},C)})]}),S&&he.jsx(lf,{compact:!0,value:Number(t.values[w.input.id]??0),onChange:C=>x(w.input.id,String(C))})]}),he.jsxs("div",{className:"shader-node__right",children:[w.output&&he.jsx("span",{className:"node-base__port-label",children:w.output.label}),w.output&&he.jsx(ep,{type:"source",position:Xt.Right,id:w.output.id,dataType:w.output.dataType})]})]},A)})})]})}),ote=_e.memo(function({id:e,data:t,selected:r}){const s=_t(p=>p.updateNodeData),i=_e.useRef(null),a=String(t.values?.hex??"#ff0000"),l=_e.useCallback(p=>{s(e,{values:{...t.values,hex:p.target.value}})},[e,t.values,s]),c=_e.useCallback(()=>{i.current?.click()},[]);return he.jsxs("div",{className:`color-node ${r?"color-node--selected":""}`,style:{background:a},onDoubleClick:c,children:[he.jsx("span",{className:"color-node__label",style:{color:(()=>{const[p,d,h]=tte(a);return .2126*p+.7152*d+.0722*h>.45?"rgba(0,0,0,0.7)":"rgba(255,255,255,0.85)"})()},children:"Color"}),he.jsx("input",{ref:i,type:"color",className:"color-node__picker",value:a,onChange:l}),he.jsx(ep,{type:"source",position:Xt.Right,id:"out",dataType:"color"})]})}),aa=new Uint8Array(512),DC=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180];for(let n=0;n<256;n++)aa[n]=DC[n],aa[n+256]=DC[n];function RC(n){return n*n*n*(n*(n*6-15)+10)}function pb(n,e,t){return e+n*(t-e)}function kg(n,e,t){const r=n&3,s=r<2?e:t,i=r<2?t:e;return((r&1)===0?s:-s)+((r&2)===0?i:-i)}function pP(n,e){const t=Math.floor(n)&255,r=Math.floor(e)&255,s=n-Math.floor(n),i=e-Math.floor(e),a=RC(s),l=RC(i),c=aa[aa[t]+r],p=aa[aa[t]+r+1],d=aa[aa[t+1]+r],h=aa[aa[t+1]+r+1];return pb(l,pb(a,kg(c,s,i),kg(d,s-1,i)),pb(a,kg(p,s,i-1),kg(h,s-1,i-1)))}function S4(n,e,t,r,s){let i=0,a=1,l=1,c=0;for(let p=0;p<t;p++)i+=pP(n*l,e*l)*a,c+=a,a*=s,l*=r;return i/c}function b4(n,e){const t=Math.floor(n),r=Math.floor(e);let s=1e10;for(let i=-1;i<=1;i++)for(let a=-1;a<=1;a++){const l=t+a,c=r+i,p=aa[aa[l&255]+(c&255)&255],d=l+p/255,h=c+aa[p+37&255]/255,m=Math.sqrt((n-d)*(n-d)+(e-h)*(e-h));m<s&&(s=m)}return Math.min(s,1)}function FC(n,e,t,r,s){const i=new ImageData(e,e),a=i.data,c=4*Number(t.scale??1),p=s.pos?r*.4:0,d=Number(t.octaves??4),h=s.octaves?Math.max(1,Math.round(d+Math.sin(r*.8)*3)):d,m=Number(t.lacunarity??2),x=s.lacunarity?m+Math.sin(r*.6)*m*.3:m,w=Number(t.diminish??.5),A=s.diminish?Math.max(.05,w+Math.sin(r*.5)*w*.4):w;for(let P=0;P<e;P++)for(let S=0;S<e;S++){const C=S/e*c+p,I=P/e*c+p*.75;let _;switch(n){case"noise":_=(pP(C,I)+1)*.5;break;case"fractal":_=(S4(C,I,h,x,A)+1)*.5;break;case"voronoi":_=b4(C,I);break}const D=Math.round(Math.max(0,Math.min(1,_))*255),F=(P*e+S)*4;a[F]=D,a[F+1]=D,a[F+2]=D,a[F+3]=255}return i}function uw(n,e,t,r){return cw(n,e,t,r,new Map)}function w4(n,e,t,r){const s=uw(n,e,t,r);return s!==null&&s.length>0?s[0]:null}function cw(n,e,t,r,s){if(s.has(n))return s.get(n);const i=e.find(x=>x.id===n);if(!i)return s.set(n,null),null;const a=i.data.registryType,l=i.data.values??{},c=(x,w)=>{const A=t.find(S=>S.target===n&&S.targetHandle===x);if(A){const S=cw(A.source,e,t,r,s);if(S!==null&&S.length>0)return S[0]}const P=l[x];return P!==void 0?Number(P):w},p=(x,w)=>{const A=t.find(S=>S.target===n&&S.targetHandle===x);if(A){const S=cw(A.source,e,t,r,s);if(S!==null)return S}const P=l[x];return[P!==void 0?Number(P):w]},d=(x,w,A)=>{const P=p(x,w);return P?P.map(A):null},h=(x,w,A,P,S)=>{const C=p(x,w),I=p(A,P);if(!C||!I)return null;const _=Math.max(C.length,I.length),D=[];for(let F=0;F<_;F++)D.push(S(C[F%C.length],I[F%I.length]));return D};let m=null;switch(a){case"time":m=[r];break;case"float":case"int":case"uniform_float":m=[Number(l.value??0)];break;case"screenUV":m=[.5,.5];break;case"vec2":m=[c("x",0),c("y",0)];break;case"vec3":m=[c("x",0),c("y",0),c("z",0)];break;case"vec4":m=[c("x",0),c("y",0),c("z",0),c("w",0)];break;case"color":{const x=String(l.hex??"#ff0000"),w=parseInt(x.slice(1,3),16)/255,A=parseInt(x.slice(3,5),16)/255,P=parseInt(x.slice(5,7),16)/255;m=[w,A,P];break}case"add":m=h("a",0,"b",0,(x,w)=>x+w);break;case"sub":m=h("a",0,"b",0,(x,w)=>x-w);break;case"mul":m=h("a",1,"b",1,(x,w)=>x*w);break;case"div":m=h("a",1,"b",1,(x,w)=>w!==0?x/w:0);break;case"sin":m=d("x",0,Math.sin);break;case"cos":m=d("x",0,Math.cos);break;case"abs":m=d("x",0,Math.abs);break;case"sqrt":m=d("x",0,x=>Math.sqrt(Math.max(0,x)));break;case"exp":m=d("x",0,Math.exp);break;case"log2":m=d("x",1,x=>Math.log2(Math.max(1e-10,x)));break;case"floor":m=d("x",0,Math.floor);break;case"round":m=d("x",0,Math.round);break;case"fract":m=d("x",0,x=>x-Math.floor(x));break;case"pow":m=h("base",1,"exp",1,Math.pow);break;case"mod":m=h("x",0,"y",1,(x,w)=>w!==0?x%w:0);break;case"min":m=h("a",0,"b",0,Math.min);break;case"max":m=h("a",0,"b",0,Math.max);break;case"clamp":{const x=p("x",0),w=c("min",0),A=c("max",1);m=x?x.map(P=>Math.min(Math.max(P,w),A)):null;break}case"mix":{const x=p("a",0),w=p("b",1),A=c("t",.5);if(x&&w){const P=Math.max(x.length,w.length);m=[];for(let S=0;S<P;S++){const C=x[S%x.length],I=w[S%w.length];m.push(C*(1-A)+I*A)}}break}case"smoothstep":{const x=c("edge0",0),w=c("edge1",1),A=p("x",.5);m=A?A.map(P=>{const S=Math.max(0,Math.min(1,(P-x)/(w-x||1)));return S*S*(3-2*S)}):null;break}case"remap":{const x=p("x",0),w=c("inLow",0),A=c("inHigh",1),P=c("outLow",0),S=c("outHigh",1);m=x?x.map(C=>{const I=A-w!==0?(C-w)/(A-w):0;return P+I*(S-P)}):null;break}case"select":{const x=c("condition",0),w=p("a",0),A=p("b",0);m=x>=.5?w:A;break}case"length":{const x=p("v",0);x&&(m=[Math.sqrt(x.reduce((w,A)=>w+A*A,0))]);break}case"distance":{const x=p("a",0),w=p("b",0);if(x&&w){const A=Math.max(x.length,w.length);let P=0;for(let S=0;S<A;S++){const C=(x[S%x.length]??0)-(w[S%w.length]??0);P+=C*C}m=[Math.sqrt(P)]}break}case"dot":{const x=p("a",0),w=p("b",0);if(x&&w){const A=Math.max(x.length,w.length);let P=0;for(let S=0;S<A;S++)P+=(x[S%x.length]??0)*(w[S%w.length]??0);m=[P]}break}case"normalize":{const x=p("v",0);if(x){const w=Math.sqrt(x.reduce((A,P)=>A+P*P,0))||1;m=x.map(A=>A/w)}break}case"cross":{const x=p("a",0),w=p("b",0);x&&w&&x.length>=3&&w.length>=3&&(m=[x[1]*w[2]-x[2]*w[1],x[2]*w[0]-x[0]*w[2],x[0]*w[1]-x[1]*w[0]]);break}case"noise":{const x=p("pos",0),w=c("scale",1),A=(x?x[0]:.5)*4*w,P=(x?x[1]??.5:.5)*4*w;m=[(pP(A,P)+1)*.5];break}case"fractal":{const x=p("pos",0),w=c("scale",1),A=c("octaves",4),P=c("lacunarity",2),S=c("diminish",.5),C=(x?x[0]:.5)*4*w,I=(x?x[1]??.5:.5)*4*w;m=[(S4(C,I,Math.round(A),P,S)+1)*.5];break}case"voronoi":{const x=p("pos",0),w=c("scale",1),A=(x?x[0]:.5)*4*w,P=(x?x[1]??.5:.5)*4*w;m=[b4(A,P)];break}default:m=null}return s.set(n,m),m}const Og=96,lte=new Set(["noise","fractal","voronoi"]);function BC(n,e){if(e===1)return"50%";const t=25,s=(75-t)/(e-1);return`${t+n*s}%`}function ute(n,e,t){const r=new Set,s=[n];for(;s.length>0;){const i=s.pop();if(r.has(i))continue;r.add(i);const a=e.find(l=>l.id===i);if(a&&a.data.registryType==="time")return!0;for(const l of t)l.target===i&&!r.has(l.source)&&s.push(l.source)}return!1}function cte(n,e,t){const r={};for(const s of t){if(s.target!==n)continue;const i=s.targetHandle;i&&ute(s.source,e,t)&&(r[i]=!0)}return r}const pte=_e.memo(function({id:e,data:t,selected:r}){const s=ds.get(t.registryType);if(!s)return null;const i=_e.useRef(null),a=_t(P=>P.nodes),l=_t(P=>P.edges),c=cte(e,a,l),p=Object.values(c).some(Boolean),d=cP[s.category]??"var(--type-any)",h=Wm(t.cost),m=Hm(t.cost),x=_e.useRef(a),w=_e.useRef(l);x.current=a,w.current=l;const A=(P,S,C)=>{const I={...t.values};for(const _ of S){if(_.target!==e)continue;const D=_.targetHandle;if(!D)continue;const F=w4(_.source,P,S,C);F!==null&&(I[D]=F)}return I};return _e.useEffect(()=>{const P=i.current;if(!P||!lte.has(t.registryType))return;const S=P.getContext("2d");if(!S)return;if(!p){const D=A(a,l,0),F=FC(t.registryType,Og,D,0,{});S.putImageData(F,0,0);return}let C,I=null;const _=D=>{I===null&&(I=D);const F=(D-I)/1e3,O=A(x.current,w.current,F),L=FC(t.registryType,Og,O,F,c);S.putImageData(L,0,0),C=requestAnimationFrame(_)};return C=requestAnimationFrame(_),()=>cancelAnimationFrame(C)},[t.registryType,t.values,a,l,p,c.pos,c.octaves,c.lacunarity,c.diminish]),he.jsxs("div",{className:`node-base preview-node ${r?"node-base--selected":""}`,style:{background:h,transform:`scale(${m})`,transformOrigin:"top left"},children:[he.jsxs("div",{className:"node-base__header",children:[he.jsx("span",{className:"node-base__dot",style:{background:d}}),he.jsx("span",{className:"node-base__title",children:t.label}),he.jsx("span",{className:"node-base__cost",children:t.cost})]}),he.jsx("div",{className:"preview-node__canvas-wrap",children:he.jsx("canvas",{ref:i,width:Og,height:Og,className:"preview-node__canvas"})}),s.inputs.map((P,S)=>he.jsx(ep,{type:"target",position:Xt.Left,id:P.id,dataType:P.dataType,style:{top:BC(S,s.inputs.length)}},P.id)),s.outputs.map((P,S)=>he.jsx(ep,{type:"source",position:Xt.Right,id:P.id,dataType:P.dataType,style:{top:BC(S,s.outputs.length)}},P.id))]})}),dte=Math.PI*2;function VC(n,e){const{func:t,width:r,height:s,phase:i,accentColor:a,funcLabel:l,inputValue:c}=e,p=-Math.PI+i,d=Math.PI+i,h=-1.35,m=1.35,x=P=>s-(P-h)/(m-h)*s;n.clearRect(0,0,r,s),n.fillStyle="rgba(0, 0, 0, 0.04)",n.fillRect(0,0,r,s),n.strokeStyle="rgba(0, 0, 0, 0.08)",n.lineWidth=.5,n.setLineDash([2,2]);for(const P of[-1,-.5,.5,1]){const S=x(P);n.beginPath(),n.moveTo(0,S),n.lineTo(r,S),n.stroke()}n.setLineDash([]),n.strokeStyle="rgba(0, 0, 0, 0.18)",n.lineWidth=1;const w=x(0);n.beginPath(),n.moveTo(0,w),n.lineTo(r,w),n.stroke(),n.strokeStyle=a,n.lineWidth=1.5,n.lineJoin="round",n.beginPath();const A=(d-p)/r;for(let P=0;P<=r;P++){const S=p+P*A,C=t(S),I=x(C);P===0?n.moveTo(P,I):n.lineTo(P,I)}if(n.stroke(),c!==null){const P=t(c),S=r/2,C=x(P);n.strokeStyle="rgba(0, 0, 0, 0.15)",n.lineWidth=.5,n.setLineDash([2,2]),n.beginPath(),n.moveTo(S,w),n.lineTo(S,C),n.stroke(),n.setLineDash([]),n.fillStyle=a,n.beginPath(),n.arc(S,C,3,0,dte),n.fill(),n.strokeStyle="rgba(255, 255, 255, 0.8)",n.lineWidth=1,n.stroke();const I=`${l}(${c.toFixed(1)}) = ${P.toFixed(3)}`;n.font='8px "JetBrains Mono", monospace',n.textAlign="center";const _=n.measureText(I),D=r/2,F=s-3,O=_.width+6,L=10;n.fillStyle="rgba(255, 255, 255, 0.75)",n.beginPath(),n.roundRect(D-O/2,F-L+2,O,L,2),n.fill(),n.fillStyle="rgba(0, 0, 0, 0.65)",n.fillText(I,D,F)}}const Xd=72,fte={sin:Math.sin,cos:Math.cos};function hte(n,e,t){const r=new Set,s=[n];for(;s.length>0;){const i=s.pop();if(r.has(i))continue;r.add(i);const a=e.find(l=>l.id===i);if(a&&a.data.registryType==="time")return!0;for(const l of t)l.target===i&&!r.has(l.source)&&s.push(l.source)}return!1}const mte=_e.memo(function({id:e,data:t,selected:r}){const s=ds.get(t.registryType);if(!s)return null;const i=_e.useRef(null),a=_t(D=>D.nodes),l=_t(D=>D.edges),c=_t(D=>D.updateNodeData),p=fte[t.registryType]??Math.sin,d=cP[s.category]??"var(--type-any)",h=Wm(t.cost),m=Hm(t.cost),x=l.find(D=>D.target===e&&D.targetHandle==="x"),w=!!x,A=w&&hte(x.source,a,l),P="#6C63FF",S=Number(t.values?.x??0),C=_e.useRef(a),I=_e.useRef(l);C.current=a,I.current=l,_e.useEffect(()=>{const D=i.current;if(!D)return;const F=D.getContext("2d");if(F)if(A){let O,L=null;const B=j=>{L===null&&(L=j);const M=(j-L)/1e3,ee=x.source,J=w4(ee,C.current,I.current,M)??M;VC(F,{func:p,width:Xd,height:Xd,phase:J,accentColor:P,inputValue:J,funcLabel:t.registryType}),O=requestAnimationFrame(B)};return O=requestAnimationFrame(B),()=>cancelAnimationFrame(O)}else VC(F,{func:p,width:Xd,height:Xd,phase:w?0:S,accentColor:P,inputValue:w?null:S,funcLabel:t.registryType})},[t.registryType,t.values,A,w,p,P,S,x]);const _=_e.useCallback(D=>{c(e,{values:{...t.values,x:D}})},[e,t.values,c]);return he.jsxs("div",{className:`node-base math-preview-node ${r?"node-base--selected":""}`,style:{background:h,transform:`scale(${m})`,transformOrigin:"top left"},children:[he.jsxs("div",{className:"node-base__header",children:[he.jsx("span",{className:"node-base__dot",style:{background:d}}),he.jsx("span",{className:"node-base__title",children:t.label}),he.jsx("span",{className:"node-base__cost",children:t.cost})]}),he.jsx("div",{className:"math-preview-node__canvas-wrap",children:he.jsx("canvas",{ref:i,width:Xd,height:Xd,className:"math-preview-node__canvas"})}),he.jsx("div",{className:"math-preview-node__port-row",children:he.jsxs("div",{className:"math-preview-node__left",children:[s.inputs[0]&&he.jsx(ep,{type:"target",position:Xt.Left,id:s.inputs[0].id,dataType:s.inputs[0].dataType}),s.inputs[0]&&he.jsx("span",{className:"node-base__port-label",children:s.inputs[0].label}),!w&&he.jsx(lf,{compact:!0,value:S,onChange:_})]})}),s.outputs[0]&&he.jsx(ep,{type:"source",position:Xt.Right,id:s.outputs[0].id,dataType:s.outputs[0].dataType,style:{top:"50%"}})]})}),yte=_e.memo(function({data:e,selected:t}){const r=ds.get("output"),s=e.cost??0,i=Wm(s),a=Hm(s);return he.jsxs("div",{className:`node-base ${t?"node-base--selected":""}`,style:{background:i,transform:`scale(${a})`,transformOrigin:"top left"},children:[he.jsxs("div",{className:"node-base__header",children:[he.jsx("span",{className:"node-base__dot output-node__dot"}),he.jsx("span",{className:"node-base__title",children:"Output"}),he.jsxs("span",{className:"node-base__cost",children:[s," pts"]})]}),he.jsx("div",{className:"node-base__body",children:r.inputs.map(l=>he.jsxs("div",{className:"node-base__row",children:[he.jsx(ep,{type:"target",position:Xt.Left,id:l.id,dataType:l.dataType}),he.jsx("span",{className:"node-base__port-label",children:l.label})]},l.id))})]})}),gte={float:[""],int:[""],any:[""],vec2:["X","Y"],vec3:["X","Y","Z"],color:["R","G","B"],vec4:["X","Y","Z","W"]},xte={float:[],int:[],any:[],vec2:["#ff6666","#66dd66"],vec3:["#ff6666","#66dd66","#6699ff"],color:["#ff6666","#66dd66","#6699ff"],vec4:["#ff6666","#66dd66","#6699ff","#dddddd"]};function vte(n,e,t){const r=new Set,s=[n];for(;s.length>0;){const i=s.pop();if(r.has(i))continue;r.add(i);const a=e.find(l=>l.id===i);if(a&&a.data.registryType==="time")return!0;for(const l of t)l.target===i&&!r.has(l.source)&&s.push(l.source)}return!1}function Tte({sourceId:n,targetId:e,sourceHandleId:t,targetHandleId:r,edgeDataType:s,labelX:i,labelY:a}){const l=_t(B=>B.nodes),c=_t(B=>B.edges),p=l.find(B=>B.id===n),d=l.find(B=>B.id===e),[h,m]=_e.useState(null),x=_e.useRef(l),w=_e.useRef(c);x.current=l,w.current=c;const A=vte(n,l,c);if(_e.useEffect(()=>{const B=uw(n,l,c,0);if(!A){m(B);return}let j,M=null;const ee=ue=>{M===null&&(M=ue);const J=(ue-M)/1e3,ae=uw(n,x.current,w.current,J);m(ae),j=requestAnimationFrame(ee)};return j=requestAnimationFrame(ee),()=>cancelAnimationFrame(j)},[n,l,c,A]),!p||!d)return null;const P=ds.get(p.data.registryType),S=ds.get(d.data.registryType),C=P?.outputs.find(B=>B.id===(t??"out")),I=S?.inputs.find(B=>B.id===r),_=C&&C.dataType!=="any"?C.dataType:I&&I.dataType!=="any"?I.dataType:s,D=uP(_),F=gte[_]??[""],O=xte[_]??[],L=F.length>1;return he.jsxs("div",{className:"edge-info-card",style:{transform:`translate(-50%, -50%) translate(${i}px, ${a}px)`,background:D},onClick:B=>B.stopPropagation(),children:[he.jsx("span",{className:"edge-info-card__type",children:_}),h!==null&&he.jsx("span",{className:"edge-info-card__values",children:h.map((B,j)=>he.jsxs("span",{className:"edge-info-card__channel",children:[L&&he.jsx("span",{className:"edge-info-card__label",style:O[j]?{color:O[j]}:void 0,children:F[j]}),he.jsx("span",{className:"edge-info-card__num",children:B.toFixed(2)})]},j))})]})}const Ste={float:1,int:1,any:1,vec2:2,vec3:3,color:3,vec4:4},bte={float:[],int:[],any:[],vec2:["#ff4444","#44dd44"],vec3:["#ff4444","#44dd44","#4488ff"],color:["#ff4444","#44dd44","#4488ff"],vec4:["#ff4444","#44dd44","#4488ff","#dddddd"]},wte=3.5;function Ete(n){if(n<=1)return[0];const e=[],t=(n-1)/2;for(let r=0;r<n;r++)e.push((r-t)*wte);return e}function Pte(n,e,t,r){const s=t-n,i=r-e,a=Math.sqrt(s*s+i*i)||1;return[-i/a,s/a]}function Ate(n,e,t,r,s){if(n!=="any")return n;const i=_t.getState().nodes,a=i.find(c=>c.id===e);if(a){const p=ds.get(a.data.registryType)?.outputs.find(d=>d.id===(t??"out"));if(p&&p.dataType!=="any")return p.dataType}const l=i.find(c=>c.id===r);if(l){const p=ds.get(l.data.registryType)?.inputs.find(d=>d.id===s);if(p&&p.dataType!=="any")return p.dataType}return n}function Nte({id:n,source:e,target:t,sourceHandleId:r,targetHandleId:s,sourceX:i,sourceY:a,targetX:l,targetY:c,sourcePosition:p,targetPosition:d,data:h,selected:m}){_t(J=>J.nodes);const x=h?.dataType??"any",w=Ate(x,e,r,t,s),A=uP(w),P=bte[w],S=Ste[w]??1,C=Ete(S),I=S>=4?.8:S>=3?1:S>=2?1.2:m?2:1.5,[_,D]=Pte(i,a,l,c),F=[];let O=0,L=0;for(let J=0;J<C.length;J++){const ae=C[J],[oe,re,X]=Ex({sourceX:i+ae*_,sourceY:a+ae*D,sourcePosition:p,targetX:l+ae*_,targetY:c+ae*D,targetPosition:d});F.push(oe),J===Math.floor(C.length/2)&&(O=re,L=X)}const[B]=Ex({sourceX:i,sourceY:a,sourcePosition:p,targetX:l,targetY:c,targetPosition:d}),j=_e.useRef(null),M=J=>{j.current={x:J.clientX,y:J.clientY,pointerId:J.pointerId},J.target.setPointerCapture(J.pointerId)},ee=J=>{if(!j.current)return;const ae=J.clientX-j.current.x,oe=J.clientY-j.current.y;if(Math.hypot(ae,oe)>5){const re=J.clientX,X=J.clientY;j.current=null,J.target.releasePointerCapture(J.pointerId);const H=_t.getState();H.pushHistory(),H.setEdges(H.edges.filter(Q=>Q.id!==n)),requestAnimationFrame(()=>{const Q=document.querySelector(`.react-flow__handle[data-handleid="${r??"out"}"][data-nodeid="${e}"]`);Q&&Q.dispatchEvent(new MouseEvent("mousedown",{clientX:re,clientY:X,bubbles:!0,cancelable:!0}))})}},ue=()=>{j.current=null};return he.jsxs(he.Fragment,{children:[he.jsx("path",{d:B,className:"react-flow__edge-interaction",onPointerDown:M,onPointerMove:ee,onPointerUp:ue}),F.map((J,ae)=>{const oe=P.length>0?P[ae]:A;return he.jsx("path",{d:J,fill:"none",stroke:oe,strokeWidth:I,strokeDasharray:S>1?"4 1":void 0,opacity:m?1:.9,filter:m?`drop-shadow(0 0 3px ${oe})`:void 0,style:{pointerEvents:"none"}},ae)}),m&&he.jsx(UU,{children:he.jsx(Tte,{sourceId:e,targetId:t,sourceHandleId:r,targetHandleId:s,edgeDataType:w,labelX:O,labelY:L})})]})}const _te=[{id:"input",label:"Inputs"},{id:"type",label:"Types"},{id:"arithmetic",label:"Arithmetic"},{id:"math",label:"Math"},{id:"interpolation",label:"Interpolation"},{id:"vector",label:"Vector"},{id:"noise",label:"Noise"},{id:"color",label:"Color"},{id:"texture",label:"Textures"},{id:"output",label:"Output"}];let Cte=0;function pa(){return`node_${Date.now()}_${++Cte}`}function qc(n,e,t,r){return`e-${n}-${e}-${t}-${r}`}const Ite={positionGeometry:0,normalLocal:0,tangentLocal:0,time:0,screenUV:0,uniform_float:0,float:1,int:1,vec2:1,vec3:1,vec4:1,color:2,add:1,sub:1,mul:1,div:2,sin:8,cos:8,abs:1,pow:5,sqrt:3,exp:6,log2:6,floor:1,round:1,fract:1,mod:2,clamp:2,min:1,max:1,mix:3,smoothstep:4,remap:5,select:2,normalize:4,length:3,distance:4,dot:2,cross:3,noise:50,fractal:80,voronoi:60,hsl:5,toHsl:5,output:0},kv={costs:Ite};function Mte(){const[n,e]=_e.useState(""),t=_t(d=>d.contextMenu),r=_t(d=>d.closeContextMenu),s=_t(d=>d.addNode),i=_t(d=>d.nodes),{screenToFlowPosition:a}=ev(),l=_e.useMemo(()=>n.trim()?Yee(n):Jee().filter(d=>d.type!=="output"),[n]),c=_e.useMemo(()=>{if(n.trim())return null;const d=new Map;for(const h of l){const m=h.category;d.has(m)||d.set(m,[]),d.get(m).push(h)}return d},[l,n]),p=d=>{const h=a({x:t.x,y:t.y}),x=kv.costs[d.type]??0;if(d.type==="output"){if(i.some(A=>A.data.registryType==="output")){r();return}const w={id:pa(),type:"output",position:h,data:{registryType:"output",label:"Output",cost:0}};s(w)}else{const w={id:pa(),type:d.type==="color"?"color":d.category==="noise"?"preview":d.type==="sin"||d.type==="cos"?"mathPreview":"shader",position:h,data:{registryType:d.type,label:d.label,cost:x,values:{...d.defaultValues}}};s(w)}r()};return he.jsxs(he.Fragment,{children:[he.jsx("input",{className:"context-menu__search",placeholder:"Search nodes...",value:n,onChange:d=>e(d.target.value),autoFocus:!0}),he.jsxs("div",{className:"context-menu__list",children:[!n.trim()&&!i.some(d=>d.data.registryType==="output")&&he.jsxs(he.Fragment,{children:[he.jsx("div",{className:"context-menu__category",children:"Output"}),he.jsxs("button",{className:"context-menu__item",onClick:()=>p(ds.get("output")),children:[he.jsx("span",{children:"Output Node"}),he.jsx("span",{className:"context-menu__item-category",children:"output"})]})]}),c?_te.filter(d=>c.has(d.id)&&d.id!=="output").map(d=>he.jsxs("div",{children:[he.jsx("div",{className:"context-menu__category",children:d.label}),c.get(d.id).map(h=>he.jsxs("button",{className:"context-menu__item",onClick:()=>p(h),children:[he.jsx("span",{children:h.label}),he.jsx("span",{className:"context-menu__item-category",children:h.category})]},h.type))]},d.id)):l.map(d=>he.jsxs("button",{className:"context-menu__item",onClick:()=>p(d),children:[he.jsx("span",{children:d.label}),he.jsx("span",{className:"context-menu__item-category",children:d.category})]},d.type))]})]})}function kte({nodeId:n}){const e=_t(h=>h.nodes),t=_t(h=>h.addNode),r=_t(h=>h.removeNode),s=_t(h=>h.updateNodeData),i=_t(h=>h.closeContextMenu),a=e.find(h=>h.id===n);if(!a)return null;const l=ds.get(a.data.registryType),c=()=>{const h={...structuredClone(a),id:pa(),position:{x:a.position.x+30,y:a.position.y+30},selected:!1};t(h),i()},p=()=>{r(n),i()},d=(h,m)=>{const x=typeof m=="number"?m:parseFloat(m);s(n,{values:{...a.data.values,[h]:isNaN(x)?m:x}})};return he.jsxs("div",{className:"context-menu__list",children:[he.jsx("div",{className:"context-menu__category",children:"Node Settings"}),he.jsx("div",{style:{padding:"var(--space-2) var(--space-3)"},children:he.jsx("div",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-secondary)",marginBottom:"var(--space-2)"},children:l?.label??a.data.registryType})}),l?.defaultValues&&Object.entries(l.defaultValues).map(([h,m])=>{const x=typeof m=="string"&&m.startsWith("#"),w=a.data.values?.[h]??m;return he.jsxs("div",{style:{padding:"var(--space-1) var(--space-3)",display:"flex",alignItems:"center",justifyContent:"space-between",gap:"var(--space-2)"},children:[he.jsx("label",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-secondary)"},children:h}),x?he.jsx("input",{type:"color",defaultValue:String(w),onChange:A=>d(h,A.target.value),style:{width:"80px",padding:"2px 4px",background:"var(--bg-input)",border:"1px solid var(--border-subtle)",borderRadius:"var(--border-radius-sm)",fontSize:"var(--font-size-xs)",color:"var(--text-primary)"}}):he.jsx(lf,{value:Number(w),onChange:A=>d(h,A)})]},h)}),he.jsx("div",{className:"context-menu__divider"}),he.jsx("button",{className:"context-menu__item",onClick:c,children:"Duplicate Node"}),he.jsx("button",{className:"context-menu__item",onClick:p,style:{color:"#e74c3c"},children:"Delete Node"})]})}function Ote(){const n=_t(t=>t.closeContextMenu),e=_t(t=>t.totalCost);return he.jsxs("div",{className:"context-menu__list",children:[he.jsx("div",{className:"context-menu__category",children:"Shader Settings"}),he.jsxs("div",{style:{padding:"var(--space-2) var(--space-3)",fontSize:"var(--font-size-sm)",color:"var(--text-secondary)"},children:[he.jsxs("div",{children:["Total Cost: ",he.jsx("strong",{style:{color:"var(--text-primary)"},children:e})," pts"]}),he.jsx("div",{style:{marginTop:"var(--space-1)",fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Budget: 200 pts max"})]}),he.jsx("div",{className:"context-menu__divider"}),he.jsx("button",{className:"context-menu__item",onClick:n,children:"Close"})]})}function Lte({edgeId:n}){const e=_t(s=>s.removeEdge),t=_t(s=>s.closeContextMenu),r=()=>{e(n),t()};return he.jsx("div",{className:"context-menu__list",children:he.jsx("button",{className:"context-menu__item",onClick:r,style:{color:"#e74c3c"},children:"Delete Connection"})})}function Dte(){const{open:n,x:e,y:t,type:r,nodeId:s,edgeId:i}=_t(a=>a.contextMenu);return n?he.jsxs("div",{className:"context-menu",style:{left:e,top:t},onClick:a=>a.stopPropagation(),onContextMenu:a=>a.preventDefault(),children:[r==="canvas"&&he.jsx(Mte,{}),r==="node"&&s&&he.jsx(kte,{nodeId:s}),r==="shader"&&he.jsx(Ote,{}),r==="edge"&&i&&he.jsx(Lte,{edgeId:i})]}):null}function Rte(){const n=_t(a=>a.totalCost),e=_t(a=>a.selectedHeadsetId),r=(tm.find(a=>a.id===e)??tm[0]).maxPoints,s=Math.min(n/r,1),i=n>r;return he.jsxs("div",{className:"cost-bar",children:[he.jsxs("div",{className:"cost-bar__labels",children:[he.jsx("span",{className:"cost-bar__label-end",children:"0"}),he.jsxs("span",{className:`cost-bar__value ${i?"cost-bar__value--over":""}`,children:[n," / ",r]}),he.jsx("span",{className:"cost-bar__label-end",children:r})]}),he.jsx("div",{className:"cost-bar__track",children:he.jsx("div",{className:"cost-bar__indicator",style:{left:`${s*100}%`}})})]})}const Fte={shader:ate,color:ote,preview:pte,mathPreview:mte,output:yte},Bte={typed:Nte};function Vte(){const n=_t(O=>O.nodes),e=_t(O=>O.edges),t=_t(O=>O.onNodesChange),r=_t(O=>O.onEdgesChange),s=_t(O=>O.setEdges),i=_t(O=>O.removeEdge),a=_t(O=>O.openContextMenu),l=_t(O=>O.closeContextMenu),c=_t(O=>O.contextMenu),p=_e.useRef([]);_e.useEffect(()=>{function O(B){const j=_t.getState(),M=new Map,ee=B.map(oe=>{const re=pa();return M.set(oe.id,re),{...structuredClone(oe),id:re,position:{x:oe.position.x+30,y:oe.position.y+30},selected:!0}}),ue=new Set(B.map(oe=>oe.id)),J=j.edges.filter(oe=>ue.has(oe.source)&&ue.has(oe.target)).map(oe=>({...structuredClone(oe),id:qc(M.get(oe.source)??oe.source,oe.sourceHandle??"out",M.get(oe.target)??oe.target,oe.targetHandle??"in"),source:M.get(oe.source)??oe.source,target:M.get(oe.target)??oe.target}));j.pushHistory();const ae=j.nodes.map(oe=>({...oe,selected:!1}));return j.setNodes([...ae,...ee]),j.setEdges([...j.edges,...J]),ee}const L=B=>{const j=B.target.tagName;if(j==="INPUT"||j==="TEXTAREA")return;const M=B.metaKey||B.ctrlKey;if(M&&B.key==="c"){const ee=_t.getState().nodes.filter(ue=>ue.selected);ee.length>0&&(p.current=structuredClone(ee))}if(M&&B.key==="v"){if(p.current.length===0)return;B.preventDefault();const ee=O(p.current);p.current=ee.map(ue=>structuredClone(ue))}if(M&&B.key==="d"){const ee=_t.getState().nodes.filter(ue=>ue.selected);if(ee.length===0)return;B.preventDefault(),p.current=structuredClone(ee),O(ee)}if(B.key==="Delete"||B.key==="Backspace"){const ee=_t.getState(),ue=ee.nodes.filter(ae=>ae.selected);if(ue.length===0)return;B.preventDefault();const J=new Set(ue.map(ae=>ae.id));ee.pushHistory(),ee.setNodes(ee.nodes.filter(ae=>!J.has(ae.id))),ee.setEdges(ee.edges.filter(ae=>!J.has(ae.source)&&!J.has(ae.target)))}};return window.addEventListener("keydown",L),()=>window.removeEventListener("keydown",L)},[]);const d=_e.useCallback(()=>{_t.getState().pushHistory()},[]),h=_e.useCallback((O,L)=>{const B=_t.getState(),j=B.nodes,M=W=>({w:W.measured?.width??120,h:W.measured?.height??40}),{w:ee,h:ue}=M(L),J=L.position.x+ee/2,ae=L.position.y+ue/2,oe=ds.get(L.data.registryType);if(oe&&oe.inputs.length>0&&oe.outputs.length>0)for(const Y of B.edges){if(Y.source===L.id||Y.target===L.id)continue;const Z=j.find(pt=>pt.id===Y.source),se=j.find(pt=>pt.id===Y.target);if(!Z||!se)continue;const{w:me,h:Ce}=M(Z),{h:be}=M(se),Se=Z.position.x+me,Le=Z.position.y+Ce/2,Ue=se.position.x,st=se.position.y+be/2,Ze=Math.max(Math.abs(Ue-Se)*.5,50);let it=1/0;for(let pt=0;pt<=1;pt+=.05){const It=1-pt,ct=It*It,Ye=ct*It,We=pt*pt,rt=We*pt,St=Ye*Se+3*ct*pt*(Se+Ze)+3*It*We*(Ue-Ze)+rt*Ue,Et=Ye*Le+3*ct*pt*Le+3*It*We*st+rt*st,jt=Math.hypot(St-J,Et-ae);jt<it&&(it=jt)}if(it<40){const pt=oe.inputs[0],It=oe.outputs[0],ct={id:qc(Y.source,Y.sourceHandle??"out",L.id,pt.id),source:Y.source,target:L.id,sourceHandle:Y.sourceHandle,targetHandle:pt.id,type:"typed",animated:!0,data:{dataType:"any"}},Ye={id:qc(L.id,It.id,Y.target,Y.targetHandle??"in"),source:L.id,target:Y.target,sourceHandle:It.id,targetHandle:Y.targetHandle,type:"typed",animated:!0,data:{dataType:"any"}},We=B.edges.filter(rt=>rt.id!==Y.id).concat(ct,Ye);B.setEdges(We);break}}const re=10;let X=L.position.x,H=L.position.y,Q=!1;for(const W of j){if(W.id===L.id)continue;const{w:Y,h:Z}=M(W),se=Math.min(X+ee,W.position.x+Y)-Math.max(X,W.position.x),me=Math.min(H+ue,W.position.y+Z)-Math.max(H,W.position.y);if(se>0&&me>0){const Ce=W.position.x+Y+re-X,be=X+ee-(W.position.x-re),Se=W.position.y+Z+re-H,Le=H+ue-(W.position.y-re),Ue=Math.min(Ce,be,Se,Le);Ue===Ce?X+=Ce:Ue===be?X-=be:Ue===Se?H+=Se:H-=Le,Q=!0}}if(Q){const W=j.map(Y=>Y.id===L.id?{...Y,position:{x:Math.round(X),y:Math.round(H)}}:Y);B.setNodes(W)}},[]),m=_e.useRef(!1),x=_e.useCallback(()=>{m.current=!1},[]),w=_e.useCallback(O=>{if(m.current)return;const L="clientX"in O?O.clientX:O.changedTouches[0].clientX,B="clientY"in O?O.clientY:O.changedTouches[0].clientY;a(L,B,"canvas")},[a]),A=_e.useRef(!1),P=_e.useCallback(O=>{m.current=!0,_t.getState().pushHistory();const B=_t.getState().edges.filter(M=>!(M.target===O.target&&M.targetHandle===O.targetHandle)),j={id:qc(O.source,O.sourceHandle??"out",O.target,O.targetHandle??"in"),source:O.source,target:O.target,sourceHandle:O.sourceHandle,targetHandle:O.targetHandle,type:"typed",animated:!0,data:{dataType:"any"}};s(jO(j,B))},[s]),S=_e.useCallback(O=>{O.preventDefault(),a(O.clientX,O.clientY,"canvas")},[a]),C=_e.useCallback((O,L)=>{O.preventDefault();const B=L.data.registryType==="output"?"shader":"node";a(O.clientX,O.clientY,B,L.id)},[a]),I=_e.useCallback((O,L)=>{O.preventDefault(),a(O.clientX,O.clientY,"edge",void 0,L.id)},[a]),_=_e.useCallback(()=>{A.current=!1,_t.getState().pushHistory()},[]),D=_e.useCallback((O,L)=>{A.current=!0;const B=_t.getState().edges;s(iz(O,L,B))},[s]),F=_e.useCallback((O,L)=>{A.current||i(L.id),A.current=!0},[i]);return he.jsxs("div",{className:"node-editor",children:[he.jsx("div",{className:"node-editor__cost-overlay",children:he.jsx(Rte,{})}),he.jsxs(jU,{nodes:n,edges:e,onNodesChange:t,onEdgesChange:r,onConnect:P,onConnectStart:x,onConnectEnd:w,onNodeDragStart:d,onNodeDragStop:h,onPaneContextMenu:S,onNodeContextMenu:C,onEdgeContextMenu:I,onPaneClick:l,onReconnectStart:_,onReconnect:D,onReconnectEnd:F,nodeTypes:Fte,edgeTypes:Bte,defaultEdgeOptions:{type:"typed",animated:!0},deleteKeyCode:null,panActivationKeyCode:null,edgesReconnectable:!0,connectionRadius:40,selectionOnDrag:!0,selectionMode:wf.Partial,panOnDrag:[1,2],zoomOnScroll:!0,fitView:!0,minZoom:.1,maxZoom:3,proOptions:{hideAttribution:!0},children:[he.jsx(KU,{variant:Vu.Dots,gap:20,size:1,color:"#DDDDDD"}),he.jsx(e7,{showInteractive:!1,style:{background:"var(--bg-surface)",borderColor:"var(--border-subtle)"}}),he.jsx(f7,{nodeColor:O=>Wm(O.data.cost??0),style:{backgroundColor:"var(--bg-panel)"},maskColor:"rgba(255, 255, 255, 0.7)"})]}),c.open&&he.jsx(Dte,{})]})}function jC(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}function jte(n){if(Array.isArray(n))return n}function zte(n,e,t){return(e=Xte(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Ute(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r,s,i,a,l=[],c=!0,p=!1;try{if(i=(t=t.call(n)).next,e!==0)for(;!(c=(r=i.call(t)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){p=!0,s=d}finally{try{if(!c&&t.return!=null&&(a=t.return(),Object(a)!==a))return}finally{if(p)throw s}}return l}}function qte(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zC(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),t.push.apply(t,r)}return t}function UC(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?zC(Object(t),!0).forEach(function(r){zte(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):zC(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function $te(n,e){if(n==null)return{};var t,r,s=Wte(n,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);for(r=0;r<i.length;r++)t=i[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(s[t]=n[t])}return s}function Wte(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}function Hte(n,e){return jte(n)||Ute(n,e)||Gte(n,e)||qte()}function Kte(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Xte(n){var e=Kte(n,"string");return typeof e=="symbol"?e:e+""}function Gte(n,e){if(n){if(typeof n=="string")return jC(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?jC(n,e):void 0}}function Yte(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function qC(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),t.push.apply(t,r)}return t}function $C(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?qC(Object(t),!0).forEach(function(r){Yte(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):qC(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Jte(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return function(r){return e.reduceRight(function(s,i){return i(s)},r)}}function Zh(n){return function e(){for(var t=this,r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];return s.length>=n.length?n.apply(this,s):function(){for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];return e.apply(t,[].concat(s,l))}}}function zx(n){return{}.toString.call(n).includes("Object")}function Zte(n){return!Object.keys(n).length}function bm(n){return typeof n=="function"}function Qte(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function ene(n,e){return zx(e)||Xc("changeType"),Object.keys(e).some(function(t){return!Qte(n,t)})&&Xc("changeField"),e}function tne(n){bm(n)||Xc("selectorType")}function nne(n){bm(n)||zx(n)||Xc("handlerType"),zx(n)&&Object.values(n).some(function(e){return!bm(e)})&&Xc("handlersType")}function rne(n){n||Xc("initialIsRequired"),zx(n)||Xc("initialType"),Zte(n)&&Xc("initialContent")}function sne(n,e){throw new Error(n[e]||n.default)}var ine={initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"},Xc=Zh(sne)(ine),Lg={changes:ene,selector:tne,handler:nne,initial:rne};function ane(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Lg.initial(n),Lg.handler(e);var t={current:n},r=Zh(une)(t,e),s=Zh(lne)(t),i=Zh(Lg.changes)(n),a=Zh(one)(t);function l(){var p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(d){return d};return Lg.selector(p),p(t.current)}function c(p){Jte(r,s,i,a)(p)}return[l,c]}function one(n,e){return bm(e)?e(n.current):e}function lne(n,e){return n.current=$C($C({},n.current),e),e}function une(n,e,t){return bm(e)?e(n.current):Object.keys(t).forEach(function(r){var s;return(s=e[r])===null||s===void 0?void 0:s.call(e,n.current[r])}),t}var cne={create:ane},pne={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.55.1/min/vs"}};function dne(n){return function e(){for(var t=this,r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];return s.length>=n.length?n.apply(this,s):function(){for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];return e.apply(t,[].concat(s,l))}}}function fne(n){return{}.toString.call(n).includes("Object")}function hne(n){return n||WC("configIsRequired"),fne(n)||WC("configType"),n.urls?(mne(),{paths:{vs:n.urls.monacoBase}}):n}function mne(){console.warn(E4.deprecation)}function yne(n,e){throw new Error(n[e]||n.default)}var E4={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:`Deprecation warning!
    You are using deprecated way of configuration.

    Instead of using
      monaco.config({ urls: { monacoBase: '...' } })
    use
      monaco.config({ paths: { vs: '...' } })

    For more please check the link https://github.com/suren-atoyan/monaco-loader#config
  `},WC=dne(yne)(E4),gne={config:hne},xne=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(s){return t.reduceRight(function(i,a){return a(i)},s)}};function P4(n,e){return Object.keys(e).forEach(function(t){e[t]instanceof Object&&n[t]&&Object.assign(e[t],P4(n[t],e[t]))}),UC(UC({},n),e)}var vne={type:"cancelation",msg:"operation is manually canceled"};function db(n){var e=!1,t=new Promise(function(r,s){n.then(function(i){return e?s(vne):r(i)}),n.catch(s)});return t.cancel=function(){return e=!0},t}var Tne=["monaco"],Sne=cne.create({config:pne,isInitialized:!1,resolve:null,reject:null,monaco:null}),A4=Hte(Sne,2),Km=A4[0],Ov=A4[1];function bne(n){var e=gne.config(n),t=e.monaco,r=$te(e,Tne);Ov(function(s){return{config:P4(s.config,r),monaco:t}})}function wne(){var n=Km(function(e){var t=e.monaco,r=e.isInitialized,s=e.resolve;return{monaco:t,isInitialized:r,resolve:s}});if(!n.isInitialized){if(Ov({isInitialized:!0}),n.monaco)return n.resolve(n.monaco),db(fb);if(window.monaco&&window.monaco.editor)return N4(window.monaco),n.resolve(window.monaco),db(fb);xne(Ene,Ane)(Nne)}return db(fb)}function Ene(n){return document.body.appendChild(n)}function Pne(n){var e=document.createElement("script");return n&&(e.src=n),e}function Ane(n){var e=Km(function(r){var s=r.config,i=r.reject;return{config:s,reject:i}}),t=Pne("".concat(e.config.paths.vs,"/loader.js"));return t.onload=function(){return n()},t.onerror=e.reject,t}function Nne(){var n=Km(function(t){var r=t.config,s=t.resolve,i=t.reject;return{config:r,resolve:s,reject:i}}),e=window.require;e.config(n.config),e(["vs/editor/editor.main"],function(t){var r=t.m||t;N4(r),n.resolve(r)},function(t){n.reject(t)})}function N4(n){Km().monaco||Ov({monaco:n})}function _ne(){return Km(function(n){var e=n.monaco;return e})}var fb=new Promise(function(n,e){return Ov({resolve:n,reject:e})}),_4={config:bne,init:wne,__getMonacoInstance:_ne},Cne={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}},hb=Cne,Ine={container:{display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"}},Mne=Ine;function kne({children:n}){return Ha.createElement("div",{style:Mne.container},n)}var One=kne,Lne=One;function Dne({width:n,height:e,isEditorReady:t,loading:r,_ref:s,className:i,wrapperProps:a}){return Ha.createElement("section",{style:{...hb.wrapper,width:n,height:e},...a},!t&&Ha.createElement(Lne,null,r),Ha.createElement("div",{ref:s,style:{...hb.fullWidth,...!t&&hb.hide},className:i}))}var Rne=Dne,C4=_e.memo(Rne);function Fne(n){_e.useEffect(n,[])}var I4=Fne;function Bne(n,e,t=!0){let r=_e.useRef(!0);_e.useEffect(r.current||!t?()=>{r.current=!1}:n,e)}var la=Bne;function om(){}function uf(n,e,t,r){return Vne(n,r)||jne(n,e,t,r)}function Vne(n,e){return n.editor.getModel(M4(n,e))}function jne(n,e,t,r){return n.editor.createModel(e,t,r?M4(n,r):void 0)}function M4(n,e){return n.Uri.parse(e)}function zne({original:n,modified:e,language:t,originalLanguage:r,modifiedLanguage:s,originalModelPath:i,modifiedModelPath:a,keepCurrentOriginalModel:l=!1,keepCurrentModifiedModel:c=!1,theme:p="light",loading:d="Loading...",options:h={},height:m="100%",width:x="100%",className:w,wrapperProps:A={},beforeMount:P=om,onMount:S=om}){let[C,I]=_e.useState(!1),[_,D]=_e.useState(!0),F=_e.useRef(null),O=_e.useRef(null),L=_e.useRef(null),B=_e.useRef(S),j=_e.useRef(P),M=_e.useRef(!1);I4(()=>{let ae=_4.init();return ae.then(oe=>(O.current=oe)&&D(!1)).catch(oe=>oe?.type!=="cancelation"&&console.error("Monaco initialization: error:",oe)),()=>F.current?J():ae.cancel()}),la(()=>{if(F.current&&O.current){let ae=F.current.getOriginalEditor(),oe=uf(O.current,n||"",r||t||"text",i||"");oe!==ae.getModel()&&ae.setModel(oe)}},[i],C),la(()=>{if(F.current&&O.current){let ae=F.current.getModifiedEditor(),oe=uf(O.current,e||"",s||t||"text",a||"");oe!==ae.getModel()&&ae.setModel(oe)}},[a],C),la(()=>{let ae=F.current.getModifiedEditor();ae.getOption(O.current.editor.EditorOption.readOnly)?ae.setValue(e||""):e!==ae.getValue()&&(ae.executeEdits("",[{range:ae.getModel().getFullModelRange(),text:e||"",forceMoveMarkers:!0}]),ae.pushUndoStop())},[e],C),la(()=>{F.current?.getModel()?.original.setValue(n||"")},[n],C),la(()=>{let{original:ae,modified:oe}=F.current.getModel();O.current.editor.setModelLanguage(ae,r||t||"text"),O.current.editor.setModelLanguage(oe,s||t||"text")},[t,r,s],C),la(()=>{O.current?.editor.setTheme(p)},[p],C),la(()=>{F.current?.updateOptions(h)},[h],C);let ee=_e.useCallback(()=>{if(!O.current)return;j.current(O.current);let ae=uf(O.current,n||"",r||t||"text",i||""),oe=uf(O.current,e||"",s||t||"text",a||"");F.current?.setModel({original:ae,modified:oe})},[t,e,s,n,r,i,a]),ue=_e.useCallback(()=>{!M.current&&L.current&&(F.current=O.current.editor.createDiffEditor(L.current,{automaticLayout:!0,...h}),ee(),O.current?.editor.setTheme(p),I(!0),M.current=!0)},[h,p,ee]);_e.useEffect(()=>{C&&B.current(F.current,O.current)},[C]),_e.useEffect(()=>{!_&&!C&&ue()},[_,C,ue]);function J(){let ae=F.current?.getModel();l||ae?.original?.dispose(),c||ae?.modified?.dispose(),F.current?.dispose()}return Ha.createElement(C4,{width:x,height:m,isEditorReady:C,loading:d,_ref:L,className:w,wrapperProps:A})}var Une=zne;_e.memo(Une);function qne(n){let e=_e.useRef();return _e.useEffect(()=>{e.current=n},[n]),e.current}var $ne=qne,Dg=new Map;function Wne({defaultValue:n,defaultLanguage:e,defaultPath:t,value:r,language:s,path:i,theme:a="light",line:l,loading:c="Loading...",options:p={},overrideServices:d={},saveViewState:h=!0,keepCurrentModel:m=!1,width:x="100%",height:w="100%",className:A,wrapperProps:P={},beforeMount:S=om,onMount:C=om,onChange:I,onValidate:_=om}){let[D,F]=_e.useState(!1),[O,L]=_e.useState(!0),B=_e.useRef(null),j=_e.useRef(null),M=_e.useRef(null),ee=_e.useRef(C),ue=_e.useRef(S),J=_e.useRef(),ae=_e.useRef(r),oe=$ne(i),re=_e.useRef(!1),X=_e.useRef(!1);I4(()=>{let W=_4.init();return W.then(Y=>(B.current=Y)&&L(!1)).catch(Y=>Y?.type!=="cancelation"&&console.error("Monaco initialization: error:",Y)),()=>j.current?Q():W.cancel()}),la(()=>{let W=uf(B.current,n||r||"",e||s||"",i||t||"");W!==j.current?.getModel()&&(h&&Dg.set(oe,j.current?.saveViewState()),j.current?.setModel(W),h&&j.current?.restoreViewState(Dg.get(i)))},[i],D),la(()=>{j.current?.updateOptions(p)},[p],D),la(()=>{!j.current||r===void 0||(j.current.getOption(B.current.editor.EditorOption.readOnly)?j.current.setValue(r):r!==j.current.getValue()&&(X.current=!0,j.current.executeEdits("",[{range:j.current.getModel().getFullModelRange(),text:r,forceMoveMarkers:!0}]),j.current.pushUndoStop(),X.current=!1))},[r],D),la(()=>{let W=j.current?.getModel();W&&s&&B.current?.editor.setModelLanguage(W,s)},[s],D),la(()=>{l!==void 0&&j.current?.revealLine(l)},[l],D),la(()=>{B.current?.editor.setTheme(a)},[a],D);let H=_e.useCallback(()=>{if(!(!M.current||!B.current)&&!re.current){ue.current(B.current);let W=i||t,Y=uf(B.current,r||n||"",e||s||"",W||"");j.current=B.current?.editor.create(M.current,{model:Y,automaticLayout:!0,...p},d),h&&j.current.restoreViewState(Dg.get(W)),B.current.editor.setTheme(a),l!==void 0&&j.current.revealLine(l),F(!0),re.current=!0}},[n,e,t,r,s,i,p,d,h,a,l]);_e.useEffect(()=>{D&&ee.current(j.current,B.current)},[D]),_e.useEffect(()=>{!O&&!D&&H()},[O,D,H]),ae.current=r,_e.useEffect(()=>{D&&I&&(J.current?.dispose(),J.current=j.current?.onDidChangeModelContent(W=>{X.current||I(j.current.getValue(),W)}))},[D,I]),_e.useEffect(()=>{if(D){let W=B.current.editor.onDidChangeMarkers(Y=>{let Z=j.current.getModel()?.uri;if(Z&&Y.find(se=>se.path===Z.path)){let se=B.current.editor.getModelMarkers({resource:Z});_?.(se)}});return()=>{W?.dispose()}}return()=>{}},[D,_]);function Q(){J.current?.dispose(),m?h&&Dg.set(i,j.current.saveViewState()):j.current.getModel()?.dispose(),j.current.dispose()}return Ha.createElement(C4,{width:x,height:w,isEditorReady:D,loading:c,_ref:M,className:A,wrapperProps:P})}var Hne=Wne,Kne=_e.memo(Hne),mb=Kne;function Xne(n){n.languages.typescript.javascriptDefaults.addExtraLib(`
declare module 'three/tsl' {
  export function Fn(fn: (...args: any[]) => any): any;
  export function If(condition: any, body: () => void): { ElseIf(condition: any, body: () => void): any; Else(body: () => void): void };
  export function Loop(count: any, body: (ctx: { i: any }) => void): void;
  export const positionGeometry: any;
  export const normalLocal: any;
  export const tangentLocal: any;
  export const time: any;
  export const screenUV: any;
  export function uniform(value: any): any;
  export function float(v: number): any;
  export function int(v: number): any;
  export function vec2(x: number, y?: number): any;
  export function vec3(x: number, y?: number, z?: number): any;
  export function vec4(x: number, y?: number, z?: number, w?: number): any;
  export function color(hex: number): any;
  export function add(a: any, b: any): any;
  export function sub(a: any, b: any): any;
  export function mul(a: any, b: any): any;
  export function div(a: any, b: any): any;
  export function sin(x: any): any;
  export function cos(x: any): any;
  export function abs(x: any): any;
  export function pow(base: any, exp: any): any;
  export function sqrt(x: any): any;
  export function exp(x: any): any;
  export function log2(x: any): any;
  export function floor(x: any): any;
  export function round(x: any): any;
  export function fract(x: any): any;
  export function mod(x: any, y: any): any;
  export function clamp(x: any, min: any, max: any): any;
  export function min(a: any, b: any): any;
  export function max(a: any, b: any): any;
  export function mix(a: any, b: any, t: any): any;
  export function smoothstep(e0: any, e1: any, x: any): any;
  export function remap(x: any, inLow: any, inHigh: any, outLow: any, outHigh: any): any;
  export function select(cond: any, a: any, b: any): any;
  export function normalize(v: any): any;
  export function length(v: any): any;
  export function distance(a: any, b: any): any;
  export function dot(a: any, b: any): any;
  export function cross(a: any, b: any): any;
  export function mx_noise_float(pos: any): any;
  export function mx_fractal_noise_float(pos: any, octaves: any, lacunarity: any, diminish: any): any;
  export function mx_worley_noise_float(pos: any): any;
  export function hsl(h: any, s: any, l: any): any;
}
`,"ts:three-tsl.d.ts"),n.languages.registerColorProvider("javascript",{provideDocumentColors(e){const t=[],r=/0x([0-9a-fA-F]{6})\b/g;for(let s=1;s<=e.getLineCount();s++){const i=e.getLineContent(s);let a;for(r.lastIndex=0;(a=r.exec(i))!==null;){const l=a[1];t.push({range:new n.Range(s,a.index+1,s,a.index+1+a[0].length),color:{red:parseInt(l.slice(0,2),16)/255,green:parseInt(l.slice(2,4),16)/255,blue:parseInt(l.slice(4,6),16)/255,alpha:1}})}}return t},provideColorPresentations(e,t){const{red:r,green:s,blue:i}=t.color,a=Math.round(r*255).toString(16).padStart(2,"0"),l=Math.round(s*255).toString(16).padStart(2,"0"),c=Math.round(i*255).toString(16).padStart(2,"0");return[{label:`0x${a}${l}${c}`.toUpperCase()}]}})}const Gne="https://cdn.jsdelivr.net/gh/Alvis1/a-frame-shaderloader@main/js/aframe-171-a-0.1.min.js",HC={sphere:"new THREE.SphereGeometry(1, 64, 64)",box:"new THREE.BoxGeometry(1.4, 1.4, 1.4)",torus:"new THREE.TorusGeometry(0.7, 0.3, 64, 64)",plane:"new THREE.PlaneGeometry(2, 2)"};function Yne(n,e="tsl-shader",t={}){const{geometry:r="sphere",embedded:s=!1,animate:i=!1}=t,a=e.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"")||"tsl-shader",l=e||"TSL Shader",p=HC[r==="cube"?"box":r]??HC.sphere,d=[],h=/import\s*\{([^}]+)\}\s*from\s*['"]three\/tsl['"]/g;let m;for(;(m=h.exec(n))!==null;)for(const J of m[1].split(",").map(ae=>ae.trim()).filter(Boolean))J!=="Fn"&&!d.includes(J)&&d.push(J);const x=[],w=/import\s*\{([^}]+)\}\s*from\s*['"]tsl-textures['"]/g;for(;(m=w.exec(n))!==null;)x.push(...m[1].split(",").map(J=>J.trim()).filter(Boolean));const A=n.indexOf("Fn(() => {"),P=n.lastIndexOf("});");let S="";A!==-1&&P!==-1&&(S=n.slice(A+10,P).trim()),S||(S="return vec3(1, 0, 0);",d.includes("vec3")||d.push("vec3"));let C=S;const I=new Set(d);for(const J of I){const ae=new RegExp(`^[ \\t]*const\\s+${J}\\s*=\\s*${J}\\s*;[ \\t]*$`,"gm");C=C.replace(ae,"")}const _=/\bconst\s+(\w+)\s*=/g,D=new Set;let F;for(;(F=_.exec(C))!==null;)I.has(F[1])&&D.add(F[1]);for(const J of D)C=C.replace(new RegExp(`\\b${J}\\b(?!\\s*\\()`,"g"),`_${J}`);C=C.replace(/\b(mx_\w+)\(\s*0\s*\)/g,"$1()"),C=C.replace(/\b(mx_\w+)\(\s*0\s*,/g,"$1(uv(),"),C.includes("uv(")&&!d.includes("uv")&&d.push("uv");const O=x.map(J=>({original:J,alias:`_tex_${J}`}));for(const{original:J,alias:ae}of O)C=C.replace(new RegExp(`\\b${J}\\s*\\(`,"g"),`${ae}(`);const L={color:"colorNode",emissive:"emissiveNode",normal:"normalNode",position:"positionNode",opacity:"opacityNode",roughness:"roughnessNode"},B=[],j={};for(const J of C.split(`
`)){const ae=J.trim();if(!ae)continue;const oe=ae.match(/^return\s*\{(.+)\}\s*;?$/),re=ae.match(/^return\s+(.+);$/);if(oe)for(const X of oe[1].split(",")){const H=X.indexOf(":");if(H!==-1){const Q=X.slice(0,H).trim(),W=X.slice(H+1).trim();Q&&W&&(j[Q]=W)}}else re?j.color=re[1].trim():B.push(J)}Object.keys(j).length===0&&(j.color="vec3(1, 0, 0)",d.includes("vec3")||d.push("vec3"));const M=[];if(M.push("<!DOCTYPE html>"),M.push('<html lang="en">'),M.push("<head>"),M.push('  <meta charset="UTF-8">'),M.push('  <meta name="viewport" content="width=device-width, initial-scale=1.0">'),M.push(`  <title>${l}</title>`),M.push(`  <script src="${Gne}"><\/script>`),s&&(M.push("  <style>"),M.push("    html, body { margin: 0; padding: 0; overflow: hidden; width: 100%; height: 100%; }"),M.push("  </style>")),M.push("</head>"),M.push("<body>"),M.push(""),M.push("<script>"),M.push(`AFRAME.registerComponent('${a}', {`),M.push("  init: function() {"),M.push("    try {"),d.length>0){M.push("      var _TSL = THREE.TSL || THREE;");const J=Jne(d,5);for(const ae of J){const oe=ae.map(re=>`${re} = _TSL.${re}`).join(", ");M.push(`      var ${oe};`)}}if(O.length>0)for(const{original:J,alias:ae}of O)M.push(`      var ${ae} = window.tslTextures.${J};`);M.push("");for(const J of B)M.push("      "+J.trimStart());M.push(""),M.push("      var material = new THREE.MeshPhysicalNodeMaterial();");for(const[J,ae]of Object.entries(j)){const oe=L[J];oe&&M.push(`      material.${oe} = ${ae};`)}M.push(`      var geometry = ${p};`),M.push("      var mesh = new THREE.Mesh(geometry, material);"),M.push("      this.el.setObject3D('mesh', mesh);"),M.push("    } catch (e) {"),M.push('      console.error("[FastShaders]", e);'),M.push("    }"),M.push("  },"),M.push("  remove: function() {"),M.push("    var mesh = this.el.getObject3D('mesh');"),M.push("    if (mesh) {"),M.push("      mesh.material.dispose();"),M.push("      mesh.geometry.dispose();"),M.push("      this.el.removeObject3D('mesh');"),M.push("    }"),M.push("  }"),M.push("});"),M.push("<\/script>"),M.push("");const ee=s?" embedded":"",ue=i?' animation="property: rotation; to: 0 360 0; loop: true; dur: 12000; easing: linear"':"";return M.push(`<a-scene${ee} background="color: #1a1a2e">`),M.push(`  <a-entity ${a} position="0 1.5 -3" rotation="45 45 0"${ue}></a-entity>`),M.push('  <a-light type="directional" position="1 2 1" intensity="1"></a-light>'),M.push('  <a-light type="ambient" intensity="0.4"></a-light>'),M.push("</a-scene>"),M.push(""),M.push("</body>"),M.push("</html>"),M.push(""),M.join(`
`)}function Jne(n,e){const t=[];for(let r=0;r<n.length;r+=e)t.push(n.slice(r,r+e));return t}const Zne={color:"colorNode",emissive:"emissiveNode",normal:"normalNode",position:"positionNode",opacity:"opacityNode",roughness:"roughnessNode"};function Qne(n){const e=n.split(`
`),t=[];let r=!1,s=0,i=!1;for(const a of e){const l=a.trim();if(/^\s*import\s*\{[^}]+\}\s*from\s*['"]three\/tsl['"]/.test(l)){const c=l.match(/\{([^}]+)\}/)[1].split(",").map(p=>p.trim()).filter(p=>p&&p!=="Fn");c.length>0&&t.push(`import { ${c.join(", ")} } from 'three/tsl';`);continue}if(/^\s*import\s/.test(l)){t.push(a);continue}if(!r&&/^\s*const\s+\w+\s*=\s*Fn\(\(\)\s*=>\s*\{/.test(l)){r=!0,s=1,t.push("export default function() {");continue}if(r){for(const p of l)p==="{"&&s++,p==="}"&&s--;if(s<=0){t.push("}"),r=!1;continue}const c=l.match(/^return\s*\{(.+)\}\s*;?$/);if(c){const p=c[1].split(",").map(h=>{const m=h.indexOf(":");if(m===-1)return h.trim();const x=h.slice(0,m).trim(),w=h.slice(m+1).trim(),A=Zne[x];return A?`${A}: ${w}`:`${x}: ${w}`}),d=a.match(/^(\s*)/)?.[1]??"";t.push(`${d}return { ${p.join(", ")} };`);continue}t.push(a);continue}if(/^\s*export\s+default\s+\w+\s*;/.test(l)){i=!0;continue}i&&l===""||t.push(a)}for(;t.length>0&&t[t.length-1].trim()==="";)t.pop();return t.join(`
`)+`
`}function ere(){const n=_t(P=>P.code),e=_t(P=>P.codeErrors),t=_t(P=>P.setCode),r=_t(P=>P.requestCodeSync),s=_t(P=>P.shaderName),i=_e.useRef(null),[a,l]=_e.useState("tsl"),c=_e.useCallback((P,S)=>{i.current=P,Xne(S)},[]),p=_e.useCallback(P=>{P!==void 0&&t(P,"code")},[t]);_e.useEffect(()=>{const P=S=>{(S.metaKey||S.ctrlKey)&&S.key==="s"&&(S.preventDefault(),r())};return window.addEventListener("keydown",P),()=>window.removeEventListener("keydown",P)},[r]);const d=_e.useMemo(()=>a==="aframe"?Yne(n,s):"",[n,a,s]),h=_e.useMemo(()=>a==="module"?Qne(n):"",[n,a]),m=a==="tsl",x=(s||"shader").toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"")||"shader",w=_e.useCallback(()=>{const P=new Blob([d],{type:"text/html"}),S=URL.createObjectURL(P),C=document.createElement("a");C.href=S,C.download=`${x}.html`,C.click(),URL.revokeObjectURL(S)},[d,x]),A=_e.useCallback(()=>{const P=new Blob([h],{type:"application/javascript"}),S=URL.createObjectURL(P),C=document.createElement("a");C.href=S,C.download=`${x}.js`,C.click(),URL.revokeObjectURL(S)},[h,x]);return he.jsxs("div",{className:"code-editor",children:[he.jsxs("div",{className:"code-editor__header",children:[he.jsxs("div",{className:"code-editor__tabs",children:[he.jsx("button",{className:`code-editor__tab ${a==="tsl"?"code-editor__tab--active":""}`,onClick:()=>l("tsl"),children:"TSL"}),he.jsx("button",{className:`code-editor__tab ${a==="aframe"?"code-editor__tab--active":""}`,onClick:()=>l("aframe"),children:"A-Frame"}),he.jsx("button",{className:`code-editor__tab ${a==="module"?"code-editor__tab--active":""}`,onClick:()=>l("module"),children:"Module"})]}),he.jsxs("div",{className:"code-editor__actions",children:[m&&e.length>0&&he.jsxs("span",{className:"code-editor__errors",children:[e.length," error",e.length>1?"s":""]}),m&&he.jsx("button",{className:"code-editor__save",onClick:r,children:"Save"}),a==="aframe"&&he.jsx("button",{className:"code-editor__download",onClick:w,children:"Download .html"}),a==="module"&&he.jsx("button",{className:"code-editor__download",onClick:A,children:"Download .js"})]})]}),m&&e.length>0&&he.jsxs("div",{className:"code-editor__error-details",children:[e.map((P,S)=>he.jsxs("div",{className:"code-editor__error-line",children:[P.line?`Line ${P.line}: `:"",P.message]},S)),he.jsx("div",{className:"code-editor__error-hint",children:"Fix the errors above, then press Save to update the node view."})]}),he.jsxs("div",{className:"code-editor__body",children:[he.jsx("div",{className:"code-editor__pane",style:{display:m?"block":"none"},children:he.jsx(mb,{height:"100%",defaultLanguage:"javascript",value:n,onChange:p,onMount:c,theme:"vs",options:{minimap:{enabled:!1},fontSize:14,fontFamily:"var(--font-mono)",lineNumbers:"on",scrollBeyondLastLine:!1,automaticLayout:!0,tabSize:2,wordWrap:"on",padding:{top:12},renderLineHighlight:"gutter",overviewRulerBorder:!1}})}),a==="aframe"&&he.jsx("div",{className:"code-editor__pane",children:he.jsx(mb,{height:"100%",defaultLanguage:"html",value:d,theme:"vs",options:{minimap:{enabled:!1},fontSize:14,fontFamily:"var(--font-mono)",lineNumbers:"on",scrollBeyondLastLine:!1,automaticLayout:!0,tabSize:2,wordWrap:"on",padding:{top:12},renderLineHighlight:"gutter",overviewRulerBorder:!1,readOnly:!0}})}),a==="module"&&he.jsx("div",{className:"code-editor__pane",children:he.jsx(mb,{height:"100%",defaultLanguage:"javascript",value:h,theme:"vs",options:{minimap:{enabled:!1},fontSize:14,fontFamily:"var(--font-mono)",lineNumbers:"on",scrollBeyondLastLine:!1,automaticLayout:!0,tabSize:2,wordWrap:"on",padding:{top:12},renderLineHighlight:"gutter",overviewRulerBorder:!1,readOnly:!0}})})]})]})}const yb="https://cdn.jsdelivr.net/npm/three@0.183.0/build/three.webgpu.js",KC="https://cdn.jsdelivr.net/npm/three@0.183.0/build/three.tsl.js",XC="https://cdn.jsdelivr.net/npm/tsl-textures@3.0.0/dist/tsl-textures.js",GC={sphere:"new THREE.SphereGeometry(1, 64, 64)",box:"new THREE.BoxGeometry(1.4, 1.4, 1.4)",torus:"new THREE.TorusGeometry(0.7, 0.3, 64, 64)",plane:"new THREE.PlaneGeometry(2, 2)"};function tre(n,e={}){const{geometry:t="sphere",animate:r=!1}=e,i=GC[t==="cube"?"box":t]??GC.sphere,a=[],l=/import\s*\{([^}]+)\}\s*from\s*['"]three\/tsl['"]/g;let c;for(;(c=l.exec(n))!==null;)for(const j of c[1].split(",").map(M=>M.trim()).filter(Boolean))a.includes(j)||a.push(j);const p=[],d=/import\s*\{([^}]+)\}\s*from\s*['"]tsl-textures['"]/g;for(;(c=d.exec(n))!==null;)p.push(...c[1].split(",").map(j=>j.trim()).filter(Boolean));const h=n.indexOf("Fn(() => {"),m=n.lastIndexOf("});");let x="";h!==-1&&m!==-1&&(x=n.slice(h+10,m).trim()),x||(x="return vec3(1, 0, 0);",a.includes("vec3")||a.push("vec3"));const w=p.length>0;let A=x;const P=new Set(a);for(const j of P){const M=new RegExp(`^[ \\t]*const\\s+${j}\\s*=\\s*${j}\\s*;[ \\t]*$`,"gm");A=A.replace(M,"")}const S=/\bconst\s+(\w+)\s*=/g,C=new Set;let I;for(;(I=S.exec(A))!==null;)P.has(I[1])&&C.add(I[1]);for(const j of C)A=A.replace(new RegExp(`\\b${j}\\b(?!\\s*\\()`,"g"),`_${j}`);A=A.replace(/\b(mx_\w+)\(\s*0\s*\)/g,"$1()"),A=A.replace(/\b(mx_\w+)\(\s*0\s*,/g,"$1(uv(),"),A.includes("uv(")&&!a.includes("uv")&&a.push("uv");const _=p.map(j=>({original:j,alias:`_tex_${j}`}));for(const{original:j,alias:M}of _)A=A.replace(new RegExp(`\\b${j}\\s*\\(`,"g"),`${M}(`);const D=[];D.push("<!DOCTYPE html>"),D.push('<html lang="en">'),D.push("<head>"),D.push('  <meta charset="UTF-8">'),D.push("  <style>"),D.push("    html, body { margin: 0; padding: 0; overflow: hidden; width: 100%; height: 100%; background: #1a1a2e; }"),D.push("    canvas { display: block; width: 100%; height: 100%; }"),D.push("    #error { position: absolute; top: 8px; left: 8px; right: 8px; color: #ff6b6b; font: 12px/1.4 monospace; white-space: pre-wrap; z-index: 10; }"),D.push("  </style>");const F={three:yb,"three/webgpu":yb,"three/tsl":KC};if(w&&(F["tsl-textures"]=XC),D.push('  <script type="importmap">'),D.push("  "+JSON.stringify({imports:F},null,4).split(`
`).join(`
  `)),D.push("  <\/script>"),D.push("</head>"),D.push("<body>"),D.push('<div id="error"></div>'),D.push(""),D.push('<script type="module">'),D.push(`import * as THREE from '${yb}';`),a.length>0&&D.push(`import { ${a.join(", ")} } from '${KC}';`),w){const j=_.map(M=>`${M.original} as ${M.alias}`).join(", ");D.push(`import { ${j} } from '${XC}';`)}D.push(""),D.push('const errEl = document.getElementById("error");'),D.push(""),D.push("(async () => {"),D.push("try {"),D.push("");const O={color:"colorNode",emissive:"emissiveNode",normal:"normalNode",position:"positionNode",opacity:"opacityNode",roughness:"roughnessNode"},L=[],B={};for(const j of A.split(`
`)){const M=j.trim();if(!M)continue;const ee=M.match(/^return\s*\{(.+)\}\s*;?$/),ue=M.match(/^return\s+(.+);$/);if(ee)for(const J of ee[1].split(",")){const ae=J.indexOf(":");if(ae!==-1){const oe=J.slice(0,ae).trim(),re=J.slice(ae+1).trim();oe&&re&&(B[oe]=re)}}else ue?B.color=ue[1].trim():L.push(j)}Object.keys(B).length===0&&(B.color="vec3(1, 0, 0)",a.includes("vec3")||a.push("vec3"));for(const j of L)D.push("  "+j.trimStart());D.push(""),D.push("  const renderer = new THREE.WebGPURenderer({ antialias: true });"),D.push("  await renderer.init();"),D.push("  renderer.setPixelRatio(window.devicePixelRatio);"),D.push("  renderer.setSize(window.innerWidth, window.innerHeight);"),D.push("  document.body.appendChild(renderer.domElement);"),D.push(""),D.push("  const scene = new THREE.Scene();"),D.push("  scene.background = new THREE.Color(0x1a1a2e);"),D.push(""),D.push("  const camera = new THREE.PerspectiveCamera(45, window.innerWidth / window.innerHeight, 0.1, 100);"),D.push("  camera.position.set(0, 0, 3.5);"),D.push("  camera.lookAt(0, 0, 0);"),D.push(""),D.push("  const dirLight = new THREE.DirectionalLight(0xffffff, 1);"),D.push("  dirLight.position.set(1, 2, 1);"),D.push("  scene.add(dirLight);"),D.push("  scene.add(new THREE.AmbientLight(0xffffff, 0.4));"),D.push(""),D.push("  const material = new THREE.MeshPhysicalNodeMaterial();");for(const[j,M]of Object.entries(B)){const ee=O[j];ee&&D.push(`  material.${ee} = ${M};`)}return D.push(`  const geometry = ${i};`),D.push("  const mesh = new THREE.Mesh(geometry, material);"),D.push("  scene.add(mesh);"),D.push(""),r?(D.push("  renderer.setAnimationLoop(() => {"),D.push("    mesh.rotation.y += 0.005;"),D.push("    renderer.renderAsync(scene, camera);"),D.push("  });")):(D.push("  renderer.setAnimationLoop(() => {"),D.push("    renderer.renderAsync(scene, camera);"),D.push("  });")),D.push(""),D.push('  window.addEventListener("resize", () => {'),D.push("    camera.aspect = window.innerWidth / window.innerHeight;"),D.push("    camera.updateProjectionMatrix();"),D.push("    renderer.setSize(window.innerWidth, window.innerHeight);"),D.push("  });"),D.push(""),D.push("} catch (e) {"),D.push('  console.error("[FastShaders Preview]", e);'),D.push("  if (errEl) errEl.textContent = String(e);"),D.push("}"),D.push("})();"),D.push("<\/script>"),D.push(""),D.push("</body>"),D.push("</html>"),D.push(""),D.join(`
`)}function nre(){try{const n=localStorage.getItem("fs:previewGeometry");if(n==="cube"||n==="torus"||n==="plane"||n==="sphere")return n}catch{}return"cube"}function rre(){const n=_t(d=>d.code),[e,t]=_e.useState(nre),[r,s]=_e.useState(!1),[i,a]=_e.useState(n),l=_e.useRef(null),c=_e.useRef(null);_e.useEffect(()=>(l.current&&clearTimeout(l.current),l.current=setTimeout(()=>a(n),500),()=>{l.current&&clearTimeout(l.current)}),[n]),_e.useEffect(()=>{try{localStorage.setItem("fs:previewGeometry",e)}catch{}},[e]);const p=_e.useMemo(()=>{c.current&&URL.revokeObjectURL(c.current);const h=tre(i,{geometry:e,animate:r}),m=new Blob([h],{type:"text/html"}),x=URL.createObjectURL(m);return c.current=x,x},[i,e,r]);return _e.useEffect(()=>()=>{c.current&&(URL.revokeObjectURL(c.current),c.current=null)},[]),he.jsxs("div",{className:"shader-preview",children:[he.jsxs("div",{className:"shader-preview__header",children:[he.jsx("span",{children:"Preview"}),he.jsxs("div",{className:"shader-preview__controls",children:[he.jsx("button",{className:"shader-preview__play-btn",onClick:()=>s(d=>!d),title:r?"Pause rotation":"Play rotation",children:r?"":""}),he.jsxs("select",{className:"shader-preview__geo-select",value:e,onChange:d=>t(d.target.value),children:[he.jsx("option",{value:"sphere",children:"Sphere"}),he.jsx("option",{value:"cube",children:"Cube"}),he.jsx("option",{value:"torus",children:"Torus"}),he.jsx("option",{value:"plane",children:"Plane"})]})]})]}),he.jsx("div",{className:"shader-preview__body",children:he.jsx("iframe",{className:"shader-preview__iframe",src:p,title:"Shader Preview",allow:"webgpu"})})]})}function sre(){const n=_t(s=>s.splitRatio),e=_t(s=>s.setSplitRatio),t=_t(s=>s.rightSplitRatio),r=_t(s=>s.setRightSplitRatio);return he.jsxs("div",{className:"app-layout",children:[he.jsx(P7,{}),he.jsx(T_,{ratio:n,onRatioChange:e,left:he.jsxs("div",{className:"app-layout__left",children:[he.jsx("div",{className:"app-layout__panel-label",children:"Node View"}),he.jsx("div",{className:"app-layout__node-editor",children:he.jsx(Vte,{})})]}),right:he.jsx("div",{className:"app-layout__right",children:he.jsx(T_,{direction:"vertical",ratio:t,onRatioChange:r,left:he.jsxs("div",{className:"app-layout__code-panel",children:[he.jsx("div",{className:"app-layout__panel-label app-layout__panel-label--right",children:"TSL Code View"}),he.jsx("div",{className:"app-layout__code",children:he.jsx(ere,{})})]}),right:he.jsx("div",{className:"app-layout__preview",children:he.jsx(rre,{})})})})})]})}function ire(n,e){const t=new Map,r=new Map;for(const l of n)t.set(l.id,0),r.set(l.id,[]);for(const l of e)t.set(l.target,(t.get(l.target)??0)+1),r.get(l.source)?.push(l.target);const s=n.filter(l=>t.get(l.id)===0).map(l=>l.id),i=[];for(;s.length>0;){const l=s.shift();i.push(l);for(const c of r.get(l)??[]){const p=(t.get(c)??0)-1;t.set(c,p),p===0&&s.push(c)}}const a=new Map(n.map(l=>[l.id,l]));return i.map(l=>a.get(l)).filter(Boolean)}function are(n,e,t=ds){if(n.length===0)return{code:`// Empty shader  add nodes to begin
`,importStatements:[]};const r=ire(n,e),s=new Map,i=new Set;for(const S of r){const C=t.get(S.data.registryType);if(!C||S.data.registryType==="output"||S.data.registryType==="split")continue;let I=C.tslFunction;I.startsWith("mx_")&&(I=I.replace("mx_","").replace(/_float$|_vec[234]$/,""));let _=I,D=1;for(;i.has(_);)_=`${I}${++D}`;i.add(_),s.set(S.id,_)}const a=new Map,l=(S,C)=>{S&&(a.has(S)||a.set(S,new Set),a.get(S).add(C))};l("three/tsl","Fn");let c=!1;for(const S of r){const C=t.get(S.data.registryType);!C||S.data.registryType==="output"||!C.tslImportModule||(l(C.tslImportModule,C.tslFunction),C.tslImportModule==="tsl-textures"&&(c=!0))}const p=[];c&&p.push("import * as THREE from 'three';");for(const[S,C]of a){const I=Array.from(C).sort();p.push(`import { ${I.join(", ")} } from '${S}';`)}const d=[];for(const S of r){const C=t.get(S.data.registryType);if(!C||S.data.registryType==="output"||S.data.registryType==="split")continue;const I=s.get(S.id),_=ore(S,e,s,C,r);if(C.tslImportModule==="tsl-textures"){const D=lre(S,e,s,C,r);d.push(`  const ${I} = ${C.tslFunction}({ ${D} });`)}else if(C.inputs.length===0&&C.category==="input")d.push(`  const ${I} = ${C.tslFunction};`);else if(C.inputs.length===0&&C.defaultValues){const D=S.data.values,F=Object.keys(C.defaultValues)[0],O=D?.[F]??Object.values(C.defaultValues)[0],L=typeof O=="string"&&O.startsWith("#")?`0x${O.slice(1)}`:O;d.push(`  const ${I} = ${C.tslFunction}(${L});`)}else d.push(`  const ${I} = ${C.tslFunction}(${_.join(", ")});`)}const h=r.find(S=>S.data.registryType==="output"),m=["color","emissive","normal","position","opacity","roughness"],x={};if(h)for(const S of m){const C=e.find(I=>I.target===h.id&&I.targetHandle===S);if(C){const I=Ux(C,e,s,r);I&&(x[S]=I)}}let w;const A=Object.entries(x);if(A.length===0?w="  return vec3(1, 0, 0); // default red":A.length===1&&x.color?w=`  return ${x.color};`:w=`  return { ${A.map(([C,I])=>`${C}: ${I}`).join(", ")} };`,w.includes("vec3(")&&!a.get("three/tsl")?.has("vec3")){l("three/tsl","vec3"),p.length=0,c&&p.push("import * as THREE from 'three';");for(const[S,C]of a){const I=Array.from(C).sort();p.push(`import { ${I.join(", ")} } from '${S}';`)}}return{code:[...p,"","const shader = Fn(() => {",...d,"",w,"});","","export default shader;",""].join(`
`),importStatements:p}}function Ux(n,e,t,r){const s=r.find(i=>i.id===n.source);if(!s)return t.get(n.source)??null;if(s.data.registryType==="split"&&n.sourceHandle&&n.sourceHandle!=="out"){const i=e.find(a=>a.target===s.id&&a.targetHandle==="v");if(i&&t.has(i.source))return`${t.get(i.source)}.${n.sourceHandle}`}return t.get(n.source)??null}function ore(n,e,t,r,s){return r.inputs.map(i=>{const a=e.find(p=>p.target===n.id&&p.targetHandle===i.id);if(a){const p=Ux(a,e,t,s);if(p)return p}const c=n.data.values?.[i.id];return c!==void 0?String(c):"0"})}function lre(n,e,t,r,s){const i=v4(r.tslFunction),a=n.data.values??{},l=[];for(const c of i){if(c.kind==="meta")continue;const p=e.find(d=>d.target===n.id&&d.targetHandle===c.key);if(c.kind==="tslRef"){if(p){const d=Ux(p,e,t,s);d&&l.push(`${c.key}: ${d}`)}}else if(c.kind==="number")if(p){const d=Ux(p,e,t,s);d&&l.push(`${c.key}: ${d}`)}else{const d=a[c.key]??c.defaultValue;l.push(`${c.key}: ${d}`)}else if(c.kind==="color"){const d=String(a[c.key]??"#000000");l.push(`${c.key}: new THREE.Color(0x${d.slice(1).toUpperCase()})`)}else if(c.kind==="vec3"){const d=Number(a[`${c.key}_x`]??0),h=Number(a[`${c.key}_y`]??0),m=Number(a[`${c.key}_z`]??0);l.push(`${c.key}: new THREE.Vector3(${d}, ${h}, ${m})`)}else if(c.kind==="vec2"){const d=Number(a[`${c.key}_x`]??0),h=Number(a[`${c.key}_y`]??0);l.push(`${c.key}: new THREE.Vector2(${d}, ${h})`)}}return l.join(", ")}var Gd={},YC;function dP(){if(YC)return Gd;YC=1,Object.defineProperty(Gd,"__esModule",{value:!0});function n(G,y){if(G==null)return{};var o={};for(var g in G)if({}.hasOwnProperty.call(G,g)){if(y.indexOf(g)!==-1)continue;o[g]=G[g]}return o}class e{constructor(y,o,g){this.line=void 0,this.column=void 0,this.index=void 0,this.line=y,this.column=o,this.index=g}}class t{constructor(y,o){this.start=void 0,this.end=void 0,this.filename=void 0,this.identifierName=void 0,this.start=y,this.end=o}}function r(G,y){const{line:o,column:g,index:b}=G;return new e(o,g+y,b+y)}const s="BABEL_PARSER_SOURCETYPE_MODULE_REQUIRED";var i={ImportMetaOutsideModule:{message:`import.meta may appear only with 'sourceType: "module"'`,code:s},ImportOutsideModule:{message:`'import' and 'export' may appear only with 'sourceType: "module"'`,code:s}};const a={ArrayPattern:"array destructuring pattern",AssignmentExpression:"assignment expression",AssignmentPattern:"assignment expression",ArrowFunctionExpression:"arrow function expression",ConditionalExpression:"conditional expression",CatchClause:"catch clause",ForOfStatement:"for-of statement",ForInStatement:"for-in statement",ForStatement:"for-loop",FormalParameters:"function parameter list",Identifier:"identifier",ImportSpecifier:"import specifier",ImportDefaultSpecifier:"import default specifier",ImportNamespaceSpecifier:"import namespace specifier",ObjectPattern:"object destructuring pattern",ParenthesizedExpression:"parenthesized expression",RestElement:"rest element",UpdateExpression:{true:"prefix operation",false:"postfix operation"},VariableDeclarator:"variable declaration",YieldExpression:"yield expression"},l=G=>G.type==="UpdateExpression"?a.UpdateExpression[`${G.prefix}`]:a[G.type];var c={AccessorIsGenerator:({kind:G})=>`A ${G}ter cannot be a generator.`,ArgumentsInClass:"'arguments' is only allowed in functions and class methods.",AsyncFunctionInSingleStatementContext:"Async functions can only be declared at the top level or inside a block.",AwaitBindingIdentifier:"Can not use 'await' as identifier inside an async function.",AwaitBindingIdentifierInStaticBlock:"Can not use 'await' as identifier inside a static block.",AwaitExpressionFormalParameter:"'await' is not allowed in async function parameters.",AwaitUsingNotInAsyncContext:"'await using' is only allowed within async functions and at the top levels of modules.",AwaitNotInAsyncContext:"'await' is only allowed within async functions and at the top levels of modules.",BadGetterArity:"A 'get' accessor must not have any formal parameters.",BadSetterArity:"A 'set' accessor must have exactly one formal parameter.",BadSetterRestParameter:"A 'set' accessor function argument must not be a rest parameter.",ConstructorClassField:"Classes may not have a field named 'constructor'.",ConstructorClassPrivateField:"Classes may not have a private field named '#constructor'.",ConstructorIsAccessor:"Class constructor may not be an accessor.",ConstructorIsAsync:"Constructor can't be an async function.",ConstructorIsGenerator:"Constructor can't be a generator.",DeclarationMissingInitializer:({kind:G})=>`Missing initializer in ${G} declaration.`,DecoratorArgumentsOutsideParentheses:"Decorator arguments must be moved inside parentheses: use '@(decorator(args))' instead of '@(decorator)(args)'.",DecoratorBeforeExport:"Decorators must be placed *before* the 'export' keyword. Remove the 'decoratorsBeforeExport: true' option to use the 'export @decorator class {}' syntax.",DecoratorsBeforeAfterExport:"Decorators can be placed *either* before or after the 'export' keyword, but not in both locations at the same time.",DecoratorConstructor:"Decorators can't be used with a constructor. Did you mean '@dec class { ... }'?",DecoratorExportClass:"Decorators must be placed *after* the 'export' keyword. Remove the 'decoratorsBeforeExport: false' option to use the '@decorator export class {}' syntax.",DecoratorSemicolon:"Decorators must not be followed by a semicolon.",DecoratorStaticBlock:"Decorators can't be used with a static block.",DeferImportRequiresNamespace:'Only `import defer * as x from "./module"` is valid.',DeletePrivateField:"Deleting a private field is not allowed.",DestructureNamedImport:"ES2015 named imports do not destructure. Use another statement for destructuring after the import.",DuplicateConstructor:"Duplicate constructor in the same class.",DuplicateDefaultExport:"Only one default export allowed per module.",DuplicateExport:({exportName:G})=>`\`${G}\` has already been exported. Exported identifiers must be unique.`,DuplicateProto:"Redefinition of __proto__ property.",DuplicateRegExpFlags:"Duplicate regular expression flag.",ElementAfterRest:"Rest element must be last element.",EscapedCharNotAnIdentifier:"Invalid Unicode escape.",ExportBindingIsString:({localName:G,exportName:y})=>`A string literal cannot be used as an exported binding without \`from\`.
- Did you mean \`export { '${G}' as '${y}' } from 'some-module'\`?`,ExportDefaultFromAsIdentifier:"'from' is not allowed as an identifier after 'export default'.",ForInOfLoopInitializer:({type:G})=>`'${G==="ForInStatement"?"for-in":"for-of"}' loop variable declaration may not have an initializer.`,ForInUsing:"For-in loop may not start with 'using' declaration.",ForOfAsync:"The left-hand side of a for-of loop may not be 'async'.",ForOfLet:"The left-hand side of a for-of loop may not start with 'let'.",GeneratorInSingleStatementContext:"Generators can only be declared at the top level or inside a block.",IllegalBreakContinue:({type:G})=>`Unsyntactic ${G==="BreakStatement"?"break":"continue"}.`,IllegalLanguageModeDirective:"Illegal 'use strict' directive in function with non-simple parameter list.",IllegalReturn:"'return' outside of function.",ImportAttributesUseAssert:"The `assert` keyword in import attributes is deprecated and it has been replaced by the `with` keyword. You can enable the `deprecatedImportAssert` parser plugin to suppress this error.",ImportBindingIsString:({importName:G})=>`A string literal cannot be used as an imported binding.
- Did you mean \`import { "${G}" as foo }\`?`,ImportCallArity:"`import()` requires exactly one or two arguments.",ImportCallNotNewExpression:"Cannot use new with import(...).",ImportCallSpreadArgument:"`...` is not allowed in `import()`.",ImportJSONBindingNotDefault:"A JSON module can only be imported with `default`.",ImportReflectionHasAssertion:"`import module x` cannot have assertions.",ImportReflectionNotBinding:'Only `import module x from "./module"` is valid.',IncompatibleRegExpUVFlags:"The 'u' and 'v' regular expression flags cannot be enabled at the same time.",InvalidBigIntLiteral:"Invalid BigIntLiteral.",InvalidCodePoint:"Code point out of bounds.",InvalidCoverDiscardElement:"'void' must be followed by an expression when not used in a binding position.",InvalidCoverInitializedName:"Invalid shorthand property initializer.",InvalidDecimal:"Invalid decimal.",InvalidDigit:({radix:G})=>`Expected number in radix ${G}.`,InvalidEscapeSequence:"Bad character escape sequence.",InvalidEscapeSequenceTemplate:"Invalid escape sequence in template.",InvalidEscapedReservedWord:({reservedWord:G})=>`Escape sequence in keyword ${G}.`,InvalidIdentifier:({identifierName:G})=>`Invalid identifier ${G}.`,InvalidLhs:({ancestor:G})=>`Invalid left-hand side in ${l(G)}.`,InvalidLhsBinding:({ancestor:G})=>`Binding invalid left-hand side in ${l(G)}.`,InvalidLhsOptionalChaining:({ancestor:G})=>`Invalid optional chaining in the left-hand side of ${l(G)}.`,InvalidNumber:"Invalid number.",InvalidOrMissingExponent:"Floating-point numbers require a valid exponent after the 'e'.",InvalidOrUnexpectedToken:({unexpected:G})=>`Unexpected character '${G}'.`,InvalidParenthesizedAssignment:"Invalid parenthesized assignment pattern.",InvalidPrivateFieldResolution:({identifierName:G})=>`Private name #${G} is not defined.`,InvalidPropertyBindingPattern:"Binding member expression.",InvalidRecordProperty:"Only properties and spread elements are allowed in record definitions.",InvalidRestAssignmentPattern:"Invalid rest operator's argument.",LabelRedeclaration:({labelName:G})=>`Label '${G}' is already declared.`,LetInLexicalBinding:"'let' is disallowed as a lexically bound name.",LineTerminatorBeforeArrow:"No line break is allowed before '=>'.",MalformedRegExpFlags:"Invalid regular expression flag.",MissingClassName:"A class name is required.",MissingEqInAssignment:"Only '=' operator can be used for specifying default value.",MissingSemicolon:"Missing semicolon.",MissingPlugin:({missingPlugin:G})=>`This experimental syntax requires enabling the parser plugin: ${G.map(y=>JSON.stringify(y)).join(", ")}.`,MissingOneOfPlugins:({missingPlugin:G})=>`This experimental syntax requires enabling one of the following parser plugin(s): ${G.map(y=>JSON.stringify(y)).join(", ")}.`,MissingUnicodeEscape:"Expecting Unicode escape sequence \\uXXXX.",MixingCoalesceWithLogical:"Nullish coalescing operator(??) requires parens when mixing with logical operators.",ModuleAttributeDifferentFromType:"The only accepted module attribute is `type`.",ModuleAttributeInvalidValue:"Only string literals are allowed as module attribute values.",ModuleAttributesWithDuplicateKeys:({key:G})=>`Duplicate key "${G}" is not allowed in module attributes.`,ModuleExportNameHasLoneSurrogate:({surrogateCharCode:G})=>`An export name cannot include a lone surrogate, found '\\u${G.toString(16)}'.`,ModuleExportUndefined:({localName:G})=>`Export '${G}' is not defined.`,MultipleDefaultsInSwitch:"Multiple default clauses.",NewlineAfterThrow:"Illegal newline after throw.",NoCatchOrFinally:"Missing catch or finally clause.",NumberIdentifier:"Identifier directly after number.",NumericSeparatorInEscapeSequence:"Numeric separators are not allowed inside unicode escape sequences or hex escape sequences.",ObsoleteAwaitStar:"'await*' has been removed from the async functions proposal. Use Promise.all() instead.",OptionalChainingNoNew:"Constructors in/after an Optional Chain are not allowed.",OptionalChainingNoTemplate:"Tagged Template Literals are not allowed in optionalChain.",OverrideOnConstructor:"'override' modifier cannot appear on a constructor declaration.",ParamDupe:"Argument name clash.",PatternHasAccessor:"Object pattern can't contain getter or setter.",PatternHasMethod:"Object pattern can't contain methods.",PrivateInExpectedIn:({identifierName:G})=>`Private names are only allowed in property accesses (\`obj.#${G}\`) or in \`in\` expressions (\`#${G} in obj\`).`,PrivateNameRedeclaration:({identifierName:G})=>`Duplicate private name #${G}.`,RecordExpressionBarIncorrectEndSyntaxType:"Record expressions ending with '|}' are only allowed when the 'syntaxType' option of the 'recordAndTuple' plugin is set to 'bar'.",RecordExpressionBarIncorrectStartSyntaxType:"Record expressions starting with '{|' are only allowed when the 'syntaxType' option of the 'recordAndTuple' plugin is set to 'bar'.",RecordExpressionHashIncorrectStartSyntaxType:"Record expressions starting with '#{' are only allowed when the 'syntaxType' option of the 'recordAndTuple' plugin is set to 'hash'.",RecordNoProto:"'__proto__' is not allowed in Record expressions.",RestTrailingComma:"Unexpected trailing comma after rest element.",SloppyFunction:"In non-strict mode code, functions can only be declared at top level or inside a block.",SloppyFunctionAnnexB:"In non-strict mode code, functions can only be declared at top level, inside a block, or as the body of an if statement.",SourcePhaseImportRequiresDefault:'Only `import source x from "./module"` is valid.',StaticPrototype:"Classes may not have static property named prototype.",SuperNotAllowed:"`super()` is only valid inside a class constructor of a subclass. Maybe a typo in the method name ('constructor') or not extending another class?",SuperPrivateField:"Private fields can't be accessed on super.",TrailingDecorator:"Decorators must be attached to a class element.",TupleExpressionBarIncorrectEndSyntaxType:"Tuple expressions ending with '|]' are only allowed when the 'syntaxType' option of the 'recordAndTuple' plugin is set to 'bar'.",TupleExpressionBarIncorrectStartSyntaxType:"Tuple expressions starting with '[|' are only allowed when the 'syntaxType' option of the 'recordAndTuple' plugin is set to 'bar'.",TupleExpressionHashIncorrectStartSyntaxType:"Tuple expressions starting with '#[' are only allowed when the 'syntaxType' option of the 'recordAndTuple' plugin is set to 'hash'.",UnexpectedArgumentPlaceholder:"Unexpected argument placeholder.",UnexpectedAwaitAfterPipelineBody:'Unexpected "await" after pipeline body; await must have parentheses in minimal proposal.',UnexpectedDigitAfterHash:"Unexpected digit after hash token.",UnexpectedImportExport:"'import' and 'export' may only appear at the top level.",UnexpectedKeyword:({keyword:G})=>`Unexpected keyword '${G}'.`,UnexpectedLeadingDecorator:"Leading decorators must be attached to a class declaration.",UnexpectedLexicalDeclaration:"Lexical declaration cannot appear in a single-statement context.",UnexpectedNewTarget:"`new.target` can only be used in functions or class properties.",UnexpectedNumericSeparator:"A numeric separator is only allowed between two digits.",UnexpectedPrivateField:"Unexpected private name.",UnexpectedReservedWord:({reservedWord:G})=>`Unexpected reserved word '${G}'.`,UnexpectedSuper:"'super' is only allowed in object methods and classes.",UnexpectedToken:({expected:G,unexpected:y})=>`Unexpected token${y?` '${y}'.`:""}${G?`, expected "${G}"`:""}`,UnexpectedTokenUnaryExponentiation:"Illegal expression. Wrap left hand side or entire exponentiation in parentheses.",UnexpectedUsingDeclaration:"Using declaration cannot appear in the top level when source type is `script` or in the bare case statement.",UnexpectedVoidPattern:"Unexpected void binding.",UnsupportedBind:"Binding should be performed on object property.",UnsupportedDecoratorExport:"A decorated export must export a class declaration.",UnsupportedDefaultExport:"Only expressions, functions or classes are allowed as the `default` export.",UnsupportedImport:"`import` can only be used in `import()` or `import.meta`.",UnsupportedMetaProperty:({target:G,onlyValidPropertyName:y})=>`The only valid meta property for ${G} is ${G}.${y}.`,UnsupportedParameterDecorator:"Decorators cannot be used to decorate parameters.",UnsupportedPropertyDecorator:"Decorators cannot be used to decorate object literal properties.",UnsupportedSuper:"'super' can only be used with function calls (i.e. super()) or in property accesses (i.e. super.prop or super[prop]).",UnterminatedComment:"Unterminated comment.",UnterminatedRegExp:"Unterminated regular expression.",UnterminatedString:"Unterminated string constant.",UnterminatedTemplate:"Unterminated template.",UsingDeclarationExport:"Using declaration cannot be exported.",UsingDeclarationHasBindingPattern:"Using declaration cannot have destructuring patterns.",VarRedeclaration:({identifierName:G})=>`Identifier '${G}' has already been declared.`,VoidPatternCatchClauseParam:"A void binding can not be the catch clause parameter. Use `try { ... } catch { ... }` if you want to discard the caught error.",VoidPatternInitializer:"A void binding may not have an initializer.",YieldBindingIdentifier:"Can not use 'yield' as identifier inside a generator.",YieldInParameter:"Yield expression is not allowed in formal parameters.",YieldNotInGeneratorFunction:"'yield' is only allowed within generator functions.",ZeroDigitNumericSeparator:"Numeric separator can not be used after leading 0."},p={StrictDelete:"Deleting local variable in strict mode.",StrictEvalArguments:({referenceName:G})=>`Assigning to '${G}' in strict mode.`,StrictEvalArgumentsBinding:({bindingName:G})=>`Binding '${G}' in strict mode.`,StrictFunction:"In strict mode code, functions can only be declared at top level or inside a block.",StrictNumericEscape:"The only valid numeric escape in strict mode is '\\0'.",StrictOctalLiteral:"Legacy octal literals are not allowed in strict mode.",StrictWith:"'with' in strict mode."},d={ParseExpressionEmptyInput:"Unexpected parseExpression() input: The input is empty or contains only comments.",ParseExpressionExpectsEOF:({unexpected:G})=>`Unexpected parseExpression() input: The input should contain exactly one expression, but the first expression is followed by the unexpected character \`${String.fromCodePoint(G)}\`.`};const h=new Set(["ArrowFunctionExpression","AssignmentExpression","ConditionalExpression","YieldExpression"]);var m=Object.assign({PipeBodyIsTighter:"Unexpected yield after pipeline body; any yield expression acting as Hack-style pipe body must be parenthesized due to its loose operator precedence.",PipeTopicRequiresHackPipes:'Topic reference is used, but the pipelineOperator plugin was not passed a "proposal": "hack" or "smart" option.',PipeTopicUnbound:"Topic reference is unbound; it must be inside a pipe body.",PipeTopicUnconfiguredToken:({token:G})=>`Invalid topic token ${G}. In order to use ${G} as a topic reference, the pipelineOperator plugin must be configured with { "proposal": "hack", "topicToken": "${G}" }.`,PipeTopicUnused:"Hack-style pipe body does not contain a topic reference; Hack-style pipes must use topic at least once.",PipeUnparenthesizedBody:({type:G})=>`Hack-style pipe body cannot be an unparenthesized ${l({type:G})}; please wrap it in parentheses.`},{PipelineBodyNoArrow:'Unexpected arrow "=>" after pipeline body; arrow function in pipeline body must be parenthesized.',PipelineBodySequenceExpression:"Pipeline body may not be a comma-separated sequence expression.",PipelineHeadSequenceExpression:"Pipeline head should not be a comma-separated sequence expression.",PipelineTopicUnused:"Pipeline is in topic style but does not use topic reference.",PrimaryTopicNotAllowed:"Topic reference was used in a lexical context without topic binding.",PrimaryTopicRequiresSmartPipeline:'Topic reference is used, but the pipelineOperator plugin was not passed a "proposal": "hack" or "smart" option.'});const x=["message"];function w(G,y,o){Object.defineProperty(G,y,{enumerable:!1,configurable:!0,value:o})}function A({toMessage:G,code:y,reasonCode:o,syntaxPlugin:g}){const b=o==="MissingPlugin"||o==="MissingOneOfPlugins",k={AccessorCannotDeclareThisParameter:"AccesorCannotDeclareThisParameter",AccessorCannotHaveTypeParameters:"AccesorCannotHaveTypeParameters",ConstInitializerMustBeStringOrNumericLiteralOrLiteralEnumReference:"ConstInitiailizerMustBeStringOrNumericLiteralOrLiteralEnumReference",SetAccessorCannotHaveOptionalParameter:"SetAccesorCannotHaveOptionalParameter",SetAccessorCannotHaveRestParameter:"SetAccesorCannotHaveRestParameter",SetAccessorCannotHaveReturnType:"SetAccesorCannotHaveReturnType"};return k[o]&&(o=k[o]),function ne(le,ye){const Pe=new SyntaxError;return Pe.code=y,Pe.reasonCode=o,Pe.loc=le,Pe.pos=le.index,Pe.syntaxPlugin=g,b&&(Pe.missingPlugin=ye.missingPlugin),w(Pe,"clone",function(Je={}){var mt;const{line:bt,column:Rt,index:yn}=(mt=Je.loc)!=null?mt:le;return ne(new e(bt,Rt,yn),Object.assign({},ye,Je.details))}),w(Pe,"details",ye),Object.defineProperty(Pe,"message",{configurable:!0,get(){const Ie=`${G(ye)} (${le.line}:${le.column})`;return this.message=Ie,Ie},set(Ie){Object.defineProperty(this,"message",{value:Ie,writable:!0})}}),Pe}}function P(G,y){if(Array.isArray(G))return g=>P(g,G[0]);const o={};for(const g of Object.keys(G)){const b=G[g],k=typeof b=="string"?{message:()=>b}:typeof b=="function"?{message:b}:b,{message:ne}=k,le=n(k,x),ye=typeof ne=="string"?()=>ne:ne;o[g]=A(Object.assign({code:"BABEL_PARSER_SYNTAX_ERROR",reasonCode:g,toMessage:ye},y?{syntaxPlugin:y}:{},le))}return o}const S=Object.assign({},P(i),P(c),P(p),P(d),P`pipelineOperator`(m));function C(){return{sourceType:"script",sourceFilename:void 0,startIndex:0,startColumn:0,startLine:1,allowAwaitOutsideFunction:!1,allowReturnOutsideFunction:!1,allowNewTargetOutsideFunction:!1,allowImportExportEverywhere:!1,allowSuperOutsideMethod:!1,allowUndeclaredExports:!1,allowYieldOutsideFunction:!1,plugins:[],strictMode:void 0,ranges:!1,tokens:!1,createImportExpressions:!1,createParenthesizedExpressions:!1,errorRecovery:!1,attachComment:!0,annexB:!0}}function I(G){const y=C();if(G==null)return y;if(G.annexB!=null&&G.annexB!==!1)throw new Error("The `annexB` option can only be set to `false`.");for(const o of Object.keys(y))G[o]!=null&&(y[o]=G[o]);if(y.startLine===1)G.startIndex==null&&y.startColumn>0?y.startIndex=y.startColumn:G.startColumn==null&&y.startIndex>0&&(y.startColumn=y.startIndex);else if((G.startColumn==null||G.startIndex==null)&&G.startIndex!=null)throw new Error("With a `startLine > 1` you must also specify `startIndex` and `startColumn`.");if(y.sourceType==="commonjs"){if(G.allowAwaitOutsideFunction!=null)throw new Error("The `allowAwaitOutsideFunction` option cannot be used with `sourceType: 'commonjs'`.");if(G.allowReturnOutsideFunction!=null)throw new Error("`sourceType: 'commonjs'` implies `allowReturnOutsideFunction: true`, please remove the `allowReturnOutsideFunction` option or use `sourceType: 'script'`.");if(G.allowNewTargetOutsideFunction!=null)throw new Error("`sourceType: 'commonjs'` implies `allowNewTargetOutsideFunction: true`, please remove the `allowNewTargetOutsideFunction` option or use `sourceType: 'script'`.")}return y}const{defineProperty:_}=Object,D=(G,y)=>{G&&_(G,y,{enumerable:!1,value:G[y]})};function F(G){return D(G.loc.start,"index"),D(G.loc.end,"index"),G}var O=G=>class extends G{parse(){const o=F(super.parse());return this.optionFlags&256&&(o.tokens=o.tokens.map(F)),o}parseRegExpLiteral({pattern:o,flags:g}){let b=null;try{b=new RegExp(o,g)}catch{}const k=this.estreeParseLiteral(b);return k.regex={pattern:o,flags:g},k}parseBigIntLiteral(o){let g;try{g=BigInt(o)}catch{g=null}const b=this.estreeParseLiteral(g);return b.bigint=String(b.value||o),b}parseDecimalLiteral(o){const b=this.estreeParseLiteral(null);return b.decimal=String(b.value||o),b}estreeParseLiteral(o){return this.parseLiteral(o,"Literal")}parseStringLiteral(o){return this.estreeParseLiteral(o)}parseNumericLiteral(o){return this.estreeParseLiteral(o)}parseNullLiteral(){return this.estreeParseLiteral(null)}parseBooleanLiteral(o){return this.estreeParseLiteral(o)}estreeParseChainExpression(o,g){const b=this.startNodeAtNode(o);return b.expression=o,this.finishNodeAt(b,"ChainExpression",g)}directiveToStmt(o){const g=o.value;delete o.value,this.castNodeTo(g,"Literal"),g.raw=g.extra.raw,g.value=g.extra.expressionValue;const b=this.castNodeTo(o,"ExpressionStatement");return b.expression=g,b.directive=g.extra.rawValue,delete g.extra,b}fillOptionalPropertiesForTSESLint(o){}cloneEstreeStringLiteral(o){const{start:g,end:b,loc:k,range:ne,raw:le,value:ye}=o,Pe=Object.create(o.constructor.prototype);return Pe.type="Literal",Pe.start=g,Pe.end=b,Pe.loc=k,Pe.range=ne,Pe.raw=le,Pe.value=ye,Pe}initFunction(o,g){super.initFunction(o,g),o.expression=!1}checkDeclaration(o){o!=null&&this.isObjectProperty(o)?this.checkDeclaration(o.value):super.checkDeclaration(o)}getObjectOrClassMethodParams(o){return o.value.params}isValidDirective(o){var g;return o.type==="ExpressionStatement"&&o.expression.type==="Literal"&&typeof o.expression.value=="string"&&!((g=o.expression.extra)!=null&&g.parenthesized)}parseBlockBody(o,g,b,k,ne){super.parseBlockBody(o,g,b,k,ne);const le=o.directives.map(ye=>this.directiveToStmt(ye));o.body=le.concat(o.body),delete o.directives}parsePrivateName(){const o=super.parsePrivateName();return this.getPluginOption("estree","classFeatures")?this.convertPrivateNameToPrivateIdentifier(o):o}convertPrivateNameToPrivateIdentifier(o){const g=super.getPrivateNameSV(o);return delete o.id,o.name=g,this.castNodeTo(o,"PrivateIdentifier")}isPrivateName(o){return this.getPluginOption("estree","classFeatures")?o.type==="PrivateIdentifier":super.isPrivateName(o)}getPrivateNameSV(o){return this.getPluginOption("estree","classFeatures")?o.name:super.getPrivateNameSV(o)}parseLiteral(o,g){const b=super.parseLiteral(o,g);return b.raw=b.extra.raw,delete b.extra,b}parseFunctionBody(o,g,b=!1){super.parseFunctionBody(o,g,b),o.expression=o.body.type!=="BlockStatement"}parseMethod(o,g,b,k,ne,le,ye=!1){let Pe=this.startNode();Pe.kind=o.kind,Pe=super.parseMethod(Pe,g,b,k,ne,le,ye),delete Pe.kind;const{typeParameters:Ie}=o;Ie&&(delete o.typeParameters,Pe.typeParameters=Ie,this.resetStartLocationFromNode(Pe,Ie));const Je=this.castNodeTo(Pe,"FunctionExpression");return o.value=Je,le==="ClassPrivateMethod"&&(o.computed=!1),le==="ObjectMethod"?(o.kind==="method"&&(o.kind="init"),o.shorthand=!1,this.finishNode(o,"Property")):this.finishNode(o,"MethodDefinition")}nameIsConstructor(o){return o.type==="Literal"?o.value==="constructor":super.nameIsConstructor(o)}parseClassProperty(...o){const g=super.parseClassProperty(...o);return this.getPluginOption("estree","classFeatures")&&this.castNodeTo(g,"PropertyDefinition"),g}parseClassPrivateProperty(...o){const g=super.parseClassPrivateProperty(...o);return this.getPluginOption("estree","classFeatures")&&(this.castNodeTo(g,"PropertyDefinition"),g.computed=!1),g}parseClassAccessorProperty(o){const g=super.parseClassAccessorProperty(o);return this.getPluginOption("estree","classFeatures")&&(g.abstract&&this.hasPlugin("typescript")?(delete g.abstract,this.castNodeTo(g,"TSAbstractAccessorProperty")):this.castNodeTo(g,"AccessorProperty")),g}parseObjectProperty(o,g,b,k){const ne=super.parseObjectProperty(o,g,b,k);return ne&&(ne.kind="init",this.castNodeTo(ne,"Property")),ne}finishObjectProperty(o){return o.kind="init",this.finishNode(o,"Property")}isValidLVal(o,g,b,k){return o==="Property"?"value":super.isValidLVal(o,g,b,k)}isAssignable(o,g){return o!=null&&this.isObjectProperty(o)?this.isAssignable(o.value,g):super.isAssignable(o,g)}toAssignable(o,g=!1){if(o!=null&&this.isObjectProperty(o)){const{key:b,value:k}=o;this.isPrivateName(b)&&this.classScope.usePrivateName(this.getPrivateNameSV(b),b.loc.start),this.toAssignable(k,g)}else super.toAssignable(o,g)}toAssignableObjectExpressionProp(o,g,b){o.type==="Property"&&(o.kind==="get"||o.kind==="set")?this.raise(S.PatternHasAccessor,o.key):o.type==="Property"&&o.method?this.raise(S.PatternHasMethod,o.key):super.toAssignableObjectExpressionProp(o,g,b)}finishCallExpression(o,g){const b=super.finishCallExpression(o,g);if(b.callee.type==="Import"){var k,ne;this.castNodeTo(b,"ImportExpression"),b.source=b.arguments[0],b.options=(k=b.arguments[1])!=null?k:null,b.attributes=(ne=b.arguments[1])!=null?ne:null,delete b.arguments,delete b.callee}else b.type==="OptionalCallExpression"?this.castNodeTo(b,"CallExpression"):b.optional=!1;return b}toReferencedArguments(o){o.type!=="ImportExpression"&&super.toReferencedArguments(o)}parseExport(o,g){const b=this.state.lastTokStartLoc,k=super.parseExport(o,g);switch(k.type){case"ExportAllDeclaration":k.exported=null;break;case"ExportNamedDeclaration":k.specifiers.length===1&&k.specifiers[0].type==="ExportNamespaceSpecifier"&&(this.castNodeTo(k,"ExportAllDeclaration"),k.exported=k.specifiers[0].exported,delete k.specifiers);case"ExportDefaultDeclaration":{var ne;const{declaration:le}=k;le?.type==="ClassDeclaration"&&((ne=le.decorators)==null?void 0:ne.length)>0&&le.start===k.start&&this.resetStartLocation(k,b)}break}return k}stopParseSubscript(o,g){const b=super.stopParseSubscript(o,g);return g.optionalChainMember?this.estreeParseChainExpression(b,o.loc.end):b}parseMember(o,g,b,k,ne){const le=super.parseMember(o,g,b,k,ne);return le.type==="OptionalMemberExpression"?this.castNodeTo(le,"MemberExpression"):le.optional=!1,le}isOptionalMemberExpression(o){return o.type==="ChainExpression"?o.expression.type==="MemberExpression":super.isOptionalMemberExpression(o)}hasPropertyAsPrivateName(o){return o.type==="ChainExpression"&&(o=o.expression),super.hasPropertyAsPrivateName(o)}isObjectProperty(o){return o.type==="Property"&&o.kind==="init"&&!o.method}isObjectMethod(o){return o.type==="Property"&&(o.method||o.kind==="get"||o.kind==="set")}castNodeTo(o,g){const b=super.castNodeTo(o,g);return this.fillOptionalPropertiesForTSESLint(b),b}cloneIdentifier(o){const g=super.cloneIdentifier(o);return this.fillOptionalPropertiesForTSESLint(g),g}cloneStringLiteral(o){return o.type==="Literal"?this.cloneEstreeStringLiteral(o):super.cloneStringLiteral(o)}finishNodeAt(o,g,b){return F(super.finishNodeAt(o,g,b))}finishNode(o,g){const b=super.finishNode(o,g);return this.fillOptionalPropertiesForTSESLint(b),b}resetStartLocation(o,g){super.resetStartLocation(o,g),F(o)}resetEndLocation(o,g=this.state.lastTokEndLoc){super.resetEndLocation(o,g),F(o)}};class L{constructor(y,o){this.token=void 0,this.preserveSpace=void 0,this.token=y,this.preserveSpace=!!o}}const B={brace:new L("{"),j_oTag:new L("<tag"),j_cTag:new L("</tag"),j_expr:new L("<tag>...</tag>",!0)};B.template=new L("`",!0);const j=!0,M=!0,ee=!0,ue=!0,J=!0,ae=!0;class oe{constructor(y,o={}){this.label=void 0,this.keyword=void 0,this.beforeExpr=void 0,this.startsExpr=void 0,this.rightAssociative=void 0,this.isLoop=void 0,this.isAssign=void 0,this.prefix=void 0,this.postfix=void 0,this.binop=void 0,this.label=y,this.keyword=o.keyword,this.beforeExpr=!!o.beforeExpr,this.startsExpr=!!o.startsExpr,this.rightAssociative=!!o.rightAssociative,this.isLoop=!!o.isLoop,this.isAssign=!!o.isAssign,this.prefix=!!o.prefix,this.postfix=!!o.postfix,this.binop=o.binop!=null?o.binop:null,this.updateContext=null}}const re=new Map;function X(G,y={}){y.keyword=G;const o=be(G,y);return re.set(G,o),o}function H(G,y){return be(G,{beforeExpr:j,binop:y})}let Q=-1;const W=[],Y=[],Z=[],se=[],me=[],Ce=[];function be(G,y={}){var o,g,b,k;return++Q,Y.push(G),Z.push((o=y.binop)!=null?o:-1),se.push((g=y.beforeExpr)!=null?g:!1),me.push((b=y.startsExpr)!=null?b:!1),Ce.push((k=y.prefix)!=null?k:!1),W.push(new oe(G,y)),Q}function Se(G,y={}){var o,g,b,k;return++Q,re.set(G,Q),Y.push(G),Z.push((o=y.binop)!=null?o:-1),se.push((g=y.beforeExpr)!=null?g:!1),me.push((b=y.startsExpr)!=null?b:!1),Ce.push((k=y.prefix)!=null?k:!1),W.push(new oe("name",y)),Q}const Le={bracketL:be("[",{beforeExpr:j,startsExpr:M}),bracketHashL:be("#[",{beforeExpr:j,startsExpr:M}),bracketBarL:be("[|",{beforeExpr:j,startsExpr:M}),bracketR:be("]"),bracketBarR:be("|]"),braceL:be("{",{beforeExpr:j,startsExpr:M}),braceBarL:be("{|",{beforeExpr:j,startsExpr:M}),braceHashL:be("#{",{beforeExpr:j,startsExpr:M}),braceR:be("}"),braceBarR:be("|}"),parenL:be("(",{beforeExpr:j,startsExpr:M}),parenR:be(")"),comma:be(",",{beforeExpr:j}),semi:be(";",{beforeExpr:j}),colon:be(":",{beforeExpr:j}),doubleColon:be("::",{beforeExpr:j}),dot:be("."),question:be("?",{beforeExpr:j}),questionDot:be("?."),arrow:be("=>",{beforeExpr:j}),template:be("template"),ellipsis:be("...",{beforeExpr:j}),backQuote:be("`",{startsExpr:M}),dollarBraceL:be("${",{beforeExpr:j,startsExpr:M}),templateTail:be("...`",{startsExpr:M}),templateNonTail:be("...${",{beforeExpr:j,startsExpr:M}),at:be("@"),hash:be("#",{startsExpr:M}),interpreterDirective:be("#!..."),eq:be("=",{beforeExpr:j,isAssign:ue}),assign:be("_=",{beforeExpr:j,isAssign:ue}),slashAssign:be("_=",{beforeExpr:j,isAssign:ue}),xorAssign:be("_=",{beforeExpr:j,isAssign:ue}),moduloAssign:be("_=",{beforeExpr:j,isAssign:ue}),incDec:be("++/--",{prefix:J,postfix:ae,startsExpr:M}),bang:be("!",{beforeExpr:j,prefix:J,startsExpr:M}),tilde:be("~",{beforeExpr:j,prefix:J,startsExpr:M}),doubleCaret:be("^^",{startsExpr:M}),doubleAt:be("@@",{startsExpr:M}),pipeline:H("|>",0),nullishCoalescing:H("??",1),logicalOR:H("||",1),logicalAND:H("&&",2),bitwiseOR:H("|",3),bitwiseXOR:H("^",4),bitwiseAND:H("&",5),equality:H("==/!=/===/!==",6),lt:H("</>/<=/>=",7),gt:H("</>/<=/>=",7),relational:H("</>/<=/>=",7),bitShift:H("<</>>/>>>",8),bitShiftL:H("<</>>/>>>",8),bitShiftR:H("<</>>/>>>",8),plusMin:be("+/-",{beforeExpr:j,binop:9,prefix:J,startsExpr:M}),modulo:be("%",{binop:10,startsExpr:M}),star:be("*",{binop:10}),slash:H("/",10),exponent:be("**",{beforeExpr:j,binop:11,rightAssociative:!0}),_in:X("in",{beforeExpr:j,binop:7}),_instanceof:X("instanceof",{beforeExpr:j,binop:7}),_break:X("break"),_case:X("case",{beforeExpr:j}),_catch:X("catch"),_continue:X("continue"),_debugger:X("debugger"),_default:X("default",{beforeExpr:j}),_else:X("else",{beforeExpr:j}),_finally:X("finally"),_function:X("function",{startsExpr:M}),_if:X("if"),_return:X("return",{beforeExpr:j}),_switch:X("switch"),_throw:X("throw",{beforeExpr:j,prefix:J,startsExpr:M}),_try:X("try"),_var:X("var"),_const:X("const"),_with:X("with"),_new:X("new",{beforeExpr:j,startsExpr:M}),_this:X("this",{startsExpr:M}),_super:X("super",{startsExpr:M}),_class:X("class",{startsExpr:M}),_extends:X("extends",{beforeExpr:j}),_export:X("export"),_import:X("import",{startsExpr:M}),_null:X("null",{startsExpr:M}),_true:X("true",{startsExpr:M}),_false:X("false",{startsExpr:M}),_typeof:X("typeof",{beforeExpr:j,prefix:J,startsExpr:M}),_void:X("void",{beforeExpr:j,prefix:J,startsExpr:M}),_delete:X("delete",{beforeExpr:j,prefix:J,startsExpr:M}),_do:X("do",{isLoop:ee,beforeExpr:j}),_for:X("for",{isLoop:ee}),_while:X("while",{isLoop:ee}),_as:Se("as",{startsExpr:M}),_assert:Se("assert",{startsExpr:M}),_async:Se("async",{startsExpr:M}),_await:Se("await",{startsExpr:M}),_defer:Se("defer",{startsExpr:M}),_from:Se("from",{startsExpr:M}),_get:Se("get",{startsExpr:M}),_let:Se("let",{startsExpr:M}),_meta:Se("meta",{startsExpr:M}),_of:Se("of",{startsExpr:M}),_sent:Se("sent",{startsExpr:M}),_set:Se("set",{startsExpr:M}),_source:Se("source",{startsExpr:M}),_static:Se("static",{startsExpr:M}),_using:Se("using",{startsExpr:M}),_yield:Se("yield",{startsExpr:M}),_asserts:Se("asserts",{startsExpr:M}),_checks:Se("checks",{startsExpr:M}),_exports:Se("exports",{startsExpr:M}),_global:Se("global",{startsExpr:M}),_implements:Se("implements",{startsExpr:M}),_intrinsic:Se("intrinsic",{startsExpr:M}),_infer:Se("infer",{startsExpr:M}),_is:Se("is",{startsExpr:M}),_mixins:Se("mixins",{startsExpr:M}),_proto:Se("proto",{startsExpr:M}),_require:Se("require",{startsExpr:M}),_satisfies:Se("satisfies",{startsExpr:M}),_keyof:Se("keyof",{startsExpr:M}),_readonly:Se("readonly",{startsExpr:M}),_unique:Se("unique",{startsExpr:M}),_abstract:Se("abstract",{startsExpr:M}),_declare:Se("declare",{startsExpr:M}),_enum:Se("enum",{startsExpr:M}),_module:Se("module",{startsExpr:M}),_namespace:Se("namespace",{startsExpr:M}),_interface:Se("interface",{startsExpr:M}),_type:Se("type",{startsExpr:M}),_opaque:Se("opaque",{startsExpr:M}),name:be("name",{startsExpr:M}),placeholder:be("%%",{startsExpr:M}),string:be("string",{startsExpr:M}),num:be("num",{startsExpr:M}),bigint:be("bigint",{startsExpr:M}),decimal:be("decimal",{startsExpr:M}),regexp:be("regexp",{startsExpr:M}),privateName:be("#name",{startsExpr:M}),eof:be("eof"),jsxName:be("jsxName"),jsxText:be("jsxText",{beforeExpr:j}),jsxTagStart:be("jsxTagStart",{startsExpr:M}),jsxTagEnd:be("jsxTagEnd")};function Ue(G){return G>=93&&G<=133}function st(G){return G<=92}function Ze(G){return G>=58&&G<=133}function it(G){return G>=58&&G<=137}function pt(G){return se[G]}function It(G){return me[G]}function ct(G){return G>=29&&G<=33}function Ye(G){return G>=129&&G<=131}function We(G){return G>=90&&G<=92}function rt(G){return G>=58&&G<=92}function St(G){return G>=39&&G<=59}function Et(G){return G===34}function jt(G){return Ce[G]}function qt(G){return G>=121&&G<=123}function mn(G){return G>=124&&G<=130}function Fe(G){return Y[G]}function Me(G){return Z[G]}function ce(G){return G===57}function we(G){return G>=24&&G<=25}function De(G){return W[G]}W[8].updateContext=G=>{G.pop()},W[5].updateContext=W[7].updateContext=W[23].updateContext=G=>{G.push(B.brace)},W[22].updateContext=G=>{G[G.length-1]===B.template?G.pop():G.push(B.template)},W[143].updateContext=G=>{G.push(B.j_expr,B.j_oTag)};let $e="------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------",nt="------------------------------------------------------------------------------------------------------------------------------------------------------";const ot=new RegExp("["+$e+"]"),Zt=new RegExp("["+$e+nt+"]");$e=nt=null;const fn=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,13,10,2,14,2,6,2,1,2,10,2,14,2,6,2,1,4,51,13,310,10,21,11,7,25,5,2,41,2,8,70,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,7,25,39,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,39,27,10,22,251,41,7,1,17,5,57,28,11,0,9,21,43,17,47,20,28,22,13,52,58,1,3,0,14,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,20,1,64,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,31,9,2,0,3,0,2,37,2,0,26,0,2,0,45,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,38,6,186,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,19,72,200,32,32,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,24,43,261,18,16,0,2,12,2,33,125,0,80,921,103,110,18,195,2637,96,16,1071,18,5,26,3994,6,582,6842,29,1763,568,8,30,18,78,18,29,19,47,17,3,32,20,6,18,433,44,212,63,33,24,3,24,45,74,6,0,67,12,65,1,2,0,15,4,10,7381,42,31,98,114,8702,3,2,6,2,1,2,290,16,0,30,2,3,0,15,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,1845,30,7,5,262,61,147,44,11,6,17,0,322,29,19,43,485,27,229,29,3,0,208,30,2,2,2,1,2,6,3,4,10,1,225,6,2,3,2,1,2,14,2,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42719,33,4381,3,5773,3,7472,16,621,2467,541,1507,4938,6,8489],ut=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,7,9,32,4,318,1,78,5,71,10,50,3,123,2,54,14,32,10,3,1,11,3,46,10,8,0,46,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,3,0,158,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,68,8,2,0,3,0,2,3,2,4,2,0,15,1,83,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,7,19,58,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,199,7,137,9,54,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,55,9,266,3,10,1,2,0,49,6,4,4,14,10,5350,0,7,14,11465,27,2343,9,87,9,39,4,60,6,26,9,535,9,470,0,2,54,8,3,82,0,12,1,19628,1,4178,9,519,45,3,22,543,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,101,0,161,6,10,9,357,0,62,13,499,13,245,1,2,9,233,0,3,0,8,1,6,0,475,6,110,6,6,9,4759,9,787719,239];function xn(G,y){let o=65536;for(let g=0,b=y.length;g<b;g+=2){if(o+=y[g],o>G)return!1;if(o+=y[g+1],o>=G)return!0}return!1}function Be(G){return G<65?G===36:G<=90?!0:G<97?G===95:G<=122?!0:G<=65535?G>=170&&ot.test(String.fromCharCode(G)):xn(G,fn)}function Xe(G){return G<48?G===36:G<58?!0:G<65?!1:G<=90?!0:G<97?G===95:G<=122?!0:G<=65535?G>=170&&Zt.test(String.fromCharCode(G)):xn(G,fn)||xn(G,ut)}const de={keyword:["break","case","catch","continue","debugger","default","do","else","finally","for","function","if","return","switch","throw","try","var","const","while","with","new","this","super","class","extends","export","import","null","true","false","in","instanceof","typeof","void","delete"],strict:["implements","interface","let","package","private","protected","public","static","yield"],strictBind:["eval","arguments"]},Ke=new Set(de.keyword),ht=new Set(de.strict),ve=new Set(de.strictBind);function at(G,y){return y&&G==="await"||G==="enum"}function Pt(G,y){return at(G,y)||ht.has(G)}function Mt(G){return ve.has(G)}function Ht(G,y){return Pt(G,y)||Mt(G)}function tn(G){return Ke.has(G)}function _n(G,y,o){return G===64&&y===64&&Be(o)}const Jn=new Set(["break","case","catch","continue","debugger","default","do","else","finally","for","function","if","return","switch","throw","try","var","const","while","with","new","this","super","class","extends","export","import","null","true","false","in","instanceof","typeof","void","delete","implements","interface","let","package","private","protected","public","static","yield","eval","arguments","enum","await"]);function Hn(G){return Jn.has(G)}class Zn{constructor(y){this.flags=0,this.names=new Map,this.firstLexicalName="",this.flags=y}}class Kn{constructor(y,o){this.parser=void 0,this.scopeStack=[],this.inModule=void 0,this.undefinedExports=new Map,this.parser=y,this.inModule=o}get inTopLevel(){return(this.currentScope().flags&1)>0}get inFunction(){return(this.currentVarScopeFlags()&2)>0}get allowSuper(){return(this.currentThisScopeFlags()&16)>0}get allowDirectSuper(){return(this.currentThisScopeFlags()&32)>0}get allowNewTarget(){return(this.currentThisScopeFlags()&512)>0}get inClass(){return(this.currentThisScopeFlags()&64)>0}get inClassAndNotInNonArrowFunction(){const y=this.currentThisScopeFlags();return(y&64)>0&&(y&2)===0}get inStaticBlock(){for(let y=this.scopeStack.length-1;;y--){const{flags:o}=this.scopeStack[y];if(o&128)return!0;if(o&1731)return!1}}get inNonArrowFunction(){return(this.currentThisScopeFlags()&2)>0}get inBareCaseStatement(){return(this.currentScope().flags&256)>0}get treatFunctionsAsVar(){return this.treatFunctionsAsVarInScope(this.currentScope())}createScope(y){return new Zn(y)}enter(y){this.scopeStack.push(this.createScope(y))}exit(){return this.scopeStack.pop().flags}treatFunctionsAsVarInScope(y){return!!(y.flags&130||!this.parser.inModule&&y.flags&1)}declareName(y,o,g){let b=this.currentScope();if(o&8||o&16){this.checkRedeclarationInScope(b,y,o,g);let k=b.names.get(y)||0;o&16?k=k|4:(b.firstLexicalName||(b.firstLexicalName=y),k=k|2),b.names.set(y,k),o&8&&this.maybeExportDefined(b,y)}else if(o&4)for(let k=this.scopeStack.length-1;k>=0&&(b=this.scopeStack[k],this.checkRedeclarationInScope(b,y,o,g),b.names.set(y,(b.names.get(y)||0)|1),this.maybeExportDefined(b,y),!(b.flags&1667));--k);this.parser.inModule&&b.flags&1&&this.undefinedExports.delete(y)}maybeExportDefined(y,o){this.parser.inModule&&y.flags&1&&this.undefinedExports.delete(o)}checkRedeclarationInScope(y,o,g,b){this.isRedeclaredInScope(y,o,g)&&this.parser.raise(S.VarRedeclaration,b,{identifierName:o})}isRedeclaredInScope(y,o,g){if(!(g&1))return!1;if(g&8)return y.names.has(o);const b=y.names.get(o)||0;return g&16?(b&2)>0||!this.treatFunctionsAsVarInScope(y)&&(b&1)>0:(b&2)>0&&!(y.flags&8&&y.firstLexicalName===o)||!this.treatFunctionsAsVarInScope(y)&&(b&4)>0}checkLocalExport(y){const{name:o}=y;this.scopeStack[0].names.has(o)||this.undefinedExports.set(o,y.loc.start)}currentScope(){return this.scopeStack[this.scopeStack.length-1]}currentVarScopeFlags(){for(let y=this.scopeStack.length-1;;y--){const{flags:o}=this.scopeStack[y];if(o&1667)return o}}currentThisScopeFlags(){for(let y=this.scopeStack.length-1;;y--){const{flags:o}=this.scopeStack[y];if(o&1731&&!(o&4))return o}}}class br extends Zn{constructor(...y){super(...y),this.declareFunctions=new Set}}class yr extends Kn{createScope(y){return new br(y)}declareName(y,o,g){const b=this.currentScope();if(o&2048){this.checkRedeclarationInScope(b,y,o,g),this.maybeExportDefined(b,y),b.declareFunctions.add(y);return}super.declareName(y,o,g)}isRedeclaredInScope(y,o,g){if(super.isRedeclaredInScope(y,o,g))return!0;if(g&2048&&!y.declareFunctions.has(o)){const b=y.names.get(o);return(b&4)>0||(b&2)>0}return!1}checkLocalExport(y){this.scopeStack[0].declareFunctions.has(y.name)||super.checkLocalExport(y)}}const Jr=new Set(["_","any","bool","boolean","empty","extends","false","interface","mixed","null","number","static","string","true","typeof","void"]),Ot=P`flow`({AmbiguousConditionalArrow:"Ambiguous expression: wrap the arrow functions in parentheses to disambiguate.",AmbiguousDeclareModuleKind:"Found both `declare module.exports` and `declare export` in the same module. Modules can only have 1 since they are either an ES module or they are a CommonJS module.",AssignReservedType:({reservedType:G})=>`Cannot overwrite reserved type ${G}.`,DeclareClassElement:"The `declare` modifier can only appear on class fields.",DeclareClassFieldInitializer:"Initializers are not allowed in fields with the `declare` modifier.",DuplicateDeclareModuleExports:"Duplicate `declare module.exports` statement.",EnumBooleanMemberNotInitialized:({memberName:G,enumName:y})=>`Boolean enum members need to be initialized. Use either \`${G} = true,\` or \`${G} = false,\` in enum \`${y}\`.`,EnumDuplicateMemberName:({memberName:G,enumName:y})=>`Enum member names need to be unique, but the name \`${G}\` has already been used before in enum \`${y}\`.`,EnumInconsistentMemberValues:({enumName:G})=>`Enum \`${G}\` has inconsistent member initializers. Either use no initializers, or consistently use literals (either booleans, numbers, or strings) for all member initializers.`,EnumInvalidExplicitType:({invalidEnumType:G,enumName:y})=>`Enum type \`${G}\` is not valid. Use one of \`boolean\`, \`number\`, \`string\`, or \`symbol\` in enum \`${y}\`.`,EnumInvalidExplicitTypeUnknownSupplied:({enumName:G})=>`Supplied enum type is not valid. Use one of \`boolean\`, \`number\`, \`string\`, or \`symbol\` in enum \`${G}\`.`,EnumInvalidMemberInitializerPrimaryType:({enumName:G,memberName:y,explicitType:o})=>`Enum \`${G}\` has type \`${o}\`, so the initializer of \`${y}\` needs to be a ${o} literal.`,EnumInvalidMemberInitializerSymbolType:({enumName:G,memberName:y})=>`Symbol enum members cannot be initialized. Use \`${y},\` in enum \`${G}\`.`,EnumInvalidMemberInitializerUnknownType:({enumName:G,memberName:y})=>`The enum member initializer for \`${y}\` needs to be a literal (either a boolean, number, or string) in enum \`${G}\`.`,EnumInvalidMemberName:({enumName:G,memberName:y,suggestion:o})=>`Enum member names cannot start with lowercase 'a' through 'z'. Instead of using \`${y}\`, consider using \`${o}\`, in enum \`${G}\`.`,EnumNumberMemberNotInitialized:({enumName:G,memberName:y})=>`Number enum members need to be initialized, e.g. \`${y} = 1\` in enum \`${G}\`.`,EnumStringMemberInconsistentlyInitialized:({enumName:G})=>`String enum members need to consistently either all use initializers, or use no initializers, in enum \`${G}\`.`,GetterMayNotHaveThisParam:"A getter cannot have a `this` parameter.",ImportReflectionHasImportType:"An `import module` declaration can not use `type` or `typeof` keyword.",ImportTypeShorthandOnlyInPureImport:"The `type` and `typeof` keywords on named imports can only be used on regular `import` statements. It cannot be used with `import type` or `import typeof` statements.",InexactInsideExact:"Explicit inexact syntax cannot appear inside an explicit exact object type.",InexactInsideNonObject:"Explicit inexact syntax cannot appear in class or interface definitions.",InexactVariance:"Explicit inexact syntax cannot have variance.",InvalidNonTypeImportInDeclareModule:"Imports within a `declare module` body must always be `import type` or `import typeof`.",MissingTypeParamDefault:"Type parameter declaration needs a default, since a preceding type parameter declaration has a default.",NestedDeclareModule:"`declare module` cannot be used inside another `declare module`.",NestedFlowComment:"Cannot have a flow comment inside another flow comment.",PatternIsOptional:Object.assign({message:"A binding pattern parameter cannot be optional in an implementation signature."},{reasonCode:"OptionalBindingPattern"}),SetterMayNotHaveThisParam:"A setter cannot have a `this` parameter.",SpreadVariance:"Spread properties cannot have variance.",ThisParamAnnotationRequired:"A type annotation is required for the `this` parameter.",ThisParamBannedInConstructor:"Constructors cannot have a `this` parameter; constructors don't bind `this` like other functions.",ThisParamMayNotBeOptional:"The `this` parameter cannot be optional.",ThisParamMustBeFirst:"The `this` parameter must be the first function parameter.",ThisParamNoDefault:"The `this` parameter may not have a default value.",TypeBeforeInitializer:"Type annotations must come before default assignments, e.g. instead of `age = 25: number` use `age: number = 25`.",TypeCastInPattern:"The type cast expression is expected to be wrapped with parenthesis.",UnexpectedExplicitInexactInObject:"Explicit inexact syntax must appear at the end of an inexact object.",UnexpectedReservedType:({reservedType:G})=>`Unexpected reserved type ${G}.`,UnexpectedReservedUnderscore:"`_` is only allowed as a type argument to call or new.",UnexpectedSpaceBetweenModuloChecks:"Spaces between `%` and `checks` are not allowed here.",UnexpectedSpreadType:"Spread operator cannot appear in class or interface definitions.",UnexpectedSubtractionOperand:'Unexpected token, expected "number" or "bigint".',UnexpectedTokenAfterTypeParameter:"Expected an arrow function after this type parameter declaration.",UnexpectedTypeParameterBeforeAsyncArrowFunction:"Type parameters must come after the async keyword, e.g. instead of `<T> async () => {}`, use `async <T>() => {}`.",UnsupportedDeclareExportKind:({unsupportedExportKind:G,suggestion:y})=>`\`declare export ${G}\` is not supported. Use \`${y}\` instead.`,UnsupportedStatementInDeclareModule:"Only declares and type imports are allowed inside declare module.",UnterminatedFlowComment:"Unterminated flow-comment."});function fs(G){return G.type==="DeclareExportAllDeclaration"||G.type==="DeclareExportDeclaration"&&(!G.declaration||G.declaration.type!=="TypeAlias"&&G.declaration.type!=="InterfaceDeclaration")}function qs(G){return G.importKind==="type"||G.importKind==="typeof"}const Oi={const:"declare export var",let:"declare export var",type:"export type",interface:"export interface"};function ai(G,y){const o=[],g=[];for(let b=0;b<G.length;b++)(y(G[b],b,G)?o:g).push(G[b]);return[o,g]}const gr=/\*?\s*@((?:no)?flow)\b/;var wr=G=>class extends G{constructor(...o){super(...o),this.flowPragma=void 0}getScopeHandler(){return yr}shouldParseTypes(){return this.getPluginOption("flow","all")||this.flowPragma==="flow"}finishToken(o,g){o!==134&&o!==13&&o!==28&&this.flowPragma===void 0&&(this.flowPragma=null),super.finishToken(o,g)}addComment(o){if(this.flowPragma===void 0){const g=gr.exec(o.value);if(g)if(g[1]==="flow")this.flowPragma="flow";else if(g[1]==="noflow")this.flowPragma="noflow";else throw new Error("Unexpected flow pragma")}super.addComment(o)}flowParseTypeInitialiser(o){const g=this.state.inType;this.state.inType=!0,this.expect(o||14);const b=this.flowParseType();return this.state.inType=g,b}flowParsePredicate(){const o=this.startNode(),g=this.state.startLoc;return this.next(),this.expectContextual(110),this.state.lastTokStartLoc.index>g.index+1&&this.raise(Ot.UnexpectedSpaceBetweenModuloChecks,g),this.eat(10)?(o.value=super.parseExpression(),this.expect(11),this.finishNode(o,"DeclaredPredicate")):this.finishNode(o,"InferredPredicate")}flowParseTypeAndPredicateInitialiser(){const o=this.state.inType;this.state.inType=!0,this.expect(14);let g=null,b=null;return this.match(54)?(this.state.inType=o,b=this.flowParsePredicate()):(g=this.flowParseType(),this.state.inType=o,this.match(54)&&(b=this.flowParsePredicate())),[g,b]}flowParseDeclareClass(o){return this.next(),this.flowParseInterfaceish(o,!0),this.finishNode(o,"DeclareClass")}flowParseDeclareFunction(o){this.next();const g=o.id=this.parseIdentifier(),b=this.startNode(),k=this.startNode();this.match(47)?b.typeParameters=this.flowParseTypeParameterDeclaration():b.typeParameters=null,this.expect(10);const ne=this.flowParseFunctionTypeParams();return b.params=ne.params,b.rest=ne.rest,b.this=ne._this,this.expect(11),[b.returnType,o.predicate]=this.flowParseTypeAndPredicateInitialiser(),k.typeAnnotation=this.finishNode(b,"FunctionTypeAnnotation"),g.typeAnnotation=this.finishNode(k,"TypeAnnotation"),this.resetEndLocation(g),this.semicolon(),this.scope.declareName(o.id.name,2048,o.id.loc.start),this.finishNode(o,"DeclareFunction")}flowParseDeclare(o,g){if(this.match(80))return this.flowParseDeclareClass(o);if(this.match(68))return this.flowParseDeclareFunction(o);if(this.match(74))return this.flowParseDeclareVariable(o);if(this.eatContextual(127))return this.match(16)?this.flowParseDeclareModuleExports(o):(g&&this.raise(Ot.NestedDeclareModule,this.state.lastTokStartLoc),this.flowParseDeclareModule(o));if(this.isContextual(130))return this.flowParseDeclareTypeAlias(o);if(this.isContextual(131))return this.flowParseDeclareOpaqueType(o);if(this.isContextual(129))return this.flowParseDeclareInterface(o);if(this.match(82))return this.flowParseDeclareExportDeclaration(o,g);throw this.unexpected()}flowParseDeclareVariable(o){return this.next(),o.id=this.flowParseTypeAnnotatableIdentifier(!0),this.scope.declareName(o.id.name,5,o.id.loc.start),this.semicolon(),this.finishNode(o,"DeclareVariable")}flowParseDeclareModule(o){this.scope.enter(0),this.match(134)?o.id=super.parseExprAtom():o.id=this.parseIdentifier();const g=o.body=this.startNode(),b=g.body=[];for(this.expect(5);!this.match(8);){const le=this.startNode();this.match(83)?(this.next(),!this.isContextual(130)&&!this.match(87)&&this.raise(Ot.InvalidNonTypeImportInDeclareModule,this.state.lastTokStartLoc),b.push(super.parseImport(le))):(this.expectContextual(125,Ot.UnsupportedStatementInDeclareModule),b.push(this.flowParseDeclare(le,!0)))}this.scope.exit(),this.expect(8),this.finishNode(g,"BlockStatement");let k=null,ne=!1;return b.forEach(le=>{fs(le)?(k==="CommonJS"&&this.raise(Ot.AmbiguousDeclareModuleKind,le),k="ES"):le.type==="DeclareModuleExports"&&(ne&&this.raise(Ot.DuplicateDeclareModuleExports,le),k==="ES"&&this.raise(Ot.AmbiguousDeclareModuleKind,le),k="CommonJS",ne=!0)}),o.kind=k||"CommonJS",this.finishNode(o,"DeclareModule")}flowParseDeclareExportDeclaration(o,g){if(this.expect(82),this.eat(65))return this.match(68)||this.match(80)?o.declaration=this.flowParseDeclare(this.startNode()):(o.declaration=this.flowParseType(),this.semicolon()),o.default=!0,this.finishNode(o,"DeclareExportDeclaration");if(this.match(75)||this.isLet()||(this.isContextual(130)||this.isContextual(129))&&!g){const b=this.state.value;throw this.raise(Ot.UnsupportedDeclareExportKind,this.state.startLoc,{unsupportedExportKind:b,suggestion:Oi[b]})}if(this.match(74)||this.match(68)||this.match(80)||this.isContextual(131))return o.declaration=this.flowParseDeclare(this.startNode()),o.default=!1,this.finishNode(o,"DeclareExportDeclaration");if(this.match(55)||this.match(5)||this.isContextual(129)||this.isContextual(130)||this.isContextual(131))return o=this.parseExport(o,null),o.type==="ExportNamedDeclaration"?(o.default=!1,delete o.exportKind,this.castNodeTo(o,"DeclareExportDeclaration")):this.castNodeTo(o,"DeclareExportAllDeclaration");throw this.unexpected()}flowParseDeclareModuleExports(o){return this.next(),this.expectContextual(111),o.typeAnnotation=this.flowParseTypeAnnotation(),this.semicolon(),this.finishNode(o,"DeclareModuleExports")}flowParseDeclareTypeAlias(o){this.next();const g=this.flowParseTypeAlias(o);return this.castNodeTo(g,"DeclareTypeAlias"),g}flowParseDeclareOpaqueType(o){this.next();const g=this.flowParseOpaqueType(o,!0);return this.castNodeTo(g,"DeclareOpaqueType"),g}flowParseDeclareInterface(o){return this.next(),this.flowParseInterfaceish(o,!1),this.finishNode(o,"DeclareInterface")}flowParseInterfaceish(o,g){if(o.id=this.flowParseRestrictedIdentifier(!g,!0),this.scope.declareName(o.id.name,g?17:8201,o.id.loc.start),this.match(47)?o.typeParameters=this.flowParseTypeParameterDeclaration():o.typeParameters=null,o.extends=[],this.eat(81))do o.extends.push(this.flowParseInterfaceExtends());while(!g&&this.eat(12));if(g){if(o.implements=[],o.mixins=[],this.eatContextual(117))do o.mixins.push(this.flowParseInterfaceExtends());while(this.eat(12));if(this.eatContextual(113))do o.implements.push(this.flowParseInterfaceExtends());while(this.eat(12))}o.body=this.flowParseObjectType({allowStatic:g,allowExact:!1,allowSpread:!1,allowProto:g,allowInexact:!1})}flowParseInterfaceExtends(){const o=this.startNode();return o.id=this.flowParseQualifiedTypeIdentifier(),this.match(47)?o.typeParameters=this.flowParseTypeParameterInstantiation():o.typeParameters=null,this.finishNode(o,"InterfaceExtends")}flowParseInterface(o){return this.flowParseInterfaceish(o,!1),this.finishNode(o,"InterfaceDeclaration")}checkNotUnderscore(o){o==="_"&&this.raise(Ot.UnexpectedReservedUnderscore,this.state.startLoc)}checkReservedType(o,g,b){Jr.has(o)&&this.raise(b?Ot.AssignReservedType:Ot.UnexpectedReservedType,g,{reservedType:o})}flowParseRestrictedIdentifier(o,g){return this.checkReservedType(this.state.value,this.state.startLoc,g),this.parseIdentifier(o)}flowParseTypeAlias(o){return o.id=this.flowParseRestrictedIdentifier(!1,!0),this.scope.declareName(o.id.name,8201,o.id.loc.start),this.match(47)?o.typeParameters=this.flowParseTypeParameterDeclaration():o.typeParameters=null,o.right=this.flowParseTypeInitialiser(29),this.semicolon(),this.finishNode(o,"TypeAlias")}flowParseOpaqueType(o,g){return this.expectContextual(130),o.id=this.flowParseRestrictedIdentifier(!0,!0),this.scope.declareName(o.id.name,8201,o.id.loc.start),this.match(47)?o.typeParameters=this.flowParseTypeParameterDeclaration():o.typeParameters=null,o.supertype=null,this.match(14)&&(o.supertype=this.flowParseTypeInitialiser(14)),o.impltype=null,g||(o.impltype=this.flowParseTypeInitialiser(29)),this.semicolon(),this.finishNode(o,"OpaqueType")}flowParseTypeParameter(o=!1){const g=this.state.startLoc,b=this.startNode(),k=this.flowParseVariance(),ne=this.flowParseTypeAnnotatableIdentifier();return b.name=ne.name,b.variance=k,b.bound=ne.typeAnnotation,this.match(29)?(this.eat(29),b.default=this.flowParseType()):o&&this.raise(Ot.MissingTypeParamDefault,g),this.finishNode(b,"TypeParameter")}flowParseTypeParameterDeclaration(){const o=this.state.inType,g=this.startNode();g.params=[],this.state.inType=!0,this.match(47)||this.match(143)?this.next():this.unexpected();let b=!1;do{const k=this.flowParseTypeParameter(b);g.params.push(k),k.default&&(b=!0),this.match(48)||this.expect(12)}while(!this.match(48));return this.expect(48),this.state.inType=o,this.finishNode(g,"TypeParameterDeclaration")}flowInTopLevelContext(o){if(this.curContext()!==B.brace){const g=this.state.context;this.state.context=[g[0]];try{return o()}finally{this.state.context=g}}else return o()}flowParseTypeParameterInstantiationInExpression(){if(this.reScan_lt()===47)return this.flowParseTypeParameterInstantiation()}flowParseTypeParameterInstantiation(){const o=this.startNode(),g=this.state.inType;return this.state.inType=!0,o.params=[],this.flowInTopLevelContext(()=>{this.expect(47);const b=this.state.noAnonFunctionType;for(this.state.noAnonFunctionType=!1;!this.match(48);)o.params.push(this.flowParseType()),this.match(48)||this.expect(12);this.state.noAnonFunctionType=b}),this.state.inType=g,!this.state.inType&&this.curContext()===B.brace&&this.reScan_lt_gt(),this.expect(48),this.finishNode(o,"TypeParameterInstantiation")}flowParseTypeParameterInstantiationCallOrNew(){if(this.reScan_lt()!==47)return null;const o=this.startNode(),g=this.state.inType;for(o.params=[],this.state.inType=!0,this.expect(47);!this.match(48);)o.params.push(this.flowParseTypeOrImplicitInstantiation()),this.match(48)||this.expect(12);return this.expect(48),this.state.inType=g,this.finishNode(o,"TypeParameterInstantiation")}flowParseInterfaceType(){const o=this.startNode();if(this.expectContextual(129),o.extends=[],this.eat(81))do o.extends.push(this.flowParseInterfaceExtends());while(this.eat(12));return o.body=this.flowParseObjectType({allowStatic:!1,allowExact:!1,allowSpread:!1,allowProto:!1,allowInexact:!1}),this.finishNode(o,"InterfaceTypeAnnotation")}flowParseObjectPropertyKey(){return this.match(135)||this.match(134)?super.parseExprAtom():this.parseIdentifier(!0)}flowParseObjectTypeIndexer(o,g,b){return o.static=g,this.lookahead().type===14?(o.id=this.flowParseObjectPropertyKey(),o.key=this.flowParseTypeInitialiser()):(o.id=null,o.key=this.flowParseType()),this.expect(3),o.value=this.flowParseTypeInitialiser(),o.variance=b,this.finishNode(o,"ObjectTypeIndexer")}flowParseObjectTypeInternalSlot(o,g){return o.static=g,o.id=this.flowParseObjectPropertyKey(),this.expect(3),this.expect(3),this.match(47)||this.match(10)?(o.method=!0,o.optional=!1,o.value=this.flowParseObjectTypeMethodish(this.startNodeAt(o.loc.start))):(o.method=!1,this.eat(17)&&(o.optional=!0),o.value=this.flowParseTypeInitialiser()),this.finishNode(o,"ObjectTypeInternalSlot")}flowParseObjectTypeMethodish(o){for(o.params=[],o.rest=null,o.typeParameters=null,o.this=null,this.match(47)&&(o.typeParameters=this.flowParseTypeParameterDeclaration()),this.expect(10),this.match(78)&&(o.this=this.flowParseFunctionTypeParam(!0),o.this.name=null,this.match(11)||this.expect(12));!this.match(11)&&!this.match(21);)o.params.push(this.flowParseFunctionTypeParam(!1)),this.match(11)||this.expect(12);return this.eat(21)&&(o.rest=this.flowParseFunctionTypeParam(!1)),this.expect(11),o.returnType=this.flowParseTypeInitialiser(),this.finishNode(o,"FunctionTypeAnnotation")}flowParseObjectTypeCallProperty(o,g){const b=this.startNode();return o.static=g,o.value=this.flowParseObjectTypeMethodish(b),this.finishNode(o,"ObjectTypeCallProperty")}flowParseObjectType({allowStatic:o,allowExact:g,allowSpread:b,allowProto:k,allowInexact:ne}){const le=this.state.inType;this.state.inType=!0;const ye=this.startNode();ye.callProperties=[],ye.properties=[],ye.indexers=[],ye.internalSlots=[];let Pe,Ie,Je=!1;for(g&&this.match(6)?(this.expect(6),Pe=9,Ie=!0):(this.expect(5),Pe=8,Ie=!1),ye.exact=Ie;!this.match(Pe);){let bt=!1,Rt=null,yn=null;const Ln=this.startNode();if(k&&this.isContextual(118)){const Cn=this.lookahead();Cn.type!==14&&Cn.type!==17&&(this.next(),Rt=this.state.startLoc,o=!1)}if(o&&this.isContextual(106)){const Cn=this.lookahead();Cn.type!==14&&Cn.type!==17&&(this.next(),bt=!0)}const nn=this.flowParseVariance();if(this.eat(0))Rt!=null&&this.unexpected(Rt),this.eat(0)?(nn&&this.unexpected(nn.loc.start),ye.internalSlots.push(this.flowParseObjectTypeInternalSlot(Ln,bt))):ye.indexers.push(this.flowParseObjectTypeIndexer(Ln,bt,nn));else if(this.match(10)||this.match(47))Rt!=null&&this.unexpected(Rt),nn&&this.unexpected(nn.loc.start),ye.callProperties.push(this.flowParseObjectTypeCallProperty(Ln,bt));else{let Cn="init";if(this.isContextual(99)||this.isContextual(104)){const Os=this.lookahead();it(Os.type)&&(Cn=this.state.value,this.next())}const Hs=this.flowParseObjectTypeProperty(Ln,bt,Rt,nn,Cn,b,ne??!Ie);Hs===null?(Je=!0,yn=this.state.lastTokStartLoc):ye.properties.push(Hs)}this.flowObjectTypeSemicolon(),yn&&!this.match(8)&&!this.match(9)&&this.raise(Ot.UnexpectedExplicitInexactInObject,yn)}this.expect(Pe),b&&(ye.inexact=Je);const mt=this.finishNode(ye,"ObjectTypeAnnotation");return this.state.inType=le,mt}flowParseObjectTypeProperty(o,g,b,k,ne,le,ye){if(this.eat(21))return this.match(12)||this.match(13)||this.match(8)||this.match(9)?(le?ye||this.raise(Ot.InexactInsideExact,this.state.lastTokStartLoc):this.raise(Ot.InexactInsideNonObject,this.state.lastTokStartLoc),k&&this.raise(Ot.InexactVariance,k),null):(le||this.raise(Ot.UnexpectedSpreadType,this.state.lastTokStartLoc),b!=null&&this.unexpected(b),k&&this.raise(Ot.SpreadVariance,k),o.argument=this.flowParseType(),this.finishNode(o,"ObjectTypeSpreadProperty"));{o.key=this.flowParseObjectPropertyKey(),o.static=g,o.proto=b!=null,o.kind=ne;let Pe=!1;return this.match(47)||this.match(10)?(o.method=!0,b!=null&&this.unexpected(b),k&&this.unexpected(k.loc.start),o.value=this.flowParseObjectTypeMethodish(this.startNodeAt(o.loc.start)),(ne==="get"||ne==="set")&&this.flowCheckGetterSetterParams(o),!le&&o.key.name==="constructor"&&o.value.this&&this.raise(Ot.ThisParamBannedInConstructor,o.value.this)):(ne!=="init"&&this.unexpected(),o.method=!1,this.eat(17)&&(Pe=!0),o.value=this.flowParseTypeInitialiser(),o.variance=k),o.optional=Pe,this.finishNode(o,"ObjectTypeProperty")}}flowCheckGetterSetterParams(o){const g=o.kind==="get"?0:1,b=o.value.params.length+(o.value.rest?1:0);o.value.this&&this.raise(o.kind==="get"?Ot.GetterMayNotHaveThisParam:Ot.SetterMayNotHaveThisParam,o.value.this),b!==g&&this.raise(o.kind==="get"?S.BadGetterArity:S.BadSetterArity,o),o.kind==="set"&&o.value.rest&&this.raise(S.BadSetterRestParameter,o)}flowObjectTypeSemicolon(){!this.eat(13)&&!this.eat(12)&&!this.match(8)&&!this.match(9)&&this.unexpected()}flowParseQualifiedTypeIdentifier(o,g){o??(o=this.state.startLoc);let b=g||this.flowParseRestrictedIdentifier(!0);for(;this.eat(16);){const k=this.startNodeAt(o);k.qualification=b,k.id=this.flowParseRestrictedIdentifier(!0),b=this.finishNode(k,"QualifiedTypeIdentifier")}return b}flowParseGenericType(o,g){const b=this.startNodeAt(o);return b.typeParameters=null,b.id=this.flowParseQualifiedTypeIdentifier(o,g),this.match(47)&&(b.typeParameters=this.flowParseTypeParameterInstantiation()),this.finishNode(b,"GenericTypeAnnotation")}flowParseTypeofType(){const o=this.startNode();return this.expect(87),o.argument=this.flowParsePrimaryType(),this.finishNode(o,"TypeofTypeAnnotation")}flowParseTupleType(){const o=this.startNode();for(o.types=[],this.expect(0);this.state.pos<this.length&&!this.match(3)&&(o.types.push(this.flowParseType()),!this.match(3));)this.expect(12);return this.expect(3),this.finishNode(o,"TupleTypeAnnotation")}flowParseFunctionTypeParam(o){let g=null,b=!1,k=null;const ne=this.startNode(),le=this.lookahead(),ye=this.state.type===78;return le.type===14||le.type===17?(ye&&!o&&this.raise(Ot.ThisParamMustBeFirst,ne),g=this.parseIdentifier(ye),this.eat(17)&&(b=!0,ye&&this.raise(Ot.ThisParamMayNotBeOptional,ne)),k=this.flowParseTypeInitialiser()):k=this.flowParseType(),ne.name=g,ne.optional=b,ne.typeAnnotation=k,this.finishNode(ne,"FunctionTypeParam")}reinterpretTypeAsFunctionTypeParam(o){const g=this.startNodeAt(o.loc.start);return g.name=null,g.optional=!1,g.typeAnnotation=o,this.finishNode(g,"FunctionTypeParam")}flowParseFunctionTypeParams(o=[]){let g=null,b=null;for(this.match(78)&&(b=this.flowParseFunctionTypeParam(!0),b.name=null,this.match(11)||this.expect(12));!this.match(11)&&!this.match(21);)o.push(this.flowParseFunctionTypeParam(!1)),this.match(11)||this.expect(12);return this.eat(21)&&(g=this.flowParseFunctionTypeParam(!1)),{params:o,rest:g,_this:b}}flowIdentToTypeAnnotation(o,g,b){switch(b.name){case"any":return this.finishNode(g,"AnyTypeAnnotation");case"bool":case"boolean":return this.finishNode(g,"BooleanTypeAnnotation");case"mixed":return this.finishNode(g,"MixedTypeAnnotation");case"empty":return this.finishNode(g,"EmptyTypeAnnotation");case"number":return this.finishNode(g,"NumberTypeAnnotation");case"string":return this.finishNode(g,"StringTypeAnnotation");case"symbol":return this.finishNode(g,"SymbolTypeAnnotation");default:return this.checkNotUnderscore(b.name),this.flowParseGenericType(o,b)}}flowParsePrimaryType(){const o=this.state.startLoc,g=this.startNode();let b,k,ne=!1;const le=this.state.noAnonFunctionType;switch(this.state.type){case 5:return this.flowParseObjectType({allowStatic:!1,allowExact:!1,allowSpread:!0,allowProto:!1,allowInexact:!0});case 6:return this.flowParseObjectType({allowStatic:!1,allowExact:!0,allowSpread:!0,allowProto:!1,allowInexact:!1});case 0:return this.state.noAnonFunctionType=!1,k=this.flowParseTupleType(),this.state.noAnonFunctionType=le,k;case 47:{const ye=this.startNode();return ye.typeParameters=this.flowParseTypeParameterDeclaration(),this.expect(10),b=this.flowParseFunctionTypeParams(),ye.params=b.params,ye.rest=b.rest,ye.this=b._this,this.expect(11),this.expect(19),ye.returnType=this.flowParseType(),this.finishNode(ye,"FunctionTypeAnnotation")}case 10:{const ye=this.startNode();if(this.next(),!this.match(11)&&!this.match(21))if(Ue(this.state.type)||this.match(78)){const Pe=this.lookahead().type;ne=Pe!==17&&Pe!==14}else ne=!0;if(ne){if(this.state.noAnonFunctionType=!1,k=this.flowParseType(),this.state.noAnonFunctionType=le,this.state.noAnonFunctionType||!(this.match(12)||this.match(11)&&this.lookahead().type===19))return this.expect(11),k;this.eat(12)}return k?b=this.flowParseFunctionTypeParams([this.reinterpretTypeAsFunctionTypeParam(k)]):b=this.flowParseFunctionTypeParams(),ye.params=b.params,ye.rest=b.rest,ye.this=b._this,this.expect(11),this.expect(19),ye.returnType=this.flowParseType(),ye.typeParameters=null,this.finishNode(ye,"FunctionTypeAnnotation")}case 134:return this.parseLiteral(this.state.value,"StringLiteralTypeAnnotation");case 85:case 86:return g.value=this.match(85),this.next(),this.finishNode(g,"BooleanLiteralTypeAnnotation");case 53:if(this.state.value==="-"){if(this.next(),this.match(135))return this.parseLiteralAtNode(-this.state.value,"NumberLiteralTypeAnnotation",g);if(this.match(136))return this.parseLiteralAtNode(-this.state.value,"BigIntLiteralTypeAnnotation",g);throw this.raise(Ot.UnexpectedSubtractionOperand,this.state.startLoc)}throw this.unexpected();case 135:return this.parseLiteral(this.state.value,"NumberLiteralTypeAnnotation");case 136:return this.parseLiteral(this.state.value,"BigIntLiteralTypeAnnotation");case 88:return this.next(),this.finishNode(g,"VoidTypeAnnotation");case 84:return this.next(),this.finishNode(g,"NullLiteralTypeAnnotation");case 78:return this.next(),this.finishNode(g,"ThisTypeAnnotation");case 55:return this.next(),this.finishNode(g,"ExistsTypeAnnotation");case 87:return this.flowParseTypeofType();default:if(rt(this.state.type)){const ye=Fe(this.state.type);return this.next(),super.createIdentifier(g,ye)}else if(Ue(this.state.type))return this.isContextual(129)?this.flowParseInterfaceType():this.flowIdentToTypeAnnotation(o,g,this.parseIdentifier())}throw this.unexpected()}flowParsePostfixType(){const o=this.state.startLoc;let g=this.flowParsePrimaryType(),b=!1;for(;(this.match(0)||this.match(18))&&!this.canInsertSemicolon();){const k=this.startNodeAt(o),ne=this.eat(18);b=b||ne,this.expect(0),!ne&&this.match(3)?(k.elementType=g,this.next(),g=this.finishNode(k,"ArrayTypeAnnotation")):(k.objectType=g,k.indexType=this.flowParseType(),this.expect(3),b?(k.optional=ne,g=this.finishNode(k,"OptionalIndexedAccessType")):g=this.finishNode(k,"IndexedAccessType"))}return g}flowParsePrefixType(){const o=this.startNode();return this.eat(17)?(o.typeAnnotation=this.flowParsePrefixType(),this.finishNode(o,"NullableTypeAnnotation")):this.flowParsePostfixType()}flowParseAnonFunctionWithoutParens(){const o=this.flowParsePrefixType();if(!this.state.noAnonFunctionType&&this.eat(19)){const g=this.startNodeAt(o.loc.start);return g.params=[this.reinterpretTypeAsFunctionTypeParam(o)],g.rest=null,g.this=null,g.returnType=this.flowParseType(),g.typeParameters=null,this.finishNode(g,"FunctionTypeAnnotation")}return o}flowParseIntersectionType(){const o=this.startNode();this.eat(45);const g=this.flowParseAnonFunctionWithoutParens();for(o.types=[g];this.eat(45);)o.types.push(this.flowParseAnonFunctionWithoutParens());return o.types.length===1?g:this.finishNode(o,"IntersectionTypeAnnotation")}flowParseUnionType(){const o=this.startNode();this.eat(43);const g=this.flowParseIntersectionType();for(o.types=[g];this.eat(43);)o.types.push(this.flowParseIntersectionType());return o.types.length===1?g:this.finishNode(o,"UnionTypeAnnotation")}flowParseType(){const o=this.state.inType;this.state.inType=!0;const g=this.flowParseUnionType();return this.state.inType=o,g}flowParseTypeOrImplicitInstantiation(){if(this.state.type===132&&this.state.value==="_"){const o=this.state.startLoc,g=this.parseIdentifier();return this.flowParseGenericType(o,g)}else return this.flowParseType()}flowParseTypeAnnotation(){const o=this.startNode();return o.typeAnnotation=this.flowParseTypeInitialiser(),this.finishNode(o,"TypeAnnotation")}flowParseTypeAnnotatableIdentifier(o){const g=o?this.parseIdentifier():this.flowParseRestrictedIdentifier();return this.match(14)&&(g.typeAnnotation=this.flowParseTypeAnnotation(),this.resetEndLocation(g)),g}typeCastToParameter(o){return o.expression.typeAnnotation=o.typeAnnotation,this.resetEndLocation(o.expression,o.typeAnnotation.loc.end),o.expression}flowParseVariance(){let o=null;return this.match(53)?(o=this.startNode(),this.state.value==="+"?o.kind="plus":o.kind="minus",this.next(),this.finishNode(o,"Variance")):o}parseFunctionBody(o,g,b=!1){if(g){this.forwardNoArrowParamsConversionAt(o,()=>super.parseFunctionBody(o,!0,b));return}super.parseFunctionBody(o,!1,b)}parseFunctionBodyAndFinish(o,g,b=!1){if(this.match(14)){const k=this.startNode();[k.typeAnnotation,o.predicate]=this.flowParseTypeAndPredicateInitialiser(),o.returnType=k.typeAnnotation?this.finishNode(k,"TypeAnnotation"):null}return super.parseFunctionBodyAndFinish(o,g,b)}parseStatementLike(o){if(this.state.strict&&this.isContextual(129)){const b=this.lookahead();if(Ze(b.type)){const k=this.startNode();return this.next(),this.flowParseInterface(k)}}else if(this.isContextual(126)){const b=this.startNode();return this.next(),this.flowParseEnumDeclaration(b)}const g=super.parseStatementLike(o);return this.flowPragma===void 0&&!this.isValidDirective(g)&&(this.flowPragma=null),g}parseExpressionStatement(o,g,b){if(g.type==="Identifier"){if(g.name==="declare"){if(this.match(80)||Ue(this.state.type)||this.match(68)||this.match(74)||this.match(82))return this.flowParseDeclare(o)}else if(Ue(this.state.type)){if(g.name==="interface")return this.flowParseInterface(o);if(g.name==="type")return this.flowParseTypeAlias(o);if(g.name==="opaque")return this.flowParseOpaqueType(o,!1)}}return super.parseExpressionStatement(o,g,b)}shouldParseExportDeclaration(){const{type:o}=this.state;return o===126||Ye(o)?!this.state.containsEsc:super.shouldParseExportDeclaration()}isExportDefaultSpecifier(){const{type:o}=this.state;return o===126||Ye(o)?this.state.containsEsc:super.isExportDefaultSpecifier()}parseExportDefaultExpression(){if(this.isContextual(126)){const o=this.startNode();return this.next(),this.flowParseEnumDeclaration(o)}return super.parseExportDefaultExpression()}parseConditional(o,g,b){if(!this.match(17))return o;if(this.state.maybeInArrowParameters){const mt=this.lookaheadCharCode();if(mt===44||mt===61||mt===58||mt===41)return this.setOptionalParametersError(b),o}this.expect(17);const k=this.state.clone(),ne=this.state.noArrowAt,le=this.startNodeAt(g);let{consequent:ye,failed:Pe}=this.tryParseConditionalConsequent(),[Ie,Je]=this.getArrowLikeExpressions(ye);if(Pe||Je.length>0){const mt=[...ne];if(Je.length>0){this.state=k,this.state.noArrowAt=mt;for(let bt=0;bt<Je.length;bt++)mt.push(Je[bt].start);({consequent:ye,failed:Pe}=this.tryParseConditionalConsequent()),[Ie,Je]=this.getArrowLikeExpressions(ye)}Pe&&Ie.length>1&&this.raise(Ot.AmbiguousConditionalArrow,k.startLoc),Pe&&Ie.length===1&&(this.state=k,mt.push(Ie[0].start),this.state.noArrowAt=mt,{consequent:ye,failed:Pe}=this.tryParseConditionalConsequent())}return this.getArrowLikeExpressions(ye,!0),this.state.noArrowAt=ne,this.expect(14),le.test=o,le.consequent=ye,le.alternate=this.forwardNoArrowParamsConversionAt(le,()=>this.parseMaybeAssign(void 0,void 0)),this.finishNode(le,"ConditionalExpression")}tryParseConditionalConsequent(){this.state.noArrowParamsConversionAt.push(this.state.start);const o=this.parseMaybeAssignAllowIn(),g=!this.match(14);return this.state.noArrowParamsConversionAt.pop(),{consequent:o,failed:g}}getArrowLikeExpressions(o,g){const b=[o],k=[];for(;b.length!==0;){const ne=b.pop();ne.type==="ArrowFunctionExpression"&&ne.body.type!=="BlockStatement"?(ne.typeParameters||!ne.returnType?this.finishArrowValidation(ne):k.push(ne),b.push(ne.body)):ne.type==="ConditionalExpression"&&(b.push(ne.consequent),b.push(ne.alternate))}return g?(k.forEach(ne=>this.finishArrowValidation(ne)),[k,[]]):ai(k,ne=>ne.params.every(le=>this.isAssignable(le,!0)))}finishArrowValidation(o){var g;this.toAssignableList(o.params,(g=o.extra)==null?void 0:g.trailingCommaLoc,!1),this.scope.enter(518),super.checkParams(o,!1,!0),this.scope.exit()}forwardNoArrowParamsConversionAt(o,g){let b;return this.state.noArrowParamsConversionAt.includes(this.offsetToSourcePos(o.start))?(this.state.noArrowParamsConversionAt.push(this.state.start),b=g(),this.state.noArrowParamsConversionAt.pop()):b=g(),b}parseParenItem(o,g){const b=super.parseParenItem(o,g);if(this.eat(17)&&(b.optional=!0,this.resetEndLocation(o)),this.match(14)){const k=this.startNodeAt(g);return k.expression=b,k.typeAnnotation=this.flowParseTypeAnnotation(),this.finishNode(k,"TypeCastExpression")}return b}assertModuleNodeAllowed(o){o.type==="ImportDeclaration"&&(o.importKind==="type"||o.importKind==="typeof")||o.type==="ExportNamedDeclaration"&&o.exportKind==="type"||o.type==="ExportAllDeclaration"&&o.exportKind==="type"||super.assertModuleNodeAllowed(o)}parseExportDeclaration(o){if(this.isContextual(130)){o.exportKind="type";const g=this.startNode();return this.next(),this.match(5)?(o.specifiers=this.parseExportSpecifiers(!0),super.parseExportFrom(o),null):this.flowParseTypeAlias(g)}else if(this.isContextual(131)){o.exportKind="type";const g=this.startNode();return this.next(),this.flowParseOpaqueType(g,!1)}else if(this.isContextual(129)){o.exportKind="type";const g=this.startNode();return this.next(),this.flowParseInterface(g)}else if(this.isContextual(126)){o.exportKind="value";const g=this.startNode();return this.next(),this.flowParseEnumDeclaration(g)}else return super.parseExportDeclaration(o)}eatExportStar(o){return super.eatExportStar(o)?!0:this.isContextual(130)&&this.lookahead().type===55?(o.exportKind="type",this.next(),this.next(),!0):!1}maybeParseExportNamespaceSpecifier(o){const{startLoc:g}=this.state,b=super.maybeParseExportNamespaceSpecifier(o);return b&&o.exportKind==="type"&&this.unexpected(g),b}parseClassId(o,g,b){super.parseClassId(o,g,b),this.match(47)&&(o.typeParameters=this.flowParseTypeParameterDeclaration())}parseClassMember(o,g,b){const{startLoc:k}=this.state;if(this.isContextual(125)){if(super.parseClassMemberFromModifier(o,g))return;g.declare=!0}super.parseClassMember(o,g,b),g.declare&&(g.type!=="ClassProperty"&&g.type!=="ClassPrivateProperty"&&g.type!=="PropertyDefinition"?this.raise(Ot.DeclareClassElement,k):g.value&&this.raise(Ot.DeclareClassFieldInitializer,g.value))}isIterator(o){return o==="iterator"||o==="asyncIterator"}readIterator(){const o=super.readWord1(),g="@@"+o;(!this.isIterator(o)||!this.state.inType)&&this.raise(S.InvalidIdentifier,this.state.curPosition(),{identifierName:g}),this.finishToken(132,g)}getTokenFromCode(o){const g=this.input.charCodeAt(this.state.pos+1);o===123&&g===124?this.finishOp(6,2):this.state.inType&&(o===62||o===60)?this.finishOp(o===62?48:47,1):this.state.inType&&o===63?g===46?this.finishOp(18,2):this.finishOp(17,1):_n(o,g,this.input.charCodeAt(this.state.pos+2))?(this.state.pos+=2,this.readIterator()):super.getTokenFromCode(o)}isAssignable(o,g){return o.type==="TypeCastExpression"?this.isAssignable(o.expression,g):super.isAssignable(o,g)}toAssignable(o,g=!1){!g&&o.type==="AssignmentExpression"&&o.left.type==="TypeCastExpression"&&(o.left=this.typeCastToParameter(o.left)),super.toAssignable(o,g)}toAssignableList(o,g,b){for(let k=0;k<o.length;k++){const ne=o[k];ne?.type==="TypeCastExpression"&&(o[k]=this.typeCastToParameter(ne))}super.toAssignableList(o,g,b)}toReferencedList(o,g){for(let k=0;k<o.length;k++){var b;const ne=o[k];ne&&ne.type==="TypeCastExpression"&&!((b=ne.extra)!=null&&b.parenthesized)&&(o.length>1||!g)&&this.raise(Ot.TypeCastInPattern,ne.typeAnnotation)}return o}parseArrayLike(o,g,b){const k=super.parseArrayLike(o,g,b);return b!=null&&!this.state.maybeInArrowParameters&&this.toReferencedList(k.elements),k}isValidLVal(o,g,b,k){return o==="TypeCastExpression"||super.isValidLVal(o,g,b,k)}parseClassProperty(o){return this.match(14)&&(o.typeAnnotation=this.flowParseTypeAnnotation()),super.parseClassProperty(o)}parseClassPrivateProperty(o){return this.match(14)&&(o.typeAnnotation=this.flowParseTypeAnnotation()),super.parseClassPrivateProperty(o)}isClassMethod(){return this.match(47)||super.isClassMethod()}isClassProperty(){return this.match(14)||super.isClassProperty()}isNonstaticConstructor(o){return!this.match(14)&&super.isNonstaticConstructor(o)}pushClassMethod(o,g,b,k,ne,le){if(g.variance&&this.unexpected(g.variance.loc.start),delete g.variance,this.match(47)&&(g.typeParameters=this.flowParseTypeParameterDeclaration()),super.pushClassMethod(o,g,b,k,ne,le),g.params&&ne){const ye=g.params;ye.length>0&&this.isThisParam(ye[0])&&this.raise(Ot.ThisParamBannedInConstructor,g)}else if(g.type==="MethodDefinition"&&ne&&g.value.params){const ye=g.value.params;ye.length>0&&this.isThisParam(ye[0])&&this.raise(Ot.ThisParamBannedInConstructor,g)}}pushClassPrivateMethod(o,g,b,k){g.variance&&this.unexpected(g.variance.loc.start),delete g.variance,this.match(47)&&(g.typeParameters=this.flowParseTypeParameterDeclaration()),super.pushClassPrivateMethod(o,g,b,k)}parseClassSuper(o){if(super.parseClassSuper(o),o.superClass&&(this.match(47)||this.match(51))&&(o.superTypeParameters=this.flowParseTypeParameterInstantiationInExpression()),this.isContextual(113)){this.next();const g=o.implements=[];do{const b=this.startNode();b.id=this.flowParseRestrictedIdentifier(!0),this.match(47)?b.typeParameters=this.flowParseTypeParameterInstantiation():b.typeParameters=null,g.push(this.finishNode(b,"ClassImplements"))}while(this.eat(12))}}checkGetterSetterParams(o){super.checkGetterSetterParams(o);const g=this.getObjectOrClassMethodParams(o);if(g.length>0){const b=g[0];this.isThisParam(b)&&o.kind==="get"?this.raise(Ot.GetterMayNotHaveThisParam,b):this.isThisParam(b)&&this.raise(Ot.SetterMayNotHaveThisParam,b)}}parsePropertyNamePrefixOperator(o){o.variance=this.flowParseVariance()}parseObjPropValue(o,g,b,k,ne,le,ye){o.variance&&this.unexpected(o.variance.loc.start),delete o.variance;let Pe;this.match(47)&&!le&&(Pe=this.flowParseTypeParameterDeclaration(),this.match(10)||this.unexpected());const Ie=super.parseObjPropValue(o,g,b,k,ne,le,ye);return Pe&&((Ie.value||Ie).typeParameters=Pe),Ie}parseFunctionParamType(o){return this.eat(17)&&(o.type!=="Identifier"&&this.raise(Ot.PatternIsOptional,o),this.isThisParam(o)&&this.raise(Ot.ThisParamMayNotBeOptional,o),o.optional=!0),this.match(14)?o.typeAnnotation=this.flowParseTypeAnnotation():this.isThisParam(o)&&this.raise(Ot.ThisParamAnnotationRequired,o),this.match(29)&&this.isThisParam(o)&&this.raise(Ot.ThisParamNoDefault,o),this.resetEndLocation(o),o}parseMaybeDefault(o,g){const b=super.parseMaybeDefault(o,g);return b.type==="AssignmentPattern"&&b.typeAnnotation&&b.right.start<b.typeAnnotation.start&&this.raise(Ot.TypeBeforeInitializer,b.typeAnnotation),b}checkImportReflection(o){super.checkImportReflection(o),o.module&&o.importKind!=="value"&&this.raise(Ot.ImportReflectionHasImportType,o.specifiers[0].loc.start)}parseImportSpecifierLocal(o,g,b){g.local=qs(o)?this.flowParseRestrictedIdentifier(!0,!0):this.parseIdentifier(),o.specifiers.push(this.finishImportSpecifier(g,b))}isPotentialImportPhase(o){if(super.isPotentialImportPhase(o))return!0;if(this.isContextual(130)){if(!o)return!0;const g=this.lookaheadCharCode();return g===123||g===42}return!o&&this.isContextual(87)}applyImportPhase(o,g,b,k){if(super.applyImportPhase(o,g,b,k),g){if(!b&&this.match(65))return;o.exportKind=b==="type"?b:"value"}else b==="type"&&this.match(55)&&this.unexpected(),o.importKind=b==="type"||b==="typeof"?b:"value"}parseImportSpecifier(o,g,b,k,ne){const le=o.imported;let ye=null;le.type==="Identifier"&&(le.name==="type"?ye="type":le.name==="typeof"&&(ye="typeof"));let Pe=!1;if(this.isContextual(93)&&!this.isLookaheadContextual("as")){const Je=this.parseIdentifier(!0);ye!==null&&!Ze(this.state.type)?(o.imported=Je,o.importKind=ye,o.local=this.cloneIdentifier(Je)):(o.imported=le,o.importKind=null,o.local=this.parseIdentifier())}else{if(ye!==null&&Ze(this.state.type))o.imported=this.parseIdentifier(!0),o.importKind=ye;else{if(g)throw this.raise(S.ImportBindingIsString,o,{importName:le.value});o.imported=le,o.importKind=null}this.eatContextual(93)?o.local=this.parseIdentifier():(Pe=!0,o.local=this.cloneIdentifier(o.imported))}const Ie=qs(o);return b&&Ie&&this.raise(Ot.ImportTypeShorthandOnlyInPureImport,o),(b||Ie)&&this.checkReservedType(o.local.name,o.local.loc.start,!0),Pe&&!b&&!Ie&&this.checkReservedWord(o.local.name,o.loc.start,!0,!0),this.finishImportSpecifier(o,"ImportSpecifier")}parseBindingAtom(){switch(this.state.type){case 78:return this.parseIdentifier(!0);default:return super.parseBindingAtom()}}parseFunctionParams(o,g){const b=o.kind;b!=="get"&&b!=="set"&&this.match(47)&&(o.typeParameters=this.flowParseTypeParameterDeclaration()),super.parseFunctionParams(o,g)}parseVarId(o,g){super.parseVarId(o,g),this.match(14)&&(o.id.typeAnnotation=this.flowParseTypeAnnotation(),this.resetEndLocation(o.id))}parseAsyncArrowFromCallExpression(o,g){if(this.match(14)){const b=this.state.noAnonFunctionType;this.state.noAnonFunctionType=!0,o.returnType=this.flowParseTypeAnnotation(),this.state.noAnonFunctionType=b}return super.parseAsyncArrowFromCallExpression(o,g)}shouldParseAsyncArrow(){return this.match(14)||super.shouldParseAsyncArrow()}parseMaybeAssign(o,g){var b;let k=null,ne;if(this.hasPlugin("jsx")&&(this.match(143)||this.match(47))){if(k=this.state.clone(),ne=this.tryParse(()=>super.parseMaybeAssign(o,g),k),!ne.error)return ne.node;const{context:Pe}=this.state,Ie=Pe[Pe.length-1];(Ie===B.j_oTag||Ie===B.j_expr)&&Pe.pop()}if((b=ne)!=null&&b.error||this.match(47)){var le,ye;k=k||this.state.clone();let Pe;const Ie=this.tryParse(mt=>{var bt;Pe=this.flowParseTypeParameterDeclaration();const Rt=this.forwardNoArrowParamsConversionAt(Pe,()=>{const Ln=super.parseMaybeAssign(o,g);return this.resetStartLocationFromNode(Ln,Pe),Ln});(bt=Rt.extra)!=null&&bt.parenthesized&&mt();const yn=this.maybeUnwrapTypeCastExpression(Rt);return yn.type!=="ArrowFunctionExpression"&&mt(),yn.typeParameters=Pe,this.resetStartLocationFromNode(yn,Pe),Rt},k);let Je=null;if(Ie.node&&this.maybeUnwrapTypeCastExpression(Ie.node).type==="ArrowFunctionExpression"){if(!Ie.error&&!Ie.aborted)return Ie.node.async&&this.raise(Ot.UnexpectedTypeParameterBeforeAsyncArrowFunction,Pe),Ie.node;Je=Ie.node}if((le=ne)!=null&&le.node)return this.state=ne.failState,ne.node;if(Je)return this.state=Ie.failState,Je;throw(ye=ne)!=null&&ye.thrown?ne.error:Ie.thrown?Ie.error:this.raise(Ot.UnexpectedTokenAfterTypeParameter,Pe)}return super.parseMaybeAssign(o,g)}parseArrow(o){if(this.match(14)){const g=this.tryParse(()=>{const b=this.state.noAnonFunctionType;this.state.noAnonFunctionType=!0;const k=this.startNode();return[k.typeAnnotation,o.predicate]=this.flowParseTypeAndPredicateInitialiser(),this.state.noAnonFunctionType=b,this.canInsertSemicolon()&&this.unexpected(),this.match(19)||this.unexpected(),k});if(g.thrown)return null;g.error&&(this.state=g.failState),o.returnType=g.node.typeAnnotation?this.finishNode(g.node,"TypeAnnotation"):null}return super.parseArrow(o)}shouldParseArrow(o){return this.match(14)||super.shouldParseArrow(o)}setArrowFunctionParameters(o,g){this.state.noArrowParamsConversionAt.includes(this.offsetToSourcePos(o.start))?o.params=g:super.setArrowFunctionParameters(o,g)}checkParams(o,g,b,k=!0){if(!(b&&this.state.noArrowParamsConversionAt.includes(this.offsetToSourcePos(o.start)))){for(let ne=0;ne<o.params.length;ne++)this.isThisParam(o.params[ne])&&ne>0&&this.raise(Ot.ThisParamMustBeFirst,o.params[ne]);super.checkParams(o,g,b,k)}}parseParenAndDistinguishExpression(o){return super.parseParenAndDistinguishExpression(o&&!this.state.noArrowAt.includes(this.sourceToOffsetPos(this.state.start)))}parseSubscripts(o,g,b){if(o.type==="Identifier"&&o.name==="async"&&this.state.noArrowAt.includes(g.index)){this.next();const k=this.startNodeAt(g);k.callee=o,k.arguments=super.parseCallExpressionArguments(),o=this.finishNode(k,"CallExpression")}else if(o.type==="Identifier"&&o.name==="async"&&this.match(47)){const k=this.state.clone(),ne=this.tryParse(ye=>this.parseAsyncArrowWithTypeParameters(g)||ye(),k);if(!ne.error&&!ne.aborted)return ne.node;const le=this.tryParse(()=>super.parseSubscripts(o,g,b),k);if(le.node&&!le.error)return le.node;if(ne.node)return this.state=ne.failState,ne.node;if(le.node)return this.state=le.failState,le.node;throw ne.error||le.error}return super.parseSubscripts(o,g,b)}parseSubscript(o,g,b,k){if(this.match(18)&&this.isLookaheadToken_lt()){if(k.optionalChainMember=!0,b)return k.stop=!0,o;this.next();const ne=this.startNodeAt(g);return ne.callee=o,ne.typeArguments=this.flowParseTypeParameterInstantiationInExpression(),this.expect(10),ne.arguments=this.parseCallExpressionArguments(),ne.optional=!0,this.finishCallExpression(ne,!0)}else if(!b&&this.shouldParseTypes()&&(this.match(47)||this.match(51))){const ne=this.startNodeAt(g);ne.callee=o;const le=this.tryParse(()=>(ne.typeArguments=this.flowParseTypeParameterInstantiationCallOrNew(),this.expect(10),ne.arguments=super.parseCallExpressionArguments(),k.optionalChainMember&&(ne.optional=!1),this.finishCallExpression(ne,k.optionalChainMember)));if(le.node)return le.error&&(this.state=le.failState),le.node}return super.parseSubscript(o,g,b,k)}parseNewCallee(o){super.parseNewCallee(o);let g=null;this.shouldParseTypes()&&this.match(47)&&(g=this.tryParse(()=>this.flowParseTypeParameterInstantiationCallOrNew()).node),o.typeArguments=g}parseAsyncArrowWithTypeParameters(o){const g=this.startNodeAt(o);if(this.parseFunctionParams(g,!1),!!this.parseArrow(g))return super.parseArrowExpression(g,void 0,!0)}readToken_mult_modulo(o){const g=this.input.charCodeAt(this.state.pos+1);if(o===42&&g===47&&this.state.hasFlowComment){this.state.hasFlowComment=!1,this.state.pos+=2,this.nextToken();return}super.readToken_mult_modulo(o)}readToken_pipe_amp(o){const g=this.input.charCodeAt(this.state.pos+1);if(o===124&&g===125){this.finishOp(9,2);return}super.readToken_pipe_amp(o)}parseTopLevel(o,g){const b=super.parseTopLevel(o,g);return this.state.hasFlowComment&&this.raise(Ot.UnterminatedFlowComment,this.state.curPosition()),b}skipBlockComment(){if(this.hasPlugin("flowComments")&&this.skipFlowComment()){if(this.state.hasFlowComment)throw this.raise(Ot.NestedFlowComment,this.state.startLoc);this.hasFlowCommentCompletion();const o=this.skipFlowComment();o&&(this.state.pos+=o,this.state.hasFlowComment=!0);return}return super.skipBlockComment(this.state.hasFlowComment?"*-/":"*/")}skipFlowComment(){const{pos:o}=this.state;let g=2;for(;[32,9].includes(this.input.charCodeAt(o+g));)g++;const b=this.input.charCodeAt(g+o),k=this.input.charCodeAt(g+o+1);return b===58&&k===58?g+2:this.input.slice(g+o,g+o+12)==="flow-include"?g+12:b===58&&k!==58?g:!1}hasFlowCommentCompletion(){if(this.input.indexOf("*/",this.state.pos)===-1)throw this.raise(S.UnterminatedComment,this.state.curPosition())}flowEnumErrorBooleanMemberNotInitialized(o,{enumName:g,memberName:b}){this.raise(Ot.EnumBooleanMemberNotInitialized,o,{memberName:b,enumName:g})}flowEnumErrorInvalidMemberInitializer(o,g){return this.raise(g.explicitType?g.explicitType==="symbol"?Ot.EnumInvalidMemberInitializerSymbolType:Ot.EnumInvalidMemberInitializerPrimaryType:Ot.EnumInvalidMemberInitializerUnknownType,o,g)}flowEnumErrorNumberMemberNotInitialized(o,g){this.raise(Ot.EnumNumberMemberNotInitialized,o,g)}flowEnumErrorStringMemberInconsistentlyInitialized(o,g){this.raise(Ot.EnumStringMemberInconsistentlyInitialized,o,g)}flowEnumMemberInit(){const o=this.state.startLoc,g=()=>this.match(12)||this.match(8);switch(this.state.type){case 135:{const b=this.parseNumericLiteral(this.state.value);return g()?{type:"number",loc:b.loc.start,value:b}:{type:"invalid",loc:o}}case 134:{const b=this.parseStringLiteral(this.state.value);return g()?{type:"string",loc:b.loc.start,value:b}:{type:"invalid",loc:o}}case 85:case 86:{const b=this.parseBooleanLiteral(this.match(85));return g()?{type:"boolean",loc:b.loc.start,value:b}:{type:"invalid",loc:o}}default:return{type:"invalid",loc:o}}}flowEnumMemberRaw(){const o=this.state.startLoc,g=this.parseIdentifier(!0),b=this.eat(29)?this.flowEnumMemberInit():{type:"none",loc:o};return{id:g,init:b}}flowEnumCheckExplicitTypeMismatch(o,g,b){const{explicitType:k}=g;k!==null&&k!==b&&this.flowEnumErrorInvalidMemberInitializer(o,g)}flowEnumMembers({enumName:o,explicitType:g}){const b=new Set,k={booleanMembers:[],numberMembers:[],stringMembers:[],defaultedMembers:[]};let ne=!1;for(;!this.match(8);){if(this.eat(21)){ne=!0;break}const le=this.startNode(),{id:ye,init:Pe}=this.flowEnumMemberRaw(),Ie=ye.name;if(Ie==="")continue;/^[a-z]/.test(Ie)&&this.raise(Ot.EnumInvalidMemberName,ye,{memberName:Ie,suggestion:Ie[0].toUpperCase()+Ie.slice(1),enumName:o}),b.has(Ie)&&this.raise(Ot.EnumDuplicateMemberName,ye,{memberName:Ie,enumName:o}),b.add(Ie);const Je={enumName:o,explicitType:g,memberName:Ie};switch(le.id=ye,Pe.type){case"boolean":{this.flowEnumCheckExplicitTypeMismatch(Pe.loc,Je,"boolean"),le.init=Pe.value,k.booleanMembers.push(this.finishNode(le,"EnumBooleanMember"));break}case"number":{this.flowEnumCheckExplicitTypeMismatch(Pe.loc,Je,"number"),le.init=Pe.value,k.numberMembers.push(this.finishNode(le,"EnumNumberMember"));break}case"string":{this.flowEnumCheckExplicitTypeMismatch(Pe.loc,Je,"string"),le.init=Pe.value,k.stringMembers.push(this.finishNode(le,"EnumStringMember"));break}case"invalid":throw this.flowEnumErrorInvalidMemberInitializer(Pe.loc,Je);case"none":switch(g){case"boolean":this.flowEnumErrorBooleanMemberNotInitialized(Pe.loc,Je);break;case"number":this.flowEnumErrorNumberMemberNotInitialized(Pe.loc,Je);break;default:k.defaultedMembers.push(this.finishNode(le,"EnumDefaultedMember"))}}this.match(8)||this.expect(12)}return{members:k,hasUnknownMembers:ne}}flowEnumStringMembers(o,g,{enumName:b}){if(o.length===0)return g;if(g.length===0)return o;if(g.length>o.length){for(const k of o)this.flowEnumErrorStringMemberInconsistentlyInitialized(k,{enumName:b});return g}else{for(const k of g)this.flowEnumErrorStringMemberInconsistentlyInitialized(k,{enumName:b});return o}}flowEnumParseExplicitType({enumName:o}){if(!this.eatContextual(102))return null;if(!Ue(this.state.type))throw this.raise(Ot.EnumInvalidExplicitTypeUnknownSupplied,this.state.startLoc,{enumName:o});const{value:g}=this.state;return this.next(),g!=="boolean"&&g!=="number"&&g!=="string"&&g!=="symbol"&&this.raise(Ot.EnumInvalidExplicitType,this.state.startLoc,{enumName:o,invalidEnumType:g}),g}flowEnumBody(o,g){const b=g.name,k=g.loc.start,ne=this.flowEnumParseExplicitType({enumName:b});this.expect(5);const{members:le,hasUnknownMembers:ye}=this.flowEnumMembers({enumName:b,explicitType:ne});switch(o.hasUnknownMembers=ye,ne){case"boolean":return o.explicitType=!0,o.members=le.booleanMembers,this.expect(8),this.finishNode(o,"EnumBooleanBody");case"number":return o.explicitType=!0,o.members=le.numberMembers,this.expect(8),this.finishNode(o,"EnumNumberBody");case"string":return o.explicitType=!0,o.members=this.flowEnumStringMembers(le.stringMembers,le.defaultedMembers,{enumName:b}),this.expect(8),this.finishNode(o,"EnumStringBody");case"symbol":return o.members=le.defaultedMembers,this.expect(8),this.finishNode(o,"EnumSymbolBody");default:{const Pe=()=>(o.members=[],this.expect(8),this.finishNode(o,"EnumStringBody"));o.explicitType=!1;const Ie=le.booleanMembers.length,Je=le.numberMembers.length,mt=le.stringMembers.length,bt=le.defaultedMembers.length;if(!Ie&&!Je&&!mt&&!bt)return Pe();if(!Ie&&!Je)return o.members=this.flowEnumStringMembers(le.stringMembers,le.defaultedMembers,{enumName:b}),this.expect(8),this.finishNode(o,"EnumStringBody");if(!Je&&!mt&&Ie>=bt){for(const Rt of le.defaultedMembers)this.flowEnumErrorBooleanMemberNotInitialized(Rt.loc.start,{enumName:b,memberName:Rt.id.name});return o.members=le.booleanMembers,this.expect(8),this.finishNode(o,"EnumBooleanBody")}else if(!Ie&&!mt&&Je>=bt){for(const Rt of le.defaultedMembers)this.flowEnumErrorNumberMemberNotInitialized(Rt.loc.start,{enumName:b,memberName:Rt.id.name});return o.members=le.numberMembers,this.expect(8),this.finishNode(o,"EnumNumberBody")}else return this.raise(Ot.EnumInconsistentMemberValues,k,{enumName:b}),Pe()}}}flowParseEnumDeclaration(o){const g=this.parseIdentifier();return o.id=g,o.body=this.flowEnumBody(this.startNode(),g),this.finishNode(o,"EnumDeclaration")}jsxParseOpeningElementAfterName(o){return this.shouldParseTypes()&&(this.match(47)||this.match(51))&&(o.typeArguments=this.flowParseTypeParameterInstantiationInExpression()),super.jsxParseOpeningElementAfterName(o)}isLookaheadToken_lt(){const o=this.nextTokenStart();if(this.input.charCodeAt(o)===60){const g=this.input.charCodeAt(o+1);return g!==60&&g!==61}return!1}reScan_lt_gt(){const{type:o}=this.state;o===47?(this.state.pos-=1,this.readToken_lt()):o===48&&(this.state.pos-=1,this.readToken_gt())}reScan_lt(){const{type:o}=this.state;return o===51?(this.state.pos-=2,this.finishOp(47,1),47):o}maybeUnwrapTypeCastExpression(o){return o.type==="TypeCastExpression"?o.expression:o}};const Zr={__proto__:null,quot:'"',amp:"&",apos:"'",lt:"<",gt:">",nbsp:"",iexcl:"",cent:"",pound:"",curren:"",yen:"",brvbar:"",sect:"",uml:"",copy:"",ordf:"",laquo:"",not:"",shy:"",reg:"",macr:"",deg:"",plusmn:"",sup2:"",sup3:"",acute:"",micro:"",para:"",middot:"",cedil:"",sup1:"",ordm:"",raquo:"",frac14:"",frac12:"",frac34:"",iquest:"",Agrave:"",Aacute:"",Acirc:"",Atilde:"",Auml:"",Aring:"",AElig:"",Ccedil:"",Egrave:"",Eacute:"",Ecirc:"",Euml:"",Igrave:"",Iacute:"",Icirc:"",Iuml:"",ETH:"",Ntilde:"",Ograve:"",Oacute:"",Ocirc:"",Otilde:"",Ouml:"",times:"",Oslash:"",Ugrave:"",Uacute:"",Ucirc:"",Uuml:"",Yacute:"",THORN:"",szlig:"",agrave:"",aacute:"",acirc:"",atilde:"",auml:"",aring:"",aelig:"",ccedil:"",egrave:"",eacute:"",ecirc:"",euml:"",igrave:"",iacute:"",icirc:"",iuml:"",eth:"",ntilde:"",ograve:"",oacute:"",ocirc:"",otilde:"",ouml:"",divide:"",oslash:"",ugrave:"",uacute:"",ucirc:"",uuml:"",yacute:"",thorn:"",yuml:"",OElig:"",oelig:"",Scaron:"",scaron:"",Yuml:"",fnof:"",circ:"",tilde:"",Alpha:"",Beta:"",Gamma:"",Delta:"",Epsilon:"",Zeta:"",Eta:"",Theta:"",Iota:"",Kappa:"",Lambda:"",Mu:"",Nu:"",Xi:"",Omicron:"",Pi:"",Rho:"",Sigma:"",Tau:"",Upsilon:"",Phi:"",Chi:"",Psi:"",Omega:"",alpha:"",beta:"",gamma:"",delta:"",epsilon:"",zeta:"",eta:"",theta:"",iota:"",kappa:"",lambda:"",mu:"",nu:"",xi:"",omicron:"",pi:"",rho:"",sigmaf:"",sigma:"",tau:"",upsilon:"",phi:"",chi:"",psi:"",omega:"",thetasym:"",upsih:"",piv:"",ensp:"",emsp:"",thinsp:"",zwnj:"",zwj:"",lrm:"",rlm:"",ndash:"",mdash:"",lsquo:"",rsquo:"",sbquo:"",ldquo:"",rdquo:"",bdquo:"",dagger:"",Dagger:"",bull:"",hellip:"",permil:"",prime:"",Prime:"",lsaquo:"",rsaquo:"",oline:"",frasl:"",euro:"",image:"",weierp:"",real:"",trade:"",alefsym:"",larr:"",uarr:"",rarr:"",darr:"",harr:"",crarr:"",lArr:"",uArr:"",rArr:"",dArr:"",hArr:"",forall:"",part:"",exist:"",empty:"",nabla:"",isin:"",notin:"",ni:"",prod:"",sum:"",minus:"",lowast:"",radic:"",prop:"",infin:"",ang:"",and:"",or:"",cap:"",cup:"",int:"",there4:"",sim:"",cong:"",asymp:"",ne:"",equiv:"",le:"",ge:"",sub:"",sup:"",nsub:"",sube:"",supe:"",oplus:"",otimes:"",perp:"",sdot:"",lceil:"",rceil:"",lfloor:"",rfloor:"",lang:"",rang:"",loz:"",spades:"",clubs:"",hearts:"",diams:""},oi=/\r\n|[\r\n\u2028\u2029]/,Qr=new RegExp(oi.source,"g");function Lr(G){switch(G){case 10:case 13:case 8232:case 8233:return!0;default:return!1}}function Li(G,y,o){for(let g=y;g<o;g++)if(Lr(G.charCodeAt(g)))return!0;return!1}const li=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,Di=/(?:[^\S\n\r\u2028\u2029]|\/\/.*|\/\*.*?\*\/)*/g;function xa(G){switch(G){case 9:case 11:case 12:case 32:case 160:case 5760:case 8192:case 8193:case 8194:case 8195:case 8196:case 8197:case 8198:case 8199:case 8200:case 8201:case 8202:case 8239:case 8287:case 12288:case 65279:return!0;default:return!1}}const En=P`jsx`({AttributeIsEmpty:"JSX attributes must only be assigned a non-empty expression.",MissingClosingTagElement:({openingTagName:G})=>`Expected corresponding JSX closing tag for <${G}>.`,MissingClosingTagFragment:"Expected corresponding JSX closing tag for <>.",UnexpectedSequenceExpression:"Sequence expressions cannot be directly nested inside JSX. Did you mean to wrap it in parentheses (...)?",UnexpectedToken:({unexpected:G,HTMLEntity:y})=>`Unexpected token \`${G}\`. Did you mean \`${y}\` or \`{'${G}'}\`?`,UnsupportedJsxValue:"JSX value should be either an expression or a quoted JSX text.",UnterminatedJsxContent:"Unterminated JSX contents.",UnwrappedAdjacentJSXElements:"Adjacent JSX elements must be wrapped in an enclosing tag. Did you want a JSX fragment <>...</>?"});function es(G){return G?G.type==="JSXOpeningFragment"||G.type==="JSXClosingFragment":!1}function ts(G){if(G.type==="JSXIdentifier")return G.name;if(G.type==="JSXNamespacedName")return G.namespace.name+":"+G.name.name;if(G.type==="JSXMemberExpression")return ts(G.object)+"."+ts(G.property);throw new Error("Node had unexpected type: "+G.type)}var va=G=>class extends G{jsxReadToken(){let o="",g=this.state.pos;for(;;){if(this.state.pos>=this.length)throw this.raise(En.UnterminatedJsxContent,this.state.startLoc);const b=this.input.charCodeAt(this.state.pos);switch(b){case 60:case 123:if(this.state.pos===this.state.start){b===60&&this.state.canStartJSXElement?(++this.state.pos,this.finishToken(143)):super.getTokenFromCode(b);return}o+=this.input.slice(g,this.state.pos),this.finishToken(142,o);return;case 38:o+=this.input.slice(g,this.state.pos),o+=this.jsxReadEntity(),g=this.state.pos;break;case 62:case 125:default:Lr(b)?(o+=this.input.slice(g,this.state.pos),o+=this.jsxReadNewLine(!0),g=this.state.pos):++this.state.pos}}}jsxReadNewLine(o){const g=this.input.charCodeAt(this.state.pos);let b;return++this.state.pos,g===13&&this.input.charCodeAt(this.state.pos)===10?(++this.state.pos,b=o?`
`:`\r
`):b=String.fromCharCode(g),++this.state.curLine,this.state.lineStart=this.state.pos,b}jsxReadString(o){let g="",b=++this.state.pos;for(;;){if(this.state.pos>=this.length)throw this.raise(S.UnterminatedString,this.state.startLoc);const k=this.input.charCodeAt(this.state.pos);if(k===o)break;k===38?(g+=this.input.slice(b,this.state.pos),g+=this.jsxReadEntity(),b=this.state.pos):Lr(k)?(g+=this.input.slice(b,this.state.pos),g+=this.jsxReadNewLine(!1),b=this.state.pos):++this.state.pos}g+=this.input.slice(b,this.state.pos++),this.finishToken(134,g)}jsxReadEntity(){const o=++this.state.pos;if(this.codePointAtPos(this.state.pos)===35){++this.state.pos;let g=10;this.codePointAtPos(this.state.pos)===120&&(g=16,++this.state.pos);const b=this.readInt(g,void 0,!1,"bail");if(b!==null&&this.codePointAtPos(this.state.pos)===59)return++this.state.pos,String.fromCodePoint(b)}else{let g=0,b=!1;for(;g++<10&&this.state.pos<this.length&&!(b=this.codePointAtPos(this.state.pos)===59);)++this.state.pos;if(b){const k=this.input.slice(o,this.state.pos),ne=Zr[k];if(++this.state.pos,ne)return ne}}return this.state.pos=o,"&"}jsxReadWord(){let o;const g=this.state.pos;do o=this.input.charCodeAt(++this.state.pos);while(Xe(o)||o===45);this.finishToken(141,this.input.slice(g,this.state.pos))}jsxParseIdentifier(){const o=this.startNode();return this.match(141)?o.name=this.state.value:rt(this.state.type)?o.name=Fe(this.state.type):this.unexpected(),this.next(),this.finishNode(o,"JSXIdentifier")}jsxParseNamespacedName(){const o=this.state.startLoc,g=this.jsxParseIdentifier();if(!this.eat(14))return g;const b=this.startNodeAt(o);return b.namespace=g,b.name=this.jsxParseIdentifier(),this.finishNode(b,"JSXNamespacedName")}jsxParseElementName(){const o=this.state.startLoc;let g=this.jsxParseNamespacedName();if(g.type==="JSXNamespacedName")return g;for(;this.eat(16);){const b=this.startNodeAt(o);b.object=g,b.property=this.jsxParseIdentifier(),g=this.finishNode(b,"JSXMemberExpression")}return g}jsxParseAttributeValue(){let o;switch(this.state.type){case 5:return o=this.startNode(),this.setContext(B.brace),this.next(),o=this.jsxParseExpressionContainer(o,B.j_oTag),o.expression.type==="JSXEmptyExpression"&&this.raise(En.AttributeIsEmpty,o),o;case 143:case 134:return this.parseExprAtom();default:throw this.raise(En.UnsupportedJsxValue,this.state.startLoc)}}jsxParseEmptyExpression(){const o=this.startNodeAt(this.state.lastTokEndLoc);return this.finishNodeAt(o,"JSXEmptyExpression",this.state.startLoc)}jsxParseSpreadChild(o){return this.next(),o.expression=this.parseExpression(),this.setContext(B.j_expr),this.state.canStartJSXElement=!0,this.expect(8),this.finishNode(o,"JSXSpreadChild")}jsxParseExpressionContainer(o,g){if(this.match(8))o.expression=this.jsxParseEmptyExpression();else{const b=this.parseExpression();o.expression=b}return this.setContext(g),this.state.canStartJSXElement=!0,this.expect(8),this.finishNode(o,"JSXExpressionContainer")}jsxParseAttribute(){const o=this.startNode();return this.match(5)?(this.setContext(B.brace),this.next(),this.expect(21),o.argument=this.parseMaybeAssignAllowIn(),this.setContext(B.j_oTag),this.state.canStartJSXElement=!0,this.expect(8),this.finishNode(o,"JSXSpreadAttribute")):(o.name=this.jsxParseNamespacedName(),o.value=this.eat(29)?this.jsxParseAttributeValue():null,this.finishNode(o,"JSXAttribute"))}jsxParseOpeningElementAt(o){const g=this.startNodeAt(o);return this.eat(144)?this.finishNode(g,"JSXOpeningFragment"):(g.name=this.jsxParseElementName(),this.jsxParseOpeningElementAfterName(g))}jsxParseOpeningElementAfterName(o){const g=[];for(;!this.match(56)&&!this.match(144);)g.push(this.jsxParseAttribute());return o.attributes=g,o.selfClosing=this.eat(56),this.expect(144),this.finishNode(o,"JSXOpeningElement")}jsxParseClosingElementAt(o){const g=this.startNodeAt(o);return this.eat(144)?this.finishNode(g,"JSXClosingFragment"):(g.name=this.jsxParseElementName(),this.expect(144),this.finishNode(g,"JSXClosingElement"))}jsxParseElementAt(o){const g=this.startNodeAt(o),b=[],k=this.jsxParseOpeningElementAt(o);let ne=null;if(!k.selfClosing){e:for(;;)switch(this.state.type){case 143:if(o=this.state.startLoc,this.next(),this.eat(56)){ne=this.jsxParseClosingElementAt(o);break e}b.push(this.jsxParseElementAt(o));break;case 142:b.push(this.parseLiteral(this.state.value,"JSXText"));break;case 5:{const le=this.startNode();this.setContext(B.brace),this.next(),this.match(21)?b.push(this.jsxParseSpreadChild(le)):b.push(this.jsxParseExpressionContainer(le,B.j_expr));break}default:this.unexpected()}es(k)&&!es(ne)&&ne!==null?this.raise(En.MissingClosingTagFragment,ne):!es(k)&&es(ne)?this.raise(En.MissingClosingTagElement,ne,{openingTagName:ts(k.name)}):!es(k)&&!es(ne)&&ts(ne.name)!==ts(k.name)&&this.raise(En.MissingClosingTagElement,ne,{openingTagName:ts(k.name)})}if(es(k)?(g.openingFragment=k,g.closingFragment=ne):(g.openingElement=k,g.closingElement=ne),g.children=b,this.match(47))throw this.raise(En.UnwrappedAdjacentJSXElements,this.state.startLoc);return es(k)?this.finishNode(g,"JSXFragment"):this.finishNode(g,"JSXElement")}jsxParseElement(){const o=this.state.startLoc;return this.next(),this.jsxParseElementAt(o)}setContext(o){const{context:g}=this.state;g[g.length-1]=o}parseExprAtom(o){return this.match(143)?this.jsxParseElement():this.match(47)&&this.input.charCodeAt(this.state.pos)!==33?(this.replaceToken(143),this.jsxParseElement()):super.parseExprAtom(o)}skipSpace(){this.curContext().preserveSpace||super.skipSpace()}getTokenFromCode(o){const g=this.curContext();if(g===B.j_expr){this.jsxReadToken();return}if(g===B.j_oTag||g===B.j_cTag){if(Be(o)){this.jsxReadWord();return}if(o===62){++this.state.pos,this.finishToken(144);return}if((o===34||o===39)&&g===B.j_oTag){this.jsxReadString(o);return}}if(o===60&&this.state.canStartJSXElement&&this.input.charCodeAt(this.state.pos+1)!==33){++this.state.pos,this.finishToken(143);return}super.getTokenFromCode(o)}updateContext(o){const{context:g,type:b}=this.state;if(b===56&&o===143)g.splice(-2,2,B.j_cTag),this.state.canStartJSXElement=!1;else if(b===143)g.push(B.j_oTag);else if(b===144){const k=g[g.length-1];k===B.j_oTag&&o===56||k===B.j_cTag?(g.pop(),this.state.canStartJSXElement=g[g.length-1]===B.j_expr):(this.setContext(B.j_expr),this.state.canStartJSXElement=!0)}else this.state.canStartJSXElement=pt(b)}};class ui extends Zn{constructor(...y){super(...y),this.tsNames=new Map}}class oo extends Kn{constructor(...y){super(...y),this.importsStack=[]}createScope(y){return this.importsStack.push(new Set),new ui(y)}enter(y){y===1024&&this.importsStack.push(new Set),super.enter(y)}exit(){const y=super.exit();return y===1024&&this.importsStack.pop(),y}hasImport(y,o){const g=this.importsStack.length;if(this.importsStack[g-1].has(y))return!0;if(!o&&g>1){for(let b=0;b<g-1;b++)if(this.importsStack[b].has(y))return!0}return!1}declareName(y,o,g){if(o&4096){this.hasImport(y,!0)&&this.parser.raise(S.VarRedeclaration,g,{identifierName:y}),this.importsStack[this.importsStack.length-1].add(y);return}const b=this.currentScope();let k=b.tsNames.get(y)||0;if(o&1024){this.maybeExportDefined(b,y),b.tsNames.set(y,k|16);return}super.declareName(y,o,g),o&2&&(o&1||(this.checkRedeclarationInScope(b,y,o,g),this.maybeExportDefined(b,y)),k=k|1),o&256&&(k=k|2),o&512&&(k=k|4),o&128&&(k=k|8),k&&b.tsNames.set(y,k)}isRedeclaredInScope(y,o,g){const b=y.tsNames.get(o);if((b&2)>0){if(g&256){const k=!!(g&512),ne=(b&4)>0;return k!==ne}return!0}return g&128&&(b&8)>0?y.names.get(o)&2?!!(g&1):!1:g&2&&(b&1)>0?!0:super.isRedeclaredInScope(y,o,g)}checkLocalExport(y){const{name:o}=y;if(this.hasImport(o))return;const g=this.scopeStack.length;for(let b=g-1;b>=0;b--){const ne=this.scopeStack[b].tsNames.get(o);if((ne&1)>0||(ne&16)>0)return}super.checkLocalExport(y)}}class Ta{constructor(){this.stacks=[]}enter(y){this.stacks.push(y)}exit(){this.stacks.pop()}currentFlags(){return this.stacks[this.stacks.length-1]}get hasAwait(){return(this.currentFlags()&2)>0}get hasYield(){return(this.currentFlags()&1)>0}get hasReturn(){return(this.currentFlags()&4)>0}get hasIn(){return(this.currentFlags()&8)>0}}function ns(G,y){return(G?2:0)|(y?1:0)}class Dr{constructor(){this.sawUnambiguousESM=!1,this.ambiguousScriptDifferentAst=!1}sourceToOffsetPos(y){return y+this.startIndex}offsetToSourcePos(y){return y-this.startIndex}hasPlugin(y){if(typeof y=="string")return this.plugins.has(y);{const[o,g]=y;if(!this.hasPlugin(o))return!1;const b=this.plugins.get(o);for(const k of Object.keys(g))if(b?.[k]!==g[k])return!1;return!0}}getPluginOption(y,o){var g;return(g=this.plugins.get(y))==null?void 0:g[o]}}function Sa(G,y){G.trailingComments===void 0?G.trailingComments=y:G.trailingComments.unshift(...y)}function Er(G,y){G.leadingComments===void 0?G.leadingComments=y:G.leadingComments.unshift(...y)}function $s(G,y){G.innerComments===void 0?G.innerComments=y:G.innerComments.unshift(...y)}function Rr(G,y,o){let g=null,b=y.length;for(;g===null&&b>0;)g=y[--b];g===null||g.start>o.start?$s(G,o.comments):Sa(g,o.comments)}class lo extends Dr{addComment(y){this.filename&&(y.loc.filename=this.filename);const{commentsLen:o}=this.state;this.comments.length!==o&&(this.comments.length=o),this.comments.push(y),this.state.commentsLen++}processComment(y){const{commentStack:o}=this.state,g=o.length;if(g===0)return;let b=g-1;const k=o[b];k.start===y.end&&(k.leadingNode=y,b--);const{start:ne}=y;for(;b>=0;b--){const le=o[b],ye=le.end;if(ye>ne)le.containingNode=y,this.finalizeComment(le),o.splice(b,1);else{ye===ne&&(le.trailingNode=y);break}}}finalizeComment(y){var o;const{comments:g}=y;if(y.leadingNode!==null||y.trailingNode!==null)y.leadingNode!==null&&Sa(y.leadingNode,g),y.trailingNode!==null&&Er(y.trailingNode,g);else{const b=y.containingNode,k=y.start;if(this.input.charCodeAt(this.offsetToSourcePos(k)-1)===44)switch(b.type){case"ObjectExpression":case"ObjectPattern":Rr(b,b.properties,y);break;case"CallExpression":case"OptionalCallExpression":Rr(b,b.arguments,y);break;case"ImportExpression":Rr(b,[b.source,(o=b.options)!=null?o:null],y);break;case"FunctionDeclaration":case"FunctionExpression":case"ArrowFunctionExpression":case"ObjectMethod":case"ClassMethod":case"ClassPrivateMethod":Rr(b,b.params,y);break;case"ArrayExpression":case"ArrayPattern":Rr(b,b.elements,y);break;case"ExportNamedDeclaration":case"ImportDeclaration":Rr(b,b.specifiers,y);break;case"TSEnumDeclaration":Rr(b,b.members,y);break;case"TSEnumBody":Rr(b,b.members,y);break;default:{if(b.type==="RecordExpression"){Rr(b,b.properties,y);break}if(b.type==="TupleExpression"){Rr(b,b.elements,y);break}$s(b,g)}}else $s(b,g)}}finalizeRemainingComments(){const{commentStack:y}=this.state;for(let o=y.length-1;o>=0;o--)this.finalizeComment(y[o]);this.state.commentStack=[]}resetPreviousNodeTrailingComments(y){const{commentStack:o}=this.state,{length:g}=o;if(g===0)return;const b=o[g-1];b.leadingNode===y&&(b.leadingNode=null)}takeSurroundingComments(y,o,g){const{commentStack:b}=this.state,k=b.length;if(k===0)return;let ne=k-1;for(;ne>=0;ne--){const le=b[ne],ye=le.end;if(le.start===g)le.leadingNode=y;else if(ye===o)le.trailingNode=y;else if(ye<o)break}}}class Es{constructor(){this.flags=1024,this.startIndex=void 0,this.curLine=void 0,this.lineStart=void 0,this.startLoc=void 0,this.endLoc=void 0,this.errors=[],this.potentialArrowAt=-1,this.noArrowAt=[],this.noArrowParamsConversionAt=[],this.topicContext={maxNumOfResolvableTopics:0,maxTopicIndex:null},this.labels=[],this.commentsLen=0,this.commentStack=[],this.pos=0,this.type=140,this.value=null,this.start=0,this.end=0,this.lastTokEndLoc=null,this.lastTokStartLoc=null,this.context=[B.brace],this.firstInvalidTemplateEscapePos=null,this.strictErrors=new Map,this.tokensLength=0}get strict(){return(this.flags&1)>0}set strict(y){y?this.flags|=1:this.flags&=-2}init({strictMode:y,sourceType:o,startIndex:g,startLine:b,startColumn:k}){this.strict=y===!1?!1:y===!0?!0:o==="module",this.startIndex=g,this.curLine=b,this.lineStart=-k,this.startLoc=this.endLoc=new e(b,k,g)}get maybeInArrowParameters(){return(this.flags&2)>0}set maybeInArrowParameters(y){y?this.flags|=2:this.flags&=-3}get inType(){return(this.flags&4)>0}set inType(y){y?this.flags|=4:this.flags&=-5}get noAnonFunctionType(){return(this.flags&8)>0}set noAnonFunctionType(y){y?this.flags|=8:this.flags&=-9}get hasFlowComment(){return(this.flags&16)>0}set hasFlowComment(y){y?this.flags|=16:this.flags&=-17}get isAmbientContext(){return(this.flags&32)>0}set isAmbientContext(y){y?this.flags|=32:this.flags&=-33}get inAbstractClass(){return(this.flags&64)>0}set inAbstractClass(y){y?this.flags|=64:this.flags&=-65}get inDisallowConditionalTypesContext(){return(this.flags&128)>0}set inDisallowConditionalTypesContext(y){y?this.flags|=128:this.flags&=-129}get soloAwait(){return(this.flags&256)>0}set soloAwait(y){y?this.flags|=256:this.flags&=-257}get inFSharpPipelineDirectBody(){return(this.flags&512)>0}set inFSharpPipelineDirectBody(y){y?this.flags|=512:this.flags&=-513}get canStartJSXElement(){return(this.flags&1024)>0}set canStartJSXElement(y){y?this.flags|=1024:this.flags&=-1025}get containsEsc(){return(this.flags&2048)>0}set containsEsc(y){y?this.flags|=2048:this.flags&=-2049}get hasTopLevelAwait(){return(this.flags&4096)>0}set hasTopLevelAwait(y){y?this.flags|=4096:this.flags&=-4097}curPosition(){return new e(this.curLine,this.pos-this.lineStart,this.pos+this.startIndex)}clone(){const y=new Es;return y.flags=this.flags,y.startIndex=this.startIndex,y.curLine=this.curLine,y.lineStart=this.lineStart,y.startLoc=this.startLoc,y.endLoc=this.endLoc,y.errors=this.errors.slice(),y.potentialArrowAt=this.potentialArrowAt,y.noArrowAt=this.noArrowAt.slice(),y.noArrowParamsConversionAt=this.noArrowParamsConversionAt.slice(),y.topicContext=this.topicContext,y.labels=this.labels.slice(),y.commentsLen=this.commentsLen,y.commentStack=this.commentStack.slice(),y.pos=this.pos,y.type=this.type,y.value=this.value,y.start=this.start,y.end=this.end,y.lastTokEndLoc=this.lastTokEndLoc,y.lastTokStartLoc=this.lastTokStartLoc,y.context=this.context.slice(),y.firstInvalidTemplateEscapePos=this.firstInvalidTemplateEscapePos,y.strictErrors=this.strictErrors,y.tokensLength=this.tokensLength,y}}var ci=function(y){return y>=48&&y<=57};const hs={decBinOct:new Set([46,66,69,79,95,98,101,111]),hex:new Set([46,88,95,120])},ms={bin:G=>G===48||G===49,oct:G=>G>=48&&G<=55,dec:G=>G>=48&&G<=57,hex:G=>G>=48&&G<=57||G>=65&&G<=70||G>=97&&G<=102};function Ri(G,y,o,g,b,k){const ne=o,le=g,ye=b;let Pe="",Ie=null,Je=o;const{length:mt}=y;for(;;){if(o>=mt){k.unterminated(ne,le,ye),Pe+=y.slice(Je,o);break}const bt=y.charCodeAt(o);if(uo(G,bt,y,o)){Pe+=y.slice(Je,o);break}if(bt===92){Pe+=y.slice(Je,o);const Rt=Fi(y,o,g,b,G==="template",k);Rt.ch===null&&!Ie?Ie={pos:o,lineStart:g,curLine:b}:Pe+=Rt.ch,{pos:o,lineStart:g,curLine:b}=Rt,Je=o}else bt===8232||bt===8233?(++o,++b,g=o):bt===10||bt===13?G==="template"?(Pe+=y.slice(Je,o)+`
`,++o,bt===13&&y.charCodeAt(o)===10&&++o,++b,Je=g=o):k.unterminated(ne,le,ye):++o}return{pos:o,str:Pe,firstInvalidLoc:Ie,lineStart:g,curLine:b,containsInvalid:!!Ie}}function uo(G,y,o,g){return G==="template"?y===96||y===36&&o.charCodeAt(g+1)===123:y===(G==="double"?34:39)}function Fi(G,y,o,g,b,k){const ne=!b;y++;const le=Pe=>({pos:y,ch:Pe,lineStart:o,curLine:g}),ye=G.charCodeAt(y++);switch(ye){case 110:return le(`
`);case 114:return le("\r");case 120:{let Pe;return{code:Pe,pos:y}=Ps(G,y,o,g,2,!1,ne,k),le(Pe===null?null:String.fromCharCode(Pe))}case 117:{let Pe;return{code:Pe,pos:y}=As(G,y,o,g,ne,k),le(Pe===null?null:String.fromCodePoint(Pe))}case 116:return le("	");case 98:return le("\b");case 118:return le("\v");case 102:return le("\f");case 13:G.charCodeAt(y)===10&&++y;case 10:o=y,++g;case 8232:case 8233:return le("");case 56:case 57:if(b)return le(null);k.strictNumericEscape(y-1,o,g);default:if(ye>=48&&ye<=55){const Pe=y-1;let Je=/^[0-7]+/.exec(G.slice(Pe,y+2))[0],mt=parseInt(Je,8);mt>255&&(Je=Je.slice(0,-1),mt=parseInt(Je,8)),y+=Je.length-1;const bt=G.charCodeAt(y);if(Je!=="0"||bt===56||bt===57){if(b)return le(null);k.strictNumericEscape(Pe,o,g)}return le(String.fromCharCode(mt))}return le(String.fromCharCode(ye))}}function Ps(G,y,o,g,b,k,ne,le){const ye=y;let Pe;return{n:Pe,pos:y}=pi(G,y,o,g,16,b,k,!1,le,!ne),Pe===null&&(ne?le.invalidEscapeSequence(ye,o,g):y=ye-1),{code:Pe,pos:y}}function pi(G,y,o,g,b,k,ne,le,ye,Pe){const Ie=y,Je=b===16?hs.hex:hs.decBinOct,mt=b===16?ms.hex:b===10?ms.dec:b===8?ms.oct:ms.bin;let bt=!1,Rt=0;for(let yn=0,Ln=k??1/0;yn<Ln;++yn){const nn=G.charCodeAt(y);let Cn;if(nn===95&&le!=="bail"){const Hs=G.charCodeAt(y-1),Os=G.charCodeAt(y+1);if(le){if(Number.isNaN(Os)||!mt(Os)||Je.has(Hs)||Je.has(Os)){if(Pe)return{n:null,pos:y};ye.unexpectedNumericSeparator(y,o,g)}}else{if(Pe)return{n:null,pos:y};ye.numericSeparatorInEscapeSequence(y,o,g)}++y;continue}if(nn>=97?Cn=nn-97+10:nn>=65?Cn=nn-65+10:ci(nn)?Cn=nn-48:Cn=1/0,Cn>=b){if(Cn<=9&&Pe)return{n:null,pos:y};if(Cn<=9&&ye.invalidDigit(y,o,g,b))Cn=0;else if(ne)Cn=0,bt=!0;else break}++y,Rt=Rt*b+Cn}return y===Ie||k!=null&&y-Ie!==k||bt?{n:null,pos:y}:{n:Rt,pos:y}}function As(G,y,o,g,b,k){const ne=G.charCodeAt(y);let le;if(ne===123){if(++y,{code:le,pos:y}=Ps(G,y,o,g,G.indexOf("}",y)-y,!0,b,k),++y,le!==null&&le>1114111)if(b)k.invalidCodePoint(y,o,g);else return{code:null,pos:y}}else({code:le,pos:y}=Ps(G,y,o,g,4,!1,b,k));return{code:le,pos:y}}function Ns(G,y,o){return new e(o,G-y,G)}const co=new Set([103,109,115,105,121,117,100,118]);class hn{constructor(y){const o=y.startIndex||0;this.type=y.type,this.value=y.value,this.start=o+y.start,this.end=o+y.end,this.loc=new t(y.startLoc,y.endLoc)}}class ol extends lo{constructor(y,o){super(),this.isLookahead=void 0,this.tokens=[],this.errorHandlers_readInt={invalidDigit:(g,b,k,ne)=>this.optionFlags&2048?(this.raise(S.InvalidDigit,Ns(g,b,k),{radix:ne}),!0):!1,numericSeparatorInEscapeSequence:this.errorBuilder(S.NumericSeparatorInEscapeSequence),unexpectedNumericSeparator:this.errorBuilder(S.UnexpectedNumericSeparator)},this.errorHandlers_readCodePoint=Object.assign({},this.errorHandlers_readInt,{invalidEscapeSequence:this.errorBuilder(S.InvalidEscapeSequence),invalidCodePoint:this.errorBuilder(S.InvalidCodePoint)}),this.errorHandlers_readStringContents_string=Object.assign({},this.errorHandlers_readCodePoint,{strictNumericEscape:(g,b,k)=>{this.recordStrictModeErrors(S.StrictNumericEscape,Ns(g,b,k))},unterminated:(g,b,k)=>{throw this.raise(S.UnterminatedString,Ns(g-1,b,k))}}),this.errorHandlers_readStringContents_template=Object.assign({},this.errorHandlers_readCodePoint,{strictNumericEscape:this.errorBuilder(S.StrictNumericEscape),unterminated:(g,b,k)=>{throw this.raise(S.UnterminatedTemplate,Ns(g,b,k))}}),this.state=new Es,this.state.init(y),this.input=o,this.length=o.length,this.comments=[],this.isLookahead=!1}pushToken(y){this.tokens.length=this.state.tokensLength,this.tokens.push(y),++this.state.tokensLength}next(){this.checkKeywordEscapes(),this.optionFlags&256&&this.pushToken(new hn(this.state)),this.state.lastTokEndLoc=this.state.endLoc,this.state.lastTokStartLoc=this.state.startLoc,this.nextToken()}eat(y){return this.match(y)?(this.next(),!0):!1}match(y){return this.state.type===y}createLookaheadState(y){return{pos:y.pos,value:null,type:y.type,start:y.start,end:y.end,context:[this.curContext()],inType:y.inType,startLoc:y.startLoc,lastTokEndLoc:y.lastTokEndLoc,curLine:y.curLine,lineStart:y.lineStart,curPosition:y.curPosition}}lookahead(){const y=this.state;this.state=this.createLookaheadState(y),this.isLookahead=!0,this.nextToken(),this.isLookahead=!1;const o=this.state;return this.state=y,o}nextTokenStart(){return this.nextTokenStartSince(this.state.pos)}nextTokenStartSince(y){return li.lastIndex=y,li.test(this.input)?li.lastIndex:y}lookaheadCharCode(){return this.lookaheadCharCodeSince(this.state.pos)}lookaheadCharCodeSince(y){return this.input.charCodeAt(this.nextTokenStartSince(y))}nextTokenInLineStart(){return this.nextTokenInLineStartSince(this.state.pos)}nextTokenInLineStartSince(y){return Di.lastIndex=y,Di.test(this.input)?Di.lastIndex:y}lookaheadInLineCharCode(){return this.input.charCodeAt(this.nextTokenInLineStart())}codePointAtPos(y){let o=this.input.charCodeAt(y);if((o&64512)===55296&&++y<this.input.length){const g=this.input.charCodeAt(y);(g&64512)===56320&&(o=65536+((o&1023)<<10)+(g&1023))}return o}setStrict(y){this.state.strict=y,y&&(this.state.strictErrors.forEach(([o,g])=>this.raise(o,g)),this.state.strictErrors.clear())}curContext(){return this.state.context[this.state.context.length-1]}nextToken(){if(this.skipSpace(),this.state.start=this.state.pos,this.isLookahead||(this.state.startLoc=this.state.curPosition()),this.state.pos>=this.length){this.finishToken(140);return}this.getTokenFromCode(this.codePointAtPos(this.state.pos))}skipBlockComment(y){let o;this.isLookahead||(o=this.state.curPosition());const g=this.state.pos,b=this.input.indexOf(y,g+2);if(b===-1)throw this.raise(S.UnterminatedComment,this.state.curPosition());for(this.state.pos=b+y.length,Qr.lastIndex=g+2;Qr.test(this.input)&&Qr.lastIndex<=b;)++this.state.curLine,this.state.lineStart=Qr.lastIndex;if(this.isLookahead)return;const k={type:"CommentBlock",value:this.input.slice(g+2,b),start:this.sourceToOffsetPos(g),end:this.sourceToOffsetPos(b+y.length),loc:new t(o,this.state.curPosition())};return this.optionFlags&256&&this.pushToken(k),k}skipLineComment(y){const o=this.state.pos;let g;this.isLookahead||(g=this.state.curPosition());let b=this.input.charCodeAt(this.state.pos+=y);if(this.state.pos<this.length)for(;!Lr(b)&&++this.state.pos<this.length;)b=this.input.charCodeAt(this.state.pos);if(this.isLookahead)return;const k=this.state.pos,le={type:"CommentLine",value:this.input.slice(o+y,k),start:this.sourceToOffsetPos(o),end:this.sourceToOffsetPos(k),loc:new t(g,this.state.curPosition())};return this.optionFlags&256&&this.pushToken(le),le}skipSpace(){const y=this.state.pos,o=this.optionFlags&4096?[]:null;e:for(;this.state.pos<this.length;){const g=this.input.charCodeAt(this.state.pos);switch(g){case 32:case 160:case 9:++this.state.pos;break;case 13:this.input.charCodeAt(this.state.pos+1)===10&&++this.state.pos;case 10:case 8232:case 8233:++this.state.pos,++this.state.curLine,this.state.lineStart=this.state.pos;break;case 47:switch(this.input.charCodeAt(this.state.pos+1)){case 42:{const b=this.skipBlockComment("*/");b!==void 0&&(this.addComment(b),o?.push(b));break}case 47:{const b=this.skipLineComment(2);b!==void 0&&(this.addComment(b),o?.push(b));break}default:break e}break;default:if(xa(g))++this.state.pos;else if(g===45&&!this.inModule&&this.optionFlags&8192){const b=this.state.pos;if(this.input.charCodeAt(b+1)===45&&this.input.charCodeAt(b+2)===62&&(y===0||this.state.lineStart>y)){const k=this.skipLineComment(3);k!==void 0&&(this.addComment(k),o?.push(k))}else break e}else if(g===60&&!this.inModule&&this.optionFlags&8192){const b=this.state.pos;if(this.input.charCodeAt(b+1)===33&&this.input.charCodeAt(b+2)===45&&this.input.charCodeAt(b+3)===45){const k=this.skipLineComment(4);k!==void 0&&(this.addComment(k),o?.push(k))}else break e}else break e}}if(o?.length>0){const g=this.state.pos,b={start:this.sourceToOffsetPos(y),end:this.sourceToOffsetPos(g),comments:o,leadingNode:null,trailingNode:null,containingNode:null};this.state.commentStack.push(b)}}finishToken(y,o){this.state.end=this.state.pos,this.state.endLoc=this.state.curPosition();const g=this.state.type;this.state.type=y,this.state.value=o,this.isLookahead||this.updateContext(g)}replaceToken(y){this.state.type=y,this.updateContext()}readToken_numberSign(){if(this.state.pos===0&&this.readToken_interpreter())return;const y=this.state.pos+1,o=this.codePointAtPos(y);if(o>=48&&o<=57)throw this.raise(S.UnexpectedDigitAfterHash,this.state.curPosition());if(o===123||o===91&&this.hasPlugin("recordAndTuple")){if(this.expectPlugin("recordAndTuple"),this.getPluginOption("recordAndTuple","syntaxType")==="bar")throw this.raise(o===123?S.RecordExpressionHashIncorrectStartSyntaxType:S.TupleExpressionHashIncorrectStartSyntaxType,this.state.curPosition());this.state.pos+=2,o===123?this.finishToken(7):this.finishToken(1)}else Be(o)?(++this.state.pos,this.finishToken(139,this.readWord1(o))):o===92?(++this.state.pos,this.finishToken(139,this.readWord1())):this.finishOp(27,1)}readToken_dot(){const y=this.input.charCodeAt(this.state.pos+1);if(y>=48&&y<=57){this.readNumber(!0);return}y===46&&this.input.charCodeAt(this.state.pos+2)===46?(this.state.pos+=3,this.finishToken(21)):(++this.state.pos,this.finishToken(16))}readToken_slash(){this.input.charCodeAt(this.state.pos+1)===61?this.finishOp(31,2):this.finishOp(56,1)}readToken_interpreter(){if(this.state.pos!==0||this.length<2)return!1;let y=this.input.charCodeAt(this.state.pos+1);if(y!==33)return!1;const o=this.state.pos;for(this.state.pos+=1;!Lr(y)&&++this.state.pos<this.length;)y=this.input.charCodeAt(this.state.pos);const g=this.input.slice(o+2,this.state.pos);return this.finishToken(28,g),!0}readToken_mult_modulo(y){let o=y===42?55:54,g=1,b=this.input.charCodeAt(this.state.pos+1);y===42&&b===42&&(g++,b=this.input.charCodeAt(this.state.pos+2),o=57),b===61&&!this.state.inType&&(g++,o=y===37?33:30),this.finishOp(o,g)}readToken_pipe_amp(y){const o=this.input.charCodeAt(this.state.pos+1);if(o===y){this.input.charCodeAt(this.state.pos+2)===61?this.finishOp(30,3):this.finishOp(y===124?41:42,2);return}if(y===124){if(o===62){this.finishOp(39,2);return}if(this.hasPlugin("recordAndTuple")&&o===125){if(this.getPluginOption("recordAndTuple","syntaxType")!=="bar")throw this.raise(S.RecordExpressionBarIncorrectEndSyntaxType,this.state.curPosition());this.state.pos+=2,this.finishToken(9);return}if(this.hasPlugin("recordAndTuple")&&o===93){if(this.getPluginOption("recordAndTuple","syntaxType")!=="bar")throw this.raise(S.TupleExpressionBarIncorrectEndSyntaxType,this.state.curPosition());this.state.pos+=2,this.finishToken(4);return}}if(o===61){this.finishOp(30,2);return}this.finishOp(y===124?43:45,1)}readToken_caret(){const y=this.input.charCodeAt(this.state.pos+1);y===61&&!this.state.inType?this.finishOp(32,2):y===94&&this.hasPlugin(["pipelineOperator",{proposal:"hack",topicToken:"^^"}])?(this.finishOp(37,2),this.input.codePointAt(this.state.pos)===94&&this.unexpected()):this.finishOp(44,1)}readToken_atSign(){this.input.charCodeAt(this.state.pos+1)===64&&this.hasPlugin(["pipelineOperator",{proposal:"hack",topicToken:"@@"}])?this.finishOp(38,2):this.finishOp(26,1)}readToken_plus_min(y){const o=this.input.charCodeAt(this.state.pos+1);if(o===y){this.finishOp(34,2);return}o===61?this.finishOp(30,2):this.finishOp(53,1)}readToken_lt(){const{pos:y}=this.state,o=this.input.charCodeAt(y+1);if(o===60){if(this.input.charCodeAt(y+2)===61){this.finishOp(30,3);return}this.finishOp(51,2);return}if(o===61){this.finishOp(49,2);return}this.finishOp(47,1)}readToken_gt(){const{pos:y}=this.state,o=this.input.charCodeAt(y+1);if(o===62){const g=this.input.charCodeAt(y+2)===62?3:2;if(this.input.charCodeAt(y+g)===61){this.finishOp(30,g+1);return}this.finishOp(52,g);return}if(o===61){this.finishOp(49,2);return}this.finishOp(48,1)}readToken_eq_excl(y){const o=this.input.charCodeAt(this.state.pos+1);if(o===61){this.finishOp(46,this.input.charCodeAt(this.state.pos+2)===61?3:2);return}if(y===61&&o===62){this.state.pos+=2,this.finishToken(19);return}this.finishOp(y===61?29:35,1)}readToken_question(){const y=this.input.charCodeAt(this.state.pos+1),o=this.input.charCodeAt(this.state.pos+2);y===63?o===61?this.finishOp(30,3):this.finishOp(40,2):y===46&&!(o>=48&&o<=57)?(this.state.pos+=2,this.finishToken(18)):(++this.state.pos,this.finishToken(17))}getTokenFromCode(y){switch(y){case 46:this.readToken_dot();return;case 40:++this.state.pos,this.finishToken(10);return;case 41:++this.state.pos,this.finishToken(11);return;case 59:++this.state.pos,this.finishToken(13);return;case 44:++this.state.pos,this.finishToken(12);return;case 91:if(this.hasPlugin("recordAndTuple")&&this.input.charCodeAt(this.state.pos+1)===124){if(this.getPluginOption("recordAndTuple","syntaxType")!=="bar")throw this.raise(S.TupleExpressionBarIncorrectStartSyntaxType,this.state.curPosition());this.state.pos+=2,this.finishToken(2)}else++this.state.pos,this.finishToken(0);return;case 93:++this.state.pos,this.finishToken(3);return;case 123:if(this.hasPlugin("recordAndTuple")&&this.input.charCodeAt(this.state.pos+1)===124){if(this.getPluginOption("recordAndTuple","syntaxType")!=="bar")throw this.raise(S.RecordExpressionBarIncorrectStartSyntaxType,this.state.curPosition());this.state.pos+=2,this.finishToken(6)}else++this.state.pos,this.finishToken(5);return;case 125:++this.state.pos,this.finishToken(8);return;case 58:this.hasPlugin("functionBind")&&this.input.charCodeAt(this.state.pos+1)===58?this.finishOp(15,2):(++this.state.pos,this.finishToken(14));return;case 63:this.readToken_question();return;case 96:this.readTemplateToken();return;case 48:{const o=this.input.charCodeAt(this.state.pos+1);if(o===120||o===88){this.readRadixNumber(16);return}if(o===111||o===79){this.readRadixNumber(8);return}if(o===98||o===66){this.readRadixNumber(2);return}}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:this.readNumber(!1);return;case 34:case 39:this.readString(y);return;case 47:this.readToken_slash();return;case 37:case 42:this.readToken_mult_modulo(y);return;case 124:case 38:this.readToken_pipe_amp(y);return;case 94:this.readToken_caret();return;case 43:case 45:this.readToken_plus_min(y);return;case 60:this.readToken_lt();return;case 62:this.readToken_gt();return;case 61:case 33:this.readToken_eq_excl(y);return;case 126:this.finishOp(36,1);return;case 64:this.readToken_atSign();return;case 35:this.readToken_numberSign();return;case 92:this.readWord();return;default:if(Be(y)){this.readWord(y);return}}throw this.raise(S.InvalidOrUnexpectedToken,this.state.curPosition(),{unexpected:String.fromCodePoint(y)})}finishOp(y,o){const g=this.input.slice(this.state.pos,this.state.pos+o);this.state.pos+=o,this.finishToken(y,g)}readRegexp(){const y=this.state.startLoc,o=this.state.start+1;let g,b,{pos:k}=this.state;for(;;++k){if(k>=this.length)throw this.raise(S.UnterminatedRegExp,r(y,1));const Pe=this.input.charCodeAt(k);if(Lr(Pe))throw this.raise(S.UnterminatedRegExp,r(y,1));if(g)g=!1;else{if(Pe===91)b=!0;else if(Pe===93&&b)b=!1;else if(Pe===47&&!b)break;g=Pe===92}}const ne=this.input.slice(o,k);++k;let le="";const ye=()=>r(y,k+2-o);for(;k<this.length;){const Pe=this.codePointAtPos(k),Ie=String.fromCharCode(Pe);if(co.has(Pe))Pe===118?le.includes("u")&&this.raise(S.IncompatibleRegExpUVFlags,ye()):Pe===117&&le.includes("v")&&this.raise(S.IncompatibleRegExpUVFlags,ye()),le.includes(Ie)&&this.raise(S.DuplicateRegExpFlags,ye());else if(Xe(Pe)||Pe===92)this.raise(S.MalformedRegExpFlags,ye());else break;++k,le+=Ie}this.state.pos=k,this.finishToken(138,{pattern:ne,flags:le})}readInt(y,o,g=!1,b=!0){const{n:k,pos:ne}=pi(this.input,this.state.pos,this.state.lineStart,this.state.curLine,y,o,g,b,this.errorHandlers_readInt,!1);return this.state.pos=ne,k}readRadixNumber(y){const o=this.state.pos,g=this.state.curPosition();let b=!1;this.state.pos+=2;const k=this.readInt(y);k==null&&this.raise(S.InvalidDigit,r(g,2),{radix:y});const ne=this.input.charCodeAt(this.state.pos);if(ne===110)++this.state.pos,b=!0;else if(ne===109)throw this.raise(S.InvalidDecimal,g);if(Be(this.codePointAtPos(this.state.pos)))throw this.raise(S.NumberIdentifier,this.state.curPosition());if(b){const le=this.input.slice(o,this.state.pos).replace(/[_n]/g,"");this.finishToken(136,le);return}this.finishToken(135,k)}readNumber(y){const o=this.state.pos,g=this.state.curPosition();let b=!1,k=!1,ne=!1,le=!1;!y&&this.readInt(10)===null&&this.raise(S.InvalidNumber,this.state.curPosition());const ye=this.state.pos-o>=2&&this.input.charCodeAt(o)===48;if(ye){const bt=this.input.slice(o,this.state.pos);if(this.recordStrictModeErrors(S.StrictOctalLiteral,g),!this.state.strict){const Rt=bt.indexOf("_");Rt>0&&this.raise(S.ZeroDigitNumericSeparator,r(g,Rt))}le=ye&&!/[89]/.test(bt)}let Pe=this.input.charCodeAt(this.state.pos);if(Pe===46&&!le&&(++this.state.pos,this.readInt(10),b=!0,Pe=this.input.charCodeAt(this.state.pos)),(Pe===69||Pe===101)&&!le&&(Pe=this.input.charCodeAt(++this.state.pos),(Pe===43||Pe===45)&&++this.state.pos,this.readInt(10)===null&&this.raise(S.InvalidOrMissingExponent,g),b=!0,ne=!0,Pe=this.input.charCodeAt(this.state.pos)),Pe===110&&((b||ye)&&this.raise(S.InvalidBigIntLiteral,g),++this.state.pos,k=!0),Pe===109){this.expectPlugin("decimal",this.state.curPosition()),(ne||ye)&&this.raise(S.InvalidDecimal,g),++this.state.pos;var Ie=!0}if(Be(this.codePointAtPos(this.state.pos)))throw this.raise(S.NumberIdentifier,this.state.curPosition());const Je=this.input.slice(o,this.state.pos).replace(/[_mn]/g,"");if(k){this.finishToken(136,Je);return}if(Ie){this.finishToken(137,Je);return}const mt=le?parseInt(Je,8):parseFloat(Je);this.finishToken(135,mt)}readCodePoint(y){const{code:o,pos:g}=As(this.input,this.state.pos,this.state.lineStart,this.state.curLine,y,this.errorHandlers_readCodePoint);return this.state.pos=g,o}readString(y){const{str:o,pos:g,curLine:b,lineStart:k}=Ri(y===34?"double":"single",this.input,this.state.pos+1,this.state.lineStart,this.state.curLine,this.errorHandlers_readStringContents_string);this.state.pos=g+1,this.state.lineStart=k,this.state.curLine=b,this.finishToken(134,o)}readTemplateContinuation(){this.match(8)||this.unexpected(null,8),this.state.pos--,this.readTemplateToken()}readTemplateToken(){const y=this.input[this.state.pos],{str:o,firstInvalidLoc:g,pos:b,curLine:k,lineStart:ne}=Ri("template",this.input,this.state.pos+1,this.state.lineStart,this.state.curLine,this.errorHandlers_readStringContents_template);this.state.pos=b+1,this.state.lineStart=ne,this.state.curLine=k,g&&(this.state.firstInvalidTemplateEscapePos=new e(g.curLine,g.pos-g.lineStart,this.sourceToOffsetPos(g.pos))),this.input.codePointAt(b)===96?this.finishToken(24,g?null:y+o+"`"):(this.state.pos++,this.finishToken(25,g?null:y+o+"${"))}recordStrictModeErrors(y,o){const g=o.index;this.state.strict&&!this.state.strictErrors.has(g)?this.raise(y,o):this.state.strictErrors.set(g,[y,o])}readWord1(y){this.state.containsEsc=!1;let o="";const g=this.state.pos;let b=this.state.pos;for(y!==void 0&&(this.state.pos+=y<=65535?1:2);this.state.pos<this.length;){const k=this.codePointAtPos(this.state.pos);if(Xe(k))this.state.pos+=k<=65535?1:2;else if(k===92){this.state.containsEsc=!0,o+=this.input.slice(b,this.state.pos);const ne=this.state.curPosition(),le=this.state.pos===g?Be:Xe;if(this.input.charCodeAt(++this.state.pos)!==117){this.raise(S.MissingUnicodeEscape,this.state.curPosition()),b=this.state.pos-1;continue}++this.state.pos;const ye=this.readCodePoint(!0);ye!==null&&(le(ye)||this.raise(S.EscapedCharNotAnIdentifier,ne),o+=String.fromCodePoint(ye)),b=this.state.pos}else break}return o+this.input.slice(b,this.state.pos)}readWord(y){const o=this.readWord1(y),g=re.get(o);g!==void 0?this.finishToken(g,Fe(g)):this.finishToken(132,o)}checkKeywordEscapes(){const{type:y}=this.state;rt(y)&&this.state.containsEsc&&this.raise(S.InvalidEscapedReservedWord,this.state.startLoc,{reservedWord:Fe(y)})}raise(y,o,g={}){const b=o instanceof e?o:o.loc.start,k=y(b,g);if(!(this.optionFlags&2048))throw k;return this.isLookahead||this.state.errors.push(k),k}raiseOverwrite(y,o,g={}){const b=o instanceof e?o:o.loc.start,k=b.index,ne=this.state.errors;for(let le=ne.length-1;le>=0;le--){const ye=ne[le];if(ye.loc.index===k)return ne[le]=y(b,g);if(ye.loc.index<k)break}return this.raise(y,o,g)}updateContext(y){}unexpected(y,o){throw this.raise(S.UnexpectedToken,y??this.state.startLoc,{expected:o?Fe(o):null})}expectPlugin(y,o){if(this.hasPlugin(y))return!0;throw this.raise(S.MissingPlugin,o??this.state.startLoc,{missingPlugin:[y]})}expectOnePlugin(y){if(!y.some(o=>this.hasPlugin(o)))throw this.raise(S.MissingOneOfPlugins,this.state.startLoc,{missingPlugin:y})}errorBuilder(y){return(o,g,b)=>{this.raise(y,Ns(o,g,b))}}}class ll{constructor(){this.privateNames=new Set,this.loneAccessors=new Map,this.undefinedPrivateNames=new Map}}class po{constructor(y){this.parser=void 0,this.stack=[],this.undefinedPrivateNames=new Map,this.parser=y}current(){return this.stack[this.stack.length-1]}enter(){this.stack.push(new ll)}exit(){const y=this.stack.pop(),o=this.current();for(const[g,b]of Array.from(y.undefinedPrivateNames))o?o.undefinedPrivateNames.has(g)||o.undefinedPrivateNames.set(g,b):this.parser.raise(S.InvalidPrivateFieldResolution,b,{identifierName:g})}declarePrivateName(y,o,g){const{privateNames:b,loneAccessors:k,undefinedPrivateNames:ne}=this.current();let le=b.has(y);if(o&3){const ye=le&&k.get(y);if(ye){const Pe=ye&4,Ie=o&4,Je=ye&3,mt=o&3;le=Je===mt||Pe!==Ie,le||k.delete(y)}else le||k.set(y,o)}le&&this.parser.raise(S.PrivateNameRedeclaration,g,{identifierName:y}),b.add(y),ne.delete(y)}usePrivateName(y,o){let g;for(g of this.stack)if(g.privateNames.has(y))return;g?g.undefinedPrivateNames.set(y,o):this.parser.raise(S.InvalidPrivateFieldResolution,o,{identifierName:y})}}class Bi{constructor(y=0){this.type=y}canBeArrowParameterDeclaration(){return this.type===2||this.type===1}isCertainlyParameterDeclaration(){return this.type===3}}class fo extends Bi{constructor(y){super(y),this.declarationErrors=new Map}recordDeclarationError(y,o){const g=o.index;this.declarationErrors.set(g,[y,o])}clearDeclarationError(y){this.declarationErrors.delete(y)}iterateErrors(y){this.declarationErrors.forEach(y)}}class ul{constructor(y){this.parser=void 0,this.stack=[new Bi],this.parser=y}enter(y){this.stack.push(y)}exit(){this.stack.pop()}recordParameterInitializerError(y,o){const g=o.loc.start,{stack:b}=this;let k=b.length-1,ne=b[k];for(;!ne.isCertainlyParameterDeclaration();){if(ne.canBeArrowParameterDeclaration())ne.recordDeclarationError(y,g);else return;ne=b[--k]}this.parser.raise(y,g)}recordArrowParameterBindingError(y,o){const{stack:g}=this,b=g[g.length-1],k=o.loc.start;if(b.isCertainlyParameterDeclaration())this.parser.raise(y,k);else if(b.canBeArrowParameterDeclaration())b.recordDeclarationError(y,k);else return}recordAsyncArrowParametersError(y){const{stack:o}=this;let g=o.length-1,b=o[g];for(;b.canBeArrowParameterDeclaration();)b.type===2&&b.recordDeclarationError(S.AwaitBindingIdentifier,y),b=o[--g]}validateAsPattern(){const{stack:y}=this,o=y[y.length-1];o.canBeArrowParameterDeclaration()&&o.iterateErrors(([g,b])=>{this.parser.raise(g,b);let k=y.length-2,ne=y[k];for(;ne.canBeArrowParameterDeclaration();)ne.clearDeclarationError(b.index),ne=y[--k]})}}function ho(){return new Bi(3)}function ba(){return new fo(1)}function _s(){return new fo(2)}function ys(){return new Bi}class Cs extends ol{addExtra(y,o,g,b=!0){if(!y)return;let{extra:k}=y;k==null&&(k={},y.extra=k),b?k[o]=g:Object.defineProperty(k,o,{enumerable:b,value:g})}isContextual(y){return this.state.type===y&&!this.state.containsEsc}isUnparsedContextual(y,o){if(this.input.startsWith(o,y)){const g=this.input.charCodeAt(y+o.length);return!(Xe(g)||(g&64512)===55296)}return!1}isLookaheadContextual(y){const o=this.nextTokenStart();return this.isUnparsedContextual(o,y)}eatContextual(y){return this.isContextual(y)?(this.next(),!0):!1}expectContextual(y,o){if(!this.eatContextual(y)){if(o!=null)throw this.raise(o,this.state.startLoc);this.unexpected(null,y)}}canInsertSemicolon(){return this.match(140)||this.match(8)||this.hasPrecedingLineBreak()}hasPrecedingLineBreak(){return Li(this.input,this.offsetToSourcePos(this.state.lastTokEndLoc.index),this.state.start)}hasFollowingLineBreak(){return Li(this.input,this.state.end,this.nextTokenStart())}isLineTerminator(){return this.eat(13)||this.canInsertSemicolon()}semicolon(y=!0){(y?this.isLineTerminator():this.eat(13))||this.raise(S.MissingSemicolon,this.state.lastTokEndLoc)}expect(y,o){this.eat(y)||this.unexpected(o,y)}tryParse(y,o=this.state.clone()){const g={node:null};try{const b=y((k=null)=>{throw g.node=k,g});if(this.state.errors.length>o.errors.length){const k=this.state;return this.state=o,this.state.tokensLength=k.tokensLength,{node:b,error:k.errors[o.errors.length],thrown:!1,aborted:!1,failState:k}}return{node:b,error:null,thrown:!1,aborted:!1,failState:null}}catch(b){const k=this.state;if(this.state=o,b instanceof SyntaxError)return{node:null,error:b,thrown:!0,aborted:!1,failState:k};if(b===g)return{node:g.node,error:null,thrown:!1,aborted:!0,failState:k};throw b}}checkExpressionErrors(y,o){if(!y)return!1;const{shorthandAssignLoc:g,doubleProtoLoc:b,privateKeyLoc:k,optionalParametersLoc:ne,voidPatternLoc:le}=y,ye=!!g||!!b||!!ne||!!k||!!le;if(!o)return ye;g!=null&&this.raise(S.InvalidCoverInitializedName,g),b!=null&&this.raise(S.DuplicateProto,b),k!=null&&this.raise(S.UnexpectedPrivateField,k),ne!=null&&this.unexpected(ne),le!=null&&this.raise(S.InvalidCoverDiscardElement,le)}isLiteralPropertyName(){return it(this.state.type)}isPrivateName(y){return y.type==="PrivateName"}getPrivateNameSV(y){return y.id.name}hasPropertyAsPrivateName(y){return(y.type==="MemberExpression"||y.type==="OptionalMemberExpression")&&this.isPrivateName(y.property)}isObjectProperty(y){return y.type==="ObjectProperty"}isObjectMethod(y){return y.type==="ObjectMethod"}initializeScopes(y=this.options.sourceType==="module"){const o=this.state.labels;this.state.labels=[];const g=this.exportedIdentifiers;this.exportedIdentifiers=new Set;const b=this.inModule;this.inModule=y;const k=this.scope,ne=this.getScopeHandler();this.scope=new ne(this,y);const le=this.prodParam;this.prodParam=new Ta;const ye=this.classScope;this.classScope=new po(this);const Pe=this.expressionScope;return this.expressionScope=new ul(this),()=>{this.state.labels=o,this.exportedIdentifiers=g,this.inModule=b,this.scope=k,this.prodParam=le,this.classScope=ye,this.expressionScope=Pe}}enterInitialScopes(){let y=0;(this.inModule||this.optionFlags&1)&&(y|=2),this.optionFlags&32&&(y|=1);const o=!this.inModule&&this.options.sourceType==="commonjs";(o||this.optionFlags&2)&&(y|=4),this.prodParam.enter(y);let g=o?514:1;this.optionFlags&4&&(g|=512),this.scope.enter(g)}checkDestructuringPrivate(y){const{privateKeyLoc:o}=y;o!==null&&this.expectPlugin("destructuringPrivate",o)}}class Is{constructor(){this.shorthandAssignLoc=null,this.doubleProtoLoc=null,this.privateKeyLoc=null,this.optionalParametersLoc=null,this.voidPatternLoc=null}}class Ms{constructor(y,o,g){this.type="",this.start=o,this.end=0,this.loc=new t(g),y?.optionFlags&128&&(this.range=[o,0]),y!=null&&y.filename&&(this.loc.filename=y.filename)}}const rs=Ms.prototype;rs.__clone=function(){const G=new Ms(void 0,this.start,this.loc.start),y=Object.keys(this);for(let o=0,g=y.length;o<g;o++){const b=y[o];b!=="leadingComments"&&b!=="trailingComments"&&b!=="innerComments"&&(G[b]=this[b])}return G};class su extends Cs{startNode(){const y=this.state.startLoc;return new Ms(this,y.index,y)}startNodeAt(y){return new Ms(this,y.index,y)}startNodeAtNode(y){return this.startNodeAt(y.loc.start)}finishNode(y,o){return this.finishNodeAt(y,o,this.state.lastTokEndLoc)}finishNodeAt(y,o,g){return y.type=o,y.end=g.index,y.loc.end=g,this.optionFlags&128&&(y.range[1]=g.index),this.optionFlags&4096&&this.processComment(y),y}resetStartLocation(y,o){y.start=o.index,y.loc.start=o,this.optionFlags&128&&(y.range[0]=o.index)}resetEndLocation(y,o=this.state.lastTokEndLoc){y.end=o.index,y.loc.end=o,this.optionFlags&128&&(y.range[1]=o.index)}resetStartLocationFromNode(y,o){this.resetStartLocation(y,o.loc.start)}castNodeTo(y,o){return y.type=o,y}cloneIdentifier(y){const{type:o,start:g,end:b,loc:k,range:ne,name:le}=y,ye=Object.create(rs);return ye.type=o,ye.start=g,ye.end=b,ye.loc=k,ye.range=ne,ye.name=le,y.extra&&(ye.extra=y.extra),ye}cloneStringLiteral(y){const{type:o,start:g,end:b,loc:k,range:ne,extra:le}=y,ye=Object.create(rs);return ye.type=o,ye.start=g,ye.end=b,ye.loc=k,ye.range=ne,ye.extra=le,ye.value=y.value,ye}}const wa=G=>G.type==="ParenthesizedExpression"?wa(G.expression):G;class Vi extends su{toAssignable(y,o=!1){var g,b;let k;switch((y.type==="ParenthesizedExpression"||(g=y.extra)!=null&&g.parenthesized)&&(k=wa(y),o?k.type==="Identifier"?this.expressionScope.recordArrowParameterBindingError(S.InvalidParenthesizedAssignment,y):k.type!=="CallExpression"&&k.type!=="MemberExpression"&&!this.isOptionalMemberExpression(k)&&this.raise(S.InvalidParenthesizedAssignment,y):this.raise(S.InvalidParenthesizedAssignment,y)),y.type){case"Identifier":case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":case"RestElement":case"VoidPattern":break;case"ObjectExpression":this.castNodeTo(y,"ObjectPattern");for(let le=0,ye=y.properties.length,Pe=ye-1;le<ye;le++){var ne;const Ie=y.properties[le],Je=le===Pe;this.toAssignableObjectExpressionProp(Ie,Je,o),Je&&Ie.type==="RestElement"&&(ne=y.extra)!=null&&ne.trailingCommaLoc&&this.raise(S.RestTrailingComma,y.extra.trailingCommaLoc)}break;case"ObjectProperty":{const{key:le,value:ye}=y;this.isPrivateName(le)&&this.classScope.usePrivateName(this.getPrivateNameSV(le),le.loc.start),this.toAssignable(ye,o);break}case"SpreadElement":throw new Error("Internal @babel/parser error (this is a bug, please report it). SpreadElement should be converted by .toAssignable's caller.");case"ArrayExpression":this.castNodeTo(y,"ArrayPattern"),this.toAssignableList(y.elements,(b=y.extra)==null?void 0:b.trailingCommaLoc,o);break;case"AssignmentExpression":y.operator!=="="&&this.raise(S.MissingEqInAssignment,y.left.loc.end),this.castNodeTo(y,"AssignmentPattern"),delete y.operator,y.left.type==="VoidPattern"&&this.raise(S.VoidPatternInitializer,y.left),this.toAssignable(y.left,o);break;case"ParenthesizedExpression":this.toAssignable(k,o);break}}toAssignableObjectExpressionProp(y,o,g){if(y.type==="ObjectMethod")this.raise(y.kind==="get"||y.kind==="set"?S.PatternHasAccessor:S.PatternHasMethod,y.key);else if(y.type==="SpreadElement"){this.castNodeTo(y,"RestElement");const b=y.argument;this.checkToRestConversion(b,!1),this.toAssignable(b,g),o||this.raise(S.RestTrailingComma,y)}else this.toAssignable(y,g)}toAssignableList(y,o,g){const b=y.length-1;for(let k=0;k<=b;k++){const ne=y[k];ne&&(this.toAssignableListItem(y,k,g),ne.type==="RestElement"&&(k<b?this.raise(S.RestTrailingComma,ne):o&&this.raise(S.RestTrailingComma,o)))}}toAssignableListItem(y,o,g){const b=y[o];if(b.type==="SpreadElement"){this.castNodeTo(b,"RestElement");const k=b.argument;this.checkToRestConversion(k,!0),this.toAssignable(k,g)}else this.toAssignable(b,g)}isAssignable(y,o){switch(y.type){case"Identifier":case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":case"RestElement":case"VoidPattern":return!0;case"ObjectExpression":{const g=y.properties.length-1;return y.properties.every((b,k)=>b.type!=="ObjectMethod"&&(k===g||b.type!=="SpreadElement")&&this.isAssignable(b))}case"ObjectProperty":return this.isAssignable(y.value);case"SpreadElement":return this.isAssignable(y.argument);case"ArrayExpression":return y.elements.every(g=>g===null||this.isAssignable(g));case"AssignmentExpression":return y.operator==="=";case"ParenthesizedExpression":return this.isAssignable(y.expression);case"MemberExpression":case"OptionalMemberExpression":return!o;default:return!1}}toReferencedList(y,o){return y}toReferencedListDeep(y,o){this.toReferencedList(y,o);for(const g of y)g?.type==="ArrayExpression"&&this.toReferencedListDeep(g.elements)}parseSpread(y){const o=this.startNode();return this.next(),o.argument=this.parseMaybeAssignAllowIn(y,void 0),this.finishNode(o,"SpreadElement")}parseRestBinding(){const y=this.startNode();this.next();const o=this.parseBindingAtom();return o.type==="VoidPattern"&&this.raise(S.UnexpectedVoidPattern,o),y.argument=o,this.finishNode(y,"RestElement")}parseBindingAtom(){switch(this.state.type){case 0:{const y=this.startNode();return this.next(),y.elements=this.parseBindingList(3,93,1),this.finishNode(y,"ArrayPattern")}case 5:return this.parseObjectLike(8,!0);case 88:return this.parseVoidPattern(null)}return this.parseIdentifier()}parseBindingList(y,o,g){const b=g&1,k=[];let ne=!0;for(;!this.eat(y);)if(ne?ne=!1:this.expect(12),b&&this.match(12))k.push(null);else{if(this.eat(y))break;if(this.match(21)){let le=this.parseRestBinding();if((this.hasPlugin("flow")||g&2)&&(le=this.parseFunctionParamType(le)),k.push(le),!this.checkCommaAfterRest(o)){this.expect(y);break}}else{const le=[];if(g&2)for(this.match(26)&&this.hasPlugin("decorators")&&this.raise(S.UnsupportedParameterDecorator,this.state.startLoc);this.match(26);)le.push(this.parseDecorator());k.push(this.parseBindingElement(g,le))}}return k}parseBindingRestProperty(y){return this.next(),this.hasPlugin("discardBinding")&&this.match(88)?(y.argument=this.parseVoidPattern(null),this.raise(S.UnexpectedVoidPattern,y.argument)):y.argument=this.parseIdentifier(),this.checkCommaAfterRest(125),this.finishNode(y,"RestElement")}parseBindingProperty(){const{type:y,startLoc:o}=this.state;if(y===21)return this.parseBindingRestProperty(this.startNode());const g=this.startNode();return y===139?(this.expectPlugin("destructuringPrivate",o),this.classScope.usePrivateName(this.state.value,o),g.key=this.parsePrivateName()):this.parsePropertyName(g),g.method=!1,this.parseObjPropValue(g,o,!1,!1,!0,!1)}parseBindingElement(y,o){const g=this.parseMaybeDefault();return(this.hasPlugin("flow")||y&2)&&this.parseFunctionParamType(g),o.length&&(g.decorators=o,this.resetStartLocationFromNode(g,o[0])),this.parseMaybeDefault(g.loc.start,g)}parseFunctionParamType(y){return y}parseMaybeDefault(y,o){if(y??(y=this.state.startLoc),o=o??this.parseBindingAtom(),!this.eat(29))return o;const g=this.startNodeAt(y);return o.type==="VoidPattern"&&this.raise(S.VoidPatternInitializer,o),g.left=o,g.right=this.parseMaybeAssignAllowIn(),this.finishNode(g,"AssignmentPattern")}isValidLVal(y,o,g,b){switch(y){case"AssignmentPattern":return"left";case"RestElement":return"argument";case"ObjectProperty":return"value";case"ParenthesizedExpression":return"expression";case"ArrayPattern":return"elements";case"ObjectPattern":return"properties";case"VoidPattern":return!0;case"CallExpression":if(!o&&!this.state.strict&&this.optionFlags&8192)return!0}return!1}isOptionalMemberExpression(y){return y.type==="OptionalMemberExpression"}checkLVal(y,o,g=64,b=!1,k=!1,ne=!1,le=!1){var ye;const Pe=y.type;if(this.isObjectMethod(y))return;const Ie=this.isOptionalMemberExpression(y);if(Ie||Pe==="MemberExpression"){Ie&&(this.expectPlugin("optionalChainingAssign",y.loc.start),o.type!=="AssignmentExpression"&&this.raise(S.InvalidLhsOptionalChaining,y,{ancestor:o})),g!==64&&this.raise(S.InvalidPropertyBindingPattern,y);return}if(Pe==="Identifier"){this.checkIdentifier(y,g,k);const{name:nn}=y;b&&(b.has(nn)?this.raise(S.ParamDupe,y):b.add(nn));return}else Pe==="VoidPattern"&&o.type==="CatchClause"&&this.raise(S.VoidPatternCatchClauseParam,y);const Je=wa(y);le||(le=Je.type==="CallExpression"&&(Je.callee.type==="Import"||Je.callee.type==="Super"));const mt=this.isValidLVal(Pe,le,!(ne||(ye=y.extra)!=null&&ye.parenthesized)&&o.type==="AssignmentExpression",g);if(mt===!0)return;if(mt===!1){const nn=g===64?S.InvalidLhs:S.InvalidLhsBinding;this.raise(nn,y,{ancestor:o});return}let bt,Rt;typeof mt=="string"?(bt=mt,Rt=Pe==="ParenthesizedExpression"):[bt,Rt]=mt;const yn=Pe==="ArrayPattern"||Pe==="ObjectPattern"?{type:Pe}:o,Ln=y[bt];if(Array.isArray(Ln))for(const nn of Ln)nn&&this.checkLVal(nn,yn,g,b,k,Rt,!0);else Ln&&this.checkLVal(Ln,yn,g,b,k,Rt,le)}checkIdentifier(y,o,g=!1){this.state.strict&&(g?Ht(y.name,this.inModule):Mt(y.name))&&(o===64?this.raise(S.StrictEvalArguments,y,{referenceName:y.name}):this.raise(S.StrictEvalArgumentsBinding,y,{bindingName:y.name})),o&8192&&y.name==="let"&&this.raise(S.LetInLexicalBinding,y),o&64||this.declareNameFromIdentifier(y,o)}declareNameFromIdentifier(y,o){this.scope.declareName(y.name,o,y.loc.start)}checkToRestConversion(y,o){switch(y.type){case"ParenthesizedExpression":this.checkToRestConversion(y.expression,o);break;case"Identifier":case"MemberExpression":break;case"ArrayExpression":case"ObjectExpression":if(o)break;default:this.raise(S.InvalidRestAssignmentPattern,y)}}checkCommaAfterRest(y){return this.match(12)?(this.raise(this.lookaheadCharCode()===y?S.RestTrailingComma:S.ElementAfterRest,this.state.startLoc),!0):!1}}const mo=/in(?:stanceof)?|as|satisfies/y;function cl(G){if(G==null)throw new Error(`Unexpected ${G} value.`);return G}function ji(G){if(!G)throw new Error("Assert fail")}const Lt=P`typescript`({AbstractMethodHasImplementation:({methodName:G})=>`Method '${G}' cannot have an implementation because it is marked abstract.`,AbstractPropertyHasInitializer:({propertyName:G})=>`Property '${G}' cannot have an initializer because it is marked abstract.`,AccessorCannotBeOptional:"An 'accessor' property cannot be declared optional.",AccessorCannotDeclareThisParameter:"'get' and 'set' accessors cannot declare 'this' parameters.",AccessorCannotHaveTypeParameters:"An accessor cannot have type parameters.",ClassMethodHasDeclare:"Class methods cannot have the 'declare' modifier.",ClassMethodHasReadonly:"Class methods cannot have the 'readonly' modifier.",ConstInitializerMustBeStringOrNumericLiteralOrLiteralEnumReference:"A 'const' initializer in an ambient context must be a string or numeric literal or literal enum reference.",ConstructorHasTypeParameters:"Type parameters cannot appear on a constructor declaration.",DeclareAccessor:({kind:G})=>`'declare' is not allowed in ${G}ters.`,DeclareClassFieldHasInitializer:"Initializers are not allowed in ambient contexts.",DeclareFunctionHasImplementation:"An implementation cannot be declared in ambient contexts.",DuplicateAccessibilityModifier:({modifier:G})=>`Accessibility modifier already seen: '${G}'.`,DuplicateModifier:({modifier:G})=>`Duplicate modifier: '${G}'.`,EmptyHeritageClauseType:({token:G})=>`'${G}' list cannot be empty.`,EmptyTypeArguments:"Type argument list cannot be empty.",EmptyTypeParameters:"Type parameter list cannot be empty.",ExpectedAmbientAfterExportDeclare:"'export declare' must be followed by an ambient declaration.",ImportAliasHasImportType:"An import alias can not use 'import type'.",ImportReflectionHasImportType:"An `import module` declaration can not use `type` modifier",IncompatibleModifiers:({modifiers:G})=>`'${G[0]}' modifier cannot be used with '${G[1]}' modifier.`,IndexSignatureHasAbstract:"Index signatures cannot have the 'abstract' modifier.",IndexSignatureHasAccessibility:({modifier:G})=>`Index signatures cannot have an accessibility modifier ('${G}').`,IndexSignatureHasDeclare:"Index signatures cannot have the 'declare' modifier.",IndexSignatureHasOverride:"'override' modifier cannot appear on an index signature.",IndexSignatureHasStatic:"Index signatures cannot have the 'static' modifier.",InitializerNotAllowedInAmbientContext:"Initializers are not allowed in ambient contexts.",InvalidHeritageClauseType:({token:G})=>`'${G}' list can only include identifiers or qualified-names with optional type arguments.`,InvalidModifierOnAwaitUsingDeclaration:G=>`'${G}' modifier cannot appear on an await using declaration.`,InvalidModifierOnTypeMember:({modifier:G})=>`'${G}' modifier cannot appear on a type member.`,InvalidModifierOnTypeParameter:({modifier:G})=>`'${G}' modifier cannot appear on a type parameter.`,InvalidModifierOnTypeParameterPositions:({modifier:G})=>`'${G}' modifier can only appear on a type parameter of a class, interface or type alias.`,InvalidModifierOnUsingDeclaration:G=>`'${G}' modifier cannot appear on a using declaration.`,InvalidModifiersOrder:({orderedModifiers:G})=>`'${G[0]}' modifier must precede '${G[1]}' modifier.`,InvalidPropertyAccessAfterInstantiationExpression:"Invalid property access after an instantiation expression. You can either wrap the instantiation expression in parentheses, or delete the type arguments.",InvalidTupleMemberLabel:"Tuple members must be labeled with a simple identifier.",MissingInterfaceName:"'interface' declarations must be followed by an identifier.",NonAbstractClassHasAbstractMethod:"Abstract methods can only appear within an abstract class.",NonClassMethodPropertyHasAbstractModifier:"'abstract' modifier can only appear on a class, method, or property declaration.",OptionalTypeBeforeRequired:"A required element cannot follow an optional element.",OverrideNotInSubClass:"This member cannot have an 'override' modifier because its containing class does not extend another class.",PatternIsOptional:"A binding pattern parameter cannot be optional in an implementation signature.",PrivateElementHasAbstract:"Private elements cannot have the 'abstract' modifier.",PrivateElementHasAccessibility:({modifier:G})=>`Private elements cannot have an accessibility modifier ('${G}').`,ReadonlyForMethodSignature:"'readonly' modifier can only appear on a property declaration or index signature.",ReservedArrowTypeParam:"This syntax is reserved in files with the .mts or .cts extension. Add a trailing comma, as in `<T,>() => ...`.",ReservedTypeAssertion:"This syntax is reserved in files with the .mts or .cts extension. Use an `as` expression instead.",SetAccessorCannotHaveOptionalParameter:"A 'set' accessor cannot have an optional parameter.",SetAccessorCannotHaveRestParameter:"A 'set' accessor cannot have rest parameter.",SetAccessorCannotHaveReturnType:"A 'set' accessor cannot have a return type annotation.",SingleTypeParameterWithoutTrailingComma:({typeParameterName:G})=>`Single type parameter ${G} should have a trailing comma. Example usage: <${G},>.`,StaticBlockCannotHaveModifier:"Static class blocks cannot have any modifier.",TupleOptionalAfterType:"A labeled tuple optional element must be declared using a question mark after the name and before the colon (`name?: type`), rather than after the type (`name: type?`).",TypeAnnotationAfterAssign:"Type annotations must come before default assignments, e.g. instead of `age = 25: number` use `age: number = 25`.",TypeImportCannotSpecifyDefaultAndNamed:"A type-only import can specify a default import or named bindings, but not both.",TypeModifierIsUsedInTypeExports:"The 'type' modifier cannot be used on a named export when 'export type' is used on its export statement.",TypeModifierIsUsedInTypeImports:"The 'type' modifier cannot be used on a named import when 'import type' is used on its import statement.",UnexpectedParameterModifier:"A parameter property is only allowed in a constructor implementation.",UnexpectedReadonly:"'readonly' type modifier is only permitted on array and tuple literal types.",UnexpectedTypeAnnotation:"Did not expect a type annotation here.",UnexpectedTypeCastInParameter:"Unexpected type cast in parameter position.",UnsupportedImportTypeArgument:"Argument in a type import must be a string literal.",UnsupportedParameterPropertyKind:"A parameter property may not be declared using a binding pattern.",UnsupportedSignatureParameterKind:({type:G})=>`Name in a signature must be an Identifier, ObjectPattern or ArrayPattern, instead got ${G}.`,UsingDeclarationInAmbientContext:G=>`'${G}' declarations are not allowed in ambient contexts.`});function iu(G){switch(G){case"any":return"TSAnyKeyword";case"boolean":return"TSBooleanKeyword";case"bigint":return"TSBigIntKeyword";case"never":return"TSNeverKeyword";case"number":return"TSNumberKeyword";case"object":return"TSObjectKeyword";case"string":return"TSStringKeyword";case"symbol":return"TSSymbolKeyword";case"undefined":return"TSUndefinedKeyword";case"unknown":return"TSUnknownKeyword";default:return}}function di(G){return G==="private"||G==="public"||G==="protected"}function zi(G){return G==="in"||G==="out"}var fi=G=>class extends G{constructor(...o){super(...o),this.tsParseInOutModifiers=this.tsParseModifiers.bind(this,{allowedModifiers:["in","out"],disallowedModifiers:["const","public","private","protected","readonly","declare","abstract","override"],errorTemplate:Lt.InvalidModifierOnTypeParameter}),this.tsParseConstModifier=this.tsParseModifiers.bind(this,{allowedModifiers:["const"],disallowedModifiers:["in","out"],errorTemplate:Lt.InvalidModifierOnTypeParameterPositions}),this.tsParseInOutConstModifiers=this.tsParseModifiers.bind(this,{allowedModifiers:["in","out","const"],disallowedModifiers:["public","private","protected","readonly","declare","abstract","override"],errorTemplate:Lt.InvalidModifierOnTypeParameter})}getScopeHandler(){return oo}tsIsIdentifier(){return Ue(this.state.type)}tsTokenCanFollowModifier(){return this.match(0)||this.match(5)||this.match(55)||this.match(21)||this.match(139)||this.isLiteralPropertyName()}tsNextTokenOnSameLineAndCanFollowModifier(){return this.next(),this.hasPrecedingLineBreak()?!1:this.tsTokenCanFollowModifier()}tsNextTokenCanFollowModifier(){return this.match(106)?(this.next(),this.tsTokenCanFollowModifier()):this.tsNextTokenOnSameLineAndCanFollowModifier()}tsParseModifier(o,g,b){if(!Ue(this.state.type)&&this.state.type!==58&&this.state.type!==75)return;const k=this.state.value;if(o.includes(k)){if(b&&this.match(106)||g&&this.tsIsStartOfStaticBlocks())return;if(this.tsTryParse(this.tsNextTokenCanFollowModifier.bind(this)))return k}}tsParseModifiers({allowedModifiers:o,disallowedModifiers:g,stopOnStartOfClassStaticBlock:b,errorTemplate:k=Lt.InvalidModifierOnTypeMember},ne){const le=(Pe,Ie,Je,mt)=>{Ie===Je&&ne[mt]&&this.raise(Lt.InvalidModifiersOrder,Pe,{orderedModifiers:[Je,mt]})},ye=(Pe,Ie,Je,mt)=>{(ne[Je]&&Ie===mt||ne[mt]&&Ie===Je)&&this.raise(Lt.IncompatibleModifiers,Pe,{modifiers:[Je,mt]})};for(;;){const{startLoc:Pe}=this.state,Ie=this.tsParseModifier(o.concat(g??[]),b,ne.static);if(!Ie)break;di(Ie)?ne.accessibility?this.raise(Lt.DuplicateAccessibilityModifier,Pe,{modifier:Ie}):(le(Pe,Ie,Ie,"override"),le(Pe,Ie,Ie,"static"),le(Pe,Ie,Ie,"readonly"),ne.accessibility=Ie):zi(Ie)?(ne[Ie]&&this.raise(Lt.DuplicateModifier,Pe,{modifier:Ie}),ne[Ie]=!0,le(Pe,Ie,"in","out")):(hasOwnProperty.call(ne,Ie)?this.raise(Lt.DuplicateModifier,Pe,{modifier:Ie}):(le(Pe,Ie,"static","readonly"),le(Pe,Ie,"static","override"),le(Pe,Ie,"override","readonly"),le(Pe,Ie,"abstract","override"),ye(Pe,Ie,"declare","override"),ye(Pe,Ie,"static","abstract")),ne[Ie]=!0),g!=null&&g.includes(Ie)&&this.raise(k,Pe,{modifier:Ie})}}tsIsListTerminator(o){switch(o){case"EnumMembers":case"TypeMembers":return this.match(8);case"HeritageClauseElement":return this.match(5);case"TupleElementTypes":return this.match(3);case"TypeParametersOrArguments":return this.match(48)}}tsParseList(o,g){const b=[];for(;!this.tsIsListTerminator(o);)b.push(g());return b}tsParseDelimitedList(o,g,b){return cl(this.tsParseDelimitedListWorker(o,g,!0,b))}tsParseDelimitedListWorker(o,g,b,k){const ne=[];let le=-1;for(;!this.tsIsListTerminator(o);){le=-1;const ye=g();if(ye==null)return;if(ne.push(ye),this.eat(12)){le=this.state.lastTokStartLoc.index;continue}if(this.tsIsListTerminator(o))break;b&&this.expect(12);return}return k&&(k.value=le),ne}tsParseBracketedList(o,g,b,k,ne){k||(b?this.expect(0):this.expect(47));const le=this.tsParseDelimitedList(o,g,ne);return b?this.expect(3):this.expect(48),le}tsParseImportType(){const o=this.startNode();return this.expect(83),this.expect(10),this.match(134)?o.argument=this.parseStringLiteral(this.state.value):(this.raise(Lt.UnsupportedImportTypeArgument,this.state.startLoc),o.argument=super.parseExprAtom()),this.eat(12)?o.options=this.tsParseImportTypeOptions():o.options=null,this.expect(11),this.eat(16)&&(o.qualifier=this.tsParseEntityName(3)),this.match(47)&&(o.typeParameters=this.tsParseTypeArguments()),this.finishNode(o,"TSImportType")}tsParseImportTypeOptions(){const o=this.startNode();this.expect(5);const g=this.startNode();return this.isContextual(76)?(g.method=!1,g.key=this.parseIdentifier(!0),g.computed=!1,g.shorthand=!1):this.unexpected(null,76),this.expect(14),g.value=this.tsParseImportTypeWithPropertyValue(),o.properties=[this.finishObjectProperty(g)],this.eat(12),this.expect(8),this.finishNode(o,"ObjectExpression")}tsParseImportTypeWithPropertyValue(){const o=this.startNode(),g=[];for(this.expect(5);!this.match(8);){const b=this.state.type;Ue(b)||b===134?g.push(super.parsePropertyDefinition(null)):this.unexpected(),this.eat(12)}return o.properties=g,this.next(),this.finishNode(o,"ObjectExpression")}tsParseEntityName(o){let g;if(o&1&&this.match(78))if(o&2)g=this.parseIdentifier(!0);else{const b=this.startNode();this.next(),g=this.finishNode(b,"ThisExpression")}else g=this.parseIdentifier(!!(o&1));for(;this.eat(16);){const b=this.startNodeAtNode(g);b.left=g,b.right=this.parseIdentifier(!!(o&1)),g=this.finishNode(b,"TSQualifiedName")}return g}tsParseTypeReference(){const o=this.startNode();return o.typeName=this.tsParseEntityName(1),!this.hasPrecedingLineBreak()&&this.match(47)&&(o.typeParameters=this.tsParseTypeArguments()),this.finishNode(o,"TSTypeReference")}tsParseThisTypePredicate(o){this.next();const g=this.startNodeAtNode(o);return g.parameterName=o,g.typeAnnotation=this.tsParseTypeAnnotation(!1),g.asserts=!1,this.finishNode(g,"TSTypePredicate")}tsParseThisTypeNode(){const o=this.startNode();return this.next(),this.finishNode(o,"TSThisType")}tsParseTypeQuery(){const o=this.startNode();return this.expect(87),this.match(83)?o.exprName=this.tsParseImportType():o.exprName=this.tsParseEntityName(3),!this.hasPrecedingLineBreak()&&this.match(47)&&(o.typeParameters=this.tsParseTypeArguments()),this.finishNode(o,"TSTypeQuery")}tsParseTypeParameter(o){const g=this.startNode();return o(g),g.name=this.tsParseTypeParameterName(),g.constraint=this.tsEatThenParseType(81),g.default=this.tsEatThenParseType(29),this.finishNode(g,"TSTypeParameter")}tsTryParseTypeParameters(o){if(this.match(47))return this.tsParseTypeParameters(o)}tsParseTypeParameters(o){const g=this.startNode();this.match(47)||this.match(143)?this.next():this.unexpected();const b={value:-1};return g.params=this.tsParseBracketedList("TypeParametersOrArguments",this.tsParseTypeParameter.bind(this,o),!1,!0,b),g.params.length===0&&this.raise(Lt.EmptyTypeParameters,g),b.value!==-1&&this.addExtra(g,"trailingComma",b.value),this.finishNode(g,"TSTypeParameterDeclaration")}tsFillSignature(o,g){const b=o===19,k="parameters",ne="typeAnnotation";g.typeParameters=this.tsTryParseTypeParameters(this.tsParseConstModifier),this.expect(10),g[k]=this.tsParseBindingListForSignature(),b?g[ne]=this.tsParseTypeOrTypePredicateAnnotation(o):this.match(o)&&(g[ne]=this.tsParseTypeOrTypePredicateAnnotation(o))}tsParseBindingListForSignature(){const o=super.parseBindingList(11,41,2);for(const g of o){const{type:b}=g;(b==="AssignmentPattern"||b==="TSParameterProperty")&&this.raise(Lt.UnsupportedSignatureParameterKind,g,{type:b})}return o}tsParseTypeMemberSemicolon(){!this.eat(12)&&!this.isLineTerminator()&&this.expect(13)}tsParseSignatureMember(o,g){return this.tsFillSignature(14,g),this.tsParseTypeMemberSemicolon(),this.finishNode(g,o)}tsIsUnambiguouslyIndexSignature(){return this.next(),Ue(this.state.type)?(this.next(),this.match(14)):!1}tsTryParseIndexSignature(o){if(!(this.match(0)&&this.tsLookAhead(this.tsIsUnambiguouslyIndexSignature.bind(this))))return;this.expect(0);const g=this.parseIdentifier();g.typeAnnotation=this.tsParseTypeAnnotation(),this.resetEndLocation(g),this.expect(3),o.parameters=[g];const b=this.tsTryParseTypeAnnotation();return b&&(o.typeAnnotation=b),this.tsParseTypeMemberSemicolon(),this.finishNode(o,"TSIndexSignature")}tsParsePropertyOrMethodSignature(o,g){if(this.eat(17)&&(o.optional=!0),this.match(10)||this.match(47)){g&&this.raise(Lt.ReadonlyForMethodSignature,o);const b=o;b.kind&&this.match(47)&&this.raise(Lt.AccessorCannotHaveTypeParameters,this.state.curPosition()),this.tsFillSignature(14,b),this.tsParseTypeMemberSemicolon();const k="parameters",ne="typeAnnotation";if(b.kind==="get")b[k].length>0&&(this.raise(S.BadGetterArity,this.state.curPosition()),this.isThisParam(b[k][0])&&this.raise(Lt.AccessorCannotDeclareThisParameter,this.state.curPosition()));else if(b.kind==="set"){if(b[k].length!==1)this.raise(S.BadSetterArity,this.state.curPosition());else{const le=b[k][0];this.isThisParam(le)&&this.raise(Lt.AccessorCannotDeclareThisParameter,this.state.curPosition()),le.type==="Identifier"&&le.optional&&this.raise(Lt.SetAccessorCannotHaveOptionalParameter,this.state.curPosition()),le.type==="RestElement"&&this.raise(Lt.SetAccessorCannotHaveRestParameter,this.state.curPosition())}b[ne]&&this.raise(Lt.SetAccessorCannotHaveReturnType,b[ne])}else b.kind="method";return this.finishNode(b,"TSMethodSignature")}else{const b=o;g&&(b.readonly=!0);const k=this.tsTryParseTypeAnnotation();return k&&(b.typeAnnotation=k),this.tsParseTypeMemberSemicolon(),this.finishNode(b,"TSPropertySignature")}}tsParseTypeMember(){const o=this.startNode();if(this.match(10)||this.match(47))return this.tsParseSignatureMember("TSCallSignatureDeclaration",o);if(this.match(77)){const b=this.startNode();return this.next(),this.match(10)||this.match(47)?this.tsParseSignatureMember("TSConstructSignatureDeclaration",o):(o.key=this.createIdentifier(b,"new"),this.tsParsePropertyOrMethodSignature(o,!1))}this.tsParseModifiers({allowedModifiers:["readonly"],disallowedModifiers:["declare","abstract","private","protected","public","static","override"]},o);const g=this.tsTryParseIndexSignature(o);return g||(super.parsePropertyName(o),!o.computed&&o.key.type==="Identifier"&&(o.key.name==="get"||o.key.name==="set")&&this.tsTokenCanFollowModifier()&&(o.kind=o.key.name,super.parsePropertyName(o),!this.match(10)&&!this.match(47)&&this.unexpected(null,10)),this.tsParsePropertyOrMethodSignature(o,!!o.readonly))}tsParseTypeLiteral(){const o=this.startNode();return o.members=this.tsParseObjectTypeMembers(),this.finishNode(o,"TSTypeLiteral")}tsParseObjectTypeMembers(){this.expect(5);const o=this.tsParseList("TypeMembers",this.tsParseTypeMember.bind(this));return this.expect(8),o}tsIsStartOfMappedType(){return this.next(),this.eat(53)?this.isContextual(122):(this.isContextual(122)&&this.next(),!this.match(0)||(this.next(),!this.tsIsIdentifier())?!1:(this.next(),this.match(58)))}tsParseMappedType(){const o=this.startNode();this.expect(5),this.match(53)?(o.readonly=this.state.value,this.next(),this.expectContextual(122)):this.eatContextual(122)&&(o.readonly=!0),this.expect(0);const g=this.startNode();return g.name=this.tsParseTypeParameterName(),g.constraint=this.tsExpectThenParseType(58),o.typeParameter=this.finishNode(g,"TSTypeParameter"),o.nameType=this.eatContextual(93)?this.tsParseType():null,this.expect(3),this.match(53)?(o.optional=this.state.value,this.next(),this.expect(17)):this.eat(17)&&(o.optional=!0),o.typeAnnotation=this.tsTryParseType(),this.semicolon(),this.expect(8),this.finishNode(o,"TSMappedType")}tsParseTupleType(){const o=this.startNode();o.elementTypes=this.tsParseBracketedList("TupleElementTypes",this.tsParseTupleElementType.bind(this),!0,!1);let g=!1;return o.elementTypes.forEach(b=>{const{type:k}=b;g&&k!=="TSRestType"&&k!=="TSOptionalType"&&!(k==="TSNamedTupleMember"&&b.optional)&&this.raise(Lt.OptionalTypeBeforeRequired,b),g||(g=k==="TSNamedTupleMember"&&b.optional||k==="TSOptionalType")}),this.finishNode(o,"TSTupleType")}tsParseTupleElementType(){const o=this.state.startLoc,g=this.eat(21),{startLoc:b}=this.state;let k,ne,le,ye;const Ie=Ze(this.state.type)?this.lookaheadCharCode():null;if(Ie===58)k=!0,le=!1,ne=this.parseIdentifier(!0),this.expect(14),ye=this.tsParseType();else if(Ie===63){le=!0;const Je=this.state.value,mt=this.tsParseNonArrayType();this.lookaheadCharCode()===58?(k=!0,ne=this.createIdentifier(this.startNodeAt(b),Je),this.expect(17),this.expect(14),ye=this.tsParseType()):(k=!1,ye=mt,this.expect(17))}else ye=this.tsParseType(),le=this.eat(17),k=this.eat(14);if(k){let Je;ne?(Je=this.startNodeAt(b),Je.optional=le,Je.label=ne,Je.elementType=ye,this.eat(17)&&(Je.optional=!0,this.raise(Lt.TupleOptionalAfterType,this.state.lastTokStartLoc))):(Je=this.startNodeAt(b),Je.optional=le,this.raise(Lt.InvalidTupleMemberLabel,ye),Je.label=ye,Je.elementType=this.tsParseType()),ye=this.finishNode(Je,"TSNamedTupleMember")}else if(le){const Je=this.startNodeAt(b);Je.typeAnnotation=ye,ye=this.finishNode(Je,"TSOptionalType")}if(g){const Je=this.startNodeAt(o);Je.typeAnnotation=ye,ye=this.finishNode(Je,"TSRestType")}return ye}tsParseParenthesizedType(){const o=this.startNode();return this.expect(10),o.typeAnnotation=this.tsParseType(),this.expect(11),this.finishNode(o,"TSParenthesizedType")}tsParseFunctionOrConstructorType(o,g){const b=this.startNode();return o==="TSConstructorType"&&(b.abstract=!!g,g&&this.next(),this.next()),this.tsInAllowConditionalTypesContext(()=>this.tsFillSignature(19,b)),this.finishNode(b,o)}tsParseLiteralTypeNode(){const o=this.startNode();switch(this.state.type){case 135:case 136:case 134:case 85:case 86:o.literal=super.parseExprAtom();break;default:this.unexpected()}return this.finishNode(o,"TSLiteralType")}tsParseTemplateLiteralType(){const o=this.startNode();return o.literal=super.parseTemplate(!1),this.finishNode(o,"TSLiteralType")}parseTemplateSubstitution(){return this.state.inType?this.tsParseType():super.parseTemplateSubstitution()}tsParseThisTypeOrThisTypePredicate(){const o=this.tsParseThisTypeNode();return this.isContextual(116)&&!this.hasPrecedingLineBreak()?this.tsParseThisTypePredicate(o):o}tsParseNonArrayType(){switch(this.state.type){case 134:case 135:case 136:case 85:case 86:return this.tsParseLiteralTypeNode();case 53:if(this.state.value==="-"){const o=this.startNode(),g=this.lookahead();return g.type!==135&&g.type!==136&&this.unexpected(),o.literal=this.parseMaybeUnary(),this.finishNode(o,"TSLiteralType")}break;case 78:return this.tsParseThisTypeOrThisTypePredicate();case 87:return this.tsParseTypeQuery();case 83:return this.tsParseImportType();case 5:return this.tsLookAhead(this.tsIsStartOfMappedType.bind(this))?this.tsParseMappedType():this.tsParseTypeLiteral();case 0:return this.tsParseTupleType();case 10:return this.tsParseParenthesizedType();case 25:case 24:return this.tsParseTemplateLiteralType();default:{const{type:o}=this.state;if(Ue(o)||o===88||o===84){const g=o===88?"TSVoidKeyword":o===84?"TSNullKeyword":iu(this.state.value);if(g!==void 0&&this.lookaheadCharCode()!==46){const b=this.startNode();return this.next(),this.finishNode(b,g)}return this.tsParseTypeReference()}}}throw this.unexpected()}tsParseArrayTypeOrHigher(){const{startLoc:o}=this.state;let g=this.tsParseNonArrayType();for(;!this.hasPrecedingLineBreak()&&this.eat(0);)if(this.match(3)){const b=this.startNodeAt(o);b.elementType=g,this.expect(3),g=this.finishNode(b,"TSArrayType")}else{const b=this.startNodeAt(o);b.objectType=g,b.indexType=this.tsParseType(),this.expect(3),g=this.finishNode(b,"TSIndexedAccessType")}return g}tsParseTypeOperator(){const o=this.startNode(),g=this.state.value;return this.next(),o.operator=g,o.typeAnnotation=this.tsParseTypeOperatorOrHigher(),g==="readonly"&&this.tsCheckTypeAnnotationForReadOnly(o),this.finishNode(o,"TSTypeOperator")}tsCheckTypeAnnotationForReadOnly(o){switch(o.typeAnnotation.type){case"TSTupleType":case"TSArrayType":return;default:this.raise(Lt.UnexpectedReadonly,o)}}tsParseInferType(){const o=this.startNode();this.expectContextual(115);const g=this.startNode();return g.name=this.tsParseTypeParameterName(),g.constraint=this.tsTryParse(()=>this.tsParseConstraintForInferType()),o.typeParameter=this.finishNode(g,"TSTypeParameter"),this.finishNode(o,"TSInferType")}tsParseConstraintForInferType(){if(this.eat(81)){const o=this.tsInDisallowConditionalTypesContext(()=>this.tsParseType());if(this.state.inDisallowConditionalTypesContext||!this.match(17))return o}}tsParseTypeOperatorOrHigher(){return qt(this.state.type)&&!this.state.containsEsc?this.tsParseTypeOperator():this.isContextual(115)?this.tsParseInferType():this.tsInAllowConditionalTypesContext(()=>this.tsParseArrayTypeOrHigher())}tsParseUnionOrIntersectionType(o,g,b){const k=this.startNode(),ne=this.eat(b),le=[];do le.push(g());while(this.eat(b));return le.length===1&&!ne?le[0]:(k.types=le,this.finishNode(k,o))}tsParseIntersectionTypeOrHigher(){return this.tsParseUnionOrIntersectionType("TSIntersectionType",this.tsParseTypeOperatorOrHigher.bind(this),45)}tsParseUnionTypeOrHigher(){return this.tsParseUnionOrIntersectionType("TSUnionType",this.tsParseIntersectionTypeOrHigher.bind(this),43)}tsIsStartOfFunctionType(){return this.match(47)?!0:this.match(10)&&this.tsLookAhead(this.tsIsUnambiguouslyStartOfFunctionType.bind(this))}tsSkipParameterStart(){if(Ue(this.state.type)||this.match(78))return this.next(),!0;if(this.match(5)){const{errors:o}=this.state,g=o.length;try{return this.parseObjectLike(8,!0),o.length===g}catch{return!1}}if(this.match(0)){this.next();const{errors:o}=this.state,g=o.length;try{return super.parseBindingList(3,93,1),o.length===g}catch{return!1}}return!1}tsIsUnambiguouslyStartOfFunctionType(){return this.next(),!!(this.match(11)||this.match(21)||this.tsSkipParameterStart()&&(this.match(14)||this.match(12)||this.match(17)||this.match(29)||this.match(11)&&(this.next(),this.match(19))))}tsParseTypeOrTypePredicateAnnotation(o){return this.tsInType(()=>{const g=this.startNode();this.expect(o);const b=this.startNode(),k=!!this.tsTryParse(this.tsParseTypePredicateAsserts.bind(this));if(k&&this.match(78)){let ye=this.tsParseThisTypeOrThisTypePredicate();return ye.type==="TSThisType"?(b.parameterName=ye,b.asserts=!0,b.typeAnnotation=null,ye=this.finishNode(b,"TSTypePredicate")):(this.resetStartLocationFromNode(ye,b),ye.asserts=!0),g.typeAnnotation=ye,this.finishNode(g,"TSTypeAnnotation")}const ne=this.tsIsIdentifier()&&this.tsTryParse(this.tsParseTypePredicatePrefix.bind(this));if(!ne)return k?(b.parameterName=this.parseIdentifier(),b.asserts=k,b.typeAnnotation=null,g.typeAnnotation=this.finishNode(b,"TSTypePredicate"),this.finishNode(g,"TSTypeAnnotation")):this.tsParseTypeAnnotation(!1,g);const le=this.tsParseTypeAnnotation(!1);return b.parameterName=ne,b.typeAnnotation=le,b.asserts=k,g.typeAnnotation=this.finishNode(b,"TSTypePredicate"),this.finishNode(g,"TSTypeAnnotation")})}tsTryParseTypeOrTypePredicateAnnotation(){if(this.match(14))return this.tsParseTypeOrTypePredicateAnnotation(14)}tsTryParseTypeAnnotation(){if(this.match(14))return this.tsParseTypeAnnotation()}tsTryParseType(){return this.tsEatThenParseType(14)}tsParseTypePredicatePrefix(){const o=this.parseIdentifier();if(this.isContextual(116)&&!this.hasPrecedingLineBreak())return this.next(),o}tsParseTypePredicateAsserts(){if(this.state.type!==109)return!1;const o=this.state.containsEsc;return this.next(),!Ue(this.state.type)&&!this.match(78)?!1:(o&&this.raise(S.InvalidEscapedReservedWord,this.state.lastTokStartLoc,{reservedWord:"asserts"}),!0)}tsParseTypeAnnotation(o=!0,g=this.startNode()){return this.tsInType(()=>{o&&this.expect(14),g.typeAnnotation=this.tsParseType()}),this.finishNode(g,"TSTypeAnnotation")}tsParseType(){ji(this.state.inType);const o=this.tsParseNonConditionalType();if(this.state.inDisallowConditionalTypesContext||this.hasPrecedingLineBreak()||!this.eat(81))return o;const g=this.startNodeAtNode(o);return g.checkType=o,g.extendsType=this.tsInDisallowConditionalTypesContext(()=>this.tsParseNonConditionalType()),this.expect(17),g.trueType=this.tsInAllowConditionalTypesContext(()=>this.tsParseType()),this.expect(14),g.falseType=this.tsInAllowConditionalTypesContext(()=>this.tsParseType()),this.finishNode(g,"TSConditionalType")}isAbstractConstructorSignature(){return this.isContextual(124)&&this.isLookaheadContextual("new")}tsParseNonConditionalType(){return this.tsIsStartOfFunctionType()?this.tsParseFunctionOrConstructorType("TSFunctionType"):this.match(77)?this.tsParseFunctionOrConstructorType("TSConstructorType"):this.isAbstractConstructorSignature()?this.tsParseFunctionOrConstructorType("TSConstructorType",!0):this.tsParseUnionTypeOrHigher()}tsParseTypeAssertion(){this.getPluginOption("typescript","disallowAmbiguousJSXLike")&&this.raise(Lt.ReservedTypeAssertion,this.state.startLoc);const o=this.startNode();return o.typeAnnotation=this.tsInType(()=>(this.next(),this.match(75)?this.tsParseTypeReference():this.tsParseType())),this.expect(48),o.expression=this.parseMaybeUnary(),this.finishNode(o,"TSTypeAssertion")}tsParseHeritageClause(o){const g=this.state.startLoc,b=this.tsParseDelimitedList("HeritageClauseElement",()=>{const k=this.startNode();return k.expression=this.tsParseEntityName(3),this.match(47)&&(k.typeParameters=this.tsParseTypeArguments()),this.finishNode(k,"TSExpressionWithTypeArguments")});return b.length||this.raise(Lt.EmptyHeritageClauseType,g,{token:o}),b}tsParseInterfaceDeclaration(o,g={}){if(this.hasFollowingLineBreak())return null;this.expectContextual(129),g.declare&&(o.declare=!0),Ue(this.state.type)?(o.id=this.parseIdentifier(),this.checkIdentifier(o.id,130)):(o.id=null,this.raise(Lt.MissingInterfaceName,this.state.startLoc)),o.typeParameters=this.tsTryParseTypeParameters(this.tsParseInOutConstModifiers),this.eat(81)&&(o.extends=this.tsParseHeritageClause("extends"));const b=this.startNode();return b.body=this.tsInType(this.tsParseObjectTypeMembers.bind(this)),o.body=this.finishNode(b,"TSInterfaceBody"),this.finishNode(o,"TSInterfaceDeclaration")}tsParseTypeAliasDeclaration(o){return o.id=this.parseIdentifier(),this.checkIdentifier(o.id,2),o.typeAnnotation=this.tsInType(()=>{if(o.typeParameters=this.tsTryParseTypeParameters(this.tsParseInOutModifiers),this.expect(29),this.isContextual(114)&&this.lookaheadCharCode()!==46){const g=this.startNode();return this.next(),this.finishNode(g,"TSIntrinsicKeyword")}return this.tsParseType()}),this.semicolon(),this.finishNode(o,"TSTypeAliasDeclaration")}tsInTopLevelContext(o){if(this.curContext()!==B.brace){const g=this.state.context;this.state.context=[g[0]];try{return o()}finally{this.state.context=g}}else return o()}tsInType(o){const g=this.state.inType;this.state.inType=!0;try{return o()}finally{this.state.inType=g}}tsInDisallowConditionalTypesContext(o){const g=this.state.inDisallowConditionalTypesContext;this.state.inDisallowConditionalTypesContext=!0;try{return o()}finally{this.state.inDisallowConditionalTypesContext=g}}tsInAllowConditionalTypesContext(o){const g=this.state.inDisallowConditionalTypesContext;this.state.inDisallowConditionalTypesContext=!1;try{return o()}finally{this.state.inDisallowConditionalTypesContext=g}}tsEatThenParseType(o){if(this.match(o))return this.tsNextThenParseType()}tsExpectThenParseType(o){return this.tsInType(()=>(this.expect(o),this.tsParseType()))}tsNextThenParseType(){return this.tsInType(()=>(this.next(),this.tsParseType()))}tsParseEnumMember(){const o=this.startNode();return o.id=this.match(134)?super.parseStringLiteral(this.state.value):this.parseIdentifier(!0),this.eat(29)&&(o.initializer=super.parseMaybeAssignAllowIn()),this.finishNode(o,"TSEnumMember")}tsParseEnumDeclaration(o,g={}){return g.const&&(o.const=!0),g.declare&&(o.declare=!0),this.expectContextual(126),o.id=this.parseIdentifier(),this.checkIdentifier(o.id,o.const?8971:8459),this.expect(5),o.members=this.tsParseDelimitedList("EnumMembers",this.tsParseEnumMember.bind(this)),this.expect(8),this.finishNode(o,"TSEnumDeclaration")}tsParseEnumBody(){const o=this.startNode();return this.expect(5),o.members=this.tsParseDelimitedList("EnumMembers",this.tsParseEnumMember.bind(this)),this.expect(8),this.finishNode(o,"TSEnumBody")}tsParseModuleBlock(){const o=this.startNode();return this.scope.enter(0),this.expect(5),super.parseBlockOrModuleBlockBody(o.body=[],void 0,!0,8),this.scope.exit(),this.finishNode(o,"TSModuleBlock")}tsParseModuleOrNamespaceDeclaration(o,g=!1){if(o.id=this.parseIdentifier(),g||this.checkIdentifier(o.id,1024),this.eat(16)){const b=this.startNode();this.tsParseModuleOrNamespaceDeclaration(b,!0),o.body=b}else this.scope.enter(1024),this.prodParam.enter(0),o.body=this.tsParseModuleBlock(),this.prodParam.exit(),this.scope.exit();return this.finishNode(o,"TSModuleDeclaration")}tsParseAmbientExternalModuleDeclaration(o){return this.isContextual(112)?(o.kind="global",o.global=!0,o.id=this.parseIdentifier()):this.match(134)?(o.kind="module",o.id=super.parseStringLiteral(this.state.value)):this.unexpected(),this.match(5)?(this.scope.enter(1024),this.prodParam.enter(0),o.body=this.tsParseModuleBlock(),this.prodParam.exit(),this.scope.exit()):this.semicolon(),this.finishNode(o,"TSModuleDeclaration")}tsParseImportEqualsDeclaration(o,g,b){o.isExport=b||!1,o.id=g||this.parseIdentifier(),this.checkIdentifier(o.id,4096),this.expect(29);const k=this.tsParseModuleReference();return o.importKind==="type"&&k.type!=="TSExternalModuleReference"&&this.raise(Lt.ImportAliasHasImportType,k),o.moduleReference=k,this.semicolon(),this.finishNode(o,"TSImportEqualsDeclaration")}tsIsExternalModuleReference(){return this.isContextual(119)&&this.lookaheadCharCode()===40}tsParseModuleReference(){return this.tsIsExternalModuleReference()?this.tsParseExternalModuleReference():this.tsParseEntityName(0)}tsParseExternalModuleReference(){const o=this.startNode();return this.expectContextual(119),this.expect(10),this.match(134)||this.unexpected(),o.expression=super.parseExprAtom(),this.expect(11),this.sawUnambiguousESM=!0,this.finishNode(o,"TSExternalModuleReference")}tsLookAhead(o){const g=this.state.clone(),b=o();return this.state=g,b}tsTryParseAndCatch(o){const g=this.tryParse(b=>o()||b());if(!(g.aborted||!g.node))return g.error&&(this.state=g.failState),g.node}tsTryParse(o){const g=this.state.clone(),b=o();if(b!==void 0&&b!==!1)return b;this.state=g}tsTryParseDeclare(o){if(this.isLineTerminator())return;const g=this.state.type;return this.tsInAmbientContext(()=>{switch(g){case 68:return o.declare=!0,super.parseFunctionStatement(o,!1,!1);case 80:return o.declare=!0,this.parseClass(o,!0,!1);case 126:return this.tsParseEnumDeclaration(o,{declare:!0});case 112:return this.tsParseAmbientExternalModuleDeclaration(o);case 100:if(this.state.containsEsc)return;case 75:case 74:return!this.match(75)||!this.isLookaheadContextual("enum")?(o.declare=!0,this.parseVarStatement(o,this.state.value,!0)):(this.expect(75),this.tsParseEnumDeclaration(o,{const:!0,declare:!0}));case 107:if(this.isUsing())return this.raise(Lt.InvalidModifierOnUsingDeclaration,this.state.startLoc,"declare"),o.declare=!0,this.parseVarStatement(o,"using",!0);break;case 96:if(this.isAwaitUsing())return this.raise(Lt.InvalidModifierOnAwaitUsingDeclaration,this.state.startLoc,"declare"),o.declare=!0,this.next(),this.parseVarStatement(o,"await using",!0);break;case 129:{const b=this.tsParseInterfaceDeclaration(o,{declare:!0});if(b)return b}default:if(Ue(g))return this.tsParseDeclaration(o,this.state.type,!0,null)}})}tsTryParseExportDeclaration(){return this.tsParseDeclaration(this.startNode(),this.state.type,!0,null)}tsParseDeclaration(o,g,b,k){switch(g){case 124:if(this.tsCheckLineTerminator(b)&&(this.match(80)||Ue(this.state.type)))return this.tsParseAbstractDeclaration(o,k);break;case 127:if(this.tsCheckLineTerminator(b)){if(this.match(134))return this.tsParseAmbientExternalModuleDeclaration(o);if(Ue(this.state.type))return o.kind="module",this.tsParseModuleOrNamespaceDeclaration(o)}break;case 128:if(this.tsCheckLineTerminator(b)&&Ue(this.state.type))return o.kind="namespace",this.tsParseModuleOrNamespaceDeclaration(o);break;case 130:if(this.tsCheckLineTerminator(b)&&Ue(this.state.type))return this.tsParseTypeAliasDeclaration(o);break}}tsCheckLineTerminator(o){return o?this.hasFollowingLineBreak()?!1:(this.next(),!0):!this.isLineTerminator()}tsTryParseGenericAsyncArrowFunction(o){if(!this.match(47))return;const g=this.state.maybeInArrowParameters;this.state.maybeInArrowParameters=!0;const b=this.tsTryParseAndCatch(()=>{const k=this.startNodeAt(o);return k.typeParameters=this.tsParseTypeParameters(this.tsParseConstModifier),super.parseFunctionParams(k),k.returnType=this.tsTryParseTypeOrTypePredicateAnnotation(),this.expect(19),k});if(this.state.maybeInArrowParameters=g,!!b)return super.parseArrowExpression(b,null,!0)}tsParseTypeArgumentsInExpression(){if(this.reScan_lt()===47)return this.tsParseTypeArguments()}tsParseTypeArguments(){const o=this.startNode();return o.params=this.tsInType(()=>this.tsInTopLevelContext(()=>(this.expect(47),this.tsParseDelimitedList("TypeParametersOrArguments",this.tsParseType.bind(this))))),o.params.length===0?this.raise(Lt.EmptyTypeArguments,o):!this.state.inType&&this.curContext()===B.brace&&this.reScan_lt_gt(),this.expect(48),this.finishNode(o,"TSTypeParameterInstantiation")}tsIsDeclarationStart(){return mn(this.state.type)}isExportDefaultSpecifier(){return this.tsIsDeclarationStart()?!1:super.isExportDefaultSpecifier()}parseBindingElement(o,g){const b=g.length?g[0].loc.start:this.state.startLoc,k={};this.tsParseModifiers({allowedModifiers:["public","private","protected","override","readonly"]},k);const ne=k.accessibility,le=k.override,ye=k.readonly;!(o&4)&&(ne||ye||le)&&this.raise(Lt.UnexpectedParameterModifier,b);const Pe=this.parseMaybeDefault();o&2&&this.parseFunctionParamType(Pe);const Ie=this.parseMaybeDefault(Pe.loc.start,Pe);if(ne||ye||le){const Je=this.startNodeAt(b);return g.length&&(Je.decorators=g),ne&&(Je.accessibility=ne),ye&&(Je.readonly=ye),le&&(Je.override=le),Ie.type!=="Identifier"&&Ie.type!=="AssignmentPattern"&&this.raise(Lt.UnsupportedParameterPropertyKind,Je),Je.parameter=Ie,this.finishNode(Je,"TSParameterProperty")}return g.length&&(Pe.decorators=g),Ie}isSimpleParameter(o){return o.type==="TSParameterProperty"&&super.isSimpleParameter(o.parameter)||super.isSimpleParameter(o)}tsDisallowOptionalPattern(o){for(const g of o.params)g.type!=="Identifier"&&g.optional&&!this.state.isAmbientContext&&this.raise(Lt.PatternIsOptional,g)}setArrowFunctionParameters(o,g,b){super.setArrowFunctionParameters(o,g,b),this.tsDisallowOptionalPattern(o)}parseFunctionBodyAndFinish(o,g,b=!1){this.match(14)&&(o.returnType=this.tsParseTypeOrTypePredicateAnnotation(14));const k=g==="FunctionDeclaration"?"TSDeclareFunction":g==="ClassMethod"||g==="ClassPrivateMethod"?"TSDeclareMethod":void 0;return k&&!this.match(5)&&this.isLineTerminator()?this.finishNode(o,k):k==="TSDeclareFunction"&&this.state.isAmbientContext&&(this.raise(Lt.DeclareFunctionHasImplementation,o),o.declare)?super.parseFunctionBodyAndFinish(o,k,b):(this.tsDisallowOptionalPattern(o),super.parseFunctionBodyAndFinish(o,g,b))}registerFunctionStatementId(o){!o.body&&o.id?this.checkIdentifier(o.id,1024):super.registerFunctionStatementId(o)}tsCheckForInvalidTypeCasts(o){o.forEach(g=>{g?.type==="TSTypeCastExpression"&&this.raise(Lt.UnexpectedTypeAnnotation,g.typeAnnotation)})}toReferencedList(o,g){return this.tsCheckForInvalidTypeCasts(o),o}parseArrayLike(o,g,b){const k=super.parseArrayLike(o,g,b);return k.type==="ArrayExpression"&&this.tsCheckForInvalidTypeCasts(k.elements),k}parseSubscript(o,g,b,k){if(!this.hasPrecedingLineBreak()&&this.match(35)){this.state.canStartJSXElement=!1,this.next();const le=this.startNodeAt(g);return le.expression=o,this.finishNode(le,"TSNonNullExpression")}let ne=!1;if(this.match(18)&&this.lookaheadCharCode()===60){if(b)return k.stop=!0,o;k.optionalChainMember=ne=!0,this.next()}if(this.match(47)||this.match(51)){let le;const ye=this.tsTryParseAndCatch(()=>{if(!b&&this.atPossibleAsyncArrow(o)){const mt=this.tsTryParseGenericAsyncArrowFunction(g);if(mt)return k.stop=!0,mt}const Pe=this.tsParseTypeArgumentsInExpression();if(!Pe)return;if(ne&&!this.match(10)){le=this.state.curPosition();return}if(we(this.state.type)){const mt=super.parseTaggedTemplateExpression(o,g,k);return mt.typeParameters=Pe,mt}if(!b&&this.eat(10)){const mt=this.startNodeAt(g);return mt.callee=o,mt.arguments=this.parseCallExpressionArguments(),this.tsCheckForInvalidTypeCasts(mt.arguments),mt.typeParameters=Pe,k.optionalChainMember&&(mt.optional=ne),this.finishCallExpression(mt,k.optionalChainMember)}const Ie=this.state.type;if(Ie===48||Ie===52||Ie!==10&&Ie!==93&&Ie!==120&&It(Ie)&&!this.hasPrecedingLineBreak())return;const Je=this.startNodeAt(g);return Je.expression=o,Je.typeParameters=Pe,this.finishNode(Je,"TSInstantiationExpression")});if(le&&this.unexpected(le,10),ye)return ye.type==="TSInstantiationExpression"&&((this.match(16)||this.match(18)&&this.lookaheadCharCode()!==40)&&this.raise(Lt.InvalidPropertyAccessAfterInstantiationExpression,this.state.startLoc),!this.match(16)&&!this.match(18)&&(ye.expression=super.stopParseSubscript(o,k))),ye}return super.parseSubscript(o,g,b,k)}parseNewCallee(o){var g;super.parseNewCallee(o);const{callee:b}=o;b.type==="TSInstantiationExpression"&&!((g=b.extra)!=null&&g.parenthesized)&&(o.typeParameters=b.typeParameters,o.callee=b.expression)}parseExprOp(o,g,b){let k;if(Me(58)>b&&!this.hasPrecedingLineBreak()&&(this.isContextual(93)||(k=this.isContextual(120)))){const ne=this.startNodeAt(g);return ne.expression=o,ne.typeAnnotation=this.tsInType(()=>(this.next(),this.match(75)?(k&&this.raise(S.UnexpectedKeyword,this.state.startLoc,{keyword:"const"}),this.tsParseTypeReference()):this.tsParseType())),this.finishNode(ne,k?"TSSatisfiesExpression":"TSAsExpression"),this.reScan_lt_gt(),this.parseExprOp(ne,g,b)}return super.parseExprOp(o,g,b)}checkReservedWord(o,g,b,k){this.state.isAmbientContext||super.checkReservedWord(o,g,b,k)}checkImportReflection(o){super.checkImportReflection(o),o.module&&o.importKind!=="value"&&this.raise(Lt.ImportReflectionHasImportType,o.specifiers[0].loc.start)}checkDuplicateExports(){}isPotentialImportPhase(o){if(super.isPotentialImportPhase(o))return!0;if(this.isContextual(130)){const g=this.lookaheadCharCode();return o?g===123||g===42:g!==61}return!o&&this.isContextual(87)}applyImportPhase(o,g,b,k){super.applyImportPhase(o,g,b,k),g?o.exportKind=b==="type"?"type":"value":o.importKind=b==="type"||b==="typeof"?b:"value"}parseImport(o){if(this.match(134))return o.importKind="value",super.parseImport(o);let g;if(Ue(this.state.type)&&this.lookaheadCharCode()===61)return o.importKind="value",this.tsParseImportEqualsDeclaration(o);if(this.isContextual(130)){const b=this.parseMaybeImportPhase(o,!1);if(this.lookaheadCharCode()===61)return this.tsParseImportEqualsDeclaration(o,b);g=super.parseImportSpecifiersAndAfter(o,b)}else g=super.parseImport(o);return g.importKind==="type"&&g.specifiers.length>1&&g.specifiers[0].type==="ImportDefaultSpecifier"&&this.raise(Lt.TypeImportCannotSpecifyDefaultAndNamed,g),g}parseExport(o,g){if(this.match(83)){const b=o;this.next();let k=null;return this.isContextual(130)&&this.isPotentialImportPhase(!1)?k=this.parseMaybeImportPhase(b,!1):b.importKind="value",this.tsParseImportEqualsDeclaration(b,k,!0)}else if(this.eat(29)){const b=o;return b.expression=super.parseExpression(),this.semicolon(),this.sawUnambiguousESM=!0,this.finishNode(b,"TSExportAssignment")}else if(this.eatContextual(93)){const b=o;return this.expectContextual(128),b.id=this.parseIdentifier(),this.semicolon(),this.finishNode(b,"TSNamespaceExportDeclaration")}else return super.parseExport(o,g)}isAbstractClass(){return this.isContextual(124)&&this.isLookaheadContextual("class")}parseExportDefaultExpression(){if(this.isAbstractClass()){const o=this.startNode();return this.next(),o.abstract=!0,this.parseClass(o,!0,!0)}if(this.match(129)){const o=this.tsParseInterfaceDeclaration(this.startNode());if(o)return o}return super.parseExportDefaultExpression()}parseVarStatement(o,g,b=!1){const{isAmbientContext:k}=this.state,ne=super.parseVarStatement(o,g,b||k);if(!k)return ne;if(!o.declare&&(g==="using"||g==="await using"))return this.raiseOverwrite(Lt.UsingDeclarationInAmbientContext,o,g),ne;for(const{id:le,init:ye}of ne.declarations)ye&&(g==="var"||g==="let"||le.typeAnnotation?this.raise(Lt.InitializerNotAllowedInAmbientContext,ye):au(ye,this.hasPlugin("estree"))||this.raise(Lt.ConstInitializerMustBeStringOrNumericLiteralOrLiteralEnumReference,ye));return ne}parseStatementContent(o,g){if(!this.state.containsEsc)switch(this.state.type){case 75:{if(this.isLookaheadContextual("enum")){const b=this.startNode();return this.expect(75),this.tsParseEnumDeclaration(b,{const:!0})}break}case 124:case 125:{if(this.nextTokenIsIdentifierAndNotTSRelationalOperatorOnSameLine()){const b=this.state.type,k=this.startNode();this.next();const ne=b===125?this.tsTryParseDeclare(k):this.tsParseAbstractDeclaration(k,g);return ne?(b===125&&(ne.declare=!0),ne):(k.expression=this.createIdentifier(this.startNodeAt(k.loc.start),b===125?"declare":"abstract"),this.semicolon(!1),this.finishNode(k,"ExpressionStatement"))}break}case 126:return this.tsParseEnumDeclaration(this.startNode());case 112:{if(this.lookaheadCharCode()===123){const k=this.startNode();return this.tsParseAmbientExternalModuleDeclaration(k)}break}case 129:{const b=this.tsParseInterfaceDeclaration(this.startNode());if(b)return b;break}case 127:{if(this.nextTokenIsIdentifierOrStringLiteralOnSameLine()){const b=this.startNode();return this.next(),this.tsParseDeclaration(b,127,!1,g)}break}case 128:{if(this.nextTokenIsIdentifierOnSameLine()){const b=this.startNode();return this.next(),this.tsParseDeclaration(b,128,!1,g)}break}case 130:{if(this.nextTokenIsIdentifierOnSameLine()){const b=this.startNode();return this.next(),this.tsParseTypeAliasDeclaration(b)}break}}return super.parseStatementContent(o,g)}parseAccessModifier(){return this.tsParseModifier(["public","protected","private"])}tsHasSomeModifiers(o,g){return g.some(b=>di(b)?o.accessibility===b:!!o[b])}tsIsStartOfStaticBlocks(){return this.isContextual(106)&&this.lookaheadCharCode()===123}parseClassMember(o,g,b){const k=["declare","private","public","protected","override","abstract","readonly","static"];this.tsParseModifiers({allowedModifiers:k,disallowedModifiers:["in","out"],stopOnStartOfClassStaticBlock:!0,errorTemplate:Lt.InvalidModifierOnTypeParameterPositions},g);const ne=()=>{this.tsIsStartOfStaticBlocks()?(this.next(),this.next(),this.tsHasSomeModifiers(g,k)&&this.raise(Lt.StaticBlockCannotHaveModifier,this.state.curPosition()),super.parseClassStaticBlock(o,g)):this.parseClassMemberWithIsStatic(o,g,b,!!g.static)};g.declare?this.tsInAmbientContext(ne):ne()}parseClassMemberWithIsStatic(o,g,b,k){const ne=this.tsTryParseIndexSignature(g);if(ne){o.body.push(ne),g.abstract&&this.raise(Lt.IndexSignatureHasAbstract,g),g.accessibility&&this.raise(Lt.IndexSignatureHasAccessibility,g,{modifier:g.accessibility}),g.declare&&this.raise(Lt.IndexSignatureHasDeclare,g),g.override&&this.raise(Lt.IndexSignatureHasOverride,g);return}!this.state.inAbstractClass&&g.abstract&&this.raise(Lt.NonAbstractClassHasAbstractMethod,g),g.override&&(b.hadSuperClass||this.raise(Lt.OverrideNotInSubClass,g)),super.parseClassMemberWithIsStatic(o,g,b,k)}parsePostMemberNameModifiers(o){this.eat(17)&&(o.optional=!0),o.readonly&&this.match(10)&&this.raise(Lt.ClassMethodHasReadonly,o),o.declare&&this.match(10)&&this.raise(Lt.ClassMethodHasDeclare,o)}shouldParseExportDeclaration(){return this.tsIsDeclarationStart()?!0:super.shouldParseExportDeclaration()}parseConditional(o,g,b){if(!this.match(17))return o;if(this.state.maybeInArrowParameters){const k=this.lookaheadCharCode();if(k===44||k===61||k===58||k===41)return this.setOptionalParametersError(b),o}return super.parseConditional(o,g,b)}parseParenItem(o,g){const b=super.parseParenItem(o,g);if(this.eat(17)&&(b.optional=!0,this.resetEndLocation(o)),this.match(14)){const k=this.startNodeAt(g);return k.expression=o,k.typeAnnotation=this.tsParseTypeAnnotation(),this.finishNode(k,"TSTypeCastExpression")}return o}parseExportDeclaration(o){if(!this.state.isAmbientContext&&this.isContextual(125))return this.tsInAmbientContext(()=>this.parseExportDeclaration(o));const g=this.state.startLoc,b=this.eatContextual(125);if(b&&(this.isContextual(125)||!this.shouldParseExportDeclaration()))throw this.raise(Lt.ExpectedAmbientAfterExportDeclare,this.state.startLoc);const ne=Ue(this.state.type)&&this.tsTryParseExportDeclaration()||super.parseExportDeclaration(o);return ne?((ne.type==="TSInterfaceDeclaration"||ne.type==="TSTypeAliasDeclaration"||b)&&(o.exportKind="type"),b&&ne.type!=="TSImportEqualsDeclaration"&&(this.resetStartLocation(ne,g),ne.declare=!0),ne):null}parseClassId(o,g,b,k){if((!g||b)&&this.isContextual(113))return;super.parseClassId(o,g,b,o.declare?1024:8331);const ne=this.tsTryParseTypeParameters(this.tsParseInOutConstModifiers);ne&&(o.typeParameters=ne)}parseClassPropertyAnnotation(o){o.optional||(this.eat(35)?o.definite=!0:this.eat(17)&&(o.optional=!0));const g=this.tsTryParseTypeAnnotation();g&&(o.typeAnnotation=g)}parseClassProperty(o){if(this.parseClassPropertyAnnotation(o),this.state.isAmbientContext&&!(o.readonly&&!o.typeAnnotation)&&this.match(29)&&this.raise(Lt.DeclareClassFieldHasInitializer,this.state.startLoc),o.abstract&&this.match(29)){const{key:g}=o;this.raise(Lt.AbstractPropertyHasInitializer,this.state.startLoc,{propertyName:g.type==="Identifier"&&!o.computed?g.name:`[${this.input.slice(this.offsetToSourcePos(g.start),this.offsetToSourcePos(g.end))}]`})}return super.parseClassProperty(o)}parseClassPrivateProperty(o){return o.abstract&&this.raise(Lt.PrivateElementHasAbstract,o),o.accessibility&&this.raise(Lt.PrivateElementHasAccessibility,o,{modifier:o.accessibility}),this.parseClassPropertyAnnotation(o),super.parseClassPrivateProperty(o)}parseClassAccessorProperty(o){return this.parseClassPropertyAnnotation(o),o.optional&&this.raise(Lt.AccessorCannotBeOptional,o),super.parseClassAccessorProperty(o)}pushClassMethod(o,g,b,k,ne,le){const ye=this.tsTryParseTypeParameters(this.tsParseConstModifier);ye&&ne&&this.raise(Lt.ConstructorHasTypeParameters,ye);const{declare:Pe=!1,kind:Ie}=g;Pe&&(Ie==="get"||Ie==="set")&&this.raise(Lt.DeclareAccessor,g,{kind:Ie}),ye&&(g.typeParameters=ye),super.pushClassMethod(o,g,b,k,ne,le)}pushClassPrivateMethod(o,g,b,k){const ne=this.tsTryParseTypeParameters(this.tsParseConstModifier);ne&&(g.typeParameters=ne),super.pushClassPrivateMethod(o,g,b,k)}declareClassPrivateMethodInScope(o,g){o.type!=="TSDeclareMethod"&&(o.type==="MethodDefinition"&&o.value.body==null||super.declareClassPrivateMethodInScope(o,g))}parseClassSuper(o){if(super.parseClassSuper(o),o.superClass)if(o.superClass.type==="TSInstantiationExpression"){const g=o.superClass,b=g.expression;this.takeSurroundingComments(b,b.start,b.end);const k=g.typeParameters;this.takeSurroundingComments(k,k.start,k.end),o.superClass=b,o.superTypeParameters=k}else(this.match(47)||this.match(51))&&(o.superTypeParameters=this.tsParseTypeArgumentsInExpression());this.eatContextual(113)&&(o.implements=this.tsParseHeritageClause("implements"))}parseObjPropValue(o,g,b,k,ne,le,ye){const Pe=this.tsTryParseTypeParameters(this.tsParseConstModifier);return Pe&&(o.typeParameters=Pe),super.parseObjPropValue(o,g,b,k,ne,le,ye)}parseFunctionParams(o,g){const b=this.tsTryParseTypeParameters(this.tsParseConstModifier);b&&(o.typeParameters=b),super.parseFunctionParams(o,g)}parseVarId(o,g){super.parseVarId(o,g),o.id.type==="Identifier"&&!this.hasPrecedingLineBreak()&&this.eat(35)&&(o.definite=!0);const b=this.tsTryParseTypeAnnotation();b&&(o.id.typeAnnotation=b,this.resetEndLocation(o.id))}parseAsyncArrowFromCallExpression(o,g){return this.match(14)&&(o.returnType=this.tsParseTypeAnnotation()),super.parseAsyncArrowFromCallExpression(o,g)}parseMaybeAssign(o,g){var b,k,ne,le,ye;let Pe,Ie,Je;if(this.hasPlugin("jsx")&&(this.match(143)||this.match(47))){if(Pe=this.state.clone(),Ie=this.tryParse(()=>super.parseMaybeAssign(o,g),Pe),!Ie.error)return Ie.node;const{context:Rt}=this.state,yn=Rt[Rt.length-1];(yn===B.j_oTag||yn===B.j_expr)&&Rt.pop()}if(!((b=Ie)!=null&&b.error)&&!this.match(47))return super.parseMaybeAssign(o,g);(!Pe||Pe===this.state)&&(Pe=this.state.clone());let mt;const bt=this.tryParse(Rt=>{var yn,Ln;mt=this.tsParseTypeParameters(this.tsParseConstModifier);const nn=super.parseMaybeAssign(o,g);return(nn.type!=="ArrowFunctionExpression"||(yn=nn.extra)!=null&&yn.parenthesized)&&Rt(),((Ln=mt)==null?void 0:Ln.params.length)!==0&&this.resetStartLocationFromNode(nn,mt),nn.typeParameters=mt,nn},Pe);if(!bt.error&&!bt.aborted)return mt&&this.reportReservedArrowTypeParam(mt),bt.node;if(!Ie&&(ji(!this.hasPlugin("jsx")),Je=this.tryParse(()=>super.parseMaybeAssign(o,g),Pe),!Je.error))return Je.node;if((k=Ie)!=null&&k.node)return this.state=Ie.failState,Ie.node;if(bt.node)return this.state=bt.failState,mt&&this.reportReservedArrowTypeParam(mt),bt.node;if((ne=Je)!=null&&ne.node)return this.state=Je.failState,Je.node;throw((le=Ie)==null?void 0:le.error)||bt.error||((ye=Je)==null?void 0:ye.error)}reportReservedArrowTypeParam(o){var g;o.params.length===1&&!o.params[0].constraint&&!((g=o.extra)!=null&&g.trailingComma)&&this.getPluginOption("typescript","disallowAmbiguousJSXLike")&&this.raise(Lt.ReservedArrowTypeParam,o)}parseMaybeUnary(o,g){return!this.hasPlugin("jsx")&&this.match(47)?this.tsParseTypeAssertion():super.parseMaybeUnary(o,g)}parseArrow(o){if(this.match(14)){const g=this.tryParse(b=>{const k=this.tsParseTypeOrTypePredicateAnnotation(14);return(this.canInsertSemicolon()||!this.match(19))&&b(),k});if(g.aborted)return;g.thrown||(g.error&&(this.state=g.failState),o.returnType=g.node)}return super.parseArrow(o)}parseFunctionParamType(o){this.eat(17)&&(o.optional=!0);const g=this.tsTryParseTypeAnnotation();return g&&(o.typeAnnotation=g),this.resetEndLocation(o),o}isAssignable(o,g){switch(o.type){case"TSTypeCastExpression":return this.isAssignable(o.expression,g);case"TSParameterProperty":return!0;default:return super.isAssignable(o,g)}}toAssignable(o,g=!1){switch(o.type){case"ParenthesizedExpression":this.toAssignableParenthesizedExpression(o,g);break;case"TSAsExpression":case"TSSatisfiesExpression":case"TSNonNullExpression":case"TSTypeAssertion":g?this.expressionScope.recordArrowParameterBindingError(Lt.UnexpectedTypeCastInParameter,o):this.raise(Lt.UnexpectedTypeCastInParameter,o),this.toAssignable(o.expression,g);break;case"AssignmentExpression":!g&&o.left.type==="TSTypeCastExpression"&&(o.left=this.typeCastToParameter(o.left));default:super.toAssignable(o,g)}}toAssignableParenthesizedExpression(o,g){switch(o.expression.type){case"TSAsExpression":case"TSSatisfiesExpression":case"TSNonNullExpression":case"TSTypeAssertion":case"ParenthesizedExpression":this.toAssignable(o.expression,g);break;default:super.toAssignable(o,g)}}checkToRestConversion(o,g){switch(o.type){case"TSAsExpression":case"TSSatisfiesExpression":case"TSTypeAssertion":case"TSNonNullExpression":this.checkToRestConversion(o.expression,!1);break;default:super.checkToRestConversion(o,g)}}isValidLVal(o,g,b,k){switch(o){case"TSTypeCastExpression":return!0;case"TSParameterProperty":return"parameter";case"TSNonNullExpression":return"expression";case"TSAsExpression":case"TSSatisfiesExpression":case"TSTypeAssertion":return(k!==64||!b)&&["expression",!0];default:return super.isValidLVal(o,g,b,k)}}parseBindingAtom(){return this.state.type===78?this.parseIdentifier(!0):super.parseBindingAtom()}parseMaybeDecoratorArguments(o,g){if(this.match(47)||this.match(51)){const b=this.tsParseTypeArgumentsInExpression();if(this.match(10)){const k=super.parseMaybeDecoratorArguments(o,g);return k.typeParameters=b,k}this.unexpected(null,10)}return super.parseMaybeDecoratorArguments(o,g)}checkCommaAfterRest(o){return this.state.isAmbientContext&&this.match(12)&&this.lookaheadCharCode()===o?(this.next(),!1):super.checkCommaAfterRest(o)}isClassMethod(){return this.match(47)||super.isClassMethod()}isClassProperty(){return this.match(35)||this.match(14)||super.isClassProperty()}parseMaybeDefault(o,g){const b=super.parseMaybeDefault(o,g);return b.type==="AssignmentPattern"&&b.typeAnnotation&&b.right.start<b.typeAnnotation.start&&this.raise(Lt.TypeAnnotationAfterAssign,b.typeAnnotation),b}getTokenFromCode(o){if(this.state.inType){if(o===62){this.finishOp(48,1);return}if(o===60){this.finishOp(47,1);return}}super.getTokenFromCode(o)}reScan_lt_gt(){const{type:o}=this.state;o===47?(this.state.pos-=1,this.readToken_lt()):o===48&&(this.state.pos-=1,this.readToken_gt())}reScan_lt(){const{type:o}=this.state;return o===51?(this.state.pos-=2,this.finishOp(47,1),47):o}toAssignableListItem(o,g,b){const k=o[g];k.type==="TSTypeCastExpression"&&(o[g]=this.typeCastToParameter(k)),super.toAssignableListItem(o,g,b)}typeCastToParameter(o){return o.expression.typeAnnotation=o.typeAnnotation,this.resetEndLocation(o.expression,o.typeAnnotation.loc.end),o.expression}shouldParseArrow(o){return this.match(14)?o.every(g=>this.isAssignable(g,!0)):super.shouldParseArrow(o)}shouldParseAsyncArrow(){return this.match(14)||super.shouldParseAsyncArrow()}canHaveLeadingDecorator(){return super.canHaveLeadingDecorator()||this.isAbstractClass()}jsxParseOpeningElementAfterName(o){if(this.match(47)||this.match(51)){const g=this.tsTryParseAndCatch(()=>this.tsParseTypeArgumentsInExpression());g&&(o.typeParameters=g)}return super.jsxParseOpeningElementAfterName(o)}getGetterSetterExpectedParamCount(o){const g=super.getGetterSetterExpectedParamCount(o),k=this.getObjectOrClassMethodParams(o)[0];return k&&this.isThisParam(k)?g+1:g}parseCatchClauseParam(){const o=super.parseCatchClauseParam(),g=this.tsTryParseTypeAnnotation();return g&&(o.typeAnnotation=g,this.resetEndLocation(o)),o}tsInAmbientContext(o){const{isAmbientContext:g,strict:b}=this.state;this.state.isAmbientContext=!0,this.state.strict=!1;try{return o()}finally{this.state.isAmbientContext=g,this.state.strict=b}}parseClass(o,g,b){const k=this.state.inAbstractClass;this.state.inAbstractClass=!!o.abstract;try{return super.parseClass(o,g,b)}finally{this.state.inAbstractClass=k}}tsParseAbstractDeclaration(o,g){if(this.match(80))return o.abstract=!0,this.maybeTakeDecorators(g,this.parseClass(o,!0,!1));if(this.isContextual(129))return this.hasFollowingLineBreak()?null:(o.abstract=!0,this.raise(Lt.NonClassMethodPropertyHasAbstractModifier,o),this.tsParseInterfaceDeclaration(o));throw this.unexpected(null,80)}parseMethod(o,g,b,k,ne,le,ye){const Pe=super.parseMethod(o,g,b,k,ne,le,ye);if((Pe.abstract||Pe.type==="TSAbstractMethodDefinition")&&(this.hasPlugin("estree")?Pe.value:Pe).body){const{key:mt}=Pe;this.raise(Lt.AbstractMethodHasImplementation,Pe,{methodName:mt.type==="Identifier"&&!Pe.computed?mt.name:`[${this.input.slice(this.offsetToSourcePos(mt.start),this.offsetToSourcePos(mt.end))}]`})}return Pe}tsParseTypeParameterName(){return this.parseIdentifier().name}shouldParseAsAmbientContext(){return!!this.getPluginOption("typescript","dts")}parse(){return this.shouldParseAsAmbientContext()&&(this.state.isAmbientContext=!0),super.parse()}getExpression(){return this.shouldParseAsAmbientContext()&&(this.state.isAmbientContext=!0),super.getExpression()}parseExportSpecifier(o,g,b,k){return!g&&k?(this.parseTypeOnlyImportExportSpecifier(o,!1,b),this.finishNode(o,"ExportSpecifier")):(o.exportKind="value",super.parseExportSpecifier(o,g,b,k))}parseImportSpecifier(o,g,b,k,ne){return!g&&k?(this.parseTypeOnlyImportExportSpecifier(o,!0,b),this.finishNode(o,"ImportSpecifier")):(o.importKind="value",super.parseImportSpecifier(o,g,b,k,b?4098:4096))}parseTypeOnlyImportExportSpecifier(o,g,b){const k=g?"imported":"local",ne=g?"local":"exported";let le=o[k],ye,Pe=!1,Ie=!0;const Je=le.loc.start;if(this.isContextual(93)){const bt=this.parseIdentifier();if(this.isContextual(93)){const Rt=this.parseIdentifier();Ze(this.state.type)?(Pe=!0,le=bt,ye=g?this.parseIdentifier():this.parseModuleExportName(),Ie=!1):(ye=Rt,Ie=!1)}else Ze(this.state.type)?(Ie=!1,ye=g?this.parseIdentifier():this.parseModuleExportName()):(Pe=!0,le=bt)}else Ze(this.state.type)&&(Pe=!0,g?(le=this.parseIdentifier(!0),this.isContextual(93)||this.checkReservedWord(le.name,le.loc.start,!0,!0)):le=this.parseModuleExportName());Pe&&b&&this.raise(g?Lt.TypeModifierIsUsedInTypeImports:Lt.TypeModifierIsUsedInTypeExports,Je),o[k]=le,o[ne]=ye;const mt=g?"importKind":"exportKind";o[mt]=Pe?"type":"value",Ie&&this.eatContextual(93)&&(o[ne]=g?this.parseIdentifier():this.parseModuleExportName()),o[ne]||(o[ne]=this.cloneIdentifier(o[k])),g&&this.checkIdentifier(o[ne],Pe?4098:4096)}fillOptionalPropertiesForTSESLint(o){var g,b,k,ne,le,ye,Pe,Ie,Je,mt,bt,Rt,yn,Ln,nn,Cn,Hs,Os,gl,Ia,mi,xl,To,So,bo,wo,Eo,Ks,vl,Tl,Sl,Po,Ao,yi,gi,bl,Ki,wl,No,Ma,ka,_o,Co,Io,El,Pl,Al,Nl;switch(o.type){case"ExpressionStatement":(g=o.directive)!=null||(o.directive=void 0);return;case"RestElement":o.value=void 0;case"Identifier":case"ArrayPattern":case"AssignmentPattern":case"ObjectPattern":(b=o.decorators)!=null||(o.decorators=[]),(k=o.optional)!=null||(o.optional=!1),(ne=o.typeAnnotation)!=null||(o.typeAnnotation=void 0);return;case"TSParameterProperty":(le=o.accessibility)!=null||(o.accessibility=void 0),(ye=o.decorators)!=null||(o.decorators=[]),(Pe=o.override)!=null||(o.override=!1),(Ie=o.readonly)!=null||(o.readonly=!1),(Je=o.static)!=null||(o.static=!1);return;case"TSEmptyBodyFunctionExpression":o.body=null;case"TSDeclareFunction":case"FunctionDeclaration":case"FunctionExpression":case"ClassMethod":case"ClassPrivateMethod":(mt=o.declare)!=null||(o.declare=!1),(bt=o.returnType)!=null||(o.returnType=void 0),(Rt=o.typeParameters)!=null||(o.typeParameters=void 0);return;case"Property":(yn=o.optional)!=null||(o.optional=!1);return;case"TSMethodSignature":case"TSPropertySignature":(Ln=o.optional)!=null||(o.optional=!1);case"TSIndexSignature":(nn=o.accessibility)!=null||(o.accessibility=void 0),(Cn=o.readonly)!=null||(o.readonly=!1),(Hs=o.static)!=null||(o.static=!1);return;case"TSAbstractPropertyDefinition":case"PropertyDefinition":case"TSAbstractAccessorProperty":case"AccessorProperty":(Os=o.declare)!=null||(o.declare=!1),(gl=o.definite)!=null||(o.definite=!1),(Ia=o.readonly)!=null||(o.readonly=!1),(mi=o.typeAnnotation)!=null||(o.typeAnnotation=void 0);case"TSAbstractMethodDefinition":case"MethodDefinition":(xl=o.accessibility)!=null||(o.accessibility=void 0),(To=o.decorators)!=null||(o.decorators=[]),(So=o.override)!=null||(o.override=!1),(bo=o.optional)!=null||(o.optional=!1);return;case"ClassExpression":(wo=o.id)!=null||(o.id=null);case"ClassDeclaration":(Eo=o.abstract)!=null||(o.abstract=!1),(Ks=o.declare)!=null||(o.declare=!1),(vl=o.decorators)!=null||(o.decorators=[]),(Tl=o.implements)!=null||(o.implements=[]),(Sl=o.superTypeArguments)!=null||(o.superTypeArguments=void 0),(Po=o.typeParameters)!=null||(o.typeParameters=void 0);return;case"TSTypeAliasDeclaration":case"VariableDeclaration":(Ao=o.declare)!=null||(o.declare=!1);return;case"VariableDeclarator":(yi=o.definite)!=null||(o.definite=!1);return;case"TSEnumDeclaration":(gi=o.const)!=null||(o.const=!1),(bl=o.declare)!=null||(o.declare=!1);return;case"TSEnumMember":(Ki=o.computed)!=null||(o.computed=!1);return;case"TSImportType":(wl=o.qualifier)!=null||(o.qualifier=null),(No=o.options)!=null||(o.options=null);return;case"TSInterfaceDeclaration":(Ma=o.declare)!=null||(o.declare=!1),(ka=o.extends)!=null||(o.extends=[]);return;case"TSMappedType":(_o=o.optional)!=null||(o.optional=!1),(Co=o.readonly)!=null||(o.readonly=void 0);return;case"TSModuleDeclaration":(Io=o.declare)!=null||(o.declare=!1),(El=o.global)!=null||(o.global=o.kind==="global");return;case"TSTypeParameter":(Pl=o.const)!=null||(o.const=!1),(Al=o.in)!=null||(o.in=!1),(Nl=o.out)!=null||(o.out=!1);return}}chStartsBindingIdentifierAndNotRelationalOperator(o,g){if(Be(o)){if(mo.lastIndex=g,mo.test(this.input)){const b=this.codePointAtPos(mo.lastIndex);if(!Xe(b)&&b!==92)return!1}return!0}else return o===92}nextTokenIsIdentifierAndNotTSRelationalOperatorOnSameLine(){const o=this.nextTokenInLineStart(),g=this.codePointAtPos(o);return this.chStartsBindingIdentifierAndNotRelationalOperator(g,o)}nextTokenIsIdentifierOrStringLiteralOnSameLine(){const o=this.nextTokenInLineStart(),g=this.codePointAtPos(o);return this.chStartsBindingIdentifier(g,o)||g===34||g===39}};function Ea(G){if(G.type!=="MemberExpression")return!1;const{computed:y,property:o}=G;return y&&o.type!=="StringLiteral"&&(o.type!=="TemplateLiteral"||o.expressions.length>0)?!1:Ui(G.object)}function au(G,y){var o;const{type:g}=G;if((o=G.extra)!=null&&o.parenthesized)return!1;if(y){if(g==="Literal"){const{value:b}=G;if(typeof b=="string"||typeof b=="boolean")return!0}}else if(g==="StringLiteral"||g==="BooleanLiteral")return!0;return!!(pl(G,y)||yo(G,y)||g==="TemplateLiteral"&&G.expressions.length===0||Ea(G))}function pl(G,y){return y?G.type==="Literal"&&(typeof G.value=="number"||"bigint"in G):G.type==="NumericLiteral"||G.type==="BigIntLiteral"}function yo(G,y){if(G.type==="UnaryExpression"){const{operator:o,argument:g}=G;if(o==="-"&&pl(g,y))return!0}return!1}function Ui(G){return G.type==="Identifier"?!0:G.type!=="MemberExpression"||G.computed?!1:Ui(G.object)}const Pa=P`placeholders`({ClassNameIsRequired:"A class name is required.",UnexpectedSpace:"Unexpected space in placeholder."});var dl=G=>class extends G{parsePlaceholder(o){if(this.match(133)){const g=this.startNode();return this.next(),this.assertNoSpace(),g.name=super.parseIdentifier(!0),this.assertNoSpace(),this.expect(133),this.finishPlaceholder(g,o)}}finishPlaceholder(o,g){let b=o;return(!b.expectedNode||!b.type)&&(b=this.finishNode(b,"Placeholder")),b.expectedNode=g,b}getTokenFromCode(o){o===37&&this.input.charCodeAt(this.state.pos+1)===37?this.finishOp(133,2):super.getTokenFromCode(o)}parseExprAtom(o){return this.parsePlaceholder("Expression")||super.parseExprAtom(o)}parseIdentifier(o){return this.parsePlaceholder("Identifier")||super.parseIdentifier(o)}checkReservedWord(o,g,b,k){o!==void 0&&super.checkReservedWord(o,g,b,k)}cloneIdentifier(o){const g=super.cloneIdentifier(o);return g.type==="Placeholder"&&(g.expectedNode=o.expectedNode),g}cloneStringLiteral(o){return o.type==="Placeholder"?this.cloneIdentifier(o):super.cloneStringLiteral(o)}parseBindingAtom(){return this.parsePlaceholder("Pattern")||super.parseBindingAtom()}isValidLVal(o,g,b,k){return o==="Placeholder"||super.isValidLVal(o,g,b,k)}toAssignable(o,g){o&&o.type==="Placeholder"&&o.expectedNode==="Expression"?o.expectedNode="Pattern":super.toAssignable(o,g)}chStartsBindingIdentifier(o,g){if(super.chStartsBindingIdentifier(o,g))return!0;const b=this.nextTokenStart();return this.input.charCodeAt(b)===37&&this.input.charCodeAt(b+1)===37}verifyBreakContinue(o,g){var b;((b=o.label)==null?void 0:b.type)!=="Placeholder"&&super.verifyBreakContinue(o,g)}parseExpressionStatement(o,g){var b;if(g.type!=="Placeholder"||(b=g.extra)!=null&&b.parenthesized)return super.parseExpressionStatement(o,g);if(this.match(14)){const ne=o;return ne.label=this.finishPlaceholder(g,"Identifier"),this.next(),ne.body=super.parseStatementOrSloppyAnnexBFunctionDeclaration(),this.finishNode(ne,"LabeledStatement")}this.semicolon();const k=o;return k.name=g.name,this.finishPlaceholder(k,"Statement")}parseBlock(o,g,b){return this.parsePlaceholder("BlockStatement")||super.parseBlock(o,g,b)}parseFunctionId(o){return this.parsePlaceholder("Identifier")||super.parseFunctionId(o)}parseClass(o,g,b){const k=g?"ClassDeclaration":"ClassExpression";this.next();const ne=this.state.strict,le=this.parsePlaceholder("Identifier");if(le)if(this.match(81)||this.match(133)||this.match(5))o.id=le;else{if(b||!g)return o.id=null,o.body=this.finishPlaceholder(le,"ClassBody"),this.finishNode(o,k);throw this.raise(Pa.ClassNameIsRequired,this.state.startLoc)}else this.parseClassId(o,g,b);return super.parseClassSuper(o),o.body=this.parsePlaceholder("ClassBody")||super.parseClassBody(!!o.superClass,ne),this.finishNode(o,k)}parseExport(o,g){const b=this.parsePlaceholder("Identifier");if(!b)return super.parseExport(o,g);const k=o;if(!this.isContextual(98)&&!this.match(12))return k.specifiers=[],k.source=null,k.declaration=this.finishPlaceholder(b,"Declaration"),this.finishNode(k,"ExportNamedDeclaration");this.expectPlugin("exportDefaultFrom");const ne=this.startNode();return ne.exported=b,k.specifiers=[this.finishNode(ne,"ExportDefaultSpecifier")],super.parseExport(k,g)}isExportDefaultSpecifier(){if(this.match(65)){const o=this.nextTokenStart();if(this.isUnparsedContextual(o,"from")&&this.input.startsWith(Fe(133),this.nextTokenStartSince(o+4)))return!0}return super.isExportDefaultSpecifier()}maybeParseExportDefaultSpecifier(o,g){var b;return(b=o.specifiers)!=null&&b.length?!0:super.maybeParseExportDefaultSpecifier(o,g)}checkExport(o){const{specifiers:g}=o;g!=null&&g.length&&(o.specifiers=g.filter(b=>b.exported.type==="Placeholder")),super.checkExport(o),o.specifiers=g}parseImport(o){const g=this.parsePlaceholder("Identifier");if(!g)return super.parseImport(o);if(o.specifiers=[],!this.isContextual(98)&&!this.match(12))return o.source=this.finishPlaceholder(g,"StringLiteral"),this.semicolon(),this.finishNode(o,"ImportDeclaration");const b=this.startNodeAtNode(g);return b.local=g,o.specifiers.push(this.finishNode(b,"ImportDefaultSpecifier")),this.eat(12)&&(this.maybeParseStarImportSpecifier(o)||this.parseNamedImportSpecifiers(o)),this.expectContextual(98),o.source=this.parseImportSource(),this.semicolon(),this.finishNode(o,"ImportDeclaration")}parseImportSource(){return this.parsePlaceholder("StringLiteral")||super.parseImportSource()}assertNoSpace(){this.state.start>this.offsetToSourcePos(this.state.lastTokEndLoc.index)&&this.raise(Pa.UnexpectedSpace,this.state.lastTokEndLoc)}},ks=G=>class extends G{parseV8Intrinsic(){if(this.match(54)){const o=this.state.startLoc,g=this.startNode();if(this.next(),Ue(this.state.type)){const b=this.parseIdentifierName(),k=this.createIdentifier(g,b);if(this.castNodeTo(k,"V8IntrinsicIdentifier"),this.match(10))return k}this.unexpected(o)}}parseExprAtom(o){return this.parseV8Intrinsic()||super.parseExprAtom(o)}};const Aa=["minimal","fsharp","hack","smart"],qi=["^^","@@","^","%","#"];function fl(G){if(G.has("decorators")){if(G.has("decorators-legacy"))throw new Error("Cannot use the decorators and decorators-legacy plugin together");const g=G.get("decorators").decoratorsBeforeExport;if(g!=null&&typeof g!="boolean")throw new Error("'decoratorsBeforeExport' must be a boolean, if specified.");const b=G.get("decorators").allowCallParenthesized;if(b!=null&&typeof b!="boolean")throw new Error("'allowCallParenthesized' must be a boolean.")}if(G.has("flow")&&G.has("typescript"))throw new Error("Cannot combine flow and typescript plugins.");if(G.has("placeholders")&&G.has("v8intrinsic"))throw new Error("Cannot combine placeholders and v8intrinsic plugins.");if(G.has("pipelineOperator")){var y;const g=G.get("pipelineOperator").proposal;if(!Aa.includes(g)){const b=Aa.map(k=>`"${k}"`).join(", ");throw new Error(`"pipelineOperator" requires "proposal" option whose value must be one of: ${b}.`)}if(g==="hack"){var o;if(G.has("placeholders"))throw new Error("Cannot combine placeholders plugin and Hack-style pipes.");if(G.has("v8intrinsic"))throw new Error("Cannot combine v8intrinsic plugin and Hack-style pipes.");const b=G.get("pipelineOperator").topicToken;if(!qi.includes(b)){const k=qi.map(ne=>`"${ne}"`).join(", ");throw new Error(`"pipelineOperator" in "proposal": "hack" mode also requires a "topicToken" option whose value must be one of: ${k}.`)}if(b==="#"&&((o=G.get("recordAndTuple"))==null?void 0:o.syntaxType)==="hash")throw new Error(`Plugin conflict between \`["pipelineOperator", { proposal: "hack", topicToken: "#" }]\` and \`${JSON.stringify(["recordAndTuple",G.get("recordAndTuple")])}\`.`)}else if(g==="smart"&&((y=G.get("recordAndTuple"))==null?void 0:y.syntaxType)==="hash")throw new Error(`Plugin conflict between \`["pipelineOperator", { proposal: "smart" }]\` and \`${JSON.stringify(["recordAndTuple",G.get("recordAndTuple")])}\`.`)}if(G.has("moduleAttributes")){if(G.has("deprecatedImportAssert")||G.has("importAssertions"))throw new Error("Cannot combine importAssertions, deprecatedImportAssert and moduleAttributes plugins.");if(G.get("moduleAttributes").version!=="may-2020")throw new Error("The 'moduleAttributes' plugin requires a 'version' option, representing the last proposal update. Currently, the only supported value is 'may-2020'.")}if(G.has("importAssertions")&&G.has("deprecatedImportAssert"))throw new Error("Cannot combine importAssertions and deprecatedImportAssert plugins.");if(G.has("deprecatedImportAssert")||G.has("importAttributes")&&G.get("importAttributes").deprecatedAssertSyntax&&G.set("deprecatedImportAssert",{}),G.has("recordAndTuple")){const g=G.get("recordAndTuple").syntaxType;if(g!=null){const b=["hash","bar"];if(!b.includes(g))throw new Error("The 'syntaxType' option of the 'recordAndTuple' plugin must be one of: "+b.map(k=>`'${k}'`).join(", "))}}if(G.has("asyncDoExpressions")&&!G.has("doExpressions")){const g=new Error("'asyncDoExpressions' requires 'doExpressions', please add 'doExpressions' to parser plugins.");throw g.missingPlugins="doExpressions",g}if(G.has("optionalChainingAssign")&&G.get("optionalChainingAssign").version!=="2023-07")throw new Error("The 'optionalChainingAssign' plugin requires a 'version' option, representing the last proposal update. Currently, the only supported value is '2023-07'.");if(G.has("discardBinding")&&G.get("discardBinding").syntaxType!=="void")throw new Error("The 'discardBinding' plugin requires a 'syntaxType' option. Currently the only supported value is 'void'.")}const $i={estree:O,jsx:va,flow:wr,typescript:fi,v8intrinsic:ks,placeholders:dl},Na=Object.keys($i);class hl extends Vi{checkProto(y,o,g,b){if(y.type==="SpreadElement"||this.isObjectMethod(y)||y.computed||y.shorthand)return g;const k=y.key;return(k.type==="Identifier"?k.name:k.value)==="__proto__"?o?(this.raise(S.RecordNoProto,k),!0):(g&&(b?b.doubleProtoLoc===null&&(b.doubleProtoLoc=k.loc.start):this.raise(S.DuplicateProto,k)),!0):g}shouldExitDescending(y,o){return y.type==="ArrowFunctionExpression"&&this.offsetToSourcePos(y.start)===o}getExpression(){if(this.enterInitialScopes(),this.nextToken(),this.match(140))throw this.raise(S.ParseExpressionEmptyInput,this.state.startLoc);const y=this.parseExpression();if(!this.match(140))throw this.raise(S.ParseExpressionExpectsEOF,this.state.startLoc,{unexpected:this.input.codePointAt(this.state.start)});return this.finalizeRemainingComments(),y.comments=this.comments,y.errors=this.state.errors,this.optionFlags&256&&(y.tokens=this.tokens),y}parseExpression(y,o){return y?this.disallowInAnd(()=>this.parseExpressionBase(o)):this.allowInAnd(()=>this.parseExpressionBase(o))}parseExpressionBase(y){const o=this.state.startLoc,g=this.parseMaybeAssign(y);if(this.match(12)){const b=this.startNodeAt(o);for(b.expressions=[g];this.eat(12);)b.expressions.push(this.parseMaybeAssign(y));return this.toReferencedList(b.expressions),this.finishNode(b,"SequenceExpression")}return g}parseMaybeAssignDisallowIn(y,o){return this.disallowInAnd(()=>this.parseMaybeAssign(y,o))}parseMaybeAssignAllowIn(y,o){return this.allowInAnd(()=>this.parseMaybeAssign(y,o))}setOptionalParametersError(y){y.optionalParametersLoc=this.state.startLoc}parseMaybeAssign(y,o){const g=this.state.startLoc,b=this.isContextual(108);if(b&&this.prodParam.hasYield){this.next();let ye=this.parseYield(g);return o&&(ye=o.call(this,ye,g)),ye}let k;y?k=!1:(y=new Is,k=!0);const{type:ne}=this.state;(ne===10||Ue(ne))&&(this.state.potentialArrowAt=this.state.start);let le=this.parseMaybeConditional(y);if(o&&(le=o.call(this,le,g)),ct(this.state.type)){const ye=this.startNodeAt(g),Pe=this.state.value;if(ye.operator=Pe,this.match(29)){this.toAssignable(le,!0),ye.left=le;const Ie=g.index;y.doubleProtoLoc!=null&&y.doubleProtoLoc.index>=Ie&&(y.doubleProtoLoc=null),y.shorthandAssignLoc!=null&&y.shorthandAssignLoc.index>=Ie&&(y.shorthandAssignLoc=null),y.privateKeyLoc!=null&&y.privateKeyLoc.index>=Ie&&(this.checkDestructuringPrivate(y),y.privateKeyLoc=null),y.voidPatternLoc!=null&&y.voidPatternLoc.index>=Ie&&(y.voidPatternLoc=null)}else ye.left=le;return this.next(),ye.right=this.parseMaybeAssign(),this.checkLVal(le,this.finishNode(ye,"AssignmentExpression"),void 0,void 0,void 0,void 0,Pe==="||="||Pe==="&&="||Pe==="??="),ye}else k&&this.checkExpressionErrors(y,!0);if(b){const{type:ye}=this.state;if((this.hasPlugin("v8intrinsic")?It(ye):It(ye)&&!this.match(54))&&!this.isAmbiguousPrefixOrIdentifier())return this.raiseOverwrite(S.YieldNotInGeneratorFunction,g),this.parseYield(g)}return le}parseMaybeConditional(y){const o=this.state.startLoc,g=this.state.potentialArrowAt,b=this.parseExprOps(y);return this.shouldExitDescending(b,g)?b:this.parseConditional(b,o,y)}parseConditional(y,o,g){if(this.eat(17)){const b=this.startNodeAt(o);return b.test=y,b.consequent=this.parseMaybeAssignAllowIn(),this.expect(14),b.alternate=this.parseMaybeAssign(),this.finishNode(b,"ConditionalExpression")}return y}parseMaybeUnaryOrPrivate(y){return this.match(139)?this.parsePrivateName():this.parseMaybeUnary(y)}parseExprOps(y){const o=this.state.startLoc,g=this.state.potentialArrowAt,b=this.parseMaybeUnaryOrPrivate(y);return this.shouldExitDescending(b,g)?b:this.parseExprOp(b,o,-1)}parseExprOp(y,o,g){if(this.isPrivateName(y)){const k=this.getPrivateNameSV(y);(g>=Me(58)||!this.prodParam.hasIn||!this.match(58))&&this.raise(S.PrivateInExpectedIn,y,{identifierName:k}),this.classScope.usePrivateName(k,y.loc.start)}const b=this.state.type;if(St(b)&&(this.prodParam.hasIn||!this.match(58))){let k=Me(b);if(k>g){if(b===39){if(this.expectPlugin("pipelineOperator"),this.state.inFSharpPipelineDirectBody)return y;this.checkPipelineAtInfixOperator(y,o)}const ne=this.startNodeAt(o);ne.left=y,ne.operator=this.state.value;const le=b===41||b===42,ye=b===40;if(ye&&(k=Me(42)),this.next(),b===39&&this.hasPlugin(["pipelineOperator",{proposal:"minimal"}])&&this.state.type===96&&this.prodParam.hasAwait)throw this.raise(S.UnexpectedAwaitAfterPipelineBody,this.state.startLoc);ne.right=this.parseExprOpRightExpr(b,k);const Pe=this.finishNode(ne,le||ye?"LogicalExpression":"BinaryExpression"),Ie=this.state.type;if(ye&&(Ie===41||Ie===42)||le&&Ie===40)throw this.raise(S.MixingCoalesceWithLogical,this.state.startLoc);return this.parseExprOp(Pe,o,g)}}return y}parseExprOpRightExpr(y,o){const g=this.state.startLoc;switch(y){case 39:switch(this.getPluginOption("pipelineOperator","proposal")){case"hack":return this.withTopicBindingContext(()=>this.parseHackPipeBody());case"fsharp":return this.withSoloAwaitPermittingContext(()=>this.parseFSharpPipelineBody(o))}if(this.getPluginOption("pipelineOperator","proposal")==="smart")return this.withTopicBindingContext(()=>{if(this.prodParam.hasYield&&this.isContextual(108))throw this.raise(S.PipeBodyIsTighter,this.state.startLoc);return this.parseSmartPipelineBodyInStyle(this.parseExprOpBaseRightExpr(y,o),g)});default:return this.parseExprOpBaseRightExpr(y,o)}}parseExprOpBaseRightExpr(y,o){const g=this.state.startLoc;return this.parseExprOp(this.parseMaybeUnaryOrPrivate(),g,ce(y)?o-1:o)}parseHackPipeBody(){var y;const{startLoc:o}=this.state,g=this.parseMaybeAssign();return h.has(g.type)&&!((y=g.extra)!=null&&y.parenthesized)&&this.raise(S.PipeUnparenthesizedBody,o,{type:g.type}),this.topicReferenceWasUsedInCurrentContext()||this.raise(S.PipeTopicUnused,o),g}checkExponentialAfterUnary(y){this.match(57)&&this.raise(S.UnexpectedTokenUnaryExponentiation,y.argument)}parseMaybeUnary(y,o){const g=this.state.startLoc,b=this.isContextual(96);if(b&&this.recordAwaitIfAllowed()){this.next();const ye=this.parseAwait(g);return o||this.checkExponentialAfterUnary(ye),ye}const k=this.match(34),ne=this.startNode();if(jt(this.state.type)){ne.operator=this.state.value,ne.prefix=!0,this.match(72)&&this.expectPlugin("throwExpressions");const ye=this.match(89);if(this.next(),ne.argument=this.parseMaybeUnary(null,!0),this.checkExpressionErrors(y,!0),this.state.strict&&ye){const Pe=ne.argument;Pe.type==="Identifier"?this.raise(S.StrictDelete,ne):this.hasPropertyAsPrivateName(Pe)&&this.raise(S.DeletePrivateField,ne)}if(!k)return o||this.checkExponentialAfterUnary(ne),this.finishNode(ne,"UnaryExpression")}const le=this.parseUpdate(ne,k,y);if(b){const{type:ye}=this.state;if((this.hasPlugin("v8intrinsic")?It(ye):It(ye)&&!this.match(54))&&!this.isAmbiguousPrefixOrIdentifier())return this.raiseOverwrite(S.AwaitNotInAsyncContext,g),this.parseAwait(g)}return le}parseUpdate(y,o,g){if(o){const ne=y;return this.checkLVal(ne.argument,this.finishNode(ne,"UpdateExpression")),y}const b=this.state.startLoc;let k=this.parseExprSubscripts(g);if(this.checkExpressionErrors(g,!1))return k;for(;Et(this.state.type)&&!this.canInsertSemicolon();){const ne=this.startNodeAt(b);ne.operator=this.state.value,ne.prefix=!1,ne.argument=k,this.next(),this.checkLVal(k,k=this.finishNode(ne,"UpdateExpression"))}return k}parseExprSubscripts(y){const o=this.state.startLoc,g=this.state.potentialArrowAt,b=this.parseExprAtom(y);return this.shouldExitDescending(b,g)?b:this.parseSubscripts(b,o)}parseSubscripts(y,o,g){const b={optionalChainMember:!1,maybeAsyncArrow:this.atPossibleAsyncArrow(y),stop:!1};do y=this.parseSubscript(y,o,g,b),b.maybeAsyncArrow=!1;while(!b.stop);return y}parseSubscript(y,o,g,b){const{type:k}=this.state;if(!g&&k===15)return this.parseBind(y,o,g,b);if(we(k))return this.parseTaggedTemplateExpression(y,o,b);let ne=!1;if(k===18){if(g&&(this.raise(S.OptionalChainingNoNew,this.state.startLoc),this.lookaheadCharCode()===40))return this.stopParseSubscript(y,b);b.optionalChainMember=ne=!0,this.next()}if(!g&&this.match(10))return this.parseCoverCallAndAsyncArrowHead(y,o,b,ne);{const le=this.eat(0);return le||ne||this.eat(16)?this.parseMember(y,o,b,le,ne):this.stopParseSubscript(y,b)}}stopParseSubscript(y,o){return o.stop=!0,y}parseMember(y,o,g,b,k){const ne=this.startNodeAt(o);return ne.object=y,ne.computed=b,b?(ne.property=this.parseExpression(),this.expect(3)):this.match(139)?(y.type==="Super"&&this.raise(S.SuperPrivateField,o),this.classScope.usePrivateName(this.state.value,this.state.startLoc),ne.property=this.parsePrivateName()):ne.property=this.parseIdentifier(!0),g.optionalChainMember?(ne.optional=k,this.finishNode(ne,"OptionalMemberExpression")):this.finishNode(ne,"MemberExpression")}parseBind(y,o,g,b){const k=this.startNodeAt(o);return k.object=y,this.next(),k.callee=this.parseNoCallExpr(),b.stop=!0,this.parseSubscripts(this.finishNode(k,"BindExpression"),o,g)}parseCoverCallAndAsyncArrowHead(y,o,g,b){const k=this.state.maybeInArrowParameters;let ne=null;this.state.maybeInArrowParameters=!0,this.next();const le=this.startNodeAt(o);le.callee=y;const{maybeAsyncArrow:ye,optionalChainMember:Pe}=g;ye&&(this.expressionScope.enter(_s()),ne=new Is),Pe&&(le.optional=b),b?le.arguments=this.parseCallExpressionArguments():le.arguments=this.parseCallExpressionArguments(y.type!=="Super",le,ne);let Ie=this.finishCallExpression(le,Pe);return ye&&this.shouldParseAsyncArrow()&&!b?(g.stop=!0,this.checkDestructuringPrivate(ne),this.expressionScope.validateAsPattern(),this.expressionScope.exit(),Ie=this.parseAsyncArrowFromCallExpression(this.startNodeAt(o),Ie)):(ye&&(this.checkExpressionErrors(ne,!0),this.expressionScope.exit()),this.toReferencedArguments(Ie)),this.state.maybeInArrowParameters=k,Ie}toReferencedArguments(y,o){this.toReferencedListDeep(y.arguments,o)}parseTaggedTemplateExpression(y,o,g){const b=this.startNodeAt(o);return b.tag=y,b.quasi=this.parseTemplate(!0),g.optionalChainMember&&this.raise(S.OptionalChainingNoTemplate,o),this.finishNode(b,"TaggedTemplateExpression")}atPossibleAsyncArrow(y){return y.type==="Identifier"&&y.name==="async"&&this.state.lastTokEndLoc.index===y.end&&!this.canInsertSemicolon()&&y.end-y.start===5&&this.offsetToSourcePos(y.start)===this.state.potentialArrowAt}finishCallExpression(y,o){if(y.callee.type==="Import")if(y.arguments.length===0||y.arguments.length>2)this.raise(S.ImportCallArity,y);else for(const g of y.arguments)g.type==="SpreadElement"&&this.raise(S.ImportCallSpreadArgument,g);return this.finishNode(y,o?"OptionalCallExpression":"CallExpression")}parseCallExpressionArguments(y,o,g){const b=[];let k=!0;const ne=this.state.inFSharpPipelineDirectBody;for(this.state.inFSharpPipelineDirectBody=!1;!this.eat(11);){if(k)k=!1;else if(this.expect(12),this.match(11)){o&&this.addTrailingCommaExtraToNode(o),this.next();break}b.push(this.parseExprListItem(11,!1,g,y))}return this.state.inFSharpPipelineDirectBody=ne,b}shouldParseAsyncArrow(){return this.match(19)&&!this.canInsertSemicolon()}parseAsyncArrowFromCallExpression(y,o){var g;return this.resetPreviousNodeTrailingComments(o),this.expect(19),this.parseArrowExpression(y,o.arguments,!0,(g=o.extra)==null?void 0:g.trailingCommaLoc),o.innerComments&&$s(y,o.innerComments),o.callee.trailingComments&&$s(y,o.callee.trailingComments),y}parseNoCallExpr(){const y=this.state.startLoc;return this.parseSubscripts(this.parseExprAtom(),y,!0)}parseExprAtom(y){let o,g=null;const{type:b}=this.state;switch(b){case 79:return this.parseSuper();case 83:return o=this.startNode(),this.next(),this.match(16)?this.parseImportMetaPropertyOrPhaseCall(o):this.match(10)?this.optionFlags&512?this.parseImportCall(o):this.finishNode(o,"Import"):(this.raise(S.UnsupportedImport,this.state.lastTokStartLoc),this.finishNode(o,"Import"));case 78:return o=this.startNode(),this.next(),this.finishNode(o,"ThisExpression");case 90:return this.parseDo(this.startNode(),!1);case 56:case 31:return this.readRegexp(),this.parseRegExpLiteral(this.state.value);case 135:return this.parseNumericLiteral(this.state.value);case 136:return this.parseBigIntLiteral(this.state.value);case 134:return this.parseStringLiteral(this.state.value);case 84:return this.parseNullLiteral();case 85:return this.parseBooleanLiteral(!0);case 86:return this.parseBooleanLiteral(!1);case 10:{const k=this.state.potentialArrowAt===this.state.start;return this.parseParenAndDistinguishExpression(k)}case 0:return this.parseArrayLike(3,!1,y);case 5:return this.parseObjectLike(8,!1,!1,y);case 68:return this.parseFunctionOrFunctionSent();case 26:g=this.parseDecorators();case 80:return this.parseClass(this.maybeTakeDecorators(g,this.startNode()),!1);case 77:return this.parseNewOrNewTarget();case 25:case 24:return this.parseTemplate(!1);case 15:{o=this.startNode(),this.next(),o.object=null;const k=o.callee=this.parseNoCallExpr();if(k.type==="MemberExpression")return this.finishNode(o,"BindExpression");throw this.raise(S.UnsupportedBind,k)}case 139:return this.raise(S.PrivateInExpectedIn,this.state.startLoc,{identifierName:this.state.value}),this.parsePrivateName();case 33:return this.parseTopicReferenceThenEqualsSign(54,"%");case 32:return this.parseTopicReferenceThenEqualsSign(44,"^");case 37:case 38:return this.parseTopicReference("hack");case 44:case 54:case 27:{const k=this.getPluginOption("pipelineOperator","proposal");if(k)return this.parseTopicReference(k);throw this.unexpected()}case 47:{const k=this.input.codePointAt(this.nextTokenStart());throw Be(k)||k===62?this.expectOnePlugin(["jsx","flow","typescript"]):this.unexpected()}default:if(b===137)return this.parseDecimalLiteral(this.state.value);if(b===2||b===1)return this.parseArrayLike(this.state.type===2?4:3,!0);if(b===6||b===7)return this.parseObjectLike(this.state.type===6?9:8,!1,!0);if(Ue(b)){if(this.isContextual(127)&&this.lookaheadInLineCharCode()===123)return this.parseModuleExpression();const k=this.state.potentialArrowAt===this.state.start,ne=this.state.containsEsc,le=this.parseIdentifier();if(!ne&&le.name==="async"&&!this.canInsertSemicolon()){const{type:ye}=this.state;if(ye===68)return this.resetPreviousNodeTrailingComments(le),this.next(),this.parseAsyncFunctionExpression(this.startNodeAtNode(le));if(Ue(ye))return this.lookaheadCharCode()===61?this.parseAsyncArrowUnaryFunction(this.startNodeAtNode(le)):le;if(ye===90)return this.resetPreviousNodeTrailingComments(le),this.parseDo(this.startNodeAtNode(le),!0)}return k&&this.match(19)&&!this.canInsertSemicolon()?(this.next(),this.parseArrowExpression(this.startNodeAtNode(le),[le],!1)):le}else throw this.unexpected()}}parseTopicReferenceThenEqualsSign(y,o){const g=this.getPluginOption("pipelineOperator","proposal");if(g)return this.state.type=y,this.state.value=o,this.state.pos--,this.state.end--,this.state.endLoc=r(this.state.endLoc,-1),this.parseTopicReference(g);throw this.unexpected()}parseTopicReference(y){const o=this.startNode(),g=this.state.startLoc,b=this.state.type;return this.next(),this.finishTopicReference(o,g,y,b)}finishTopicReference(y,o,g,b){if(this.testTopicReferenceConfiguration(g,o,b))return g==="hack"?(this.topicReferenceIsAllowedInCurrentContext()||this.raise(S.PipeTopicUnbound,o),this.registerTopicReference(),this.finishNode(y,"TopicReference")):(this.topicReferenceIsAllowedInCurrentContext()||this.raise(S.PrimaryTopicNotAllowed,o),this.registerTopicReference(),this.finishNode(y,"PipelinePrimaryTopicReference"));throw this.raise(S.PipeTopicUnconfiguredToken,o,{token:Fe(b)})}testTopicReferenceConfiguration(y,o,g){switch(y){case"hack":return this.hasPlugin(["pipelineOperator",{topicToken:Fe(g)}]);case"smart":return g===27;default:throw this.raise(S.PipeTopicRequiresHackPipes,o)}}parseAsyncArrowUnaryFunction(y){this.prodParam.enter(ns(!0,this.prodParam.hasYield));const o=[this.parseIdentifier()];return this.prodParam.exit(),this.hasPrecedingLineBreak()&&this.raise(S.LineTerminatorBeforeArrow,this.state.curPosition()),this.expect(19),this.parseArrowExpression(y,o,!0)}parseDo(y,o){this.expectPlugin("doExpressions"),o&&this.expectPlugin("asyncDoExpressions"),y.async=o,this.next();const g=this.state.labels;return this.state.labels=[],o?(this.prodParam.enter(2),y.body=this.parseBlock(),this.prodParam.exit()):y.body=this.parseBlock(),this.state.labels=g,this.finishNode(y,"DoExpression")}parseSuper(){const y=this.startNode();return this.next(),this.match(10)&&!this.scope.allowDirectSuper?this.optionFlags&16||this.raise(S.SuperNotAllowed,y):this.scope.allowSuper||this.optionFlags&16||this.raise(S.UnexpectedSuper,y),!this.match(10)&&!this.match(0)&&!this.match(16)&&this.raise(S.UnsupportedSuper,y),this.finishNode(y,"Super")}parsePrivateName(){const y=this.startNode(),o=this.startNodeAt(r(this.state.startLoc,1)),g=this.state.value;return this.next(),y.id=this.createIdentifier(o,g),this.finishNode(y,"PrivateName")}parseFunctionOrFunctionSent(){const y=this.startNode();if(this.next(),this.prodParam.hasYield&&this.match(16)){const o=this.createIdentifier(this.startNodeAtNode(y),"function");return this.next(),this.match(103)?this.expectPlugin("functionSent"):this.hasPlugin("functionSent")||this.unexpected(),this.parseMetaProperty(y,o,"sent")}return this.parseFunction(y)}parseMetaProperty(y,o,g){y.meta=o;const b=this.state.containsEsc;return y.property=this.parseIdentifier(!0),(y.property.name!==g||b)&&this.raise(S.UnsupportedMetaProperty,y.property,{target:o.name,onlyValidPropertyName:g}),this.finishNode(y,"MetaProperty")}parseImportMetaPropertyOrPhaseCall(y){if(this.next(),this.isContextual(105)||this.isContextual(97)){const o=this.isContextual(105);return this.expectPlugin(o?"sourcePhaseImports":"deferredImportEvaluation"),this.next(),y.phase=o?"source":"defer",this.parseImportCall(y)}else{const o=this.createIdentifierAt(this.startNodeAtNode(y),"import",this.state.lastTokStartLoc);return this.isContextual(101)&&(this.inModule||this.raise(S.ImportMetaOutsideModule,o),this.sawUnambiguousESM=!0),this.parseMetaProperty(y,o,"meta")}}parseLiteralAtNode(y,o,g){return this.addExtra(g,"rawValue",y),this.addExtra(g,"raw",this.input.slice(this.offsetToSourcePos(g.start),this.state.end)),g.value=y,this.next(),this.finishNode(g,o)}parseLiteral(y,o){const g=this.startNode();return this.parseLiteralAtNode(y,o,g)}parseStringLiteral(y){return this.parseLiteral(y,"StringLiteral")}parseNumericLiteral(y){return this.parseLiteral(y,"NumericLiteral")}parseBigIntLiteral(y){return this.parseLiteral(y,"BigIntLiteral")}parseDecimalLiteral(y){return this.parseLiteral(y,"DecimalLiteral")}parseRegExpLiteral(y){const o=this.startNode();return this.addExtra(o,"raw",this.input.slice(this.offsetToSourcePos(o.start),this.state.end)),o.pattern=y.pattern,o.flags=y.flags,this.next(),this.finishNode(o,"RegExpLiteral")}parseBooleanLiteral(y){const o=this.startNode();return o.value=y,this.next(),this.finishNode(o,"BooleanLiteral")}parseNullLiteral(){const y=this.startNode();return this.next(),this.finishNode(y,"NullLiteral")}parseParenAndDistinguishExpression(y){const o=this.state.startLoc;let g;this.next(),this.expressionScope.enter(ba());const b=this.state.maybeInArrowParameters,k=this.state.inFSharpPipelineDirectBody;this.state.maybeInArrowParameters=!0,this.state.inFSharpPipelineDirectBody=!1;const ne=this.state.startLoc,le=[],ye=new Is;let Pe=!0,Ie,Je;for(;!this.match(11);){if(Pe)Pe=!1;else if(this.expect(12,ye.optionalParametersLoc===null?null:ye.optionalParametersLoc),this.match(11)){Je=this.state.startLoc;break}if(this.match(21)){const Rt=this.state.startLoc;if(Ie=this.state.startLoc,le.push(this.parseParenItem(this.parseRestBinding(),Rt)),!this.checkCommaAfterRest(41))break}else le.push(this.parseMaybeAssignAllowInOrVoidPattern(11,ye,this.parseParenItem))}const mt=this.state.lastTokEndLoc;this.expect(11),this.state.maybeInArrowParameters=b,this.state.inFSharpPipelineDirectBody=k;let bt=this.startNodeAt(o);return y&&this.shouldParseArrow(le)&&(bt=this.parseArrow(bt))?(this.checkDestructuringPrivate(ye),this.expressionScope.validateAsPattern(),this.expressionScope.exit(),this.parseArrowExpression(bt,le,!1),bt):(this.expressionScope.exit(),le.length||this.unexpected(this.state.lastTokStartLoc),Je&&this.unexpected(Je),Ie&&this.unexpected(Ie),this.checkExpressionErrors(ye,!0),this.toReferencedListDeep(le,!0),le.length>1?(g=this.startNodeAt(ne),g.expressions=le,this.finishNode(g,"SequenceExpression"),this.resetEndLocation(g,mt)):g=le[0],this.wrapParenthesis(o,g))}wrapParenthesis(y,o){if(!(this.optionFlags&1024))return this.addExtra(o,"parenthesized",!0),this.addExtra(o,"parenStart",y.index),this.takeSurroundingComments(o,y.index,this.state.lastTokEndLoc.index),o;const g=this.startNodeAt(y);return g.expression=o,this.finishNode(g,"ParenthesizedExpression")}shouldParseArrow(y){return!this.canInsertSemicolon()}parseArrow(y){if(this.eat(19))return y}parseParenItem(y,o){return y}parseNewOrNewTarget(){const y=this.startNode();if(this.next(),this.match(16)){const o=this.createIdentifier(this.startNodeAtNode(y),"new");this.next();const g=this.parseMetaProperty(y,o,"target");return this.scope.allowNewTarget||this.raise(S.UnexpectedNewTarget,g),g}return this.parseNew(y)}parseNew(y){if(this.parseNewCallee(y),this.eat(10)){const o=this.parseExprList(11);this.toReferencedList(o),y.arguments=o}else y.arguments=[];return this.finishNode(y,"NewExpression")}parseNewCallee(y){const o=this.match(83),g=this.parseNoCallExpr();y.callee=g,o&&(g.type==="Import"||g.type==="ImportExpression")&&this.raise(S.ImportCallNotNewExpression,g)}parseTemplateElement(y){const{start:o,startLoc:g,end:b,value:k}=this.state,ne=o+1,le=this.startNodeAt(r(g,1));k===null&&(y||this.raise(S.InvalidEscapeSequenceTemplate,r(this.state.firstInvalidTemplateEscapePos,1)));const ye=this.match(24),Pe=ye?-1:-2,Ie=b+Pe;le.value={raw:this.input.slice(ne,Ie).replace(/\r\n?/g,`
`),cooked:k===null?null:k.slice(1,Pe)},le.tail=ye,this.next();const Je=this.finishNode(le,"TemplateElement");return this.resetEndLocation(Je,r(this.state.lastTokEndLoc,Pe)),Je}parseTemplate(y){const o=this.startNode();let g=this.parseTemplateElement(y);const b=[g],k=[];for(;!g.tail;)k.push(this.parseTemplateSubstitution()),this.readTemplateContinuation(),b.push(g=this.parseTemplateElement(y));return o.expressions=k,o.quasis=b,this.finishNode(o,"TemplateLiteral")}parseTemplateSubstitution(){return this.parseExpression()}parseObjectLike(y,o,g,b){g&&this.expectPlugin("recordAndTuple");const k=this.state.inFSharpPipelineDirectBody;this.state.inFSharpPipelineDirectBody=!1;let ne=!1,le=!0;const ye=this.startNode();for(ye.properties=[],this.next();!this.match(y);){if(le)le=!1;else if(this.expect(12),this.match(y)){this.addTrailingCommaExtraToNode(ye);break}let Ie;o?Ie=this.parseBindingProperty():(Ie=this.parsePropertyDefinition(b),ne=this.checkProto(Ie,g,ne,b)),g&&!this.isObjectProperty(Ie)&&Ie.type!=="SpreadElement"&&this.raise(S.InvalidRecordProperty,Ie),Ie.shorthand&&this.addExtra(Ie,"shorthand",!0),ye.properties.push(Ie)}this.next(),this.state.inFSharpPipelineDirectBody=k;let Pe="ObjectExpression";return o?Pe="ObjectPattern":g&&(Pe="RecordExpression"),this.finishNode(ye,Pe)}addTrailingCommaExtraToNode(y){this.addExtra(y,"trailingComma",this.state.lastTokStartLoc.index),this.addExtra(y,"trailingCommaLoc",this.state.lastTokStartLoc,!1)}maybeAsyncOrAccessorProp(y){return!y.computed&&y.key.type==="Identifier"&&(this.isLiteralPropertyName()||this.match(0)||this.match(55))}parsePropertyDefinition(y){let o=[];if(this.match(26))for(this.hasPlugin("decorators")&&this.raise(S.UnsupportedPropertyDecorator,this.state.startLoc);this.match(26);)o.push(this.parseDecorator());const g=this.startNode();let b=!1,k=!1,ne;if(this.match(21))return o.length&&this.unexpected(),this.parseSpread();o.length&&(g.decorators=o,o=[]),g.method=!1,y&&(ne=this.state.startLoc);let le=this.eat(55);this.parsePropertyNamePrefixOperator(g);const ye=this.state.containsEsc;if(this.parsePropertyName(g,y),!le&&!ye&&this.maybeAsyncOrAccessorProp(g)){const{key:Pe}=g,Ie=Pe.name;Ie==="async"&&!this.hasPrecedingLineBreak()&&(b=!0,this.resetPreviousNodeTrailingComments(Pe),le=this.eat(55),this.parsePropertyName(g)),(Ie==="get"||Ie==="set")&&(k=!0,this.resetPreviousNodeTrailingComments(Pe),g.kind=Ie,this.match(55)&&(le=!0,this.raise(S.AccessorIsGenerator,this.state.curPosition(),{kind:Ie}),this.next()),this.parsePropertyName(g))}return this.parseObjPropValue(g,ne,le,b,!1,k,y)}getGetterSetterExpectedParamCount(y){return y.kind==="get"?0:1}getObjectOrClassMethodParams(y){return y.params}checkGetterSetterParams(y){var o;const g=this.getGetterSetterExpectedParamCount(y),b=this.getObjectOrClassMethodParams(y);b.length!==g&&this.raise(y.kind==="get"?S.BadGetterArity:S.BadSetterArity,y),y.kind==="set"&&((o=b[b.length-1])==null?void 0:o.type)==="RestElement"&&this.raise(S.BadSetterRestParameter,y)}parseObjectMethod(y,o,g,b,k){if(k){const ne=this.parseMethod(y,o,!1,!1,!1,"ObjectMethod");return this.checkGetterSetterParams(ne),ne}if(g||o||this.match(10))return b&&this.unexpected(),y.kind="method",y.method=!0,this.parseMethod(y,o,g,!1,!1,"ObjectMethod")}parseObjectProperty(y,o,g,b){if(y.shorthand=!1,this.eat(14))return y.value=g?this.parseMaybeDefault(this.state.startLoc):this.parseMaybeAssignAllowInOrVoidPattern(8,b),this.finishObjectProperty(y);if(!y.computed&&y.key.type==="Identifier"){if(this.checkReservedWord(y.key.name,y.key.loc.start,!0,!1),g)y.value=this.parseMaybeDefault(o,this.cloneIdentifier(y.key));else if(this.match(29)){const k=this.state.startLoc;b!=null?b.shorthandAssignLoc===null&&(b.shorthandAssignLoc=k):this.raise(S.InvalidCoverInitializedName,k),y.value=this.parseMaybeDefault(o,this.cloneIdentifier(y.key))}else y.value=this.cloneIdentifier(y.key);return y.shorthand=!0,this.finishObjectProperty(y)}}finishObjectProperty(y){return this.finishNode(y,"ObjectProperty")}parseObjPropValue(y,o,g,b,k,ne,le){const ye=this.parseObjectMethod(y,g,b,k,ne)||this.parseObjectProperty(y,o,k,le);return ye||this.unexpected(),ye}parsePropertyName(y,o){if(this.eat(0))y.computed=!0,y.key=this.parseMaybeAssignAllowIn(),this.expect(3);else{const{type:g,value:b}=this.state;let k;if(Ze(g))k=this.parseIdentifier(!0);else switch(g){case 135:k=this.parseNumericLiteral(b);break;case 134:k=this.parseStringLiteral(b);break;case 136:k=this.parseBigIntLiteral(b);break;case 139:{const ne=this.state.startLoc;o!=null?o.privateKeyLoc===null&&(o.privateKeyLoc=ne):this.raise(S.UnexpectedPrivateField,ne),k=this.parsePrivateName();break}default:if(g===137){k=this.parseDecimalLiteral(b);break}this.unexpected()}y.key=k,g!==139&&(y.computed=!1)}}initFunction(y,o){y.id=null,y.generator=!1,y.async=o}parseMethod(y,o,g,b,k,ne,le=!1){this.initFunction(y,g),y.generator=o,this.scope.enter(530|(le?576:0)|(k?32:0)),this.prodParam.enter(ns(g,y.generator)),this.parseFunctionParams(y,b);const ye=this.parseFunctionBodyAndFinish(y,ne,!0);return this.prodParam.exit(),this.scope.exit(),ye}parseArrayLike(y,o,g){o&&this.expectPlugin("recordAndTuple");const b=this.state.inFSharpPipelineDirectBody;this.state.inFSharpPipelineDirectBody=!1;const k=this.startNode();return this.next(),k.elements=this.parseExprList(y,!o,g,k),this.state.inFSharpPipelineDirectBody=b,this.finishNode(k,o?"TupleExpression":"ArrayExpression")}parseArrowExpression(y,o,g,b){this.scope.enter(518);let k=ns(g,!1);!this.match(5)&&this.prodParam.hasIn&&(k|=8),this.prodParam.enter(k),this.initFunction(y,g);const ne=this.state.maybeInArrowParameters;return o&&(this.state.maybeInArrowParameters=!0,this.setArrowFunctionParameters(y,o,b)),this.state.maybeInArrowParameters=!1,this.parseFunctionBody(y,!0),this.prodParam.exit(),this.scope.exit(),this.state.maybeInArrowParameters=ne,this.finishNode(y,"ArrowFunctionExpression")}setArrowFunctionParameters(y,o,g){this.toAssignableList(o,g,!1),y.params=o}parseFunctionBodyAndFinish(y,o,g=!1){return this.parseFunctionBody(y,!1,g),this.finishNode(y,o)}parseFunctionBody(y,o,g=!1){const b=o&&!this.match(5);if(this.expressionScope.enter(ys()),b)y.body=this.parseMaybeAssign(),this.checkParams(y,!1,o,!1);else{const k=this.state.strict,ne=this.state.labels;this.state.labels=[],this.prodParam.enter(this.prodParam.currentFlags()|4),y.body=this.parseBlock(!0,!1,le=>{const ye=!this.isSimpleParamList(y.params);le&&ye&&this.raise(S.IllegalLanguageModeDirective,(y.kind==="method"||y.kind==="constructor")&&y.key?y.key.loc.end:y);const Pe=!k&&this.state.strict;this.checkParams(y,!this.state.strict&&!o&&!g&&!ye,o,Pe),this.state.strict&&y.id&&this.checkIdentifier(y.id,65,Pe)}),this.prodParam.exit(),this.state.labels=ne}this.expressionScope.exit()}isSimpleParameter(y){return y.type==="Identifier"}isSimpleParamList(y){for(let o=0,g=y.length;o<g;o++)if(!this.isSimpleParameter(y[o]))return!1;return!0}checkParams(y,o,g,b=!0){const k=!o&&new Set,ne={type:"FormalParameters"};for(const le of y.params)this.checkLVal(le,ne,5,k,b)}parseExprList(y,o,g,b){const k=[];let ne=!0;for(;!this.eat(y);){if(ne)ne=!1;else if(this.expect(12),this.match(y)){b&&this.addTrailingCommaExtraToNode(b),this.next();break}k.push(this.parseExprListItem(y,o,g))}return k}parseExprListItem(y,o,g,b){let k;if(this.match(12))o||this.raise(S.UnexpectedToken,this.state.curPosition(),{unexpected:","}),k=null;else if(this.match(21)){const ne=this.state.startLoc;k=this.parseParenItem(this.parseSpread(g),ne)}else if(this.match(17)){this.expectPlugin("partialApplication"),b||this.raise(S.UnexpectedArgumentPlaceholder,this.state.startLoc);const ne=this.startNode();this.next(),k=this.finishNode(ne,"ArgumentPlaceholder")}else k=this.parseMaybeAssignAllowInOrVoidPattern(y,g,this.parseParenItem);return k}parseIdentifier(y){const o=this.startNode(),g=this.parseIdentifierName(y);return this.createIdentifier(o,g)}createIdentifier(y,o){return y.name=o,y.loc.identifierName=o,this.finishNode(y,"Identifier")}createIdentifierAt(y,o,g){return y.name=o,y.loc.identifierName=o,this.finishNodeAt(y,"Identifier",g)}parseIdentifierName(y){let o;const{startLoc:g,type:b}=this.state;Ze(b)?o=this.state.value:this.unexpected();const k=st(b);return y?k&&this.replaceToken(132):this.checkReservedWord(o,g,k,!1),this.next(),o}checkReservedWord(y,o,g,b){if(y.length>10||!Hn(y))return;if(g&&tn(y)){this.raise(S.UnexpectedKeyword,o,{keyword:y});return}if((this.state.strict?b?Ht:Pt:at)(y,this.inModule)){this.raise(S.UnexpectedReservedWord,o,{reservedWord:y});return}else if(y==="yield"){if(this.prodParam.hasYield){this.raise(S.YieldBindingIdentifier,o);return}}else if(y==="await"){if(this.prodParam.hasAwait){this.raise(S.AwaitBindingIdentifier,o);return}if(this.scope.inStaticBlock){this.raise(S.AwaitBindingIdentifierInStaticBlock,o);return}this.expressionScope.recordAsyncArrowParametersError(o)}else if(y==="arguments"&&this.scope.inClassAndNotInNonArrowFunction){this.raise(S.ArgumentsInClass,o);return}}recordAwaitIfAllowed(){const y=this.prodParam.hasAwait;return y&&!this.scope.inFunction&&(this.state.hasTopLevelAwait=!0),y}parseAwait(y){const o=this.startNodeAt(y);return this.expressionScope.recordParameterInitializerError(S.AwaitExpressionFormalParameter,o),this.eat(55)&&this.raise(S.ObsoleteAwaitStar,o),!this.scope.inFunction&&!(this.optionFlags&1)&&(this.isAmbiguousPrefixOrIdentifier()?this.ambiguousScriptDifferentAst=!0:this.sawUnambiguousESM=!0),this.state.soloAwait||(o.argument=this.parseMaybeUnary(null,!0)),this.finishNode(o,"AwaitExpression")}isAmbiguousPrefixOrIdentifier(){if(this.hasPrecedingLineBreak())return!0;const{type:y}=this.state;return y===53||y===10||y===0||we(y)||y===102&&!this.state.containsEsc||y===138||y===56||this.hasPlugin("v8intrinsic")&&y===54}parseYield(y){const o=this.startNodeAt(y);this.expressionScope.recordParameterInitializerError(S.YieldInParameter,o);let g=!1,b=null;if(!this.hasPrecedingLineBreak())switch(g=this.eat(55),this.state.type){case 13:case 140:case 8:case 11:case 3:case 9:case 14:case 12:if(!g)break;default:b=this.parseMaybeAssign()}return o.delegate=g,o.argument=b,this.finishNode(o,"YieldExpression")}parseImportCall(y){if(this.next(),y.source=this.parseMaybeAssignAllowIn(),y.options=null,this.eat(12)){if(this.match(11))this.addTrailingCommaExtraToNode(y.source);else if(y.options=this.parseMaybeAssignAllowIn(),this.eat(12)&&(this.addTrailingCommaExtraToNode(y.options),!this.match(11))){do this.parseMaybeAssignAllowIn();while(this.eat(12)&&!this.match(11));this.raise(S.ImportCallArity,y)}}return this.expect(11),this.finishNode(y,"ImportExpression")}checkPipelineAtInfixOperator(y,o){this.hasPlugin(["pipelineOperator",{proposal:"smart"}])&&y.type==="SequenceExpression"&&this.raise(S.PipelineHeadSequenceExpression,o)}parseSmartPipelineBodyInStyle(y,o){if(this.isSimpleReference(y)){const g=this.startNodeAt(o);return g.callee=y,this.finishNode(g,"PipelineBareFunction")}else{const g=this.startNodeAt(o);return this.checkSmartPipeTopicBodyEarlyErrors(o),g.expression=y,this.finishNode(g,"PipelineTopicExpression")}}isSimpleReference(y){switch(y.type){case"MemberExpression":return!y.computed&&this.isSimpleReference(y.object);case"Identifier":return!0;default:return!1}}checkSmartPipeTopicBodyEarlyErrors(y){if(this.match(19))throw this.raise(S.PipelineBodyNoArrow,this.state.startLoc);this.topicReferenceWasUsedInCurrentContext()||this.raise(S.PipelineTopicUnused,y)}withTopicBindingContext(y){const o=this.state.topicContext;this.state.topicContext={maxNumOfResolvableTopics:1,maxTopicIndex:null};try{return y()}finally{this.state.topicContext=o}}withSmartMixTopicForbiddingContext(y){if(this.hasPlugin(["pipelineOperator",{proposal:"smart"}])){const o=this.state.topicContext;this.state.topicContext={maxNumOfResolvableTopics:0,maxTopicIndex:null};try{return y()}finally{this.state.topicContext=o}}else return y()}withSoloAwaitPermittingContext(y){const o=this.state.soloAwait;this.state.soloAwait=!0;try{return y()}finally{this.state.soloAwait=o}}allowInAnd(y){const o=this.prodParam.currentFlags();if(8&~o){this.prodParam.enter(o|8);try{return y()}finally{this.prodParam.exit()}}return y()}disallowInAnd(y){const o=this.prodParam.currentFlags();if(8&o){this.prodParam.enter(o&-9);try{return y()}finally{this.prodParam.exit()}}return y()}registerTopicReference(){this.state.topicContext.maxTopicIndex=0}topicReferenceIsAllowedInCurrentContext(){return this.state.topicContext.maxNumOfResolvableTopics>=1}topicReferenceWasUsedInCurrentContext(){return this.state.topicContext.maxTopicIndex!=null&&this.state.topicContext.maxTopicIndex>=0}parseFSharpPipelineBody(y){const o=this.state.startLoc;this.state.potentialArrowAt=this.state.start;const g=this.state.inFSharpPipelineDirectBody;this.state.inFSharpPipelineDirectBody=!0;const b=this.parseExprOp(this.parseMaybeUnaryOrPrivate(),o,y);return this.state.inFSharpPipelineDirectBody=g,b}parseModuleExpression(){this.expectPlugin("moduleBlocks");const y=this.startNode();this.next(),this.match(5)||this.unexpected(null,5);const o=this.startNodeAt(this.state.endLoc);this.next();const g=this.initializeScopes(!0);this.enterInitialScopes();try{y.body=this.parseProgram(o,8,"module")}finally{g()}return this.finishNode(y,"ModuleExpression")}parseVoidPattern(y){this.expectPlugin("discardBinding");const o=this.startNode();return y!=null&&(y.voidPatternLoc=this.state.startLoc),this.next(),this.finishNode(o,"VoidPattern")}parseMaybeAssignAllowInOrVoidPattern(y,o,g){if(o!=null&&this.match(88)){const b=this.lookaheadCharCode();if(b===44||b===(y===3?93:y===8?125:41)||b===61)return this.parseMaybeDefault(this.state.startLoc,this.parseVoidPattern(o))}return this.parseMaybeAssignAllowIn(o,g)}parsePropertyNamePrefixOperator(y){}}const pr={kind:1},hi={kind:2},go=/[\uD800-\uDFFF]/u,Ws=/in(?:stanceof)?/y;function ou(G,y,o){for(let g=0;g<G.length;g++){const b=G[g],{type:k}=b;if(typeof k=="number"){if(k===139){const{loc:ne,start:le,value:ye,end:Pe}=b,Ie=le+1,Je=r(ne.start,1);G.splice(g,1,new hn({type:De(27),value:"#",start:le,end:Ie,startLoc:ne.start,endLoc:Je}),new hn({type:De(132),value:ye,start:Ie,end:Pe,startLoc:Je,endLoc:ne.end})),g++;continue}if(we(k)){const{loc:ne,start:le,value:ye,end:Pe}=b,Ie=le+1,Je=r(ne.start,1);let mt;y.charCodeAt(le-o)===96?mt=new hn({type:De(22),value:"`",start:le,end:Ie,startLoc:ne.start,endLoc:Je}):mt=new hn({type:De(8),value:"}",start:le,end:Ie,startLoc:ne.start,endLoc:Je});let bt,Rt,yn,Ln;k===24?(Rt=Pe-1,yn=r(ne.end,-1),bt=ye===null?null:ye.slice(1,-1),Ln=new hn({type:De(22),value:"`",start:Rt,end:Pe,startLoc:yn,endLoc:ne.end})):(Rt=Pe-2,yn=r(ne.end,-2),bt=ye===null?null:ye.slice(1,-2),Ln=new hn({type:De(23),value:"${",start:Rt,end:Pe,startLoc:yn,endLoc:ne.end})),G.splice(g,1,mt,new hn({type:De(20),value:bt,start:Ie,end:Rt,startLoc:Je,endLoc:yn}),Ln),g+=2;continue}b.type=De(k)}}return G}class xo extends hl{parseTopLevel(y,o){return y.program=this.parseProgram(o,140,this.options.sourceType==="module"?"module":"script"),y.comments=this.comments,this.optionFlags&256&&(y.tokens=ou(this.tokens,this.input,this.startIndex)),this.finishNode(y,"File")}parseProgram(y,o,g){if(y.sourceType=g,y.interpreter=this.parseInterpreterDirective(),this.parseBlockBody(y,!0,!0,o),this.inModule){if(!(this.optionFlags&64)&&this.scope.undefinedExports.size>0)for(const[k,ne]of Array.from(this.scope.undefinedExports))this.raise(S.ModuleExportUndefined,ne,{localName:k});this.addExtra(y,"topLevelAwait",this.state.hasTopLevelAwait)}let b;return o===140?b=this.finishNode(y,"Program"):b=this.finishNodeAt(y,"Program",r(this.state.startLoc,-1)),b}stmtToDirective(y){const o=this.castNodeTo(y,"Directive"),g=this.castNodeTo(y.expression,"DirectiveLiteral"),b=g.value,k=this.input.slice(this.offsetToSourcePos(g.start),this.offsetToSourcePos(g.end)),ne=g.value=k.slice(1,-1);return this.addExtra(g,"raw",k),this.addExtra(g,"rawValue",ne),this.addExtra(g,"expressionValue",b),o.value=g,delete y.expression,o}parseInterpreterDirective(){if(!this.match(28))return null;const y=this.startNode();return y.value=this.state.value,this.next(),this.finishNode(y,"InterpreterDirective")}isLet(){return this.isContextual(100)?this.hasFollowingBindingAtom():!1}isUsing(){return this.isContextual(107)?this.nextTokenIsIdentifierOnSameLine():!1}isForUsing(){if(!this.isContextual(107))return!1;const y=this.nextTokenInLineStart(),o=this.codePointAtPos(y);if(this.isUnparsedContextual(y,"of")){const g=this.lookaheadCharCodeSince(y+2);if(g!==61&&g!==58&&g!==59)return!1}return!!(this.chStartsBindingIdentifier(o,y)||this.isUnparsedContextual(y,"void"))}nextTokenIsIdentifierOnSameLine(){const y=this.nextTokenInLineStart(),o=this.codePointAtPos(y);return this.chStartsBindingIdentifier(o,y)}isAwaitUsing(){if(!this.isContextual(96))return!1;let y=this.nextTokenInLineStart();if(this.isUnparsedContextual(y,"using")){y=this.nextTokenInLineStartSince(y+5);const o=this.codePointAtPos(y);if(this.chStartsBindingIdentifier(o,y))return!0}return!1}chStartsBindingIdentifier(y,o){if(Be(y)){if(Ws.lastIndex=o,Ws.test(this.input)){const g=this.codePointAtPos(Ws.lastIndex);if(!Xe(g)&&g!==92)return!1}return!0}else return y===92}chStartsBindingPattern(y){return y===91||y===123}hasFollowingBindingAtom(){const y=this.nextTokenStart(),o=this.codePointAtPos(y);return this.chStartsBindingPattern(o)||this.chStartsBindingIdentifier(o,y)}hasInLineFollowingBindingIdentifierOrBrace(){const y=this.nextTokenInLineStart(),o=this.codePointAtPos(y);return o===123||this.chStartsBindingIdentifier(o,y)}allowsUsing(){return(this.scope.inModule||!this.scope.inTopLevel)&&!this.scope.inBareCaseStatement}parseModuleItem(){return this.parseStatementLike(15)}parseStatementListItem(){return this.parseStatementLike(6|(!this.options.annexB||this.state.strict?0:8))}parseStatementOrSloppyAnnexBFunctionDeclaration(y=!1){let o=0;return this.options.annexB&&!this.state.strict&&(o|=4,y&&(o|=8)),this.parseStatementLike(o)}parseStatement(){return this.parseStatementLike(0)}parseStatementLike(y){let o=null;return this.match(26)&&(o=this.parseDecorators(!0)),this.parseStatementContent(y,o)}parseStatementContent(y,o){const g=this.state.type,b=this.startNode(),k=!!(y&2),ne=!!(y&4),le=y&1;switch(g){case 60:return this.parseBreakContinueStatement(b,!0);case 63:return this.parseBreakContinueStatement(b,!1);case 64:return this.parseDebuggerStatement(b);case 90:return this.parseDoWhileStatement(b);case 91:return this.parseForStatement(b);case 68:if(this.lookaheadCharCode()===46)break;return ne||this.raise(this.state.strict?S.StrictFunction:this.options.annexB?S.SloppyFunctionAnnexB:S.SloppyFunction,this.state.startLoc),this.parseFunctionStatement(b,!1,!k&&ne);case 80:return k||this.unexpected(),this.parseClass(this.maybeTakeDecorators(o,b),!0);case 69:return this.parseIfStatement(b);case 70:return this.parseReturnStatement(b);case 71:return this.parseSwitchStatement(b);case 72:return this.parseThrowStatement(b);case 73:return this.parseTryStatement(b);case 96:if(this.isAwaitUsing())return this.allowsUsing()?k?this.recordAwaitIfAllowed()||this.raise(S.AwaitUsingNotInAsyncContext,b):this.raise(S.UnexpectedLexicalDeclaration,b):this.raise(S.UnexpectedUsingDeclaration,b),this.next(),this.parseVarStatement(b,"await using");break;case 107:if(this.state.containsEsc||!this.hasInLineFollowingBindingIdentifierOrBrace())break;return this.allowsUsing()?k||this.raise(S.UnexpectedLexicalDeclaration,this.state.startLoc):this.raise(S.UnexpectedUsingDeclaration,this.state.startLoc),this.parseVarStatement(b,"using");case 100:{if(this.state.containsEsc)break;const Ie=this.nextTokenStart(),Je=this.codePointAtPos(Ie);if(Je!==91&&(!k&&this.hasFollowingLineBreak()||!this.chStartsBindingIdentifier(Je,Ie)&&Je!==123))break}case 75:k||this.raise(S.UnexpectedLexicalDeclaration,this.state.startLoc);case 74:{const Ie=this.state.value;return this.parseVarStatement(b,Ie)}case 92:return this.parseWhileStatement(b);case 76:return this.parseWithStatement(b);case 5:return this.parseBlock();case 13:return this.parseEmptyStatement(b);case 83:{const Ie=this.lookaheadCharCode();if(Ie===40||Ie===46)break}case 82:{!(this.optionFlags&8)&&!le&&this.raise(S.UnexpectedImportExport,this.state.startLoc),this.next();let Ie;return g===83?Ie=this.parseImport(b):Ie=this.parseExport(b,o),this.assertModuleNodeAllowed(Ie),Ie}default:if(this.isAsyncFunction())return k||this.raise(S.AsyncFunctionInSingleStatementContext,this.state.startLoc),this.next(),this.parseFunctionStatement(b,!0,!k&&ne)}const ye=this.state.value,Pe=this.parseExpression();return Ue(g)&&Pe.type==="Identifier"&&this.eat(14)?this.parseLabeledStatement(b,ye,Pe,y):this.parseExpressionStatement(b,Pe,o)}assertModuleNodeAllowed(y){!(this.optionFlags&8)&&!this.inModule&&this.raise(S.ImportOutsideModule,y)}decoratorsEnabledBeforeExport(){return this.hasPlugin("decorators-legacy")?!0:this.hasPlugin("decorators")&&this.getPluginOption("decorators","decoratorsBeforeExport")!==!1}maybeTakeDecorators(y,o,g){if(y){var b;(b=o.decorators)!=null&&b.length?(typeof this.getPluginOption("decorators","decoratorsBeforeExport")!="boolean"&&this.raise(S.DecoratorsBeforeAfterExport,o.decorators[0]),o.decorators.unshift(...y)):o.decorators=y,this.resetStartLocationFromNode(o,y[0]),g&&this.resetStartLocationFromNode(g,o)}return o}canHaveLeadingDecorator(){return this.match(80)}parseDecorators(y){const o=[];do o.push(this.parseDecorator());while(this.match(26));if(this.match(82))y||this.unexpected(),this.decoratorsEnabledBeforeExport()||this.raise(S.DecoratorExportClass,this.state.startLoc);else if(!this.canHaveLeadingDecorator())throw this.raise(S.UnexpectedLeadingDecorator,this.state.startLoc);return o}parseDecorator(){this.expectOnePlugin(["decorators","decorators-legacy"]);const y=this.startNode();if(this.next(),this.hasPlugin("decorators")){const o=this.state.startLoc;let g;if(this.match(10)){const b=this.state.startLoc;this.next(),g=this.parseExpression(),this.expect(11),g=this.wrapParenthesis(b,g);const k=this.state.startLoc;y.expression=this.parseMaybeDecoratorArguments(g,b),this.getPluginOption("decorators","allowCallParenthesized")===!1&&y.expression!==g&&this.raise(S.DecoratorArgumentsOutsideParentheses,k)}else{for(g=this.parseIdentifier(!1);this.eat(16);){const b=this.startNodeAt(o);b.object=g,this.match(139)?(this.classScope.usePrivateName(this.state.value,this.state.startLoc),b.property=this.parsePrivateName()):b.property=this.parseIdentifier(!0),b.computed=!1,g=this.finishNode(b,"MemberExpression")}y.expression=this.parseMaybeDecoratorArguments(g,o)}}else y.expression=this.parseExprSubscripts();return this.finishNode(y,"Decorator")}parseMaybeDecoratorArguments(y,o){if(this.eat(10)){const g=this.startNodeAt(o);return g.callee=y,g.arguments=this.parseCallExpressionArguments(),this.toReferencedList(g.arguments),this.finishNode(g,"CallExpression")}return y}parseBreakContinueStatement(y,o){return this.next(),this.isLineTerminator()?y.label=null:(y.label=this.parseIdentifier(),this.semicolon()),this.verifyBreakContinue(y,o),this.finishNode(y,o?"BreakStatement":"ContinueStatement")}verifyBreakContinue(y,o){let g;for(g=0;g<this.state.labels.length;++g){const b=this.state.labels[g];if((y.label==null||b.name===y.label.name)&&(b.kind!=null&&(o||b.kind===1)||y.label&&o))break}if(g===this.state.labels.length){const b=o?"BreakStatement":"ContinueStatement";this.raise(S.IllegalBreakContinue,y,{type:b})}}parseDebuggerStatement(y){return this.next(),this.semicolon(),this.finishNode(y,"DebuggerStatement")}parseHeaderExpression(){this.expect(10);const y=this.parseExpression();return this.expect(11),y}parseDoWhileStatement(y){return this.next(),this.state.labels.push(pr),y.body=this.withSmartMixTopicForbiddingContext(()=>this.parseStatement()),this.state.labels.pop(),this.expect(92),y.test=this.parseHeaderExpression(),this.eat(13),this.finishNode(y,"DoWhileStatement")}parseForStatement(y){this.next(),this.state.labels.push(pr);let o=null;if(this.isContextual(96)&&this.recordAwaitIfAllowed()&&(o=this.state.startLoc,this.next()),this.scope.enter(0),this.expect(10),this.match(13))return o!==null&&this.unexpected(o),this.parseFor(y,null);const g=this.isContextual(100);{const ye=this.isAwaitUsing(),Pe=ye||this.isForUsing(),Ie=g&&this.hasFollowingBindingAtom()||Pe;if(this.match(74)||this.match(75)||Ie){const Je=this.startNode();let mt;ye?(mt="await using",this.recordAwaitIfAllowed()||this.raise(S.AwaitUsingNotInAsyncContext,this.state.startLoc),this.next()):mt=this.state.value,this.next(),this.parseVar(Je,!0,mt);const bt=this.finishNode(Je,"VariableDeclaration"),Rt=this.match(58);return Rt&&Pe&&this.raise(S.ForInUsing,bt),(Rt||this.isContextual(102))&&bt.declarations.length===1?this.parseForIn(y,bt,o):(o!==null&&this.unexpected(o),this.parseFor(y,bt))}}const b=this.isContextual(95),k=new Is,ne=this.parseExpression(!0,k),le=this.isContextual(102);if(le&&(g&&this.raise(S.ForOfLet,ne),o===null&&b&&ne.type==="Identifier"&&this.raise(S.ForOfAsync,ne)),le||this.match(58)){this.checkDestructuringPrivate(k),this.toAssignable(ne,!0);const ye=le?"ForOfStatement":"ForInStatement";return this.checkLVal(ne,{type:ye}),this.parseForIn(y,ne,o)}else this.checkExpressionErrors(k,!0);return o!==null&&this.unexpected(o),this.parseFor(y,ne)}parseFunctionStatement(y,o,g){return this.next(),this.parseFunction(y,1|(g?2:0)|(o?8:0))}parseIfStatement(y){return this.next(),y.test=this.parseHeaderExpression(),y.consequent=this.parseStatementOrSloppyAnnexBFunctionDeclaration(),y.alternate=this.eat(66)?this.parseStatementOrSloppyAnnexBFunctionDeclaration():null,this.finishNode(y,"IfStatement")}parseReturnStatement(y){return this.prodParam.hasReturn||this.raise(S.IllegalReturn,this.state.startLoc),this.next(),this.isLineTerminator()?y.argument=null:(y.argument=this.parseExpression(),this.semicolon()),this.finishNode(y,"ReturnStatement")}parseSwitchStatement(y){this.next(),y.discriminant=this.parseHeaderExpression();const o=y.cases=[];this.expect(5),this.state.labels.push(hi),this.scope.enter(256);let g;for(let b;!this.match(8);)if(this.match(61)||this.match(65)){const k=this.match(61);g&&this.finishNode(g,"SwitchCase"),o.push(g=this.startNode()),g.consequent=[],this.next(),k?g.test=this.parseExpression():(b&&this.raise(S.MultipleDefaultsInSwitch,this.state.lastTokStartLoc),b=!0,g.test=null),this.expect(14)}else g?g.consequent.push(this.parseStatementListItem()):this.unexpected();return this.scope.exit(),g&&this.finishNode(g,"SwitchCase"),this.next(),this.state.labels.pop(),this.finishNode(y,"SwitchStatement")}parseThrowStatement(y){return this.next(),this.hasPrecedingLineBreak()&&this.raise(S.NewlineAfterThrow,this.state.lastTokEndLoc),y.argument=this.parseExpression(),this.semicolon(),this.finishNode(y,"ThrowStatement")}parseCatchClauseParam(){const y=this.parseBindingAtom();return this.scope.enter(this.options.annexB&&y.type==="Identifier"?8:0),this.checkLVal(y,{type:"CatchClause"},9),y}parseTryStatement(y){if(this.next(),y.block=this.parseBlock(),y.handler=null,this.match(62)){const o=this.startNode();this.next(),this.match(10)?(this.expect(10),o.param=this.parseCatchClauseParam(),this.expect(11)):(o.param=null,this.scope.enter(0)),o.body=this.withSmartMixTopicForbiddingContext(()=>this.parseBlock(!1,!1)),this.scope.exit(),y.handler=this.finishNode(o,"CatchClause")}return y.finalizer=this.eat(67)?this.parseBlock():null,!y.handler&&!y.finalizer&&this.raise(S.NoCatchOrFinally,y),this.finishNode(y,"TryStatement")}parseVarStatement(y,o,g=!1){return this.next(),this.parseVar(y,!1,o,g),this.semicolon(),this.finishNode(y,"VariableDeclaration")}parseWhileStatement(y){return this.next(),y.test=this.parseHeaderExpression(),this.state.labels.push(pr),y.body=this.withSmartMixTopicForbiddingContext(()=>this.parseStatement()),this.state.labels.pop(),this.finishNode(y,"WhileStatement")}parseWithStatement(y){return this.state.strict&&this.raise(S.StrictWith,this.state.startLoc),this.next(),y.object=this.parseHeaderExpression(),y.body=this.withSmartMixTopicForbiddingContext(()=>this.parseStatement()),this.finishNode(y,"WithStatement")}parseEmptyStatement(y){return this.next(),this.finishNode(y,"EmptyStatement")}parseLabeledStatement(y,o,g,b){for(const ne of this.state.labels)ne.name===o&&this.raise(S.LabelRedeclaration,g,{labelName:o});const k=We(this.state.type)?1:this.match(71)?2:null;for(let ne=this.state.labels.length-1;ne>=0;ne--){const le=this.state.labels[ne];if(le.statementStart===y.start)le.statementStart=this.sourceToOffsetPos(this.state.start),le.kind=k;else break}return this.state.labels.push({name:o,kind:k,statementStart:this.sourceToOffsetPos(this.state.start)}),y.body=b&8?this.parseStatementOrSloppyAnnexBFunctionDeclaration(!0):this.parseStatement(),this.state.labels.pop(),y.label=g,this.finishNode(y,"LabeledStatement")}parseExpressionStatement(y,o,g){return y.expression=o,this.semicolon(),this.finishNode(y,"ExpressionStatement")}parseBlock(y=!1,o=!0,g){const b=this.startNode();return y&&this.state.strictErrors.clear(),this.expect(5),o&&this.scope.enter(0),this.parseBlockBody(b,y,!1,8,g),o&&this.scope.exit(),this.finishNode(b,"BlockStatement")}isValidDirective(y){return y.type==="ExpressionStatement"&&y.expression.type==="StringLiteral"&&!y.expression.extra.parenthesized}parseBlockBody(y,o,g,b,k){const ne=y.body=[],le=y.directives=[];this.parseBlockOrModuleBlockBody(ne,o?le:void 0,g,b,k)}parseBlockOrModuleBlockBody(y,o,g,b,k){const ne=this.state.strict;let le=!1,ye=!1;for(;!this.match(b);){const Pe=g?this.parseModuleItem():this.parseStatementListItem();if(o&&!ye){if(this.isValidDirective(Pe)){const Ie=this.stmtToDirective(Pe);o.push(Ie),!le&&Ie.value.value==="use strict"&&(le=!0,this.setStrict(!0));continue}ye=!0,this.state.strictErrors.clear()}y.push(Pe)}k?.call(this,le),ne||this.setStrict(!1),this.next()}parseFor(y,o){return y.init=o,this.semicolon(!1),y.test=this.match(13)?null:this.parseExpression(),this.semicolon(!1),y.update=this.match(11)?null:this.parseExpression(),this.expect(11),y.body=this.withSmartMixTopicForbiddingContext(()=>this.parseStatement()),this.scope.exit(),this.state.labels.pop(),this.finishNode(y,"ForStatement")}parseForIn(y,o,g){const b=this.match(58);return this.next(),b?g!==null&&this.unexpected(g):y.await=g!==null,o.type==="VariableDeclaration"&&o.declarations[0].init!=null&&(!b||!this.options.annexB||this.state.strict||o.kind!=="var"||o.declarations[0].id.type!=="Identifier")&&this.raise(S.ForInOfLoopInitializer,o,{type:b?"ForInStatement":"ForOfStatement"}),o.type==="AssignmentPattern"&&this.raise(S.InvalidLhs,o,{ancestor:{type:"ForStatement"}}),y.left=o,y.right=b?this.parseExpression():this.parseMaybeAssignAllowIn(),this.expect(11),y.body=this.withSmartMixTopicForbiddingContext(()=>this.parseStatement()),this.scope.exit(),this.state.labels.pop(),this.finishNode(y,b?"ForInStatement":"ForOfStatement")}parseVar(y,o,g,b=!1){const k=y.declarations=[];for(y.kind=g;;){const ne=this.startNode();if(this.parseVarId(ne,g),ne.init=this.eat(29)?o?this.parseMaybeAssignDisallowIn():this.parseMaybeAssignAllowIn():null,ne.init===null&&!b&&(ne.id.type!=="Identifier"&&!(o&&(this.match(58)||this.isContextual(102)))?this.raise(S.DeclarationMissingInitializer,this.state.lastTokEndLoc,{kind:"destructuring"}):(g==="const"||g==="using"||g==="await using")&&!(this.match(58)||this.isContextual(102))&&this.raise(S.DeclarationMissingInitializer,this.state.lastTokEndLoc,{kind:g})),k.push(this.finishNode(ne,"VariableDeclarator")),!this.eat(12))break}return y}parseVarId(y,o){const g=this.parseBindingAtom();o==="using"||o==="await using"?(g.type==="ArrayPattern"||g.type==="ObjectPattern")&&this.raise(S.UsingDeclarationHasBindingPattern,g.loc.start):g.type==="VoidPattern"&&this.raise(S.UnexpectedVoidPattern,g.loc.start),this.checkLVal(g,{type:"VariableDeclarator"},o==="var"?5:8201),y.id=g}parseAsyncFunctionExpression(y){return this.parseFunction(y,8)}parseFunction(y,o=0){const g=o&2,b=!!(o&1),k=b&&!(o&4),ne=!!(o&8);this.initFunction(y,ne),this.match(55)&&(g&&this.raise(S.GeneratorInSingleStatementContext,this.state.startLoc),this.next(),y.generator=!0),b&&(y.id=this.parseFunctionId(k));const le=this.state.maybeInArrowParameters;return this.state.maybeInArrowParameters=!1,this.scope.enter(514),this.prodParam.enter(ns(ne,y.generator)),b||(y.id=this.parseFunctionId()),this.parseFunctionParams(y,!1),this.withSmartMixTopicForbiddingContext(()=>{this.parseFunctionBodyAndFinish(y,b?"FunctionDeclaration":"FunctionExpression")}),this.prodParam.exit(),this.scope.exit(),b&&!g&&this.registerFunctionStatementId(y),this.state.maybeInArrowParameters=le,y}parseFunctionId(y){return y||Ue(this.state.type)?this.parseIdentifier():null}parseFunctionParams(y,o){this.expect(10),this.expressionScope.enter(ho()),y.params=this.parseBindingList(11,41,2|(o?4:0)),this.expressionScope.exit()}registerFunctionStatementId(y){y.id&&this.scope.declareName(y.id.name,!this.options.annexB||this.state.strict||y.generator||y.async?this.scope.treatFunctionsAsVar?5:8201:17,y.id.loc.start)}parseClass(y,o,g){this.next();const b=this.state.strict;return this.state.strict=!0,this.parseClassId(y,o,g),this.parseClassSuper(y),y.body=this.parseClassBody(!!y.superClass,b),this.finishNode(y,o?"ClassDeclaration":"ClassExpression")}isClassProperty(){return this.match(29)||this.match(13)||this.match(8)}isClassMethod(){return this.match(10)}nameIsConstructor(y){return y.type==="Identifier"&&y.name==="constructor"||y.type==="StringLiteral"&&y.value==="constructor"}isNonstaticConstructor(y){return!y.computed&&!y.static&&this.nameIsConstructor(y.key)}parseClassBody(y,o){this.classScope.enter();const g={hadConstructor:!1,hadSuperClass:y};let b=[];const k=this.startNode();if(k.body=[],this.expect(5),this.withSmartMixTopicForbiddingContext(()=>{for(;!this.match(8);){if(this.eat(13)){if(b.length>0)throw this.raise(S.DecoratorSemicolon,this.state.lastTokEndLoc);continue}if(this.match(26)){b.push(this.parseDecorator());continue}const ne=this.startNode();b.length&&(ne.decorators=b,this.resetStartLocationFromNode(ne,b[0]),b=[]),this.parseClassMember(k,ne,g),ne.kind==="constructor"&&ne.decorators&&ne.decorators.length>0&&this.raise(S.DecoratorConstructor,ne)}}),this.state.strict=o,this.next(),b.length)throw this.raise(S.TrailingDecorator,this.state.startLoc);return this.classScope.exit(),this.finishNode(k,"ClassBody")}parseClassMemberFromModifier(y,o){const g=this.parseIdentifier(!0);if(this.isClassMethod()){const b=o;return b.kind="method",b.computed=!1,b.key=g,b.static=!1,this.pushClassMethod(y,b,!1,!1,!1,!1),!0}else if(this.isClassProperty()){const b=o;return b.computed=!1,b.key=g,b.static=!1,y.body.push(this.parseClassProperty(b)),!0}return this.resetPreviousNodeTrailingComments(g),!1}parseClassMember(y,o,g){const b=this.isContextual(106);if(b){if(this.parseClassMemberFromModifier(y,o))return;if(this.eat(5)){this.parseClassStaticBlock(y,o);return}}this.parseClassMemberWithIsStatic(y,o,g,b)}parseClassMemberWithIsStatic(y,o,g,b){const k=o,ne=o,le=o,ye=o,Pe=o,Ie=k,Je=k;if(o.static=b,this.parsePropertyNamePrefixOperator(o),this.eat(55)){Ie.kind="method";const nn=this.match(139);if(this.parseClassElementName(Ie),this.parsePostMemberNameModifiers(Ie),nn){this.pushClassPrivateMethod(y,ne,!0,!1);return}this.isNonstaticConstructor(k)&&this.raise(S.ConstructorIsGenerator,k.key),this.pushClassMethod(y,k,!0,!1,!1,!1);return}const mt=!this.state.containsEsc&&Ue(this.state.type),bt=this.parseClassElementName(o),Rt=mt?bt.name:null,yn=this.isPrivateName(bt),Ln=this.state.startLoc;if(this.parsePostMemberNameModifiers(Je),this.isClassMethod()){if(Ie.kind="method",yn){this.pushClassPrivateMethod(y,ne,!1,!1);return}const nn=this.isNonstaticConstructor(k);let Cn=!1;nn&&(k.kind="constructor",g.hadConstructor&&!this.hasPlugin("typescript")&&this.raise(S.DuplicateConstructor,bt),nn&&this.hasPlugin("typescript")&&o.override&&this.raise(S.OverrideOnConstructor,bt),g.hadConstructor=!0,Cn=g.hadSuperClass),this.pushClassMethod(y,k,!1,!1,nn,Cn)}else if(this.isClassProperty())yn?this.pushClassPrivateProperty(y,ye):this.pushClassProperty(y,le);else if(Rt==="async"&&!this.isLineTerminator()){this.resetPreviousNodeTrailingComments(bt);const nn=this.eat(55);Je.optional&&this.unexpected(Ln),Ie.kind="method";const Cn=this.match(139);this.parseClassElementName(Ie),this.parsePostMemberNameModifiers(Je),Cn?this.pushClassPrivateMethod(y,ne,nn,!0):(this.isNonstaticConstructor(k)&&this.raise(S.ConstructorIsAsync,k.key),this.pushClassMethod(y,k,nn,!0,!1,!1))}else if((Rt==="get"||Rt==="set")&&!(this.match(55)&&this.isLineTerminator())){this.resetPreviousNodeTrailingComments(bt),Ie.kind=Rt;const nn=this.match(139);this.parseClassElementName(k),nn?this.pushClassPrivateMethod(y,ne,!1,!1):(this.isNonstaticConstructor(k)&&this.raise(S.ConstructorIsAccessor,k.key),this.pushClassMethod(y,k,!1,!1,!1,!1)),this.checkGetterSetterParams(k)}else if(Rt==="accessor"&&!this.isLineTerminator()){this.expectPlugin("decoratorAutoAccessors"),this.resetPreviousNodeTrailingComments(bt);const nn=this.match(139);this.parseClassElementName(le),this.pushClassAccessorProperty(y,Pe,nn)}else this.isLineTerminator()?yn?this.pushClassPrivateProperty(y,ye):this.pushClassProperty(y,le):this.unexpected()}parseClassElementName(y){const{type:o,value:g}=this.state;if((o===132||o===134)&&y.static&&g==="prototype"&&this.raise(S.StaticPrototype,this.state.startLoc),o===139){g==="constructor"&&this.raise(S.ConstructorClassPrivateField,this.state.startLoc);const b=this.parsePrivateName();return y.key=b,b}return this.parsePropertyName(y),y.key}parseClassStaticBlock(y,o){var g;this.scope.enter(720);const b=this.state.labels;this.state.labels=[],this.prodParam.enter(0);const k=o.body=[];this.parseBlockOrModuleBlockBody(k,void 0,!1,8),this.prodParam.exit(),this.scope.exit(),this.state.labels=b,y.body.push(this.finishNode(o,"StaticBlock")),(g=o.decorators)!=null&&g.length&&this.raise(S.DecoratorStaticBlock,o)}pushClassProperty(y,o){!o.computed&&this.nameIsConstructor(o.key)&&this.raise(S.ConstructorClassField,o.key),y.body.push(this.parseClassProperty(o))}pushClassPrivateProperty(y,o){const g=this.parseClassPrivateProperty(o);y.body.push(g),this.classScope.declarePrivateName(this.getPrivateNameSV(g.key),0,g.key.loc.start)}pushClassAccessorProperty(y,o,g){!g&&!o.computed&&this.nameIsConstructor(o.key)&&this.raise(S.ConstructorClassField,o.key);const b=this.parseClassAccessorProperty(o);y.body.push(b),g&&this.classScope.declarePrivateName(this.getPrivateNameSV(b.key),0,b.key.loc.start)}pushClassMethod(y,o,g,b,k,ne){y.body.push(this.parseMethod(o,g,b,k,ne,"ClassMethod",!0))}pushClassPrivateMethod(y,o,g,b){const k=this.parseMethod(o,g,b,!1,!1,"ClassPrivateMethod",!0);y.body.push(k);const ne=k.kind==="get"?k.static?6:2:k.kind==="set"?k.static?5:1:0;this.declareClassPrivateMethodInScope(k,ne)}declareClassPrivateMethodInScope(y,o){this.classScope.declarePrivateName(this.getPrivateNameSV(y.key),o,y.key.loc.start)}parsePostMemberNameModifiers(y){}parseClassPrivateProperty(y){return this.parseInitializer(y),this.semicolon(),this.finishNode(y,"ClassPrivateProperty")}parseClassProperty(y){return this.parseInitializer(y),this.semicolon(),this.finishNode(y,"ClassProperty")}parseClassAccessorProperty(y){return this.parseInitializer(y),this.semicolon(),this.finishNode(y,"ClassAccessorProperty")}parseInitializer(y){this.scope.enter(592),this.expressionScope.enter(ys()),this.prodParam.enter(0),y.value=this.eat(29)?this.parseMaybeAssignAllowIn():null,this.expressionScope.exit(),this.prodParam.exit(),this.scope.exit()}parseClassId(y,o,g,b=8331){if(Ue(this.state.type))y.id=this.parseIdentifier(),o&&this.declareNameFromIdentifier(y.id,b);else if(g||!o)y.id=null;else throw this.raise(S.MissingClassName,this.state.startLoc)}parseClassSuper(y){y.superClass=this.eat(81)?this.parseExprSubscripts():null}parseExport(y,o){const g=this.parseMaybeImportPhase(y,!0),b=this.maybeParseExportDefaultSpecifier(y,g),k=!b||this.eat(12),ne=k&&this.eatExportStar(y),le=ne&&this.maybeParseExportNamespaceSpecifier(y),ye=k&&(!le||this.eat(12)),Pe=b||ne;if(ne&&!le){if(b&&this.unexpected(),o)throw this.raise(S.UnsupportedDecoratorExport,y);return this.parseExportFrom(y,!0),this.sawUnambiguousESM=!0,this.finishNode(y,"ExportAllDeclaration")}const Ie=this.maybeParseExportNamedSpecifiers(y);b&&k&&!ne&&!Ie&&this.unexpected(null,5),le&&ye&&this.unexpected(null,98);let Je;if(Pe||Ie){if(Je=!1,o)throw this.raise(S.UnsupportedDecoratorExport,y);this.parseExportFrom(y,Pe)}else Je=this.maybeParseExportDeclaration(y);if(Pe||Ie||Je){var mt;const bt=y;if(this.checkExport(bt,!0,!1,!!bt.source),((mt=bt.declaration)==null?void 0:mt.type)==="ClassDeclaration")this.maybeTakeDecorators(o,bt.declaration,bt);else if(o)throw this.raise(S.UnsupportedDecoratorExport,y);return this.sawUnambiguousESM=!0,this.finishNode(bt,"ExportNamedDeclaration")}if(this.eat(65)){const bt=y,Rt=this.parseExportDefaultExpression();if(bt.declaration=Rt,Rt.type==="ClassDeclaration")this.maybeTakeDecorators(o,Rt,bt);else if(o)throw this.raise(S.UnsupportedDecoratorExport,y);return this.checkExport(bt,!0,!0),this.sawUnambiguousESM=!0,this.finishNode(bt,"ExportDefaultDeclaration")}throw this.unexpected(null,5)}eatExportStar(y){return this.eat(55)}maybeParseExportDefaultSpecifier(y,o){if(o||this.isExportDefaultSpecifier()){this.expectPlugin("exportDefaultFrom",o?.loc.start);const g=o||this.parseIdentifier(!0),b=this.startNodeAtNode(g);return b.exported=g,y.specifiers=[this.finishNode(b,"ExportDefaultSpecifier")],!0}return!1}maybeParseExportNamespaceSpecifier(y){if(this.isContextual(93)){var o,g;(g=(o=y).specifiers)!=null||(o.specifiers=[]);const b=this.startNodeAt(this.state.lastTokStartLoc);return this.next(),b.exported=this.parseModuleExportName(),y.specifiers.push(this.finishNode(b,"ExportNamespaceSpecifier")),!0}return!1}maybeParseExportNamedSpecifiers(y){if(this.match(5)){const o=y;o.specifiers||(o.specifiers=[]);const g=o.exportKind==="type";return o.specifiers.push(...this.parseExportSpecifiers(g)),o.source=null,this.hasPlugin("importAssertions")?o.assertions=[]:o.attributes=[],o.declaration=null,!0}return!1}maybeParseExportDeclaration(y){return this.shouldParseExportDeclaration()?(y.specifiers=[],y.source=null,this.hasPlugin("importAssertions")?y.assertions=[]:y.attributes=[],y.declaration=this.parseExportDeclaration(y),!0):!1}isAsyncFunction(){if(!this.isContextual(95))return!1;const y=this.nextTokenInLineStart();return this.isUnparsedContextual(y,"function")}parseExportDefaultExpression(){const y=this.startNode();if(this.match(68))return this.next(),this.parseFunction(y,5);if(this.isAsyncFunction())return this.next(),this.next(),this.parseFunction(y,13);if(this.match(80))return this.parseClass(y,!0,!0);if(this.match(26))return this.hasPlugin("decorators")&&this.getPluginOption("decorators","decoratorsBeforeExport")===!0&&this.raise(S.DecoratorBeforeExport,this.state.startLoc),this.parseClass(this.maybeTakeDecorators(this.parseDecorators(!1),this.startNode()),!0,!0);if(this.match(75)||this.match(74)||this.isLet()||this.isUsing()||this.isAwaitUsing())throw this.raise(S.UnsupportedDefaultExport,this.state.startLoc);const o=this.parseMaybeAssignAllowIn();return this.semicolon(),o}parseExportDeclaration(y){return this.match(80)?this.parseClass(this.startNode(),!0,!1):this.parseStatementListItem()}isExportDefaultSpecifier(){const{type:y}=this.state;if(Ue(y)){if(y===95&&!this.state.containsEsc||y===100)return!1;if((y===130||y===129)&&!this.state.containsEsc){const b=this.nextTokenStart(),k=this.input.charCodeAt(b);if(k===123||this.chStartsBindingIdentifier(k,b)&&!this.input.startsWith("from",b))return this.expectOnePlugin(["flow","typescript"]),!1}}else if(!this.match(65))return!1;const o=this.nextTokenStart(),g=this.isUnparsedContextual(o,"from");if(this.input.charCodeAt(o)===44||Ue(this.state.type)&&g)return!0;if(this.match(65)&&g){const b=this.input.charCodeAt(this.nextTokenStartSince(o+4));return b===34||b===39}return!1}parseExportFrom(y,o){this.eatContextual(98)?(y.source=this.parseImportSource(),this.checkExport(y),this.maybeParseImportAttributes(y),this.checkJSONModuleImport(y)):o&&this.unexpected(),this.semicolon()}shouldParseExportDeclaration(){const{type:y}=this.state;return y===26&&(this.expectOnePlugin(["decorators","decorators-legacy"]),this.hasPlugin("decorators"))?(this.getPluginOption("decorators","decoratorsBeforeExport")===!0&&this.raise(S.DecoratorBeforeExport,this.state.startLoc),!0):this.isUsing()?(this.raise(S.UsingDeclarationExport,this.state.startLoc),!0):this.isAwaitUsing()?(this.raise(S.UsingDeclarationExport,this.state.startLoc),!0):y===74||y===75||y===68||y===80||this.isLet()||this.isAsyncFunction()}checkExport(y,o,g,b){if(o){var k;if(g){if(this.checkDuplicateExports(y,"default"),this.hasPlugin("exportDefaultFrom")){var ne;const le=y.declaration;le.type==="Identifier"&&le.name==="from"&&le.end-le.start===4&&!((ne=le.extra)!=null&&ne.parenthesized)&&this.raise(S.ExportDefaultFromAsIdentifier,le)}}else if((k=y.specifiers)!=null&&k.length)for(const le of y.specifiers){const{exported:ye}=le,Pe=ye.type==="Identifier"?ye.name:ye.value;if(this.checkDuplicateExports(le,Pe),!b&&le.local){const{local:Ie}=le;Ie.type!=="Identifier"?this.raise(S.ExportBindingIsString,le,{localName:Ie.value,exportName:Pe}):(this.checkReservedWord(Ie.name,Ie.loc.start,!0,!1),this.scope.checkLocalExport(Ie))}}else if(y.declaration){const le=y.declaration;if(le.type==="FunctionDeclaration"||le.type==="ClassDeclaration"){const{id:ye}=le;if(!ye)throw new Error("Assertion failure");this.checkDuplicateExports(y,ye.name)}else if(le.type==="VariableDeclaration")for(const ye of le.declarations)this.checkDeclaration(ye.id)}}}checkDeclaration(y){if(y.type==="Identifier")this.checkDuplicateExports(y,y.name);else if(y.type==="ObjectPattern")for(const o of y.properties)this.checkDeclaration(o);else if(y.type==="ArrayPattern")for(const o of y.elements)o&&this.checkDeclaration(o);else y.type==="ObjectProperty"?this.checkDeclaration(y.value):y.type==="RestElement"?this.checkDeclaration(y.argument):y.type==="AssignmentPattern"&&this.checkDeclaration(y.left)}checkDuplicateExports(y,o){this.exportedIdentifiers.has(o)&&(o==="default"?this.raise(S.DuplicateDefaultExport,y):this.raise(S.DuplicateExport,y,{exportName:o})),this.exportedIdentifiers.add(o)}parseExportSpecifiers(y){const o=[];let g=!0;for(this.expect(5);!this.eat(8);){if(g)g=!1;else if(this.expect(12),this.eat(8))break;const b=this.isContextual(130),k=this.match(134),ne=this.startNode();ne.local=this.parseModuleExportName(),o.push(this.parseExportSpecifier(ne,k,y,b))}return o}parseExportSpecifier(y,o,g,b){return this.eatContextual(93)?y.exported=this.parseModuleExportName():o?y.exported=this.cloneStringLiteral(y.local):y.exported||(y.exported=this.cloneIdentifier(y.local)),this.finishNode(y,"ExportSpecifier")}parseModuleExportName(){if(this.match(134)){const y=this.parseStringLiteral(this.state.value),o=go.exec(y.value);return o&&this.raise(S.ModuleExportNameHasLoneSurrogate,y,{surrogateCharCode:o[0].charCodeAt(0)}),y}return this.parseIdentifier(!0)}isJSONModuleImport(y){return y.assertions!=null?y.assertions.some(({key:o,value:g})=>g.value==="json"&&(o.type==="Identifier"?o.name==="type":o.value==="type")):!1}checkImportReflection(y){const{specifiers:o}=y,g=o.length===1?o[0].type:null;if(y.phase==="source")g!=="ImportDefaultSpecifier"&&this.raise(S.SourcePhaseImportRequiresDefault,o[0].loc.start);else if(y.phase==="defer")g!=="ImportNamespaceSpecifier"&&this.raise(S.DeferImportRequiresNamespace,o[0].loc.start);else if(y.module){var b;g!=="ImportDefaultSpecifier"&&this.raise(S.ImportReflectionNotBinding,o[0].loc.start),((b=y.assertions)==null?void 0:b.length)>0&&this.raise(S.ImportReflectionHasAssertion,o[0].loc.start)}}checkJSONModuleImport(y){if(this.isJSONModuleImport(y)&&y.type!=="ExportAllDeclaration"){const{specifiers:o}=y;if(o!=null){const g=o.find(b=>{let k;if(b.type==="ExportSpecifier"?k=b.local:b.type==="ImportSpecifier"&&(k=b.imported),k!==void 0)return k.type==="Identifier"?k.name!=="default":k.value!=="default"});g!==void 0&&this.raise(S.ImportJSONBindingNotDefault,g.loc.start)}}}isPotentialImportPhase(y){return y?!1:this.isContextual(105)||this.isContextual(97)||this.isContextual(127)}applyImportPhase(y,o,g,b){o||(g==="module"?(this.expectPlugin("importReflection",b),y.module=!0):this.hasPlugin("importReflection")&&(y.module=!1),g==="source"?(this.expectPlugin("sourcePhaseImports",b),y.phase="source"):g==="defer"?(this.expectPlugin("deferredImportEvaluation",b),y.phase="defer"):this.hasPlugin("sourcePhaseImports")&&(y.phase=null))}parseMaybeImportPhase(y,o){if(!this.isPotentialImportPhase(o))return this.applyImportPhase(y,o,null),null;const g=this.startNode(),b=this.parseIdentifierName(!0),{type:k}=this.state;return(Ze(k)?k!==98||this.lookaheadCharCode()===102:k!==12)?(this.applyImportPhase(y,o,b,g.loc.start),null):(this.applyImportPhase(y,o,null),this.createIdentifier(g,b))}isPrecedingIdImportPhase(y){const{type:o}=this.state;return Ue(o)?o!==98||this.lookaheadCharCode()===102:o!==12}parseImport(y){return this.match(134)?this.parseImportSourceAndAttributes(y):this.parseImportSpecifiersAndAfter(y,this.parseMaybeImportPhase(y,!1))}parseImportSpecifiersAndAfter(y,o){y.specifiers=[];const b=!this.maybeParseDefaultImportSpecifier(y,o)||this.eat(12),k=b&&this.maybeParseStarImportSpecifier(y);return b&&!k&&this.parseNamedImportSpecifiers(y),this.expectContextual(98),this.parseImportSourceAndAttributes(y)}parseImportSourceAndAttributes(y){var o;return(o=y.specifiers)!=null||(y.specifiers=[]),y.source=this.parseImportSource(),this.maybeParseImportAttributes(y),this.checkImportReflection(y),this.checkJSONModuleImport(y),this.semicolon(),this.sawUnambiguousESM=!0,this.finishNode(y,"ImportDeclaration")}parseImportSource(){return this.match(134)||this.unexpected(),this.parseExprAtom()}parseImportSpecifierLocal(y,o,g){o.local=this.parseIdentifier(),y.specifiers.push(this.finishImportSpecifier(o,g))}finishImportSpecifier(y,o,g=8201){return this.checkLVal(y.local,{type:o},g),this.finishNode(y,o)}parseImportAttributes(){this.expect(5);const y=[],o=new Set;do{if(this.match(8))break;const g=this.startNode(),b=this.state.value;if(o.has(b)&&this.raise(S.ModuleAttributesWithDuplicateKeys,this.state.startLoc,{key:b}),o.add(b),this.match(134)?g.key=this.parseStringLiteral(b):g.key=this.parseIdentifier(!0),this.expect(14),!this.match(134))throw this.raise(S.ModuleAttributeInvalidValue,this.state.startLoc);g.value=this.parseStringLiteral(this.state.value),y.push(this.finishNode(g,"ImportAttribute"))}while(this.eat(12));return this.expect(8),y}parseModuleAttributes(){const y=[],o=new Set;do{const g=this.startNode();if(g.key=this.parseIdentifier(!0),g.key.name!=="type"&&this.raise(S.ModuleAttributeDifferentFromType,g.key),o.has(g.key.name)&&this.raise(S.ModuleAttributesWithDuplicateKeys,g.key,{key:g.key.name}),o.add(g.key.name),this.expect(14),!this.match(134))throw this.raise(S.ModuleAttributeInvalidValue,this.state.startLoc);g.value=this.parseStringLiteral(this.state.value),y.push(this.finishNode(g,"ImportAttribute"))}while(this.eat(12));return y}maybeParseImportAttributes(y){let o;var g=!1;if(this.match(76)){if(this.hasPrecedingLineBreak()&&this.lookaheadCharCode()===40)return;this.next(),this.hasPlugin("moduleAttributes")?(o=this.parseModuleAttributes(),this.addExtra(y,"deprecatedWithLegacySyntax",!0)):o=this.parseImportAttributes(),g=!0}else this.isContextual(94)&&!this.hasPrecedingLineBreak()?(!this.hasPlugin("deprecatedImportAssert")&&!this.hasPlugin("importAssertions")&&this.raise(S.ImportAttributesUseAssert,this.state.startLoc),this.hasPlugin("importAssertions")||this.addExtra(y,"deprecatedAssertSyntax",!0),this.next(),o=this.parseImportAttributes()):o=[];!g&&this.hasPlugin("importAssertions")?y.assertions=o:y.attributes=o}maybeParseDefaultImportSpecifier(y,o){if(o){const g=this.startNodeAtNode(o);return g.local=o,y.specifiers.push(this.finishImportSpecifier(g,"ImportDefaultSpecifier")),!0}else if(Ze(this.state.type))return this.parseImportSpecifierLocal(y,this.startNode(),"ImportDefaultSpecifier"),!0;return!1}maybeParseStarImportSpecifier(y){if(this.match(55)){const o=this.startNode();return this.next(),this.expectContextual(93),this.parseImportSpecifierLocal(y,o,"ImportNamespaceSpecifier"),!0}return!1}parseNamedImportSpecifiers(y){let o=!0;for(this.expect(5);!this.eat(8);){if(o)o=!1;else{if(this.eat(14))throw this.raise(S.DestructureNamedImport,this.state.startLoc);if(this.expect(12),this.eat(8))break}const g=this.startNode(),b=this.match(134),k=this.isContextual(130);g.imported=this.parseModuleExportName();const ne=this.parseImportSpecifier(g,b,y.importKind==="type"||y.importKind==="typeof",k,void 0);y.specifiers.push(ne)}}parseImportSpecifier(y,o,g,b,k){if(this.eatContextual(93))y.local=this.parseIdentifier();else{const{imported:ne}=y;if(o)throw this.raise(S.ImportBindingIsString,y,{importName:ne.value});this.checkReservedWord(ne.name,y.loc.start,!0,!0),y.local||(y.local=this.cloneIdentifier(ne))}return this.finishImportSpecifier(y,"ImportSpecifier",k)}isThisParam(y){return y.type==="Identifier"&&y.name==="this"}}class _a extends xo{constructor(y,o,g){const b=I(y);super(b,o),this.options=b,this.initializeScopes(),this.plugins=g,this.filename=b.sourceFilename,this.startIndex=b.startIndex;let k=0;b.allowAwaitOutsideFunction&&(k|=1),b.allowReturnOutsideFunction&&(k|=2),b.allowImportExportEverywhere&&(k|=8),b.allowSuperOutsideMethod&&(k|=16),b.allowUndeclaredExports&&(k|=64),b.allowNewTargetOutsideFunction&&(k|=4),b.allowYieldOutsideFunction&&(k|=32),b.ranges&&(k|=128),b.tokens&&(k|=256),b.createImportExpressions&&(k|=512),b.createParenthesizedExpressions&&(k|=1024),b.errorRecovery&&(k|=2048),b.attachComment&&(k|=4096),b.annexB&&(k|=8192),this.optionFlags=k}getScopeHandler(){return Kn}parse(){this.enterInitialScopes();const y=this.startNode(),o=this.startNode();this.nextToken(),y.errors=null;const g=this.parseTopLevel(y,o);return g.errors=this.state.errors,g.comments.length=this.state.commentsLen,g}}function Wi(G,y){var o;if(((o=y)==null?void 0:o.sourceType)==="unambiguous"){y=Object.assign({},y);try{y.sourceType="module";const g=Hi(y,G),b=g.parse();if(g.sawUnambiguousESM)return b;if(g.ambiguousScriptDifferentAst)try{return y.sourceType="script",Hi(y,G).parse()}catch{}else b.program.sourceType="script";return b}catch(g){try{return y.sourceType="script",Hi(y,G).parse()}catch{}throw g}}else return Hi(y,G).parse()}function Ca(G,y){const o=Hi(y,G);return o.options.strictMode&&(o.state.strict=!0),o.getExpression()}function ml(G){const y={};for(const o of Object.keys(G))y[o]=De(G[o]);return y}const lu=ml(Le);function Hi(G,y){let o=_a;const g=new Map;if(G!=null&&G.plugins){for(const b of G.plugins){let k,ne;typeof b=="string"?k=b:[k,ne]=b,g.has(k)||g.set(k,ne||{})}fl(g),o=vo(g)}return new o(G,y,g)}const yl=new Map;function vo(G){const y=[];for(const b of Na)G.has(b)&&y.push(b);const o=y.join("|");let g=yl.get(o);if(!g){g=_a;for(const b of y)g=$i[b](g);yl.set(o,g)}return g}return Gd.parse=Wi,Gd.parseExpression=Ca,Gd.tokTypes=lu,Gd}var ure=dP(),gb={},er={},Rg={},Ah={},Uo={},Tn={},JC;function k4(){return JC||(JC=1,Object.defineProperty(Tn,"__esModule",{value:!0}),Tn.Var=Tn.User=Tn.Statement=Tn.SpreadProperty=Tn.Scope=Tn.RestProperty=Tn.ReferencedMemberExpression=Tn.ReferencedIdentifier=Tn.Referenced=Tn.Pure=Tn.NumericLiteralTypeAnnotation=Tn.Generated=Tn.ForAwaitStatement=Tn.Flow=Tn.Expression=Tn.ExistentialTypeParam=Tn.BlockScoped=Tn.BindingIdentifier=void 0,Tn.ReferencedIdentifier=["Identifier","JSXIdentifier"],Tn.ReferencedMemberExpression=["MemberExpression"],Tn.BindingIdentifier=["Identifier"],Tn.Statement=["Statement"],Tn.Expression=["Expression"],Tn.Scope=["Scopable","Pattern"],Tn.Referenced=null,Tn.BlockScoped=["FunctionDeclaration","ClassDeclaration","VariableDeclaration"],Tn.Var=["VariableDeclaration"],Tn.User=null,Tn.Generated=null,Tn.Pure=null,Tn.Flow=["Flow","ImportDeclaration","ExportDeclaration","ImportSpecifier"],Tn.RestProperty=["RestElement"],Tn.SpreadProperty=["RestElement"],Tn.ExistentialTypeParam=["ExistsTypeAnnotation"],Tn.NumericLiteralTypeAnnotation=["NumberLiteralTypeAnnotation"],Tn.ForAwaitStatement=["ForOfStatement"]),Tn}var Fg={exports:{}},xb,ZC;function cre(){if(ZC)return xb;ZC=1;var n=1e3,e=n*60,t=e*60,r=t*24,s=r*7,i=r*365.25;xb=function(d,h){h=h||{};var m=typeof d;if(m==="string"&&d.length>0)return a(d);if(m==="number"&&isFinite(d))return h.long?c(d):l(d);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(d))};function a(d){if(d=String(d),!(d.length>100)){var h=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(d);if(h){var m=parseFloat(h[1]),x=(h[2]||"ms").toLowerCase();switch(x){case"years":case"year":case"yrs":case"yr":case"y":return m*i;case"weeks":case"week":case"w":return m*s;case"days":case"day":case"d":return m*r;case"hours":case"hour":case"hrs":case"hr":case"h":return m*t;case"minutes":case"minute":case"mins":case"min":case"m":return m*e;case"seconds":case"second":case"secs":case"sec":case"s":return m*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return m;default:return}}}}function l(d){var h=Math.abs(d);return h>=r?Math.round(d/r)+"d":h>=t?Math.round(d/t)+"h":h>=e?Math.round(d/e)+"m":h>=n?Math.round(d/n)+"s":d+"ms"}function c(d){var h=Math.abs(d);return h>=r?p(d,h,r,"day"):h>=t?p(d,h,t,"hour"):h>=e?p(d,h,e,"minute"):h>=n?p(d,h,n,"second"):d+" ms"}function p(d,h,m,x){var w=h>=m*1.5;return Math.round(d/m)+" "+x+(w?"s":"")}return xb}var vb,QC;function pre(){if(QC)return vb;QC=1;function n(e){r.debug=r,r.default=r,r.coerce=p,r.disable=l,r.enable=i,r.enabled=c,r.humanize=cre(),r.destroy=d,Object.keys(e).forEach(h=>{r[h]=e[h]}),r.names=[],r.skips=[],r.formatters={};function t(h){let m=0;for(let x=0;x<h.length;x++)m=(m<<5)-m+h.charCodeAt(x),m|=0;return r.colors[Math.abs(m)%r.colors.length]}r.selectColor=t;function r(h){let m,x=null,w,A;function P(...S){if(!P.enabled)return;const C=P,I=Number(new Date),_=I-(m||I);C.diff=_,C.prev=m,C.curr=I,m=I,S[0]=r.coerce(S[0]),typeof S[0]!="string"&&S.unshift("%O");let D=0;S[0]=S[0].replace(/%([a-zA-Z%])/g,(O,L)=>{if(O==="%%")return"%";D++;const B=r.formatters[L];if(typeof B=="function"){const j=S[D];O=B.call(C,j),S.splice(D,1),D--}return O}),r.formatArgs.call(C,S),(C.log||r.log).apply(C,S)}return P.namespace=h,P.useColors=r.useColors(),P.color=r.selectColor(h),P.extend=s,P.destroy=r.destroy,Object.defineProperty(P,"enabled",{enumerable:!0,configurable:!1,get:()=>x!==null?x:(w!==r.namespaces&&(w=r.namespaces,A=r.enabled(h)),A),set:S=>{x=S}}),typeof r.init=="function"&&r.init(P),P}function s(h,m){const x=r(this.namespace+(typeof m>"u"?":":m)+h);return x.log=this.log,x}function i(h){r.save(h),r.namespaces=h,r.names=[],r.skips=[];const m=(typeof h=="string"?h:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(const x of m)x[0]==="-"?r.skips.push(x.slice(1)):r.names.push(x)}function a(h,m){let x=0,w=0,A=-1,P=0;for(;x<h.length;)if(w<m.length&&(m[w]===h[x]||m[w]==="*"))m[w]==="*"?(A=w,P=x,w++):(x++,w++);else if(A!==-1)w=A+1,P++,x=P;else return!1;for(;w<m.length&&m[w]==="*";)w++;return w===m.length}function l(){const h=[...r.names,...r.skips.map(m=>"-"+m)].join(",");return r.enable(""),h}function c(h){for(const m of r.skips)if(a(h,m))return!1;for(const m of r.names)if(a(h,m))return!0;return!1}function p(h){return h instanceof Error?h.stack||h.message:h}function d(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}return vb=n,vb}var eI;function dre(){return eI||(eI=1,(function(n,e){var t={};e.formatArgs=s,e.save=i,e.load=a,e.useColors=r,e.storage=l(),e.destroy=(()=>{let p=!1;return()=>{p||(p=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function r(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let p;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(p=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(p[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function s(p){if(p[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+p[0]+(this.useColors?"%c ":" ")+"+"+n.exports.humanize(this.diff),!this.useColors)return;const d="color: "+this.color;p.splice(1,0,d,"color: inherit");let h=0,m=0;p[0].replace(/%[a-zA-Z%]/g,x=>{x!=="%%"&&(h++,x==="%c"&&(m=h))}),p.splice(m,0,d)}e.log=console.debug||console.log||(()=>{});function i(p){try{p?e.storage.setItem("debug",p):e.storage.removeItem("debug")}catch{}}function a(){let p;try{p=e.storage.getItem("debug")||e.storage.getItem("DEBUG")}catch{}return!p&&typeof process<"u"&&"env"in process&&(p=t.DEBUG),p}function l(){try{return localStorage}catch{}}n.exports=pre()(e);const{formatters:c}=n.exports;c.j=function(p){try{return JSON.stringify(p)}catch(d){return"[UnexpectedJSONParseError]: "+d.message}}})(Fg,Fg.exports)),Fg.exports}var Nh={},_h={},Tb={},Ch={},Bg={},Vg={},ge={},jg={},tI;function fP(){if(tI)return jg;tI=1,Object.defineProperty(jg,"__esModule",{value:!0}),jg.default=n;function n(e,t){const r=Object.keys(t);for(const s of r)if(e[s]!==t[s])return!1;return!0}return jg}var zg={},nI;function Xm(){if(nI)return zg;nI=1,Object.defineProperty(zg,"__esModule",{value:!0}),zg.default=e;const n=new Set;function e(r,s,i="",a=r){if(n.has(a))return;n.add(a);const{internal:l,trace:c}=t(1,2);l||console.warn(`${i}\`${r}\` has been deprecated, please migrate to \`${s}\`
${c}`)}function t(r,s){const{stackTraceLimit:i,prepareStackTrace:a}=Error;let l;if(Error.stackTraceLimit=1+r+s,Error.prepareStackTrace=function(p,d){l=d},new Error().stack,Error.stackTraceLimit=i,Error.prepareStackTrace=a,!l)return{internal:!1,trace:""};const c=l.slice(1+r,1+r+s);return{internal:/[\\/]@babel[\\/]/.test(c[1].getFileName()),trace:c.map(p=>`    at ${p}`).join(`
`)}}return zg}var rI;function Or(){if(rI)return ge;rI=1,Object.defineProperty(ge,"__esModule",{value:!0}),ge.isAccessor=hp,ge.isAnyTypeAnnotation=Jr,ge.isArgumentPlaceholder=hi,ge.isArrayExpression=t,ge.isArrayPattern=We,ge.isArrayTypeAnnotation=Ot,ge.isArrowFunctionExpression=rt,ge.isAssignmentExpression=r,ge.isAssignmentPattern=Ye,ge.isAwaitExpression=ve,ge.isBigIntLiteral=Pt,ge.isBinary=Cl,ge.isBinaryExpression=s,ge.isBindExpression=go,ge.isBlock=oc,ge.isBlockParent=ac,ge.isBlockStatement=c,ge.isBooleanLiteral=ue,ge.isBooleanLiteralTypeAnnotation=qs,ge.isBooleanTypeAnnotation=fs,ge.isBreakStatement=p,ge.isCallExpression=d,ge.isCatchClause=h,ge.isClass=pc,ge.isClassAccessorProperty=Jn,ge.isClassBody=St,ge.isClassDeclaration=jt,ge.isClassExpression=Et,ge.isClassImplements=ai,ge.isClassMethod=fn,ge.isClassPrivateMethod=Zn,ge.isClassPrivateProperty=Hn,ge.isClassProperty=_n,ge.isCompletionStatement=z,ge.isConditional=$,ge.isConditionalExpression=m,ge.isContinueStatement=x,ge.isDebuggerStatement=w,ge.isDecimalLiteral=Ca,ge.isDeclaration=qn,ge.isDeclareClass=gr,ge.isDeclareExportAllDeclaration=xa,ge.isDeclareExportDeclaration=Di,ge.isDeclareFunction=wr,ge.isDeclareInterface=Zr,ge.isDeclareModule=oi,ge.isDeclareModuleExports=Qr,ge.isDeclareOpaqueType=Li,ge.isDeclareTypeAlias=Lr,ge.isDeclareVariable=li,ge.isDeclaredPredicate=En,ge.isDecorator=Ws,ge.isDirective=a,ge.isDirectiveLiteral=l,ge.isDoExpression=ou,ge.isDoWhileStatement=A,ge.isEmptyStatement=P,ge.isEmptyTypeAnnotation=$s,ge.isEnumBody=Da,ge.isEnumBooleanBody=Ms,ge.isEnumBooleanMember=Vi,ge.isEnumDeclaration=Is,ge.isEnumDefaultedMember=ji,ge.isEnumMember=yd,ge.isEnumNumberBody=rs,ge.isEnumNumberMember=mo,ge.isEnumStringBody=su,ge.isEnumStringMember=cl,ge.isEnumSymbolBody=wa,ge.isExistsTypeAnnotation=es,ge.isExportAllDeclaration=qt,ge.isExportDeclaration=dp,ge.isExportDefaultDeclaration=mn,ge.isExportDefaultSpecifier=xo,ge.isExportNamedDeclaration=Fe,ge.isExportNamespaceSpecifier=Mt,ge.isExportSpecifier=Me,ge.isExpression=sc,ge.isExpressionStatement=S,ge.isExpressionWrapper=ze,ge.isFile=C,ge.isFlow=$f,ge.isFlowBaseAnnotation=Wf,ge.isFlowDeclaration=Hf,ge.isFlowPredicate=yp,ge.isFlowType=md,ge.isFor=Ut,ge.isForInStatement=I,ge.isForOfStatement=ce,ge.isForStatement=_,ge.isForXStatement=In,ge.isFunction=dr,ge.isFunctionDeclaration=D,ge.isFunctionExpression=F,ge.isFunctionParameter=cp,ge.isFunctionParent=Xs,ge.isFunctionTypeAnnotation=ts,ge.isFunctionTypeParam=va,ge.isGenericTypeAnnotation=ui,ge.isIdentifier=O,ge.isIfStatement=L,ge.isImmutable=hu,ge.isImport=at,ge.isImportAttribute=yr,ge.isImportDeclaration=we,ge.isImportDefaultSpecifier=De,ge.isImportExpression=ot,ge.isImportNamespaceSpecifier=$e,ge.isImportOrExportDeclaration=mu,ge.isImportSpecifier=nt,ge.isIndexedAccessType=Lt,ge.isInferredPredicate=oo,ge.isInterfaceDeclaration=ns,ge.isInterfaceExtends=Ta,ge.isInterfaceTypeAnnotation=Dr,ge.isInterpreterDirective=i,ge.isIntersectionTypeAnnotation=Sa,ge.isJSX=Ml,ge.isJSXAttribute=di,ge.isJSXClosingElement=zi,ge.isJSXClosingFragment=$i,ge.isJSXElement=fi,ge.isJSXEmptyExpression=Ea,ge.isJSXExpressionContainer=au,ge.isJSXFragment=qi,ge.isJSXIdentifier=yo,ge.isJSXMemberExpression=Ui,ge.isJSXNamespacedName=Pa,ge.isJSXOpeningElement=dl,ge.isJSXOpeningFragment=fl,ge.isJSXSpreadAttribute=ks,ge.isJSXSpreadChild=pl,ge.isJSXText=Aa,ge.isLVal=fu,ge.isLabeledStatement=B,ge.isLiteral=pp,ge.isLogicalExpression=ae,ge.isLoop=ie,ge.isMemberExpression=oe,ge.isMetaProperty=Zt,ge.isMethod=Il,ge.isMiscellaneous=xi,ge.isMixedTypeAnnotation=Er,ge.isModuleDeclaration=dc,ge.isModuleExpression=ml,ge.isModuleSpecifier=fp,ge.isNewExpression=re,ge.isNoop=Na,ge.isNullLiteral=ee,ge.isNullLiteralTypeAnnotation=Oi,ge.isNullableTypeAnnotation=Rr,ge.isNumberLiteral=Xf,ge.isNumberLiteralTypeAnnotation=lo,ge.isNumberTypeAnnotation=Es,ge.isNumericLiteral=M,ge.isObjectExpression=H,ge.isObjectMember=fd,ge.isObjectMethod=Q,ge.isObjectPattern=ut,ge.isObjectProperty=W,ge.isObjectTypeAnnotation=ci,ge.isObjectTypeCallProperty=ms,ge.isObjectTypeIndexer=Ri,ge.isObjectTypeInternalSlot=hs,ge.isObjectTypeProperty=uo,ge.isObjectTypeSpreadProperty=Fi,ge.isOpaqueType=Ps,ge.isOptionalCallExpression=tn,ge.isOptionalIndexedAccessType=iu,ge.isOptionalMemberExpression=Ht,ge.isParenthesizedExpression=me,ge.isPattern=hd,ge.isPatternLike=uc,ge.isPipelineBareFunction=yl,ge.isPipelinePrimaryTopicReference=vo,ge.isPipelineTopicExpression=Hi,ge.isPlaceholder=hl,ge.isPrivate=mp,ge.isPrivateName=Kn,ge.isProgram=X,ge.isProperty=Uf,ge.isPureish=pd,ge.isQualifiedTypeIdentifier=pi,ge.isRecordExpression=_a,ge.isRegExpLiteral=J,ge.isRegexLiteral=Oo,ge.isRestElement=Y,ge.isRestProperty=gu,ge.isReturnStatement=Z,ge.isScopable=ic,ge.isSequenceExpression=se,ge.isSpreadElement=xn,ge.isSpreadProperty=kl,ge.isStandardized=du,ge.isStatement=lc,ge.isStaticBlock=br,ge.isStringLiteral=j,ge.isStringLiteralTypeAnnotation=As,ge.isStringTypeAnnotation=Ns,ge.isSuper=Be,ge.isSwitchCase=Ce,ge.isSwitchStatement=be,ge.isSymbolTypeAnnotation=co,ge.isTSAnyKeyword=Ie,ge.isTSArrayType=Ks,ge.isTSAsExpression=Nl,ge.isTSBaseType=Kf,ge.isTSBigIntKeyword=mt,ge.isTSBooleanKeyword=Je,ge.isTSCallSignatureDeclaration=k,ge.isTSConditionalType=gi,ge.isTSConstructSignatureDeclaration=ne,ge.isTSConstructorType=To,ge.isTSDeclareFunction=o,ge.isTSDeclareMethod=g,ge.isTSEntityName=dd,ge.isTSEnumBody=Mo,ge.isTSEnumDeclaration=Qu,ge.isTSEnumMember=ec,ge.isTSExportAssignment=cu,ge.isTSExpressionWithTypeArguments=Co,ge.isTSExternalModuleReference=up,ge.isTSFunctionType=xl,ge.isTSImportEqualsDeclaration=lp,ge.isTSImportType=uu,ge.isTSIndexSignature=Pe,ge.isTSIndexedAccessType=No,ge.isTSInferType=bl,ge.isTSInstantiationExpression=Al,ge.isTSInterfaceBody=El,ge.isTSInterfaceDeclaration=Io,ge.isTSIntersectionType=yi,ge.isTSIntrinsicKeyword=bt,ge.isTSLiteralType=_o,ge.isTSMappedType=Ma,ge.isTSMethodSignature=ye,ge.isTSModuleBlock=nc,ge.isTSModuleDeclaration=tc,ge.isTSNamedTupleMember=Po,ge.isTSNamespaceExportDeclaration=ko,ge.isTSNeverKeyword=Rt,ge.isTSNonNullExpression=Oa,ge.isTSNullKeyword=yn,ge.isTSNumberKeyword=Ln,ge.isTSObjectKeyword=nn,ge.isTSOptionalType=Tl,ge.isTSParameterProperty=y,ge.isTSParenthesizedType=Ki,ge.isTSPropertySignature=le,ge.isTSQualifiedName=b,ge.isTSRestType=Sl,ge.isTSSatisfiesExpression=op,ge.isTSStringKeyword=Cn,ge.isTSSymbolKeyword=Hs,ge.isTSTemplateLiteralType=ka,ge.isTSThisType=mi,ge.isTSTupleType=vl,ge.isTSType=gp,ge.isTSTypeAliasDeclaration=Pl,ge.isTSTypeAnnotation=pu,ge.isTSTypeAssertion=gs,ge.isTSTypeElement=Xi,ge.isTSTypeLiteral=Eo,ge.isTSTypeOperator=wl,ge.isTSTypeParameter=La,ge.isTSTypeParameterDeclaration=_l,ge.isTSTypeParameterInstantiation=rc,ge.isTSTypePredicate=bo,ge.isTSTypeQuery=wo,ge.isTSTypeReference=So,ge.isTSUndefinedKeyword=Os,ge.isTSUnionType=Ao,ge.isTSUnknownKeyword=gl,ge.isTSVoidKeyword=Ia,ge.isTaggedTemplateExpression=Xe,ge.isTemplateElement=de,ge.isTemplateLiteral=Ke,ge.isTerminatorless=V,ge.isThisExpression=Se,ge.isThisTypeAnnotation=hn,ge.isThrowStatement=Le,ge.isTopicReference=lu,ge.isTryStatement=Ue,ge.isTupleExpression=Wi,ge.isTupleTypeAnnotation=ol,ge.isTypeAlias=po,ge.isTypeAnnotation=Bi,ge.isTypeCastExpression=fo,ge.isTypeParameter=ul,ge.isTypeParameterDeclaration=ho,ge.isTypeParameterInstantiation=ba,ge.isTypeScript=yu,ge.isTypeofTypeAnnotation=ll,ge.isUnaryExpression=st,ge.isUnaryLike=qf,ge.isUnionTypeAnnotation=_s,ge.isUpdateExpression=Ze,ge.isUserWhitespacable=cc,ge.isV8IntrinsicIdentifier=pr,ge.isVariableDeclaration=it,ge.isVariableDeclarator=pt,ge.isVariance=ys,ge.isVoidPattern=G,ge.isVoidTypeAnnotation=Cs,ge.isWhile=Te,ge.isWhileStatement=It,ge.isWithStatement=ct,ge.isYieldExpression=ht;var n=fP(),e=Xm();function t(E,v){return!E||E.type!=="ArrayExpression"?!1:v==null||(0,n.default)(E,v)}function r(E,v){return!E||E.type!=="AssignmentExpression"?!1:v==null||(0,n.default)(E,v)}function s(E,v){return!E||E.type!=="BinaryExpression"?!1:v==null||(0,n.default)(E,v)}function i(E,v){return!E||E.type!=="InterpreterDirective"?!1:v==null||(0,n.default)(E,v)}function a(E,v){return!E||E.type!=="Directive"?!1:v==null||(0,n.default)(E,v)}function l(E,v){return!E||E.type!=="DirectiveLiteral"?!1:v==null||(0,n.default)(E,v)}function c(E,v){return!E||E.type!=="BlockStatement"?!1:v==null||(0,n.default)(E,v)}function p(E,v){return!E||E.type!=="BreakStatement"?!1:v==null||(0,n.default)(E,v)}function d(E,v){return!E||E.type!=="CallExpression"?!1:v==null||(0,n.default)(E,v)}function h(E,v){return!E||E.type!=="CatchClause"?!1:v==null||(0,n.default)(E,v)}function m(E,v){return!E||E.type!=="ConditionalExpression"?!1:v==null||(0,n.default)(E,v)}function x(E,v){return!E||E.type!=="ContinueStatement"?!1:v==null||(0,n.default)(E,v)}function w(E,v){return!E||E.type!=="DebuggerStatement"?!1:v==null||(0,n.default)(E,v)}function A(E,v){return!E||E.type!=="DoWhileStatement"?!1:v==null||(0,n.default)(E,v)}function P(E,v){return!E||E.type!=="EmptyStatement"?!1:v==null||(0,n.default)(E,v)}function S(E,v){return!E||E.type!=="ExpressionStatement"?!1:v==null||(0,n.default)(E,v)}function C(E,v){return!E||E.type!=="File"?!1:v==null||(0,n.default)(E,v)}function I(E,v){return!E||E.type!=="ForInStatement"?!1:v==null||(0,n.default)(E,v)}function _(E,v){return!E||E.type!=="ForStatement"?!1:v==null||(0,n.default)(E,v)}function D(E,v){return!E||E.type!=="FunctionDeclaration"?!1:v==null||(0,n.default)(E,v)}function F(E,v){return!E||E.type!=="FunctionExpression"?!1:v==null||(0,n.default)(E,v)}function O(E,v){return!E||E.type!=="Identifier"?!1:v==null||(0,n.default)(E,v)}function L(E,v){return!E||E.type!=="IfStatement"?!1:v==null||(0,n.default)(E,v)}function B(E,v){return!E||E.type!=="LabeledStatement"?!1:v==null||(0,n.default)(E,v)}function j(E,v){return!E||E.type!=="StringLiteral"?!1:v==null||(0,n.default)(E,v)}function M(E,v){return!E||E.type!=="NumericLiteral"?!1:v==null||(0,n.default)(E,v)}function ee(E,v){return!E||E.type!=="NullLiteral"?!1:v==null||(0,n.default)(E,v)}function ue(E,v){return!E||E.type!=="BooleanLiteral"?!1:v==null||(0,n.default)(E,v)}function J(E,v){return!E||E.type!=="RegExpLiteral"?!1:v==null||(0,n.default)(E,v)}function ae(E,v){return!E||E.type!=="LogicalExpression"?!1:v==null||(0,n.default)(E,v)}function oe(E,v){return!E||E.type!=="MemberExpression"?!1:v==null||(0,n.default)(E,v)}function re(E,v){return!E||E.type!=="NewExpression"?!1:v==null||(0,n.default)(E,v)}function X(E,v){return!E||E.type!=="Program"?!1:v==null||(0,n.default)(E,v)}function H(E,v){return!E||E.type!=="ObjectExpression"?!1:v==null||(0,n.default)(E,v)}function Q(E,v){return!E||E.type!=="ObjectMethod"?!1:v==null||(0,n.default)(E,v)}function W(E,v){return!E||E.type!=="ObjectProperty"?!1:v==null||(0,n.default)(E,v)}function Y(E,v){return!E||E.type!=="RestElement"?!1:v==null||(0,n.default)(E,v)}function Z(E,v){return!E||E.type!=="ReturnStatement"?!1:v==null||(0,n.default)(E,v)}function se(E,v){return!E||E.type!=="SequenceExpression"?!1:v==null||(0,n.default)(E,v)}function me(E,v){return!E||E.type!=="ParenthesizedExpression"?!1:v==null||(0,n.default)(E,v)}function Ce(E,v){return!E||E.type!=="SwitchCase"?!1:v==null||(0,n.default)(E,v)}function be(E,v){return!E||E.type!=="SwitchStatement"?!1:v==null||(0,n.default)(E,v)}function Se(E,v){return!E||E.type!=="ThisExpression"?!1:v==null||(0,n.default)(E,v)}function Le(E,v){return!E||E.type!=="ThrowStatement"?!1:v==null||(0,n.default)(E,v)}function Ue(E,v){return!E||E.type!=="TryStatement"?!1:v==null||(0,n.default)(E,v)}function st(E,v){return!E||E.type!=="UnaryExpression"?!1:v==null||(0,n.default)(E,v)}function Ze(E,v){return!E||E.type!=="UpdateExpression"?!1:v==null||(0,n.default)(E,v)}function it(E,v){return!E||E.type!=="VariableDeclaration"?!1:v==null||(0,n.default)(E,v)}function pt(E,v){return!E||E.type!=="VariableDeclarator"?!1:v==null||(0,n.default)(E,v)}function It(E,v){return!E||E.type!=="WhileStatement"?!1:v==null||(0,n.default)(E,v)}function ct(E,v){return!E||E.type!=="WithStatement"?!1:v==null||(0,n.default)(E,v)}function Ye(E,v){return!E||E.type!=="AssignmentPattern"?!1:v==null||(0,n.default)(E,v)}function We(E,v){return!E||E.type!=="ArrayPattern"?!1:v==null||(0,n.default)(E,v)}function rt(E,v){return!E||E.type!=="ArrowFunctionExpression"?!1:v==null||(0,n.default)(E,v)}function St(E,v){return!E||E.type!=="ClassBody"?!1:v==null||(0,n.default)(E,v)}function Et(E,v){return!E||E.type!=="ClassExpression"?!1:v==null||(0,n.default)(E,v)}function jt(E,v){return!E||E.type!=="ClassDeclaration"?!1:v==null||(0,n.default)(E,v)}function qt(E,v){return!E||E.type!=="ExportAllDeclaration"?!1:v==null||(0,n.default)(E,v)}function mn(E,v){return!E||E.type!=="ExportDefaultDeclaration"?!1:v==null||(0,n.default)(E,v)}function Fe(E,v){return!E||E.type!=="ExportNamedDeclaration"?!1:v==null||(0,n.default)(E,v)}function Me(E,v){return!E||E.type!=="ExportSpecifier"?!1:v==null||(0,n.default)(E,v)}function ce(E,v){return!E||E.type!=="ForOfStatement"?!1:v==null||(0,n.default)(E,v)}function we(E,v){return!E||E.type!=="ImportDeclaration"?!1:v==null||(0,n.default)(E,v)}function De(E,v){return!E||E.type!=="ImportDefaultSpecifier"?!1:v==null||(0,n.default)(E,v)}function $e(E,v){return!E||E.type!=="ImportNamespaceSpecifier"?!1:v==null||(0,n.default)(E,v)}function nt(E,v){return!E||E.type!=="ImportSpecifier"?!1:v==null||(0,n.default)(E,v)}function ot(E,v){return!E||E.type!=="ImportExpression"?!1:v==null||(0,n.default)(E,v)}function Zt(E,v){return!E||E.type!=="MetaProperty"?!1:v==null||(0,n.default)(E,v)}function fn(E,v){return!E||E.type!=="ClassMethod"?!1:v==null||(0,n.default)(E,v)}function ut(E,v){return!E||E.type!=="ObjectPattern"?!1:v==null||(0,n.default)(E,v)}function xn(E,v){return!E||E.type!=="SpreadElement"?!1:v==null||(0,n.default)(E,v)}function Be(E,v){return!E||E.type!=="Super"?!1:v==null||(0,n.default)(E,v)}function Xe(E,v){return!E||E.type!=="TaggedTemplateExpression"?!1:v==null||(0,n.default)(E,v)}function de(E,v){return!E||E.type!=="TemplateElement"?!1:v==null||(0,n.default)(E,v)}function Ke(E,v){return!E||E.type!=="TemplateLiteral"?!1:v==null||(0,n.default)(E,v)}function ht(E,v){return!E||E.type!=="YieldExpression"?!1:v==null||(0,n.default)(E,v)}function ve(E,v){return!E||E.type!=="AwaitExpression"?!1:v==null||(0,n.default)(E,v)}function at(E,v){return!E||E.type!=="Import"?!1:v==null||(0,n.default)(E,v)}function Pt(E,v){return!E||E.type!=="BigIntLiteral"?!1:v==null||(0,n.default)(E,v)}function Mt(E,v){return!E||E.type!=="ExportNamespaceSpecifier"?!1:v==null||(0,n.default)(E,v)}function Ht(E,v){return!E||E.type!=="OptionalMemberExpression"?!1:v==null||(0,n.default)(E,v)}function tn(E,v){return!E||E.type!=="OptionalCallExpression"?!1:v==null||(0,n.default)(E,v)}function _n(E,v){return!E||E.type!=="ClassProperty"?!1:v==null||(0,n.default)(E,v)}function Jn(E,v){return!E||E.type!=="ClassAccessorProperty"?!1:v==null||(0,n.default)(E,v)}function Hn(E,v){return!E||E.type!=="ClassPrivateProperty"?!1:v==null||(0,n.default)(E,v)}function Zn(E,v){return!E||E.type!=="ClassPrivateMethod"?!1:v==null||(0,n.default)(E,v)}function Kn(E,v){return!E||E.type!=="PrivateName"?!1:v==null||(0,n.default)(E,v)}function br(E,v){return!E||E.type!=="StaticBlock"?!1:v==null||(0,n.default)(E,v)}function yr(E,v){return!E||E.type!=="ImportAttribute"?!1:v==null||(0,n.default)(E,v)}function Jr(E,v){return!E||E.type!=="AnyTypeAnnotation"?!1:v==null||(0,n.default)(E,v)}function Ot(E,v){return!E||E.type!=="ArrayTypeAnnotation"?!1:v==null||(0,n.default)(E,v)}function fs(E,v){return!E||E.type!=="BooleanTypeAnnotation"?!1:v==null||(0,n.default)(E,v)}function qs(E,v){return!E||E.type!=="BooleanLiteralTypeAnnotation"?!1:v==null||(0,n.default)(E,v)}function Oi(E,v){return!E||E.type!=="NullLiteralTypeAnnotation"?!1:v==null||(0,n.default)(E,v)}function ai(E,v){return!E||E.type!=="ClassImplements"?!1:v==null||(0,n.default)(E,v)}function gr(E,v){return!E||E.type!=="DeclareClass"?!1:v==null||(0,n.default)(E,v)}function wr(E,v){return!E||E.type!=="DeclareFunction"?!1:v==null||(0,n.default)(E,v)}function Zr(E,v){return!E||E.type!=="DeclareInterface"?!1:v==null||(0,n.default)(E,v)}function oi(E,v){return!E||E.type!=="DeclareModule"?!1:v==null||(0,n.default)(E,v)}function Qr(E,v){return!E||E.type!=="DeclareModuleExports"?!1:v==null||(0,n.default)(E,v)}function Lr(E,v){return!E||E.type!=="DeclareTypeAlias"?!1:v==null||(0,n.default)(E,v)}function Li(E,v){return!E||E.type!=="DeclareOpaqueType"?!1:v==null||(0,n.default)(E,v)}function li(E,v){return!E||E.type!=="DeclareVariable"?!1:v==null||(0,n.default)(E,v)}function Di(E,v){return!E||E.type!=="DeclareExportDeclaration"?!1:v==null||(0,n.default)(E,v)}function xa(E,v){return!E||E.type!=="DeclareExportAllDeclaration"?!1:v==null||(0,n.default)(E,v)}function En(E,v){return!E||E.type!=="DeclaredPredicate"?!1:v==null||(0,n.default)(E,v)}function es(E,v){return!E||E.type!=="ExistsTypeAnnotation"?!1:v==null||(0,n.default)(E,v)}function ts(E,v){return!E||E.type!=="FunctionTypeAnnotation"?!1:v==null||(0,n.default)(E,v)}function va(E,v){return!E||E.type!=="FunctionTypeParam"?!1:v==null||(0,n.default)(E,v)}function ui(E,v){return!E||E.type!=="GenericTypeAnnotation"?!1:v==null||(0,n.default)(E,v)}function oo(E,v){return!E||E.type!=="InferredPredicate"?!1:v==null||(0,n.default)(E,v)}function Ta(E,v){return!E||E.type!=="InterfaceExtends"?!1:v==null||(0,n.default)(E,v)}function ns(E,v){return!E||E.type!=="InterfaceDeclaration"?!1:v==null||(0,n.default)(E,v)}function Dr(E,v){return!E||E.type!=="InterfaceTypeAnnotation"?!1:v==null||(0,n.default)(E,v)}function Sa(E,v){return!E||E.type!=="IntersectionTypeAnnotation"?!1:v==null||(0,n.default)(E,v)}function Er(E,v){return!E||E.type!=="MixedTypeAnnotation"?!1:v==null||(0,n.default)(E,v)}function $s(E,v){return!E||E.type!=="EmptyTypeAnnotation"?!1:v==null||(0,n.default)(E,v)}function Rr(E,v){return!E||E.type!=="NullableTypeAnnotation"?!1:v==null||(0,n.default)(E,v)}function lo(E,v){return!E||E.type!=="NumberLiteralTypeAnnotation"?!1:v==null||(0,n.default)(E,v)}function Es(E,v){return!E||E.type!=="NumberTypeAnnotation"?!1:v==null||(0,n.default)(E,v)}function ci(E,v){return!E||E.type!=="ObjectTypeAnnotation"?!1:v==null||(0,n.default)(E,v)}function hs(E,v){return!E||E.type!=="ObjectTypeInternalSlot"?!1:v==null||(0,n.default)(E,v)}function ms(E,v){return!E||E.type!=="ObjectTypeCallProperty"?!1:v==null||(0,n.default)(E,v)}function Ri(E,v){return!E||E.type!=="ObjectTypeIndexer"?!1:v==null||(0,n.default)(E,v)}function uo(E,v){return!E||E.type!=="ObjectTypeProperty"?!1:v==null||(0,n.default)(E,v)}function Fi(E,v){return!E||E.type!=="ObjectTypeSpreadProperty"?!1:v==null||(0,n.default)(E,v)}function Ps(E,v){return!E||E.type!=="OpaqueType"?!1:v==null||(0,n.default)(E,v)}function pi(E,v){return!E||E.type!=="QualifiedTypeIdentifier"?!1:v==null||(0,n.default)(E,v)}function As(E,v){return!E||E.type!=="StringLiteralTypeAnnotation"?!1:v==null||(0,n.default)(E,v)}function Ns(E,v){return!E||E.type!=="StringTypeAnnotation"?!1:v==null||(0,n.default)(E,v)}function co(E,v){return!E||E.type!=="SymbolTypeAnnotation"?!1:v==null||(0,n.default)(E,v)}function hn(E,v){return!E||E.type!=="ThisTypeAnnotation"?!1:v==null||(0,n.default)(E,v)}function ol(E,v){return!E||E.type!=="TupleTypeAnnotation"?!1:v==null||(0,n.default)(E,v)}function ll(E,v){return!E||E.type!=="TypeofTypeAnnotation"?!1:v==null||(0,n.default)(E,v)}function po(E,v){return!E||E.type!=="TypeAlias"?!1:v==null||(0,n.default)(E,v)}function Bi(E,v){return!E||E.type!=="TypeAnnotation"?!1:v==null||(0,n.default)(E,v)}function fo(E,v){return!E||E.type!=="TypeCastExpression"?!1:v==null||(0,n.default)(E,v)}function ul(E,v){return!E||E.type!=="TypeParameter"?!1:v==null||(0,n.default)(E,v)}function ho(E,v){return!E||E.type!=="TypeParameterDeclaration"?!1:v==null||(0,n.default)(E,v)}function ba(E,v){return!E||E.type!=="TypeParameterInstantiation"?!1:v==null||(0,n.default)(E,v)}function _s(E,v){return!E||E.type!=="UnionTypeAnnotation"?!1:v==null||(0,n.default)(E,v)}function ys(E,v){return!E||E.type!=="Variance"?!1:v==null||(0,n.default)(E,v)}function Cs(E,v){return!E||E.type!=="VoidTypeAnnotation"?!1:v==null||(0,n.default)(E,v)}function Is(E,v){return!E||E.type!=="EnumDeclaration"?!1:v==null||(0,n.default)(E,v)}function Ms(E,v){return!E||E.type!=="EnumBooleanBody"?!1:v==null||(0,n.default)(E,v)}function rs(E,v){return!E||E.type!=="EnumNumberBody"?!1:v==null||(0,n.default)(E,v)}function su(E,v){return!E||E.type!=="EnumStringBody"?!1:v==null||(0,n.default)(E,v)}function wa(E,v){return!E||E.type!=="EnumSymbolBody"?!1:v==null||(0,n.default)(E,v)}function Vi(E,v){return!E||E.type!=="EnumBooleanMember"?!1:v==null||(0,n.default)(E,v)}function mo(E,v){return!E||E.type!=="EnumNumberMember"?!1:v==null||(0,n.default)(E,v)}function cl(E,v){return!E||E.type!=="EnumStringMember"?!1:v==null||(0,n.default)(E,v)}function ji(E,v){return!E||E.type!=="EnumDefaultedMember"?!1:v==null||(0,n.default)(E,v)}function Lt(E,v){return!E||E.type!=="IndexedAccessType"?!1:v==null||(0,n.default)(E,v)}function iu(E,v){return!E||E.type!=="OptionalIndexedAccessType"?!1:v==null||(0,n.default)(E,v)}function di(E,v){return!E||E.type!=="JSXAttribute"?!1:v==null||(0,n.default)(E,v)}function zi(E,v){return!E||E.type!=="JSXClosingElement"?!1:v==null||(0,n.default)(E,v)}function fi(E,v){return!E||E.type!=="JSXElement"?!1:v==null||(0,n.default)(E,v)}function Ea(E,v){return!E||E.type!=="JSXEmptyExpression"?!1:v==null||(0,n.default)(E,v)}function au(E,v){return!E||E.type!=="JSXExpressionContainer"?!1:v==null||(0,n.default)(E,v)}function pl(E,v){return!E||E.type!=="JSXSpreadChild"?!1:v==null||(0,n.default)(E,v)}function yo(E,v){return!E||E.type!=="JSXIdentifier"?!1:v==null||(0,n.default)(E,v)}function Ui(E,v){return!E||E.type!=="JSXMemberExpression"?!1:v==null||(0,n.default)(E,v)}function Pa(E,v){return!E||E.type!=="JSXNamespacedName"?!1:v==null||(0,n.default)(E,v)}function dl(E,v){return!E||E.type!=="JSXOpeningElement"?!1:v==null||(0,n.default)(E,v)}function ks(E,v){return!E||E.type!=="JSXSpreadAttribute"?!1:v==null||(0,n.default)(E,v)}function Aa(E,v){return!E||E.type!=="JSXText"?!1:v==null||(0,n.default)(E,v)}function qi(E,v){return!E||E.type!=="JSXFragment"?!1:v==null||(0,n.default)(E,v)}function fl(E,v){return!E||E.type!=="JSXOpeningFragment"?!1:v==null||(0,n.default)(E,v)}function $i(E,v){return!E||E.type!=="JSXClosingFragment"?!1:v==null||(0,n.default)(E,v)}function Na(E,v){return!E||E.type!=="Noop"?!1:v==null||(0,n.default)(E,v)}function hl(E,v){return!E||E.type!=="Placeholder"?!1:v==null||(0,n.default)(E,v)}function pr(E,v){return!E||E.type!=="V8IntrinsicIdentifier"?!1:v==null||(0,n.default)(E,v)}function hi(E,v){return!E||E.type!=="ArgumentPlaceholder"?!1:v==null||(0,n.default)(E,v)}function go(E,v){return!E||E.type!=="BindExpression"?!1:v==null||(0,n.default)(E,v)}function Ws(E,v){return!E||E.type!=="Decorator"?!1:v==null||(0,n.default)(E,v)}function ou(E,v){return!E||E.type!=="DoExpression"?!1:v==null||(0,n.default)(E,v)}function xo(E,v){return!E||E.type!=="ExportDefaultSpecifier"?!1:v==null||(0,n.default)(E,v)}function _a(E,v){return!E||E.type!=="RecordExpression"?!1:v==null||(0,n.default)(E,v)}function Wi(E,v){return!E||E.type!=="TupleExpression"?!1:v==null||(0,n.default)(E,v)}function Ca(E,v){return!E||E.type!=="DecimalLiteral"?!1:v==null||(0,n.default)(E,v)}function ml(E,v){return!E||E.type!=="ModuleExpression"?!1:v==null||(0,n.default)(E,v)}function lu(E,v){return!E||E.type!=="TopicReference"?!1:v==null||(0,n.default)(E,v)}function Hi(E,v){return!E||E.type!=="PipelineTopicExpression"?!1:v==null||(0,n.default)(E,v)}function yl(E,v){return!E||E.type!=="PipelineBareFunction"?!1:v==null||(0,n.default)(E,v)}function vo(E,v){return!E||E.type!=="PipelinePrimaryTopicReference"?!1:v==null||(0,n.default)(E,v)}function G(E,v){return!E||E.type!=="VoidPattern"?!1:v==null||(0,n.default)(E,v)}function y(E,v){return!E||E.type!=="TSParameterProperty"?!1:v==null||(0,n.default)(E,v)}function o(E,v){return!E||E.type!=="TSDeclareFunction"?!1:v==null||(0,n.default)(E,v)}function g(E,v){return!E||E.type!=="TSDeclareMethod"?!1:v==null||(0,n.default)(E,v)}function b(E,v){return!E||E.type!=="TSQualifiedName"?!1:v==null||(0,n.default)(E,v)}function k(E,v){return!E||E.type!=="TSCallSignatureDeclaration"?!1:v==null||(0,n.default)(E,v)}function ne(E,v){return!E||E.type!=="TSConstructSignatureDeclaration"?!1:v==null||(0,n.default)(E,v)}function le(E,v){return!E||E.type!=="TSPropertySignature"?!1:v==null||(0,n.default)(E,v)}function ye(E,v){return!E||E.type!=="TSMethodSignature"?!1:v==null||(0,n.default)(E,v)}function Pe(E,v){return!E||E.type!=="TSIndexSignature"?!1:v==null||(0,n.default)(E,v)}function Ie(E,v){return!E||E.type!=="TSAnyKeyword"?!1:v==null||(0,n.default)(E,v)}function Je(E,v){return!E||E.type!=="TSBooleanKeyword"?!1:v==null||(0,n.default)(E,v)}function mt(E,v){return!E||E.type!=="TSBigIntKeyword"?!1:v==null||(0,n.default)(E,v)}function bt(E,v){return!E||E.type!=="TSIntrinsicKeyword"?!1:v==null||(0,n.default)(E,v)}function Rt(E,v){return!E||E.type!=="TSNeverKeyword"?!1:v==null||(0,n.default)(E,v)}function yn(E,v){return!E||E.type!=="TSNullKeyword"?!1:v==null||(0,n.default)(E,v)}function Ln(E,v){return!E||E.type!=="TSNumberKeyword"?!1:v==null||(0,n.default)(E,v)}function nn(E,v){return!E||E.type!=="TSObjectKeyword"?!1:v==null||(0,n.default)(E,v)}function Cn(E,v){return!E||E.type!=="TSStringKeyword"?!1:v==null||(0,n.default)(E,v)}function Hs(E,v){return!E||E.type!=="TSSymbolKeyword"?!1:v==null||(0,n.default)(E,v)}function Os(E,v){return!E||E.type!=="TSUndefinedKeyword"?!1:v==null||(0,n.default)(E,v)}function gl(E,v){return!E||E.type!=="TSUnknownKeyword"?!1:v==null||(0,n.default)(E,v)}function Ia(E,v){return!E||E.type!=="TSVoidKeyword"?!1:v==null||(0,n.default)(E,v)}function mi(E,v){return!E||E.type!=="TSThisType"?!1:v==null||(0,n.default)(E,v)}function xl(E,v){return!E||E.type!=="TSFunctionType"?!1:v==null||(0,n.default)(E,v)}function To(E,v){return!E||E.type!=="TSConstructorType"?!1:v==null||(0,n.default)(E,v)}function So(E,v){return!E||E.type!=="TSTypeReference"?!1:v==null||(0,n.default)(E,v)}function bo(E,v){return!E||E.type!=="TSTypePredicate"?!1:v==null||(0,n.default)(E,v)}function wo(E,v){return!E||E.type!=="TSTypeQuery"?!1:v==null||(0,n.default)(E,v)}function Eo(E,v){return!E||E.type!=="TSTypeLiteral"?!1:v==null||(0,n.default)(E,v)}function Ks(E,v){return!E||E.type!=="TSArrayType"?!1:v==null||(0,n.default)(E,v)}function vl(E,v){return!E||E.type!=="TSTupleType"?!1:v==null||(0,n.default)(E,v)}function Tl(E,v){return!E||E.type!=="TSOptionalType"?!1:v==null||(0,n.default)(E,v)}function Sl(E,v){return!E||E.type!=="TSRestType"?!1:v==null||(0,n.default)(E,v)}function Po(E,v){return!E||E.type!=="TSNamedTupleMember"?!1:v==null||(0,n.default)(E,v)}function Ao(E,v){return!E||E.type!=="TSUnionType"?!1:v==null||(0,n.default)(E,v)}function yi(E,v){return!E||E.type!=="TSIntersectionType"?!1:v==null||(0,n.default)(E,v)}function gi(E,v){return!E||E.type!=="TSConditionalType"?!1:v==null||(0,n.default)(E,v)}function bl(E,v){return!E||E.type!=="TSInferType"?!1:v==null||(0,n.default)(E,v)}function Ki(E,v){return!E||E.type!=="TSParenthesizedType"?!1:v==null||(0,n.default)(E,v)}function wl(E,v){return!E||E.type!=="TSTypeOperator"?!1:v==null||(0,n.default)(E,v)}function No(E,v){return!E||E.type!=="TSIndexedAccessType"?!1:v==null||(0,n.default)(E,v)}function Ma(E,v){return!E||E.type!=="TSMappedType"?!1:v==null||(0,n.default)(E,v)}function ka(E,v){return!E||E.type!=="TSTemplateLiteralType"?!1:v==null||(0,n.default)(E,v)}function _o(E,v){return!E||E.type!=="TSLiteralType"?!1:v==null||(0,n.default)(E,v)}function Co(E,v){return!E||E.type!=="TSExpressionWithTypeArguments"?!1:v==null||(0,n.default)(E,v)}function Io(E,v){return!E||E.type!=="TSInterfaceDeclaration"?!1:v==null||(0,n.default)(E,v)}function El(E,v){return!E||E.type!=="TSInterfaceBody"?!1:v==null||(0,n.default)(E,v)}function Pl(E,v){return!E||E.type!=="TSTypeAliasDeclaration"?!1:v==null||(0,n.default)(E,v)}function Al(E,v){return!E||E.type!=="TSInstantiationExpression"?!1:v==null||(0,n.default)(E,v)}function Nl(E,v){return!E||E.type!=="TSAsExpression"?!1:v==null||(0,n.default)(E,v)}function op(E,v){return!E||E.type!=="TSSatisfiesExpression"?!1:v==null||(0,n.default)(E,v)}function gs(E,v){return!E||E.type!=="TSTypeAssertion"?!1:v==null||(0,n.default)(E,v)}function Mo(E,v){return!E||E.type!=="TSEnumBody"?!1:v==null||(0,n.default)(E,v)}function Qu(E,v){return!E||E.type!=="TSEnumDeclaration"?!1:v==null||(0,n.default)(E,v)}function ec(E,v){return!E||E.type!=="TSEnumMember"?!1:v==null||(0,n.default)(E,v)}function tc(E,v){return!E||E.type!=="TSModuleDeclaration"?!1:v==null||(0,n.default)(E,v)}function nc(E,v){return!E||E.type!=="TSModuleBlock"?!1:v==null||(0,n.default)(E,v)}function uu(E,v){return!E||E.type!=="TSImportType"?!1:v==null||(0,n.default)(E,v)}function lp(E,v){return!E||E.type!=="TSImportEqualsDeclaration"?!1:v==null||(0,n.default)(E,v)}function up(E,v){return!E||E.type!=="TSExternalModuleReference"?!1:v==null||(0,n.default)(E,v)}function Oa(E,v){return!E||E.type!=="TSNonNullExpression"?!1:v==null||(0,n.default)(E,v)}function cu(E,v){return!E||E.type!=="TSExportAssignment"?!1:v==null||(0,n.default)(E,v)}function ko(E,v){return!E||E.type!=="TSNamespaceExportDeclaration"?!1:v==null||(0,n.default)(E,v)}function pu(E,v){return!E||E.type!=="TSTypeAnnotation"?!1:v==null||(0,n.default)(E,v)}function rc(E,v){return!E||E.type!=="TSTypeParameterInstantiation"?!1:v==null||(0,n.default)(E,v)}function _l(E,v){return!E||E.type!=="TSTypeParameterDeclaration"?!1:v==null||(0,n.default)(E,v)}function La(E,v){return!E||E.type!=="TSTypeParameter"?!1:v==null||(0,n.default)(E,v)}function du(E,v){if(!E)return!1;switch(E.type){case"ArrayExpression":case"AssignmentExpression":case"BinaryExpression":case"InterpreterDirective":case"Directive":case"DirectiveLiteral":case"BlockStatement":case"BreakStatement":case"CallExpression":case"CatchClause":case"ConditionalExpression":case"ContinueStatement":case"DebuggerStatement":case"DoWhileStatement":case"EmptyStatement":case"ExpressionStatement":case"File":case"ForInStatement":case"ForStatement":case"FunctionDeclaration":case"FunctionExpression":case"Identifier":case"IfStatement":case"LabeledStatement":case"StringLiteral":case"NumericLiteral":case"NullLiteral":case"BooleanLiteral":case"RegExpLiteral":case"LogicalExpression":case"MemberExpression":case"NewExpression":case"Program":case"ObjectExpression":case"ObjectMethod":case"ObjectProperty":case"RestElement":case"ReturnStatement":case"SequenceExpression":case"ParenthesizedExpression":case"SwitchCase":case"SwitchStatement":case"ThisExpression":case"ThrowStatement":case"TryStatement":case"UnaryExpression":case"UpdateExpression":case"VariableDeclaration":case"VariableDeclarator":case"WhileStatement":case"WithStatement":case"AssignmentPattern":case"ArrayPattern":case"ArrowFunctionExpression":case"ClassBody":case"ClassExpression":case"ClassDeclaration":case"ExportAllDeclaration":case"ExportDefaultDeclaration":case"ExportNamedDeclaration":case"ExportSpecifier":case"ForOfStatement":case"ImportDeclaration":case"ImportDefaultSpecifier":case"ImportNamespaceSpecifier":case"ImportSpecifier":case"ImportExpression":case"MetaProperty":case"ClassMethod":case"ObjectPattern":case"SpreadElement":case"Super":case"TaggedTemplateExpression":case"TemplateElement":case"TemplateLiteral":case"YieldExpression":case"AwaitExpression":case"Import":case"BigIntLiteral":case"ExportNamespaceSpecifier":case"OptionalMemberExpression":case"OptionalCallExpression":case"ClassProperty":case"ClassAccessorProperty":case"ClassPrivateProperty":case"ClassPrivateMethod":case"PrivateName":case"StaticBlock":case"ImportAttribute":break;case"Placeholder":switch(E.expectedNode){case"Identifier":case"StringLiteral":case"BlockStatement":case"ClassBody":break;default:return!1}break;default:return!1}return v==null||(0,n.default)(E,v)}function sc(E,v){if(!E)return!1;switch(E.type){case"ArrayExpression":case"AssignmentExpression":case"BinaryExpression":case"CallExpression":case"ConditionalExpression":case"FunctionExpression":case"Identifier":case"StringLiteral":case"NumericLiteral":case"NullLiteral":case"BooleanLiteral":case"RegExpLiteral":case"LogicalExpression":case"MemberExpression":case"NewExpression":case"ObjectExpression":case"SequenceExpression":case"ParenthesizedExpression":case"ThisExpression":case"UnaryExpression":case"UpdateExpression":case"ArrowFunctionExpression":case"ClassExpression":case"ImportExpression":case"MetaProperty":case"Super":case"TaggedTemplateExpression":case"TemplateLiteral":case"YieldExpression":case"AwaitExpression":case"Import":case"BigIntLiteral":case"OptionalMemberExpression":case"OptionalCallExpression":case"TypeCastExpression":case"JSXElement":case"JSXFragment":case"BindExpression":case"DoExpression":case"RecordExpression":case"TupleExpression":case"DecimalLiteral":case"ModuleExpression":case"TopicReference":case"PipelineTopicExpression":case"PipelineBareFunction":case"PipelinePrimaryTopicReference":case"TSInstantiationExpression":case"TSAsExpression":case"TSSatisfiesExpression":case"TSTypeAssertion":case"TSNonNullExpression":break;case"Placeholder":switch(E.expectedNode){case"Expression":case"Identifier":case"StringLiteral":break;default:return!1}break;default:return!1}return v==null||(0,n.default)(E,v)}function Cl(E,v){if(!E)return!1;switch(E.type){case"BinaryExpression":case"LogicalExpression":break;default:return!1}return v==null||(0,n.default)(E,v)}function ic(E,v){if(!E)return!1;switch(E.type){case"BlockStatement":case"CatchClause":case"DoWhileStatement":case"ForInStatement":case"ForStatement":case"FunctionDeclaration":case"FunctionExpression":case"Program":case"ObjectMethod":case"SwitchStatement":case"WhileStatement":case"ArrowFunctionExpression":case"ClassExpression":case"ClassDeclaration":case"ForOfStatement":case"ClassMethod":case"ClassPrivateMethod":case"StaticBlock":case"TSModuleBlock":break;case"Placeholder":if(E.expectedNode==="BlockStatement")break;default:return!1}return v==null||(0,n.default)(E,v)}function ac(E,v){if(!E)return!1;switch(E.type){case"BlockStatement":case"CatchClause":case"DoWhileStatement":case"ForInStatement":case"ForStatement":case"FunctionDeclaration":case"FunctionExpression":case"Program":case"ObjectMethod":case"SwitchStatement":case"WhileStatement":case"ArrowFunctionExpression":case"ForOfStatement":case"ClassMethod":case"ClassPrivateMethod":case"StaticBlock":case"TSModuleBlock":break;case"Placeholder":if(E.expectedNode==="BlockStatement")break;default:return!1}return v==null||(0,n.default)(E,v)}function oc(E,v){if(!E)return!1;switch(E.type){case"BlockStatement":case"Program":case"TSModuleBlock":break;case"Placeholder":if(E.expectedNode==="BlockStatement")break;default:return!1}return v==null||(0,n.default)(E,v)}function lc(E,v){if(!E)return!1;switch(E.type){case"BlockStatement":case"BreakStatement":case"ContinueStatement":case"DebuggerStatement":case"DoWhileStatement":case"EmptyStatement":case"ExpressionStatement":case"ForInStatement":case"ForStatement":case"FunctionDeclaration":case"IfStatement":case"LabeledStatement":case"ReturnStatement":case"SwitchStatement":case"ThrowStatement":case"TryStatement":case"VariableDeclaration":case"WhileStatement":case"WithStatement":case"ClassDeclaration":case"ExportAllDeclaration":case"ExportDefaultDeclaration":case"ExportNamedDeclaration":case"ForOfStatement":case"ImportDeclaration":case"DeclareClass":case"DeclareFunction":case"DeclareInterface":case"DeclareModule":case"DeclareModuleExports":case"DeclareTypeAlias":case"DeclareOpaqueType":case"DeclareVariable":case"DeclareExportDeclaration":case"DeclareExportAllDeclaration":case"InterfaceDeclaration":case"OpaqueType":case"TypeAlias":case"EnumDeclaration":case"TSDeclareFunction":case"TSInterfaceDeclaration":case"TSTypeAliasDeclaration":case"TSEnumDeclaration":case"TSModuleDeclaration":case"TSImportEqualsDeclaration":case"TSExportAssignment":case"TSNamespaceExportDeclaration":break;case"Placeholder":switch(E.expectedNode){case"Statement":case"Declaration":case"BlockStatement":break;default:return!1}break;default:return!1}return v==null||(0,n.default)(E,v)}function V(E,v){if(!E)return!1;switch(E.type){case"BreakStatement":case"ContinueStatement":case"ReturnStatement":case"ThrowStatement":case"YieldExpression":case"AwaitExpression":break;default:return!1}return v==null||(0,n.default)(E,v)}function z(E,v){if(!E)return!1;switch(E.type){case"BreakStatement":case"ContinueStatement":case"ReturnStatement":case"ThrowStatement":break;default:return!1}return v==null||(0,n.default)(E,v)}function $(E,v){if(!E)return!1;switch(E.type){case"ConditionalExpression":case"IfStatement":break;default:return!1}return v==null||(0,n.default)(E,v)}function ie(E,v){if(!E)return!1;switch(E.type){case"DoWhileStatement":case"ForInStatement":case"ForStatement":case"WhileStatement":case"ForOfStatement":break;default:return!1}return v==null||(0,n.default)(E,v)}function Te(E,v){if(!E)return!1;switch(E.type){case"DoWhileStatement":case"WhileStatement":break;default:return!1}return v==null||(0,n.default)(E,v)}function ze(E,v){if(!E)return!1;switch(E.type){case"ExpressionStatement":case"ParenthesizedExpression":case"TypeCastExpression":break;default:return!1}return v==null||(0,n.default)(E,v)}function Ut(E,v){if(!E)return!1;switch(E.type){case"ForInStatement":case"ForStatement":case"ForOfStatement":break;default:return!1}return v==null||(0,n.default)(E,v)}function In(E,v){if(!E)return!1;switch(E.type){case"ForInStatement":case"ForOfStatement":break;default:return!1}return v==null||(0,n.default)(E,v)}function dr(E,v){if(!E)return!1;switch(E.type){case"FunctionDeclaration":case"FunctionExpression":case"ObjectMethod":case"ArrowFunctionExpression":case"ClassMethod":case"ClassPrivateMethod":break;default:return!1}return v==null||(0,n.default)(E,v)}function Xs(E,v){if(!E)return!1;switch(E.type){case"FunctionDeclaration":case"FunctionExpression":case"ObjectMethod":case"ArrowFunctionExpression":case"ClassMethod":case"ClassPrivateMethod":case"StaticBlock":case"TSModuleBlock":break;default:return!1}return v==null||(0,n.default)(E,v)}function pd(E,v){if(!E)return!1;switch(E.type){case"FunctionDeclaration":case"FunctionExpression":case"StringLiteral":case"NumericLiteral":case"NullLiteral":case"BooleanLiteral":case"RegExpLiteral":case"ArrowFunctionExpression":case"BigIntLiteral":case"DecimalLiteral":break;case"Placeholder":if(E.expectedNode==="StringLiteral")break;default:return!1}return v==null||(0,n.default)(E,v)}function qn(E,v){if(!E)return!1;switch(E.type){case"FunctionDeclaration":case"VariableDeclaration":case"ClassDeclaration":case"ExportAllDeclaration":case"ExportDefaultDeclaration":case"ExportNamedDeclaration":case"ImportDeclaration":case"DeclareClass":case"DeclareFunction":case"DeclareInterface":case"DeclareModule":case"DeclareModuleExports":case"DeclareTypeAlias":case"DeclareOpaqueType":case"DeclareVariable":case"DeclareExportDeclaration":case"DeclareExportAllDeclaration":case"InterfaceDeclaration":case"OpaqueType":case"TypeAlias":case"EnumDeclaration":case"TSDeclareFunction":case"TSInterfaceDeclaration":case"TSTypeAliasDeclaration":case"TSEnumDeclaration":case"TSModuleDeclaration":case"TSImportEqualsDeclaration":break;case"Placeholder":if(E.expectedNode==="Declaration")break;default:return!1}return v==null||(0,n.default)(E,v)}function cp(E,v){if(!E)return!1;switch(E.type){case"Identifier":case"RestElement":case"AssignmentPattern":case"ArrayPattern":case"ObjectPattern":case"VoidPattern":break;case"Placeholder":if(E.expectedNode==="Identifier")break;default:return!1}return v==null||(0,n.default)(E,v)}function uc(E,v){if(!E)return!1;switch(E.type){case"Identifier":case"MemberExpression":case"RestElement":case"AssignmentPattern":case"ArrayPattern":case"ObjectPattern":case"VoidPattern":case"TSAsExpression":case"TSSatisfiesExpression":case"TSTypeAssertion":case"TSNonNullExpression":break;case"Placeholder":switch(E.expectedNode){case"Pattern":case"Identifier":break;default:return!1}break;default:return!1}return v==null||(0,n.default)(E,v)}function fu(E,v){if(!E)return!1;switch(E.type){case"Identifier":case"MemberExpression":case"RestElement":case"AssignmentPattern":case"ArrayPattern":case"ObjectPattern":case"TSParameterProperty":case"TSAsExpression":case"TSSatisfiesExpression":case"TSTypeAssertion":case"TSNonNullExpression":break;case"Placeholder":switch(E.expectedNode){case"Pattern":case"Identifier":break;default:return!1}break;default:return!1}return v==null||(0,n.default)(E,v)}function dd(E,v){if(!E)return!1;switch(E.type){case"Identifier":case"TSQualifiedName":break;case"Placeholder":if(E.expectedNode==="Identifier")break;default:return!1}return v==null||(0,n.default)(E,v)}function pp(E,v){if(!E)return!1;switch(E.type){case"StringLiteral":case"NumericLiteral":case"NullLiteral":case"BooleanLiteral":case"RegExpLiteral":case"TemplateLiteral":case"BigIntLiteral":case"DecimalLiteral":break;case"Placeholder":if(E.expectedNode==="StringLiteral")break;default:return!1}return v==null||(0,n.default)(E,v)}function hu(E,v){if(!E)return!1;switch(E.type){case"StringLiteral":case"NumericLiteral":case"NullLiteral":case"BooleanLiteral":case"BigIntLiteral":case"JSXAttribute":case"JSXClosingElement":case"JSXElement":case"JSXExpressionContainer":case"JSXSpreadChild":case"JSXOpeningElement":case"JSXText":case"JSXFragment":case"JSXOpeningFragment":case"JSXClosingFragment":case"DecimalLiteral":break;case"Placeholder":if(E.expectedNode==="StringLiteral")break;default:return!1}return v==null||(0,n.default)(E,v)}function cc(E,v){if(!E)return!1;switch(E.type){case"ObjectMethod":case"ObjectProperty":case"ObjectTypeInternalSlot":case"ObjectTypeCallProperty":case"ObjectTypeIndexer":case"ObjectTypeProperty":case"ObjectTypeSpreadProperty":break;default:return!1}return v==null||(0,n.default)(E,v)}function Il(E,v){if(!E)return!1;switch(E.type){case"ObjectMethod":case"ClassMethod":case"ClassPrivateMethod":break;default:return!1}return v==null||(0,n.default)(E,v)}function fd(E,v){if(!E)return!1;switch(E.type){case"ObjectMethod":case"ObjectProperty":break;default:return!1}return v==null||(0,n.default)(E,v)}function Uf(E,v){if(!E)return!1;switch(E.type){case"ObjectProperty":case"ClassProperty":case"ClassAccessorProperty":case"ClassPrivateProperty":break;default:return!1}return v==null||(0,n.default)(E,v)}function qf(E,v){if(!E)return!1;switch(E.type){case"UnaryExpression":case"SpreadElement":break;default:return!1}return v==null||(0,n.default)(E,v)}function hd(E,v){if(!E)return!1;switch(E.type){case"AssignmentPattern":case"ArrayPattern":case"ObjectPattern":case"VoidPattern":break;case"Placeholder":if(E.expectedNode==="Pattern")break;default:return!1}return v==null||(0,n.default)(E,v)}function pc(E,v){if(!E)return!1;switch(E.type){case"ClassExpression":case"ClassDeclaration":break;default:return!1}return v==null||(0,n.default)(E,v)}function mu(E,v){if(!E)return!1;switch(E.type){case"ExportAllDeclaration":case"ExportDefaultDeclaration":case"ExportNamedDeclaration":case"ImportDeclaration":break;default:return!1}return v==null||(0,n.default)(E,v)}function dp(E,v){if(!E)return!1;switch(E.type){case"ExportAllDeclaration":case"ExportDefaultDeclaration":case"ExportNamedDeclaration":break;default:return!1}return v==null||(0,n.default)(E,v)}function fp(E,v){if(!E)return!1;switch(E.type){case"ExportSpecifier":case"ImportDefaultSpecifier":case"ImportNamespaceSpecifier":case"ImportSpecifier":case"ExportNamespaceSpecifier":case"ExportDefaultSpecifier":break;default:return!1}return v==null||(0,n.default)(E,v)}function hp(E,v){if(!E)return!1;switch(E.type){case"ClassAccessorProperty":break;default:return!1}return v==null||(0,n.default)(E,v)}function mp(E,v){if(!E)return!1;switch(E.type){case"ClassPrivateProperty":case"ClassPrivateMethod":case"PrivateName":break;default:return!1}return v==null||(0,n.default)(E,v)}function $f(E,v){if(!E)return!1;switch(E.type){case"AnyTypeAnnotation":case"ArrayTypeAnnotation":case"BooleanTypeAnnotation":case"BooleanLiteralTypeAnnotation":case"NullLiteralTypeAnnotation":case"ClassImplements":case"DeclareClass":case"DeclareFunction":case"DeclareInterface":case"DeclareModule":case"DeclareModuleExports":case"DeclareTypeAlias":case"DeclareOpaqueType":case"DeclareVariable":case"DeclareExportDeclaration":case"DeclareExportAllDeclaration":case"DeclaredPredicate":case"ExistsTypeAnnotation":case"FunctionTypeAnnotation":case"FunctionTypeParam":case"GenericTypeAnnotation":case"InferredPredicate":case"InterfaceExtends":case"InterfaceDeclaration":case"InterfaceTypeAnnotation":case"IntersectionTypeAnnotation":case"MixedTypeAnnotation":case"EmptyTypeAnnotation":case"NullableTypeAnnotation":case"NumberLiteralTypeAnnotation":case"NumberTypeAnnotation":case"ObjectTypeAnnotation":case"ObjectTypeInternalSlot":case"ObjectTypeCallProperty":case"ObjectTypeIndexer":case"ObjectTypeProperty":case"ObjectTypeSpreadProperty":case"OpaqueType":case"QualifiedTypeIdentifier":case"StringLiteralTypeAnnotation":case"StringTypeAnnotation":case"SymbolTypeAnnotation":case"ThisTypeAnnotation":case"TupleTypeAnnotation":case"TypeofTypeAnnotation":case"TypeAlias":case"TypeAnnotation":case"TypeCastExpression":case"TypeParameter":case"TypeParameterDeclaration":case"TypeParameterInstantiation":case"UnionTypeAnnotation":case"Variance":case"VoidTypeAnnotation":case"EnumDeclaration":case"EnumBooleanBody":case"EnumNumberBody":case"EnumStringBody":case"EnumSymbolBody":case"EnumBooleanMember":case"EnumNumberMember":case"EnumStringMember":case"EnumDefaultedMember":case"IndexedAccessType":case"OptionalIndexedAccessType":break;default:return!1}return v==null||(0,n.default)(E,v)}function md(E,v){if(!E)return!1;switch(E.type){case"AnyTypeAnnotation":case"ArrayTypeAnnotation":case"BooleanTypeAnnotation":case"BooleanLiteralTypeAnnotation":case"NullLiteralTypeAnnotation":case"ExistsTypeAnnotation":case"FunctionTypeAnnotation":case"GenericTypeAnnotation":case"InterfaceTypeAnnotation":case"IntersectionTypeAnnotation":case"MixedTypeAnnotation":case"EmptyTypeAnnotation":case"NullableTypeAnnotation":case"NumberLiteralTypeAnnotation":case"NumberTypeAnnotation":case"ObjectTypeAnnotation":case"StringLiteralTypeAnnotation":case"StringTypeAnnotation":case"SymbolTypeAnnotation":case"ThisTypeAnnotation":case"TupleTypeAnnotation":case"TypeofTypeAnnotation":case"UnionTypeAnnotation":case"VoidTypeAnnotation":case"IndexedAccessType":case"OptionalIndexedAccessType":break;default:return!1}return v==null||(0,n.default)(E,v)}function Wf(E,v){if(!E)return!1;switch(E.type){case"AnyTypeAnnotation":case"BooleanTypeAnnotation":case"NullLiteralTypeAnnotation":case"MixedTypeAnnotation":case"EmptyTypeAnnotation":case"NumberTypeAnnotation":case"StringTypeAnnotation":case"SymbolTypeAnnotation":case"ThisTypeAnnotation":case"VoidTypeAnnotation":break;default:return!1}return v==null||(0,n.default)(E,v)}function Hf(E,v){if(!E)return!1;switch(E.type){case"DeclareClass":case"DeclareFunction":case"DeclareInterface":case"DeclareModule":case"DeclareModuleExports":case"DeclareTypeAlias":case"DeclareOpaqueType":case"DeclareVariable":case"DeclareExportDeclaration":case"DeclareExportAllDeclaration":case"InterfaceDeclaration":case"OpaqueType":case"TypeAlias":break;default:return!1}return v==null||(0,n.default)(E,v)}function yp(E,v){if(!E)return!1;switch(E.type){case"DeclaredPredicate":case"InferredPredicate":break;default:return!1}return v==null||(0,n.default)(E,v)}function Da(E,v){if(!E)return!1;switch(E.type){case"EnumBooleanBody":case"EnumNumberBody":case"EnumStringBody":case"EnumSymbolBody":break;default:return!1}return v==null||(0,n.default)(E,v)}function yd(E,v){if(!E)return!1;switch(E.type){case"EnumBooleanMember":case"EnumNumberMember":case"EnumStringMember":case"EnumDefaultedMember":break;default:return!1}return v==null||(0,n.default)(E,v)}function Ml(E,v){if(!E)return!1;switch(E.type){case"JSXAttribute":case"JSXClosingElement":case"JSXElement":case"JSXEmptyExpression":case"JSXExpressionContainer":case"JSXSpreadChild":case"JSXIdentifier":case"JSXMemberExpression":case"JSXNamespacedName":case"JSXOpeningElement":case"JSXSpreadAttribute":case"JSXText":case"JSXFragment":case"JSXOpeningFragment":case"JSXClosingFragment":break;default:return!1}return v==null||(0,n.default)(E,v)}function xi(E,v){if(!E)return!1;switch(E.type){case"Noop":case"Placeholder":case"V8IntrinsicIdentifier":break;default:return!1}return v==null||(0,n.default)(E,v)}function yu(E,v){if(!E)return!1;switch(E.type){case"TSParameterProperty":case"TSDeclareFunction":case"TSDeclareMethod":case"TSQualifiedName":case"TSCallSignatureDeclaration":case"TSConstructSignatureDeclaration":case"TSPropertySignature":case"TSMethodSignature":case"TSIndexSignature":case"TSAnyKeyword":case"TSBooleanKeyword":case"TSBigIntKeyword":case"TSIntrinsicKeyword":case"TSNeverKeyword":case"TSNullKeyword":case"TSNumberKeyword":case"TSObjectKeyword":case"TSStringKeyword":case"TSSymbolKeyword":case"TSUndefinedKeyword":case"TSUnknownKeyword":case"TSVoidKeyword":case"TSThisType":case"TSFunctionType":case"TSConstructorType":case"TSTypeReference":case"TSTypePredicate":case"TSTypeQuery":case"TSTypeLiteral":case"TSArrayType":case"TSTupleType":case"TSOptionalType":case"TSRestType":case"TSNamedTupleMember":case"TSUnionType":case"TSIntersectionType":case"TSConditionalType":case"TSInferType":case"TSParenthesizedType":case"TSTypeOperator":case"TSIndexedAccessType":case"TSMappedType":case"TSTemplateLiteralType":case"TSLiteralType":case"TSExpressionWithTypeArguments":case"TSInterfaceDeclaration":case"TSInterfaceBody":case"TSTypeAliasDeclaration":case"TSInstantiationExpression":case"TSAsExpression":case"TSSatisfiesExpression":case"TSTypeAssertion":case"TSEnumBody":case"TSEnumDeclaration":case"TSEnumMember":case"TSModuleDeclaration":case"TSModuleBlock":case"TSImportType":case"TSImportEqualsDeclaration":case"TSExternalModuleReference":case"TSNonNullExpression":case"TSExportAssignment":case"TSNamespaceExportDeclaration":case"TSTypeAnnotation":case"TSTypeParameterInstantiation":case"TSTypeParameterDeclaration":case"TSTypeParameter":break;default:return!1}return v==null||(0,n.default)(E,v)}function Xi(E,v){if(!E)return!1;switch(E.type){case"TSCallSignatureDeclaration":case"TSConstructSignatureDeclaration":case"TSPropertySignature":case"TSMethodSignature":case"TSIndexSignature":break;default:return!1}return v==null||(0,n.default)(E,v)}function gp(E,v){if(!E)return!1;switch(E.type){case"TSAnyKeyword":case"TSBooleanKeyword":case"TSBigIntKeyword":case"TSIntrinsicKeyword":case"TSNeverKeyword":case"TSNullKeyword":case"TSNumberKeyword":case"TSObjectKeyword":case"TSStringKeyword":case"TSSymbolKeyword":case"TSUndefinedKeyword":case"TSUnknownKeyword":case"TSVoidKeyword":case"TSThisType":case"TSFunctionType":case"TSConstructorType":case"TSTypeReference":case"TSTypePredicate":case"TSTypeQuery":case"TSTypeLiteral":case"TSArrayType":case"TSTupleType":case"TSOptionalType":case"TSRestType":case"TSUnionType":case"TSIntersectionType":case"TSConditionalType":case"TSInferType":case"TSParenthesizedType":case"TSTypeOperator":case"TSIndexedAccessType":case"TSMappedType":case"TSTemplateLiteralType":case"TSLiteralType":case"TSExpressionWithTypeArguments":case"TSImportType":break;default:return!1}return v==null||(0,n.default)(E,v)}function Kf(E,v){if(!E)return!1;switch(E.type){case"TSAnyKeyword":case"TSBooleanKeyword":case"TSBigIntKeyword":case"TSIntrinsicKeyword":case"TSNeverKeyword":case"TSNullKeyword":case"TSNumberKeyword":case"TSObjectKeyword":case"TSStringKeyword":case"TSSymbolKeyword":case"TSUndefinedKeyword":case"TSUnknownKeyword":case"TSVoidKeyword":case"TSThisType":case"TSTemplateLiteralType":case"TSLiteralType":break;default:return!1}return v==null||(0,n.default)(E,v)}function Xf(E,v){return(0,e.default)("isNumberLiteral","isNumericLiteral"),!E||E.type!=="NumberLiteral"?!1:v==null||(0,n.default)(E,v)}function Oo(E,v){return(0,e.default)("isRegexLiteral","isRegExpLiteral"),!E||E.type!=="RegexLiteral"?!1:v==null||(0,n.default)(E,v)}function gu(E,v){return(0,e.default)("isRestProperty","isRestElement"),!E||E.type!=="RestProperty"?!1:v==null||(0,n.default)(E,v)}function kl(E,v){return(0,e.default)("isSpreadProperty","isSpreadElement"),!E||E.type!=="SpreadProperty"?!1:v==null||(0,n.default)(E,v)}function dc(E,v){return(0,e.default)("isModuleDeclaration","isImportOrExportDeclaration"),mu(E,v)}return ge}var sI;function O4(){if(sI)return Vg;sI=1,Object.defineProperty(Vg,"__esModule",{value:!0}),Vg.default=t;var n=Or();function e(r){return(0,n.isMemberExpression)(r)||(0,n.isMetaProperty)(r)}function t(r,s,i){if(!e(r))return!1;const a=Array.isArray(s)?s:s.split("."),l=[];let c;for(c=r;e(c);c=(p=c.object)!=null?p:c.meta){var p;l.push(c.property)}if(l.push(c),l.length<a.length||!i&&l.length>a.length)return!1;for(let d=0,h=l.length-1;d<a.length;d++,h--){const m=l[h];let x;if((0,n.isIdentifier)(m))x=m.name;else if((0,n.isStringLiteral)(m))x=m.value;else if((0,n.isThisExpression)(m))x="this";else if((0,n.isSuper)(m))x="super";else if((0,n.isPrivateName)(m))x="#"+m.id.name;else return!1;if(a[d]!==x)return!1}return!0}return Vg}var iI;function L4(){if(iI)return Bg;iI=1,Object.defineProperty(Bg,"__esModule",{value:!0}),Bg.default=e;var n=O4();function e(t,r){const s=t.split(".");return i=>(0,n.default)(i,s,r)}return Bg}var aI;function fre(){if(aI)return Ch;aI=1,Object.defineProperty(Ch,"__esModule",{value:!0}),Ch.default=void 0;var n=L4();const e=(0,n.default)("React.Component");return Ch.default=e,Ch}var Ug={},oI;function hre(){if(oI)return Ug;oI=1,Object.defineProperty(Ug,"__esModule",{value:!0}),Ug.default=n;function n(e){return!!e&&/^[a-z]/.test(e)}return Ug}var qg={},$g={},Sb={},fe={},Dp={},bb={},Xr={},Wg={},Hg={},lI;function hP(){if(lI)return Hg;lI=1,Object.defineProperty(Hg,"__esModule",{value:!0}),Hg.default=e;var n=il();function e(t,r){if(t===r)return!0;if(t==null||n.ALIAS_KEYS[r])return!1;const s=n.FLIPPED_ALIAS_KEYS[r];return!!(s!=null&&s.includes(t))}return Hg}var Kg={},uI;function D4(){if(uI)return Kg;uI=1,Object.defineProperty(Kg,"__esModule",{value:!0}),Kg.default=e;var n=il();function e(t,r){if(t===r)return!0;const s=n.PLACEHOLDERS_ALIAS[t];return!!(s!=null&&s.includes(r))}return Kg}var cI;function Gm(){if(cI)return Wg;cI=1,Object.defineProperty(Wg,"__esModule",{value:!0}),Wg.default=s;var n=fP(),e=hP(),t=D4(),r=il();function s(i,a,l){return a?(0,e.default)(a.type,i)?l===void 0?!0:(0,n.default)(a,l):!l&&a.type==="Placeholder"&&i in r.FLIPPED_ALIAS_KEYS?(0,t.default)(a.expectedNode,i):!1:!1}return Wg}var Xg={},wb={},Yd={},pI;function mre(){if(pI)return Yd;pI=1,Object.defineProperty(Yd,"__esModule",{value:!0}),Yd.isIdentifierChar=c,Yd.isIdentifierName=p,Yd.isIdentifierStart=l;let n="------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------",e="------------------------------------------------------------------------------------------------------------------------------------------------------";const t=new RegExp("["+n+"]"),r=new RegExp("["+n+e+"]");n=e=null;const s=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,13,10,2,14,2,6,2,1,2,10,2,14,2,6,2,1,4,51,13,310,10,21,11,7,25,5,2,41,2,8,70,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,7,25,39,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,39,27,10,22,251,41,7,1,17,5,57,28,11,0,9,21,43,17,47,20,28,22,13,52,58,1,3,0,14,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,20,1,64,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,31,9,2,0,3,0,2,37,2,0,26,0,2,0,45,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,38,6,186,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,19,72,200,32,32,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,24,43,261,18,16,0,2,12,2,33,125,0,80,921,103,110,18,195,2637,96,16,1071,18,5,26,3994,6,582,6842,29,1763,568,8,30,18,78,18,29,19,47,17,3,32,20,6,18,433,44,212,63,33,24,3,24,45,74,6,0,67,12,65,1,2,0,15,4,10,7381,42,31,98,114,8702,3,2,6,2,1,2,290,16,0,30,2,3,0,15,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,1845,30,7,5,262,61,147,44,11,6,17,0,322,29,19,43,485,27,229,29,3,0,208,30,2,2,2,1,2,6,3,4,10,1,225,6,2,3,2,1,2,14,2,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42719,33,4381,3,5773,3,7472,16,621,2467,541,1507,4938,6,8489],i=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,7,9,32,4,318,1,78,5,71,10,50,3,123,2,54,14,32,10,3,1,11,3,46,10,8,0,46,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,3,0,158,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,68,8,2,0,3,0,2,3,2,4,2,0,15,1,83,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,7,19,58,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,199,7,137,9,54,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,55,9,266,3,10,1,2,0,49,6,4,4,14,10,5350,0,7,14,11465,27,2343,9,87,9,39,4,60,6,26,9,535,9,470,0,2,54,8,3,82,0,12,1,19628,1,4178,9,519,45,3,22,543,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,101,0,161,6,10,9,357,0,62,13,499,13,245,1,2,9,233,0,3,0,8,1,6,0,475,6,110,6,6,9,4759,9,787719,239];function a(d,h){let m=65536;for(let x=0,w=h.length;x<w;x+=2){if(m+=h[x],m>d)return!1;if(m+=h[x+1],m>=d)return!0}return!1}function l(d){return d<65?d===36:d<=90?!0:d<97?d===95:d<=122?!0:d<=65535?d>=170&&t.test(String.fromCharCode(d)):a(d,s)}function c(d){return d<48?d===36:d<58?!0:d<65?!1:d<=90?!0:d<97?d===95:d<=122?!0:d<=65535?d>=170&&r.test(String.fromCharCode(d)):a(d,s)||a(d,i)}function p(d){let h=!0;for(let m=0;m<d.length;m++){let x=d.charCodeAt(m);if((x&64512)===55296&&m+1<d.length){const w=d.charCodeAt(++m);(w&64512)===56320&&(x=65536+((x&1023)<<10)+(w&1023))}if(h){if(h=!1,!l(x))return!1}else if(!c(x))return!1}return!h}return Yd}var Lc={},dI;function yre(){if(dI)return Lc;dI=1,Object.defineProperty(Lc,"__esModule",{value:!0}),Lc.isKeyword=c,Lc.isReservedWord=s,Lc.isStrictBindOnlyReservedWord=a,Lc.isStrictBindReservedWord=l,Lc.isStrictReservedWord=i;const n={keyword:["break","case","catch","continue","debugger","default","do","else","finally","for","function","if","return","switch","throw","try","var","const","while","with","new","this","super","class","extends","export","import","null","true","false","in","instanceof","typeof","void","delete"],strict:["implements","interface","let","package","private","protected","public","static","yield"],strictBind:["eval","arguments"]},e=new Set(n.keyword),t=new Set(n.strict),r=new Set(n.strictBind);function s(p,d){return d&&p==="await"||p==="enum"}function i(p,d){return s(p,d)||t.has(p)}function a(p){return r.has(p)}function l(p,d){return i(p,d)||a(p)}function c(p){return e.has(p)}return Lc}var fI;function Lv(){return fI||(fI=1,(function(n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"isIdentifierChar",{enumerable:!0,get:function(){return e.isIdentifierChar}}),Object.defineProperty(n,"isIdentifierName",{enumerable:!0,get:function(){return e.isIdentifierName}}),Object.defineProperty(n,"isIdentifierStart",{enumerable:!0,get:function(){return e.isIdentifierStart}}),Object.defineProperty(n,"isKeyword",{enumerable:!0,get:function(){return t.isKeyword}}),Object.defineProperty(n,"isReservedWord",{enumerable:!0,get:function(){return t.isReservedWord}}),Object.defineProperty(n,"isStrictBindOnlyReservedWord",{enumerable:!0,get:function(){return t.isStrictBindOnlyReservedWord}}),Object.defineProperty(n,"isStrictBindReservedWord",{enumerable:!0,get:function(){return t.isStrictBindReservedWord}}),Object.defineProperty(n,"isStrictReservedWord",{enumerable:!0,get:function(){return t.isStrictReservedWord}});var e=mre(),t=yre()})(wb)),wb}var hI;function Ym(){if(hI)return Xg;hI=1,Object.defineProperty(Xg,"__esModule",{value:!0}),Xg.default=e;var n=Lv();function e(t,r=!0){return typeof t!="string"||r&&((0,n.isKeyword)(t)||(0,n.isStrictReservedWord)(t,!0))?!1:(0,n.isIdentifierName)(t)}return Xg}var Jd={},mI;function gre(){if(mI)return Jd;mI=1,Object.defineProperty(Jd,"__esModule",{value:!0}),Jd.readCodePoint=c,Jd.readInt=l,Jd.readStringContents=r;var n=function(d){return d>=48&&d<=57};const e={decBinOct:new Set([46,66,69,79,95,98,101,111]),hex:new Set([46,88,95,120])},t={bin:p=>p===48||p===49,oct:p=>p>=48&&p<=55,dec:p=>p>=48&&p<=57,hex:p=>p>=48&&p<=57||p>=65&&p<=70||p>=97&&p<=102};function r(p,d,h,m,x,w){const A=h,P=m,S=x;let C="",I=null,_=h;const{length:D}=d;for(;;){if(h>=D){w.unterminated(A,P,S),C+=d.slice(_,h);break}const F=d.charCodeAt(h);if(s(p,F,d,h)){C+=d.slice(_,h);break}if(F===92){C+=d.slice(_,h);const O=i(d,h,m,x,p==="template",w);O.ch===null&&!I?I={pos:h,lineStart:m,curLine:x}:C+=O.ch,{pos:h,lineStart:m,curLine:x}=O,_=h}else F===8232||F===8233?(++h,++x,m=h):F===10||F===13?p==="template"?(C+=d.slice(_,h)+`
`,++h,F===13&&d.charCodeAt(h)===10&&++h,++x,_=m=h):w.unterminated(A,P,S):++h}return{pos:h,str:C,firstInvalidLoc:I,lineStart:m,curLine:x,containsInvalid:!!I}}function s(p,d,h,m){return p==="template"?d===96||d===36&&h.charCodeAt(m+1)===123:d===(p==="double"?34:39)}function i(p,d,h,m,x,w){const A=!x;d++;const P=C=>({pos:d,ch:C,lineStart:h,curLine:m}),S=p.charCodeAt(d++);switch(S){case 110:return P(`
`);case 114:return P("\r");case 120:{let C;return{code:C,pos:d}=a(p,d,h,m,2,!1,A,w),P(C===null?null:String.fromCharCode(C))}case 117:{let C;return{code:C,pos:d}=c(p,d,h,m,A,w),P(C===null?null:String.fromCodePoint(C))}case 116:return P("	");case 98:return P("\b");case 118:return P("\v");case 102:return P("\f");case 13:p.charCodeAt(d)===10&&++d;case 10:h=d,++m;case 8232:case 8233:return P("");case 56:case 57:if(x)return P(null);w.strictNumericEscape(d-1,h,m);default:if(S>=48&&S<=55){const C=d-1;let _=/^[0-7]+/.exec(p.slice(C,d+2))[0],D=parseInt(_,8);D>255&&(_=_.slice(0,-1),D=parseInt(_,8)),d+=_.length-1;const F=p.charCodeAt(d);if(_!=="0"||F===56||F===57){if(x)return P(null);w.strictNumericEscape(C,h,m)}return P(String.fromCharCode(D))}return P(String.fromCharCode(S))}}function a(p,d,h,m,x,w,A,P){const S=d;let C;return{n:C,pos:d}=l(p,d,h,m,16,x,w,!1,P,!A),C===null&&(A?P.invalidEscapeSequence(S,h,m):d=S-1),{code:C,pos:d}}function l(p,d,h,m,x,w,A,P,S,C){const I=d,_=x===16?e.hex:e.decBinOct,D=x===16?t.hex:x===10?t.dec:x===8?t.oct:t.bin;let F=!1,O=0;for(let L=0,B=w??1/0;L<B;++L){const j=p.charCodeAt(d);let M;if(j===95&&P!=="bail"){const ee=p.charCodeAt(d-1),ue=p.charCodeAt(d+1);if(P){if(Number.isNaN(ue)||!D(ue)||_.has(ee)||_.has(ue)){if(C)return{n:null,pos:d};S.unexpectedNumericSeparator(d,h,m)}}else{if(C)return{n:null,pos:d};S.numericSeparatorInEscapeSequence(d,h,m)}++d;continue}if(j>=97?M=j-97+10:j>=65?M=j-65+10:n(j)?M=j-48:M=1/0,M>=x){if(M<=9&&C)return{n:null,pos:d};if(M<=9&&S.invalidDigit(d,h,m,x))M=0;else if(A)M=0,F=!0;else break}++d,O=O*x+M}return d===I||w!=null&&d-I!==w||F?{n:null,pos:d}:{n:O,pos:d}}function c(p,d,h,m,x,w){const A=p.charCodeAt(d);let P;if(A===123){if(++d,{code:P,pos:d}=a(p,d,h,m,p.indexOf("}",d)-d,!0,x,w),++d,P!==null&&P>1114111)if(x)w.invalidCodePoint(d,h,m);else return{code:null,pos:d}}else({code:P,pos:d}=a(p,d,h,m,4,!1,x,w));return{code:P,pos:d}}return Jd}var gn={},yI;function Jm(){if(yI)return gn;yI=1,Object.defineProperty(gn,"__esModule",{value:!0}),gn.UPDATE_OPERATORS=gn.UNARY_OPERATORS=gn.STRING_UNARY_OPERATORS=gn.STATEMENT_OR_BLOCK_KEYS=gn.NUMBER_UNARY_OPERATORS=gn.NUMBER_BINARY_OPERATORS=gn.LOGICAL_OPERATORS=gn.INHERIT_KEYS=gn.FOR_INIT_KEYS=gn.FLATTENABLE_KEYS=gn.EQUALITY_BINARY_OPERATORS=gn.COMPARISON_BINARY_OPERATORS=gn.COMMENT_KEYS=gn.BOOLEAN_UNARY_OPERATORS=gn.BOOLEAN_NUMBER_BINARY_OPERATORS=gn.BOOLEAN_BINARY_OPERATORS=gn.BINARY_OPERATORS=gn.ASSIGNMENT_OPERATORS=void 0,gn.STATEMENT_OR_BLOCK_KEYS=["consequent","body","alternate"],gn.FLATTENABLE_KEYS=["body","expressions"],gn.FOR_INIT_KEYS=["left","init"],gn.COMMENT_KEYS=["leadingComments","trailingComments","innerComments"];const n=gn.LOGICAL_OPERATORS=["||","&&","??"];gn.UPDATE_OPERATORS=["++","--"];const e=gn.BOOLEAN_NUMBER_BINARY_OPERATORS=[">","<",">=","<="],t=gn.EQUALITY_BINARY_OPERATORS=["==","===","!=","!=="],r=gn.COMPARISON_BINARY_OPERATORS=[...t,"in","instanceof"],s=gn.BOOLEAN_BINARY_OPERATORS=[...r,...e],i=gn.NUMBER_BINARY_OPERATORS=["-","/","%","*","**","&","|",">>",">>>","<<","^"];gn.BINARY_OPERATORS=["+",...i,...s,"|>"],gn.ASSIGNMENT_OPERATORS=["=","+=",...i.map(p=>p+"="),...n.map(p=>p+"=")];const a=gn.BOOLEAN_UNARY_OPERATORS=["delete","!"],l=gn.NUMBER_UNARY_OPERATORS=["+","-","~"],c=gn.STRING_UNARY_OPERATORS=["typeof"];return gn.UNARY_OPERATORS=["void","throw",...a,...l,...c],gn.INHERIT_KEYS={optional:["typeAnnotation","typeParameters","returnType"],force:["start","loc","end"]},gn.BLOCK_SCOPED_SYMBOL=Symbol.for("var used to be block scoped"),gn.NOT_LOCAL_BINDING=Symbol.for("should not be considered a local binding"),gn}var bn={},gI;function Zu(){if(gI)return bn;gI=1;var n={};Object.defineProperty(bn,"__esModule",{value:!0}),bn.allExpandedTypes=bn.VISITOR_KEYS=bn.NODE_UNION_SHAPES__PRIVATE=bn.NODE_PARENT_VALIDATIONS=bn.NODE_FIELDS=bn.FLIPPED_ALIAS_KEYS=bn.DEPRECATED_KEYS=bn.BUILDER_KEYS=bn.ALIAS_KEYS=void 0,bn.arrayOf=P,bn.arrayOfType=S,bn.assertEach=I,bn.assertNodeOrValueType=O,bn.assertNodeType=F,bn.assertOneOf=_,bn.assertOptionalChainStart=j,bn.assertShape=B,bn.assertValueType=L,bn.chain=M,bn.default=oe,bn.defineAliasedType=ae,bn.validate=m,bn.validateArrayOfType=C,bn.validateOptional=w,bn.validateOptionalType=A,bn.validateType=x;var e=Gm(),t=mP();const r=bn.VISITOR_KEYS={},s=bn.ALIAS_KEYS={},i=bn.FLIPPED_ALIAS_KEYS={},a=bn.NODE_FIELDS={},l=bn.BUILDER_KEYS={},c=bn.DEPRECATED_KEYS={},p=bn.NODE_PARENT_VALIDATIONS={},d=bn.NODE_UNION_SHAPES__PRIVATE={};function h(re){return Array.isArray(re)?"array":re===null?"null":typeof re}function m(re){return{validate:re}}function x(...re){return m(F(...re))}function w(re){return{validate:re,optional:!0}}function A(...re){return{validate:F(...re),optional:!0}}function P(re){return M(L("array"),I(re))}function S(...re){return P(F(...re))}function C(...re){return m(S(...re))}function I(re){const X=n.BABEL_TYPES_8_BREAKING?t.validateChild:()=>{};function H(Q,W,Y){if(!Array.isArray(Y))return;let Z=0;const se={toString(){return`${W}[${Z}]`}};for(;Z<Y.length;Z++){const me=Y[Z];re(Q,se,me),X(Q,se,me)}}return H.each=re,H}function _(...re){function X(H,Q,W){if(!re.includes(W))throw new TypeError(`Property ${Q} expected value to be one of ${JSON.stringify(re)} but got ${JSON.stringify(W)}`)}return X.oneOf=re,X}const D=bn.allExpandedTypes=[];function F(...re){const X=new Set;D.push({types:re,set:X});function H(Q,W,Y){const Z=Y?.type;if(Z!=null){if(X.has(Z)){(0,t.validateChild)(Q,W,Y);return}if(Z==="Placeholder"){for(const se of re)if((0,e.default)(se,Y)){(0,t.validateChild)(Q,W,Y);return}}}throw new TypeError(`Property ${W} of ${Q.type} expected node to be of a type ${JSON.stringify(re)} but instead got ${JSON.stringify(Z)}`)}return H.oneOfNodeTypes=re,H}function O(...re){function X(H,Q,W){const Y=h(W);for(const Z of re)if(Y===Z||(0,e.default)(Z,W)){(0,t.validateChild)(H,Q,W);return}throw new TypeError(`Property ${Q} of ${H.type} expected node to be of a type ${JSON.stringify(re)} but instead got ${JSON.stringify(W?.type)}`)}return X.oneOfNodeOrValueTypes=re,X}function L(re){function X(H,Q,W){if(h(W)!==re)throw new TypeError(`Property ${Q} expected type of ${re} but got ${h(W)}`)}return X.type=re,X}function B(re){const X=Object.keys(re);function H(Q,W,Y){const Z=[];for(const se of X)try{(0,t.validateField)(Q,se,Y[se],re[se])}catch(me){if(me instanceof TypeError){Z.push(me.message);continue}throw me}if(Z.length)throw new TypeError(`Property ${W} of ${Q.type} expected to have the following:
${Z.join(`
`)}`)}return H.shapeOf=re,H}function j(){function re(X){var H;let Q=X;for(;X;){const{type:W}=Q;if(W==="OptionalCallExpression"){if(Q.optional)return;Q=Q.callee;continue}if(W==="OptionalMemberExpression"){if(Q.optional)return;Q=Q.object;continue}break}throw new TypeError(`Non-optional ${X.type} must chain from an optional OptionalMemberExpression or OptionalCallExpression. Found chain from ${(H=Q)==null?void 0:H.type}`)}return re}function M(...re){function X(...H){for(const Q of re)Q(...H)}if(X.chainOf=re,re.length>=2&&"type"in re[0]&&re[0].type==="array"&&!("each"in re[1]))throw new Error('An assertValueType("array") validator can only be followed by an assertEach(...) validator.');return X}const ee=new Set(["aliases","builder","deprecatedAlias","fields","inherits","visitor","validate","unionShape"]),ue=new Set(["default","optional","deprecated","validate"]),J={};function ae(...re){return(X,H={})=>{let Q=H.aliases;if(!Q){var W;H.inherits&&(Q=(W=J[H.inherits].aliases)==null?void 0:W.slice()),Q??(Q=[]),H.aliases=Q}const Y=re.filter(Z=>!Q.includes(Z));Q.unshift(...Y),oe(X,H)}}function oe(re,X={}){const H=X.inherits&&J[X.inherits]||{};let Q=X.fields;if(!Q&&(Q={},H.fields)){const se=Object.getOwnPropertyNames(H.fields);for(const me of se){const Ce=H.fields[me],be=Ce.default;if(Array.isArray(be)?be.length>0:be&&typeof be=="object")throw new Error("field defaults can only be primitives or empty arrays currently");Q[me]={default:Array.isArray(be)?[]:be,optional:Ce.optional,deprecated:Ce.deprecated,validate:Ce.validate}}}const W=X.visitor||H.visitor||[],Y=X.aliases||H.aliases||[],Z=X.builder||H.builder||X.visitor||[];for(const se of Object.keys(X))if(!ee.has(se))throw new Error(`Unknown type option "${se}" on ${re}`);X.deprecatedAlias&&(c[X.deprecatedAlias]=re);for(const se of W.concat(Z))Q[se]=Q[se]||{};for(const se of Object.keys(Q)){const me=Q[se];me.default!==void 0&&!Z.includes(se)&&(me.optional=!0),me.default===void 0?me.default=null:!me.validate&&me.default!=null&&(me.validate=L(h(me.default)));for(const Ce of Object.keys(me))if(!ue.has(Ce))throw new Error(`Unknown field key "${Ce}" on ${re}.${se}`)}r[re]=X.visitor=W,l[re]=X.builder=Z,a[re]=X.fields=Q,s[re]=X.aliases=Y,Y.forEach(se=>{i[se]=i[se]||[],i[se].push(re)}),X.validate&&(p[re]=X.validate),X.unionShape&&(d[re]=X.unionShape),J[re]=X}return bn}var xI;function Dv(){if(xI)return Xr;xI=1;var n={};Object.defineProperty(Xr,"__esModule",{value:!0}),Xr.patternLikeCommon=Xr.importAttributes=Xr.functionTypeAnnotationCommon=Xr.functionDeclarationCommon=Xr.functionCommon=Xr.classMethodOrPropertyUnionShapeCommon=Xr.classMethodOrPropertyCommon=Xr.classMethodOrDeclareMethodCommon=void 0;var e=Gm(),t=Ym(),r=Lv(),s=gre(),i=Jm(),a=Zu();const l=(P=!1)=>({unionShape:{discriminator:"computed",shapes:[{name:"computed",value:[!0],properties:{key:{validate:(0,a.assertNodeType)("Expression")}}},{name:"nonComputed",value:[!1],properties:{key:{validate:P?(0,a.assertNodeType)("Identifier","StringLiteral","NumericLiteral","BigIntLiteral","PrivateName"):(0,a.assertNodeType)("Identifier","StringLiteral","NumericLiteral","BigIntLiteral")}}}]}});Xr.classMethodOrPropertyUnionShapeCommon=l;const c=(0,a.defineAliasedType)("Standardized");c("ArrayExpression",{fields:{elements:{validate:(0,a.arrayOf)((0,a.assertNodeOrValueType)("null","Expression","SpreadElement")),default:n.BABEL_TYPES_8_BREAKING?void 0:[]}},visitor:["elements"],aliases:["Expression"]}),c("AssignmentExpression",{fields:{operator:{validate:n.BABEL_TYPES_8_BREAKING?Object.assign((function(){const P=(0,a.assertOneOf)(...i.ASSIGNMENT_OPERATORS),S=(0,a.assertOneOf)("=");return function(C,I,_){((0,e.default)("Pattern",C.left)?S:P)(C,I,_)}})(),{oneOf:i.ASSIGNMENT_OPERATORS}):(0,a.assertValueType)("string")},left:{validate:n.BABEL_TYPES_8_BREAKING?(0,a.assertNodeType)("Identifier","MemberExpression","OptionalMemberExpression","ArrayPattern","ObjectPattern","TSAsExpression","TSSatisfiesExpression","TSTypeAssertion","TSNonNullExpression"):(0,a.assertNodeType)("LVal","OptionalMemberExpression")},right:{validate:(0,a.assertNodeType)("Expression")}},builder:["operator","left","right"],visitor:["left","right"],aliases:["Expression"]}),c("BinaryExpression",{builder:["operator","left","right"],fields:{operator:{validate:(0,a.assertOneOf)(...i.BINARY_OPERATORS)},left:{validate:(function(){const P=(0,a.assertNodeType)("Expression"),S=(0,a.assertNodeType)("Expression","PrivateName");return Object.assign(function(I,_,D){(I.operator==="in"?S:P)(I,_,D)},{oneOfNodeTypes:["Expression","PrivateName"]})})()},right:{validate:(0,a.assertNodeType)("Expression")}},visitor:["left","right"],aliases:["Binary","Expression"]}),c("InterpreterDirective",{builder:["value"],fields:{value:{validate:(0,a.assertValueType)("string")}}}),c("Directive",{visitor:["value"],fields:{value:{validate:(0,a.assertNodeType)("DirectiveLiteral")}}}),c("DirectiveLiteral",{builder:["value"],fields:{value:{validate:(0,a.assertValueType)("string")}}}),c("BlockStatement",{builder:["body","directives"],visitor:["directives","body"],fields:{directives:{validate:(0,a.arrayOfType)("Directive"),default:[]},body:(0,a.validateArrayOfType)("Statement")},aliases:["Scopable","BlockParent","Block","Statement"]}),c("BreakStatement",{visitor:["label"],fields:{label:{validate:(0,a.assertNodeType)("Identifier"),optional:!0}},aliases:["Statement","Terminatorless","CompletionStatement"]}),c("CallExpression",{visitor:["callee","typeParameters","typeArguments","arguments"],builder:["callee","arguments"],aliases:["Expression"],fields:Object.assign({callee:{validate:(0,a.assertNodeType)("Expression","Super","V8IntrinsicIdentifier")},arguments:(0,a.validateArrayOfType)("Expression","SpreadElement","ArgumentPlaceholder"),typeArguments:{validate:(0,a.assertNodeType)("TypeParameterInstantiation"),optional:!0}},n.BABEL_TYPES_8_BREAKING?{}:{optional:{validate:(0,a.assertValueType)("boolean"),optional:!0},typeParameters:{validate:(0,a.assertNodeType)("TSTypeParameterInstantiation"),optional:!0}})}),c("CatchClause",{visitor:["param","body"],fields:{param:{validate:(0,a.assertNodeType)("Identifier","ArrayPattern","ObjectPattern"),optional:!0},body:{validate:(0,a.assertNodeType)("BlockStatement")}},aliases:["Scopable","BlockParent"]}),c("ConditionalExpression",{visitor:["test","consequent","alternate"],fields:{test:{validate:(0,a.assertNodeType)("Expression")},consequent:{validate:(0,a.assertNodeType)("Expression")},alternate:{validate:(0,a.assertNodeType)("Expression")}},aliases:["Expression","Conditional"]}),c("ContinueStatement",{visitor:["label"],fields:{label:{validate:(0,a.assertNodeType)("Identifier"),optional:!0}},aliases:["Statement","Terminatorless","CompletionStatement"]}),c("DebuggerStatement",{aliases:["Statement"]}),c("DoWhileStatement",{builder:["test","body"],visitor:["body","test"],fields:{test:{validate:(0,a.assertNodeType)("Expression")},body:{validate:(0,a.assertNodeType)("Statement")}},aliases:["Statement","BlockParent","Loop","While","Scopable"]}),c("EmptyStatement",{aliases:["Statement"]}),c("ExpressionStatement",{visitor:["expression"],fields:{expression:{validate:(0,a.assertNodeType)("Expression")}},aliases:["Statement","ExpressionWrapper"]}),c("File",{builder:["program","comments","tokens"],visitor:["program"],fields:{program:{validate:(0,a.assertNodeType)("Program")},comments:{validate:n.BABEL_TYPES_8_BREAKING?(0,a.assertEach)((0,a.assertNodeType)("CommentBlock","CommentLine")):Object.assign(()=>{},{each:{oneOfNodeTypes:["CommentBlock","CommentLine"]}}),optional:!0},tokens:{validate:(0,a.assertEach)(Object.assign(()=>{},{type:"any"})),optional:!0}}}),c("ForInStatement",{visitor:["left","right","body"],aliases:["Scopable","Statement","For","BlockParent","Loop","ForXStatement"],fields:{left:{validate:n.BABEL_TYPES_8_BREAKING?(0,a.assertNodeType)("VariableDeclaration","Identifier","MemberExpression","ArrayPattern","ObjectPattern","TSAsExpression","TSSatisfiesExpression","TSTypeAssertion","TSNonNullExpression"):(0,a.assertNodeType)("VariableDeclaration","LVal")},right:{validate:(0,a.assertNodeType)("Expression")},body:{validate:(0,a.assertNodeType)("Statement")}}}),c("ForStatement",{visitor:["init","test","update","body"],aliases:["Scopable","Statement","For","BlockParent","Loop"],fields:{init:{validate:(0,a.assertNodeType)("VariableDeclaration","Expression"),optional:!0},test:{validate:(0,a.assertNodeType)("Expression"),optional:!0},update:{validate:(0,a.assertNodeType)("Expression"),optional:!0},body:{validate:(0,a.assertNodeType)("Statement")}}});const p=()=>({params:(0,a.validateArrayOfType)("FunctionParameter"),generator:{default:!1},async:{default:!1}});Xr.functionCommon=p;const d=()=>({returnType:{validate:(0,a.assertNodeType)("TypeAnnotation","TSTypeAnnotation","Noop"),optional:!0},typeParameters:{validate:(0,a.assertNodeType)("TypeParameterDeclaration","TSTypeParameterDeclaration","Noop"),optional:!0}});Xr.functionTypeAnnotationCommon=d;const h=()=>Object.assign({},p(),{declare:{validate:(0,a.assertValueType)("boolean"),optional:!0},id:{validate:(0,a.assertNodeType)("Identifier"),optional:!0}});Xr.functionDeclarationCommon=h,c("FunctionDeclaration",{builder:["id","params","body","generator","async"],visitor:["id","typeParameters","params","predicate","returnType","body"],fields:Object.assign({},h(),d(),{body:{validate:(0,a.assertNodeType)("BlockStatement")},predicate:{validate:(0,a.assertNodeType)("DeclaredPredicate","InferredPredicate"),optional:!0}}),aliases:["Scopable","Function","BlockParent","FunctionParent","Statement","Pureish","Declaration"],validate:n.BABEL_TYPES_8_BREAKING?(function(){const P=(0,a.assertNodeType)("Identifier");return function(S,C,I){(0,e.default)("ExportDefaultDeclaration",S)||P(I,"id",I.id)}})():void 0}),c("FunctionExpression",{inherits:"FunctionDeclaration",aliases:["Scopable","Function","BlockParent","FunctionParent","Expression","Pureish"],fields:Object.assign({},p(),d(),{id:{validate:(0,a.assertNodeType)("Identifier"),optional:!0},body:{validate:(0,a.assertNodeType)("BlockStatement")},predicate:{validate:(0,a.assertNodeType)("DeclaredPredicate","InferredPredicate"),optional:!0}})});const m=()=>({typeAnnotation:{validate:(0,a.assertNodeType)("TypeAnnotation","TSTypeAnnotation","Noop"),optional:!0},optional:{validate:(0,a.assertValueType)("boolean"),optional:!0},decorators:{validate:(0,a.arrayOfType)("Decorator"),optional:!0}});Xr.patternLikeCommon=m,c("Identifier",{builder:["name"],visitor:["typeAnnotation","decorators"],aliases:["Expression","FunctionParameter","PatternLike","LVal","TSEntityName"],fields:Object.assign({},m(),{name:{validate:n.BABEL_TYPES_8_BREAKING?(0,a.chain)((0,a.assertValueType)("string"),Object.assign(function(P,S,C){if(!(0,t.default)(C,!1))throw new TypeError(`"${C}" is not a valid identifier name`)},{type:"string"})):(0,a.assertValueType)("string")}}),validate:n.BABEL_TYPES_8_BREAKING?function(P,S,C){const I=/\.(\w+)$/.exec(S.toString());if(!I)return;const[,_]=I,D={computed:!1};if(_==="property"){if((0,e.default)("MemberExpression",P,D)||(0,e.default)("OptionalMemberExpression",P,D))return}else if(_==="key"){if((0,e.default)("Property",P,D)||(0,e.default)("Method",P,D))return}else if(_==="exported"){if((0,e.default)("ExportSpecifier",P))return}else if(_==="imported"){if((0,e.default)("ImportSpecifier",P,{imported:C}))return}else if(_==="meta"&&(0,e.default)("MetaProperty",P,{meta:C}))return;if(((0,r.isKeyword)(C.name)||(0,r.isReservedWord)(C.name,!1))&&C.name!=="this")throw new TypeError(`"${C.name}" is not a valid identifier`)}:void 0}),c("IfStatement",{visitor:["test","consequent","alternate"],aliases:["Statement","Conditional"],fields:{test:{validate:(0,a.assertNodeType)("Expression")},consequent:{validate:(0,a.assertNodeType)("Statement")},alternate:{optional:!0,validate:(0,a.assertNodeType)("Statement")}}}),c("LabeledStatement",{visitor:["label","body"],aliases:["Statement"],fields:{label:{validate:(0,a.assertNodeType)("Identifier")},body:{validate:(0,a.assertNodeType)("Statement")}}}),c("StringLiteral",{builder:["value"],fields:{value:{validate:(0,a.assertValueType)("string")}},aliases:["Expression","Pureish","Literal","Immutable"]}),c("NumericLiteral",{builder:["value"],deprecatedAlias:"NumberLiteral",fields:{value:{validate:(0,a.chain)((0,a.assertValueType)("number"),Object.assign(function(P,S,C){},{type:"number"}))}},aliases:["Expression","Pureish","Literal","Immutable"]}),c("NullLiteral",{aliases:["Expression","Pureish","Literal","Immutable"]}),c("BooleanLiteral",{builder:["value"],fields:{value:{validate:(0,a.assertValueType)("boolean")}},aliases:["Expression","Pureish","Literal","Immutable"]}),c("RegExpLiteral",{builder:["pattern","flags"],deprecatedAlias:"RegexLiteral",aliases:["Expression","Pureish","Literal"],fields:{pattern:{validate:(0,a.assertValueType)("string")},flags:{validate:n.BABEL_TYPES_8_BREAKING?(0,a.chain)((0,a.assertValueType)("string"),Object.assign(function(P,S,C){const I=/[^dgimsuvy]/.exec(C);if(I)throw new TypeError(`"${I[0]}" is not a valid RegExp flag`)},{type:"string"})):(0,a.assertValueType)("string"),default:""}}}),c("LogicalExpression",{builder:["operator","left","right"],visitor:["left","right"],aliases:["Binary","Expression"],fields:{operator:{validate:(0,a.assertOneOf)(...i.LOGICAL_OPERATORS)},left:{validate:(0,a.assertNodeType)("Expression")},right:{validate:(0,a.assertNodeType)("Expression")}}}),c("MemberExpression",{builder:["object","property","computed",...n.BABEL_TYPES_8_BREAKING?[]:["optional"]],visitor:["object","property"],aliases:["Expression","LVal","PatternLike"],unionShape:{discriminator:"computed",shapes:[{name:"computed",value:[!0],properties:{property:{validate:(0,a.assertNodeType)("Expression")}}},{name:"nonComputed",value:[!1],properties:{property:{validate:(0,a.assertNodeType)("Identifier","PrivateName")}}}]},fields:Object.assign({object:{validate:(0,a.assertNodeType)("Expression","Super")},property:{validate:(function(){const P=(0,a.assertNodeType)("Identifier","PrivateName"),S=(0,a.assertNodeType)("Expression"),C=function(I,_,D){(I.computed?S:P)(I,_,D)};return C.oneOfNodeTypes=["Expression","Identifier","PrivateName"],C})()},computed:{default:!1}},n.BABEL_TYPES_8_BREAKING?{}:{optional:{validate:(0,a.assertValueType)("boolean"),optional:!0}})}),c("NewExpression",{inherits:"CallExpression"}),c("Program",{visitor:["directives","body"],builder:["body","directives","sourceType","interpreter"],fields:{sourceType:{validate:(0,a.assertOneOf)("script","module"),default:"script"},interpreter:{validate:(0,a.assertNodeType)("InterpreterDirective"),default:null,optional:!0},directives:{validate:(0,a.arrayOfType)("Directive"),default:[]},body:(0,a.validateArrayOfType)("Statement")},aliases:["Scopable","BlockParent","Block"]}),c("ObjectExpression",{visitor:["properties"],aliases:["Expression"],fields:{properties:(0,a.validateArrayOfType)("ObjectMethod","ObjectProperty","SpreadElement")}}),c("ObjectMethod",Object.assign({builder:["kind","key","params","body","computed","generator","async"],visitor:["decorators","key","typeParameters","params","returnType","body"]},l(),{fields:Object.assign({},p(),d(),{kind:Object.assign({validate:(0,a.assertOneOf)("method","get","set")},n.BABEL_TYPES_8_BREAKING?{}:{default:"method"}),computed:{default:!1},key:{validate:(function(){const P=(0,a.assertNodeType)("Identifier","StringLiteral","NumericLiteral","BigIntLiteral"),S=(0,a.assertNodeType)("Expression"),C=function(I,_,D){(I.computed?S:P)(I,_,D)};return C.oneOfNodeTypes=["Expression","Identifier","StringLiteral","NumericLiteral","BigIntLiteral"],C})()},decorators:{validate:(0,a.arrayOfType)("Decorator"),optional:!0},body:{validate:(0,a.assertNodeType)("BlockStatement")}}),aliases:["UserWhitespacable","Function","Scopable","BlockParent","FunctionParent","Method","ObjectMember"]})),c("ObjectProperty",{builder:["key","value","computed","shorthand",...n.BABEL_TYPES_8_BREAKING?[]:["decorators"]],unionShape:{discriminator:"computed",shapes:[{name:"computed",value:[!0],properties:{key:{validate:(0,a.assertNodeType)("Expression")}}},{name:"nonComputed",value:[!1],properties:{key:{validate:(0,a.assertNodeType)("Identifier","StringLiteral","NumericLiteral","BigIntLiteral","DecimalLiteral","PrivateName")}}}]},fields:{computed:{default:!1},key:{validate:(function(){const P=(0,a.assertNodeType)("Identifier","StringLiteral","NumericLiteral","BigIntLiteral","DecimalLiteral","PrivateName"),S=(0,a.assertNodeType)("Expression");return Object.assign(function(I,_,D){(I.computed?S:P)(I,_,D)},{oneOfNodeTypes:["Expression","Identifier","StringLiteral","NumericLiteral","BigIntLiteral","DecimalLiteral","PrivateName"]})})()},value:{validate:(0,a.assertNodeType)("Expression","PatternLike")},shorthand:{validate:n.BABEL_TYPES_8_BREAKING?(0,a.chain)((0,a.assertValueType)("boolean"),Object.assign(function(P,S,C){if(C){if(P.computed)throw new TypeError("Property shorthand of ObjectProperty cannot be true if computed is true");if(!(0,e.default)("Identifier",P.key))throw new TypeError("Property shorthand of ObjectProperty cannot be true if key is not an Identifier")}},{type:"boolean"})):(0,a.assertValueType)("boolean"),default:!1},decorators:{validate:(0,a.arrayOfType)("Decorator"),optional:!0}},visitor:["decorators","key","value"],aliases:["UserWhitespacable","Property","ObjectMember"],validate:n.BABEL_TYPES_8_BREAKING?(function(){const P=(0,a.assertNodeType)("Identifier","Pattern","TSAsExpression","TSSatisfiesExpression","TSNonNullExpression","TSTypeAssertion"),S=(0,a.assertNodeType)("Expression");return function(C,I,_){((0,e.default)("ObjectPattern",C)?P:S)(_,"value",_.value)}})():void 0}),c("RestElement",{visitor:["argument","typeAnnotation"],builder:["argument"],aliases:["FunctionParameter","PatternLike","LVal"],deprecatedAlias:"RestProperty",fields:Object.assign({},m(),{argument:{validate:n.BABEL_TYPES_8_BREAKING?(0,a.assertNodeType)("Identifier","ArrayPattern","ObjectPattern","MemberExpression","TSAsExpression","TSSatisfiesExpression","TSTypeAssertion","TSNonNullExpression"):(0,a.assertNodeType)("Identifier","ArrayPattern","ObjectPattern","MemberExpression","TSAsExpression","TSSatisfiesExpression","TSTypeAssertion","TSNonNullExpression","RestElement","AssignmentPattern")}}),validate:n.BABEL_TYPES_8_BREAKING?function(P,S){const C=/(\w+)\[(\d+)\]/.exec(S.toString());if(!C)throw new Error("Internal Babel error: malformed key.");const[,I,_]=C;if(P[I].length>+_+1)throw new TypeError(`RestElement must be last element of ${I}`)}:void 0}),c("ReturnStatement",{visitor:["argument"],aliases:["Statement","Terminatorless","CompletionStatement"],fields:{argument:{validate:(0,a.assertNodeType)("Expression"),optional:!0}}}),c("SequenceExpression",{visitor:["expressions"],fields:{expressions:(0,a.validateArrayOfType)("Expression")},aliases:["Expression"]}),c("ParenthesizedExpression",{visitor:["expression"],aliases:["Expression","ExpressionWrapper"],fields:{expression:{validate:(0,a.assertNodeType)("Expression")}}}),c("SwitchCase",{visitor:["test","consequent"],fields:{test:{validate:(0,a.assertNodeType)("Expression"),optional:!0},consequent:(0,a.validateArrayOfType)("Statement")}}),c("SwitchStatement",{visitor:["discriminant","cases"],aliases:["Statement","BlockParent","Scopable"],fields:{discriminant:{validate:(0,a.assertNodeType)("Expression")},cases:(0,a.validateArrayOfType)("SwitchCase")}}),c("ThisExpression",{aliases:["Expression"]}),c("ThrowStatement",{visitor:["argument"],aliases:["Statement","Terminatorless","CompletionStatement"],fields:{argument:{validate:(0,a.assertNodeType)("Expression")}}}),c("TryStatement",{visitor:["block","handler","finalizer"],aliases:["Statement"],fields:{block:{validate:n.BABEL_TYPES_8_BREAKING?(0,a.chain)((0,a.assertNodeType)("BlockStatement"),Object.assign(function(P){if(!P.handler&&!P.finalizer)throw new TypeError("TryStatement expects either a handler or finalizer, or both")},{oneOfNodeTypes:["BlockStatement"]})):(0,a.assertNodeType)("BlockStatement")},handler:{optional:!0,validate:(0,a.assertNodeType)("CatchClause")},finalizer:{optional:!0,validate:(0,a.assertNodeType)("BlockStatement")}}}),c("UnaryExpression",{builder:["operator","argument","prefix"],fields:{prefix:{default:!0},argument:{validate:(0,a.assertNodeType)("Expression")},operator:{validate:(0,a.assertOneOf)(...i.UNARY_OPERATORS)}},visitor:["argument"],aliases:["UnaryLike","Expression"]}),c("UpdateExpression",{builder:["operator","argument","prefix"],fields:{prefix:{default:!1},argument:{validate:n.BABEL_TYPES_8_BREAKING?(0,a.assertNodeType)("Identifier","MemberExpression"):(0,a.assertNodeType)("Expression")},operator:{validate:(0,a.assertOneOf)(...i.UPDATE_OPERATORS)}},visitor:["argument"],aliases:["Expression"]}),c("VariableDeclaration",{builder:["kind","declarations"],visitor:["declarations"],aliases:["Statement","Declaration"],fields:{declare:{validate:(0,a.assertValueType)("boolean"),optional:!0},kind:{validate:(0,a.assertOneOf)("var","let","const","using","await using")},declarations:(0,a.validateArrayOfType)("VariableDeclarator")},validate:n.BABEL_TYPES_8_BREAKING?(()=>{const P=(0,a.assertNodeType)("Identifier","Placeholder"),S=(0,a.assertNodeType)("Identifier","ArrayPattern","ObjectPattern","Placeholder"),C=(0,a.assertNodeType)("Identifier","VoidPattern","Placeholder");return function(I,_,D){const{kind:F,declarations:O}=D,L=(0,e.default)("ForXStatement",I,{left:D});if(L&&O.length!==1)throw new TypeError(`Exactly one VariableDeclarator is required in the VariableDeclaration of a ${I.type}`);for(const B of O)F==="const"||F==="let"||F==="var"?!L&&!B.init?P(B,"id",B.id):S(B,"id",B.id):C(B,"id",B.id)}})():void 0}),c("VariableDeclarator",{visitor:["id","init"],fields:{id:{validate:n.BABEL_TYPES_8_BREAKING?(0,a.assertNodeType)("Identifier","ArrayPattern","ObjectPattern","VoidPattern"):(0,a.assertNodeType)("LVal","VoidPattern")},definite:{optional:!0,validate:(0,a.assertValueType)("boolean")},init:{optional:!0,validate:(0,a.assertNodeType)("Expression")}}}),c("WhileStatement",{visitor:["test","body"],aliases:["Statement","BlockParent","Loop","While","Scopable"],fields:{test:{validate:(0,a.assertNodeType)("Expression")},body:{validate:(0,a.assertNodeType)("Statement")}}}),c("WithStatement",{visitor:["object","body"],aliases:["Statement"],fields:{object:{validate:(0,a.assertNodeType)("Expression")},body:{validate:(0,a.assertNodeType)("Statement")}}}),c("AssignmentPattern",{visitor:["left","right","decorators"],builder:["left","right"],aliases:["FunctionParameter","Pattern","PatternLike","LVal"],fields:Object.assign({},m(),{left:{validate:(0,a.assertNodeType)("Identifier","ObjectPattern","ArrayPattern","MemberExpression","TSAsExpression","TSSatisfiesExpression","TSTypeAssertion","TSNonNullExpression")},right:{validate:(0,a.assertNodeType)("Expression")},decorators:{validate:(0,a.arrayOfType)("Decorator"),optional:!0}})}),c("ArrayPattern",{visitor:["elements","typeAnnotation"],builder:["elements"],aliases:["FunctionParameter","Pattern","PatternLike","LVal"],fields:Object.assign({},m(),{elements:{validate:(0,a.chain)((0,a.assertValueType)("array"),(0,a.assertEach)((0,a.assertNodeOrValueType)("null","PatternLike")))}})}),c("ArrowFunctionExpression",{builder:["params","body","async"],visitor:["typeParameters","params","predicate","returnType","body"],aliases:["Scopable","Function","BlockParent","FunctionParent","Expression","Pureish"],fields:Object.assign({},p(),d(),{expression:{validate:(0,a.assertValueType)("boolean")},body:{validate:(0,a.assertNodeType)("BlockStatement","Expression")},predicate:{validate:(0,a.assertNodeType)("DeclaredPredicate","InferredPredicate"),optional:!0}})}),c("ClassBody",{visitor:["body"],fields:{body:(0,a.validateArrayOfType)("ClassMethod","ClassPrivateMethod","ClassProperty","ClassPrivateProperty","ClassAccessorProperty","TSDeclareMethod","TSIndexSignature","StaticBlock")}}),c("ClassExpression",{builder:["id","superClass","body","decorators"],visitor:["decorators","id","typeParameters","superClass","superTypeParameters","mixins","implements","body"],aliases:["Scopable","Class","Expression"],fields:{id:{validate:(0,a.assertNodeType)("Identifier"),optional:!0},typeParameters:{validate:(0,a.assertNodeType)("TypeParameterDeclaration","TSTypeParameterDeclaration","Noop"),optional:!0},body:{validate:(0,a.assertNodeType)("ClassBody")},superClass:{optional:!0,validate:(0,a.assertNodeType)("Expression")},superTypeParameters:{validate:(0,a.assertNodeType)("TypeParameterInstantiation","TSTypeParameterInstantiation"),optional:!0},implements:{validate:(0,a.arrayOfType)("TSExpressionWithTypeArguments","ClassImplements"),optional:!0},decorators:{validate:(0,a.arrayOfType)("Decorator"),optional:!0},mixins:{validate:(0,a.assertNodeType)("InterfaceExtends"),optional:!0}}}),c("ClassDeclaration",{inherits:"ClassExpression",aliases:["Scopable","Class","Statement","Declaration"],fields:{id:{validate:(0,a.assertNodeType)("Identifier"),optional:!0},typeParameters:{validate:(0,a.assertNodeType)("TypeParameterDeclaration","TSTypeParameterDeclaration","Noop"),optional:!0},body:{validate:(0,a.assertNodeType)("ClassBody")},superClass:{optional:!0,validate:(0,a.assertNodeType)("Expression")},superTypeParameters:{validate:(0,a.assertNodeType)("TypeParameterInstantiation","TSTypeParameterInstantiation"),optional:!0},implements:{validate:(0,a.arrayOfType)("TSExpressionWithTypeArguments","ClassImplements"),optional:!0},decorators:{validate:(0,a.arrayOfType)("Decorator"),optional:!0},mixins:{validate:(0,a.assertNodeType)("InterfaceExtends"),optional:!0},declare:{validate:(0,a.assertValueType)("boolean"),optional:!0},abstract:{validate:(0,a.assertValueType)("boolean"),optional:!0}},validate:n.BABEL_TYPES_8_BREAKING?(function(){const P=(0,a.assertNodeType)("Identifier");return function(S,C,I){(0,e.default)("ExportDefaultDeclaration",S)||P(I,"id",I.id)}})():void 0});const x=Xr.importAttributes={attributes:{optional:!0,validate:(0,a.arrayOfType)("ImportAttribute")}};x.assertions={deprecated:!0,optional:!0,validate:(0,a.arrayOfType)("ImportAttribute")},c("ExportAllDeclaration",{builder:["source","attributes"],visitor:["source","attributes","assertions"],aliases:["Statement","Declaration","ImportOrExportDeclaration","ExportDeclaration"],fields:Object.assign({source:{validate:(0,a.assertNodeType)("StringLiteral")},exportKind:(0,a.validateOptional)((0,a.assertOneOf)("type","value"))},x)}),c("ExportDefaultDeclaration",{visitor:["declaration"],aliases:["Statement","Declaration","ImportOrExportDeclaration","ExportDeclaration"],fields:{declaration:(0,a.validateType)("TSDeclareFunction","FunctionDeclaration","ClassDeclaration","Expression"),exportKind:(0,a.validateOptional)((0,a.assertOneOf)("value"))}}),c("ExportNamedDeclaration",{builder:["declaration","specifiers","source","attributes"],visitor:["declaration","specifiers","source","attributes","assertions"],aliases:["Statement","Declaration","ImportOrExportDeclaration","ExportDeclaration"],fields:Object.assign({declaration:{optional:!0,validate:n.BABEL_TYPES_8_BREAKING?(0,a.chain)((0,a.assertNodeType)("Declaration"),Object.assign(function(P,S,C){if(C&&P.specifiers.length)throw new TypeError("Only declaration or specifiers is allowed on ExportNamedDeclaration");if(C&&P.source)throw new TypeError("Cannot export a declaration from a source")},{oneOfNodeTypes:["Declaration"]})):(0,a.assertNodeType)("Declaration")}},x,{specifiers:{default:[],validate:(0,a.arrayOf)((function(){const P=(0,a.assertNodeType)("ExportSpecifier","ExportDefaultSpecifier","ExportNamespaceSpecifier"),S=(0,a.assertNodeType)("ExportSpecifier");return n.BABEL_TYPES_8_BREAKING?Object.assign(function(C,I,_){(C.source?P:S)(C,I,_)},{oneOfNodeTypes:["ExportSpecifier","ExportDefaultSpecifier","ExportNamespaceSpecifier"]}):P})())},source:{validate:(0,a.assertNodeType)("StringLiteral"),optional:!0},exportKind:(0,a.validateOptional)((0,a.assertOneOf)("type","value"))})}),c("ExportSpecifier",{visitor:["local","exported"],aliases:["ModuleSpecifier"],fields:{local:{validate:(0,a.assertNodeType)("Identifier")},exported:{validate:(0,a.assertNodeType)("Identifier","StringLiteral")},exportKind:{validate:(0,a.assertOneOf)("type","value"),optional:!0}}}),c("ForOfStatement",{visitor:["left","right","body"],builder:["left","right","body","await"],aliases:["Scopable","Statement","For","BlockParent","Loop","ForXStatement"],fields:{left:{validate:(function(){if(!n.BABEL_TYPES_8_BREAKING)return(0,a.assertNodeType)("VariableDeclaration","LVal");const P=(0,a.assertNodeType)("VariableDeclaration"),S=(0,a.assertNodeType)("Identifier","MemberExpression","ArrayPattern","ObjectPattern","TSAsExpression","TSSatisfiesExpression","TSTypeAssertion","TSNonNullExpression");return Object.assign(function(C,I,_){(0,e.default)("VariableDeclaration",_)?P(C,I,_):S(C,I,_)},{oneOfNodeTypes:["VariableDeclaration","Identifier","MemberExpression","ArrayPattern","ObjectPattern","TSAsExpression","TSSatisfiesExpression","TSTypeAssertion","TSNonNullExpression"]})})()},right:{validate:(0,a.assertNodeType)("Expression")},body:{validate:(0,a.assertNodeType)("Statement")},await:{default:!1}}}),c("ImportDeclaration",{builder:["specifiers","source","attributes"],visitor:["specifiers","source","attributes","assertions"],aliases:["Statement","Declaration","ImportOrExportDeclaration"],fields:Object.assign({},x,{module:{optional:!0,validate:(0,a.assertValueType)("boolean")},phase:{default:null,validate:(0,a.assertOneOf)("source","defer")},specifiers:(0,a.validateArrayOfType)("ImportSpecifier","ImportDefaultSpecifier","ImportNamespaceSpecifier"),source:{validate:(0,a.assertNodeType)("StringLiteral")},importKind:{validate:(0,a.assertOneOf)("type","typeof","value"),optional:!0}})}),c("ImportDefaultSpecifier",{visitor:["local"],aliases:["ModuleSpecifier"],fields:{local:{validate:(0,a.assertNodeType)("Identifier")}}}),c("ImportNamespaceSpecifier",{visitor:["local"],aliases:["ModuleSpecifier"],fields:{local:{validate:(0,a.assertNodeType)("Identifier")}}}),c("ImportSpecifier",{visitor:["imported","local"],builder:["local","imported"],aliases:["ModuleSpecifier"],fields:{local:{validate:(0,a.assertNodeType)("Identifier")},imported:{validate:(0,a.assertNodeType)("Identifier","StringLiteral")},importKind:{validate:(0,a.assertOneOf)("type","typeof","value"),optional:!0}}}),c("ImportExpression",{visitor:["source","options"],aliases:["Expression"],fields:{phase:{default:null,validate:(0,a.assertOneOf)("source","defer")},source:{validate:(0,a.assertNodeType)("Expression")},options:{validate:(0,a.assertNodeType)("Expression"),optional:!0}}}),c("MetaProperty",{visitor:["meta","property"],aliases:["Expression"],fields:{meta:{validate:n.BABEL_TYPES_8_BREAKING?(0,a.chain)((0,a.assertNodeType)("Identifier"),Object.assign(function(P,S,C){let I;switch(C.name){case"function":I="sent";break;case"new":I="target";break;case"import":I="meta";break}if(!(0,e.default)("Identifier",P.property,{name:I}))throw new TypeError("Unrecognised MetaProperty")},{oneOfNodeTypes:["Identifier"]})):(0,a.assertNodeType)("Identifier")},property:{validate:(0,a.assertNodeType)("Identifier")}}});const w=()=>({abstract:{validate:(0,a.assertValueType)("boolean"),optional:!0},accessibility:{validate:(0,a.assertOneOf)("public","private","protected"),optional:!0},static:{default:!1},override:{default:!1},computed:{default:!1},optional:{validate:(0,a.assertValueType)("boolean"),optional:!0},key:{validate:(0,a.chain)((function(){const P=(0,a.assertNodeType)("Identifier","StringLiteral","NumericLiteral","BigIntLiteral"),S=(0,a.assertNodeType)("Expression");return function(C,I,_){(C.computed?S:P)(C,I,_)}})(),(0,a.assertNodeType)("Identifier","StringLiteral","NumericLiteral","BigIntLiteral","Expression"))}});Xr.classMethodOrPropertyCommon=w;const A=()=>Object.assign({},p(),w(),{params:(0,a.validateArrayOfType)("FunctionParameter","TSParameterProperty"),kind:{validate:(0,a.assertOneOf)("get","set","method","constructor"),default:"method"},access:{validate:(0,a.chain)((0,a.assertValueType)("string"),(0,a.assertOneOf)("public","private","protected")),optional:!0},decorators:{validate:(0,a.arrayOfType)("Decorator"),optional:!0}});return Xr.classMethodOrDeclareMethodCommon=A,c("ClassMethod",Object.assign({aliases:["Function","Scopable","BlockParent","FunctionParent","Method"],builder:["kind","key","params","body","computed","static","generator","async"],visitor:["decorators","key","typeParameters","params","returnType","body"]},l(),{fields:Object.assign({},A(),d(),{body:{validate:(0,a.assertNodeType)("BlockStatement")}})})),c("ObjectPattern",{visitor:["decorators","properties","typeAnnotation"],builder:["properties"],aliases:["FunctionParameter","Pattern","PatternLike","LVal"],fields:Object.assign({},m(),{properties:(0,a.validateArrayOfType)("RestElement","ObjectProperty")})}),c("SpreadElement",{visitor:["argument"],aliases:["UnaryLike"],deprecatedAlias:"SpreadProperty",fields:{argument:{validate:(0,a.assertNodeType)("Expression")}}}),c("Super",{aliases:["Expression"]}),c("TaggedTemplateExpression",{visitor:["tag","typeParameters","quasi"],builder:["tag","quasi"],aliases:["Expression"],fields:{tag:{validate:(0,a.assertNodeType)("Expression")},quasi:{validate:(0,a.assertNodeType)("TemplateLiteral")},typeParameters:{validate:(0,a.assertNodeType)("TypeParameterInstantiation","TSTypeParameterInstantiation"),optional:!0}}}),c("TemplateElement",{builder:["value","tail"],fields:{value:{validate:(0,a.chain)((0,a.assertShape)({raw:{validate:(0,a.assertValueType)("string")},cooked:{validate:(0,a.assertValueType)("string"),optional:!0}}),function(S){const C=S.value.raw;let I=!1;const _=()=>{throw new Error("Internal @babel/types error.")},{str:D,firstInvalidLoc:F}=(0,s.readStringContents)("template",C,0,0,0,{unterminated(){I=!0},strictNumericEscape:_,invalidEscapeSequence:_,numericSeparatorInEscapeSequence:_,unexpectedNumericSeparator:_,invalidDigit:_,invalidCodePoint:_});if(!I)throw new Error("Invalid raw");S.value.cooked=F?null:D})},tail:{default:!1}}}),c("TemplateLiteral",{visitor:["quasis","expressions"],aliases:["Expression","Literal"],fields:{quasis:(0,a.validateArrayOfType)("TemplateElement"),expressions:{validate:(0,a.chain)((0,a.assertValueType)("array"),(0,a.assertEach)((0,a.assertNodeType)("Expression","TSType")),function(P,S,C){if(P.quasis.length!==C.length+1)throw new TypeError(`Number of ${P.type} quasis should be exactly one more than the number of expressions.
Expected ${C.length+1} quasis but got ${P.quasis.length}`)})}}}),c("YieldExpression",{builder:["argument","delegate"],visitor:["argument"],aliases:["Expression","Terminatorless"],fields:{delegate:{validate:n.BABEL_TYPES_8_BREAKING?(0,a.chain)((0,a.assertValueType)("boolean"),Object.assign(function(P,S,C){if(C&&!P.argument)throw new TypeError("Property delegate of YieldExpression cannot be true if there is no argument")},{type:"boolean"})):(0,a.assertValueType)("boolean"),default:!1},argument:{optional:!0,validate:(0,a.assertNodeType)("Expression")}}}),c("AwaitExpression",{builder:["argument"],visitor:["argument"],aliases:["Expression","Terminatorless"],fields:{argument:{validate:(0,a.assertNodeType)("Expression")}}}),c("Import",{aliases:["Expression"]}),c("BigIntLiteral",{builder:["value"],fields:{value:{validate:(0,a.assertValueType)("string")}},aliases:["Expression","Pureish","Literal","Immutable"]}),c("ExportNamespaceSpecifier",{visitor:["exported"],aliases:["ModuleSpecifier"],fields:{exported:{validate:(0,a.assertNodeType)("Identifier")}}}),c("OptionalMemberExpression",{builder:["object","property","computed","optional"],visitor:["object","property"],aliases:["Expression"],fields:{object:{validate:(0,a.assertNodeType)("Expression")},property:{validate:(function(){const P=(0,a.assertNodeType)("Identifier"),S=(0,a.assertNodeType)("Expression");return Object.assign(function(I,_,D){(I.computed?S:P)(I,_,D)},{oneOfNodeTypes:["Expression","Identifier"]})})()},computed:{default:!1},optional:{validate:n.BABEL_TYPES_8_BREAKING?(0,a.chain)((0,a.assertValueType)("boolean"),(0,a.assertOptionalChainStart)()):(0,a.assertValueType)("boolean")}}}),c("OptionalCallExpression",{visitor:["callee","typeParameters","typeArguments","arguments"],builder:["callee","arguments","optional"],aliases:["Expression"],fields:Object.assign({callee:{validate:(0,a.assertNodeType)("Expression")},arguments:(0,a.validateArrayOfType)("Expression","SpreadElement","ArgumentPlaceholder"),optional:{validate:n.BABEL_TYPES_8_BREAKING?(0,a.chain)((0,a.assertValueType)("boolean"),(0,a.assertOptionalChainStart)()):(0,a.assertValueType)("boolean")},typeArguments:{validate:(0,a.assertNodeType)("TypeParameterInstantiation"),optional:!0}},{typeParameters:{validate:(0,a.assertNodeType)("TSTypeParameterInstantiation"),optional:!0}})}),c("ClassProperty",Object.assign({visitor:["decorators","variance","key","typeAnnotation","value"],builder:["key","value","typeAnnotation","decorators","computed","static"],aliases:["Property"]},l(),{fields:Object.assign({},w(),{value:{validate:(0,a.assertNodeType)("Expression"),optional:!0},definite:{validate:(0,a.assertValueType)("boolean"),optional:!0},typeAnnotation:{validate:(0,a.assertNodeType)("TypeAnnotation","TSTypeAnnotation","Noop"),optional:!0},decorators:{validate:(0,a.arrayOfType)("Decorator"),optional:!0},readonly:{validate:(0,a.assertValueType)("boolean"),optional:!0},declare:{validate:(0,a.assertValueType)("boolean"),optional:!0},variance:{validate:(0,a.assertNodeType)("Variance"),optional:!0}})})),c("ClassAccessorProperty",Object.assign({visitor:["decorators","key","typeAnnotation","value"],builder:["key","value","typeAnnotation","decorators","computed","static"],aliases:["Property","Accessor"]},l(!0),{fields:Object.assign({},w(),{key:{validate:(0,a.chain)((function(){const P=(0,a.assertNodeType)("Identifier","StringLiteral","NumericLiteral","BigIntLiteral","PrivateName"),S=(0,a.assertNodeType)("Expression");return function(C,I,_){(C.computed?S:P)(C,I,_)}})(),(0,a.assertNodeType)("Identifier","StringLiteral","NumericLiteral","BigIntLiteral","Expression","PrivateName"))},value:{validate:(0,a.assertNodeType)("Expression"),optional:!0},definite:{validate:(0,a.assertValueType)("boolean"),optional:!0},typeAnnotation:{validate:(0,a.assertNodeType)("TypeAnnotation","TSTypeAnnotation","Noop"),optional:!0},decorators:{validate:(0,a.arrayOfType)("Decorator"),optional:!0},readonly:{validate:(0,a.assertValueType)("boolean"),optional:!0},declare:{validate:(0,a.assertValueType)("boolean"),optional:!0},variance:{validate:(0,a.assertNodeType)("Variance"),optional:!0}})})),c("ClassPrivateProperty",{visitor:["decorators","variance","key","typeAnnotation","value"],builder:["key","value","decorators","static"],aliases:["Property","Private"],fields:{key:{validate:(0,a.assertNodeType)("PrivateName")},value:{validate:(0,a.assertNodeType)("Expression"),optional:!0},typeAnnotation:{validate:(0,a.assertNodeType)("TypeAnnotation","TSTypeAnnotation","Noop"),optional:!0},decorators:{validate:(0,a.arrayOfType)("Decorator"),optional:!0},static:{validate:(0,a.assertValueType)("boolean"),default:!1},readonly:{validate:(0,a.assertValueType)("boolean"),optional:!0},optional:{validate:(0,a.assertValueType)("boolean"),optional:!0},definite:{validate:(0,a.assertValueType)("boolean"),optional:!0},variance:{validate:(0,a.assertNodeType)("Variance"),optional:!0}}}),c("ClassPrivateMethod",{builder:["kind","key","params","body","static"],visitor:["decorators","key","typeParameters","params","returnType","body"],aliases:["Function","Scopable","BlockParent","FunctionParent","Method","Private"],fields:Object.assign({},A(),d(),{kind:{validate:(0,a.assertOneOf)("get","set","method"),default:"method"},key:{validate:(0,a.assertNodeType)("PrivateName")},body:{validate:(0,a.assertNodeType)("BlockStatement")}})}),c("PrivateName",{visitor:["id"],aliases:["Private"],fields:{id:{validate:(0,a.assertNodeType)("Identifier")}}}),c("StaticBlock",{visitor:["body"],fields:{body:(0,a.validateArrayOfType)("Statement")},aliases:["Scopable","BlockParent","FunctionParent"]}),c("ImportAttribute",{visitor:["key","value"],fields:{key:{validate:(0,a.assertNodeType)("Identifier","StringLiteral")},value:{validate:(0,a.assertNodeType)("StringLiteral")}}}),Xr}var vI={},TI;function xre(){if(TI)return vI;TI=1;var n=Dv(),e=Zu();const t=(0,e.defineAliasedType)("Flow"),r=s=>{const i=s==="DeclareClass";t(s,{builder:["id","typeParameters","extends","body"],visitor:["id","typeParameters","extends",...i?["mixins","implements"]:[],"body"],aliases:["FlowDeclaration","Statement","Declaration"],fields:Object.assign({id:(0,e.validateType)("Identifier"),typeParameters:(0,e.validateOptionalType)("TypeParameterDeclaration"),extends:(0,e.validateOptional)((0,e.arrayOfType)("InterfaceExtends"))},i?{mixins:(0,e.validateOptional)((0,e.arrayOfType)("InterfaceExtends")),implements:(0,e.validateOptional)((0,e.arrayOfType)("ClassImplements"))}:{},{body:(0,e.validateType)("ObjectTypeAnnotation")})})};return t("AnyTypeAnnotation",{aliases:["FlowType","FlowBaseAnnotation"]}),t("ArrayTypeAnnotation",{visitor:["elementType"],aliases:["FlowType"],fields:{elementType:(0,e.validateType)("FlowType")}}),t("BooleanTypeAnnotation",{aliases:["FlowType","FlowBaseAnnotation"]}),t("BooleanLiteralTypeAnnotation",{builder:["value"],aliases:["FlowType"],fields:{value:(0,e.validate)((0,e.assertValueType)("boolean"))}}),t("NullLiteralTypeAnnotation",{aliases:["FlowType","FlowBaseAnnotation"]}),t("ClassImplements",{visitor:["id","typeParameters"],fields:{id:(0,e.validateType)("Identifier"),typeParameters:(0,e.validateOptionalType)("TypeParameterInstantiation")}}),r("DeclareClass"),t("DeclareFunction",{builder:["id"],visitor:["id","predicate"],aliases:["FlowDeclaration","Statement","Declaration"],fields:{id:(0,e.validateType)("Identifier"),predicate:(0,e.validateOptionalType)("DeclaredPredicate")}}),r("DeclareInterface"),t("DeclareModule",{builder:["id","body","kind"],visitor:["id","body"],aliases:["FlowDeclaration","Statement","Declaration"],fields:{id:(0,e.validateType)("Identifier","StringLiteral"),body:(0,e.validateType)("BlockStatement"),kind:(0,e.validateOptional)((0,e.assertOneOf)("CommonJS","ES"))}}),t("DeclareModuleExports",{visitor:["typeAnnotation"],aliases:["FlowDeclaration","Statement","Declaration"],fields:{typeAnnotation:(0,e.validateType)("TypeAnnotation")}}),t("DeclareTypeAlias",{visitor:["id","typeParameters","right"],aliases:["FlowDeclaration","Statement","Declaration"],fields:{id:(0,e.validateType)("Identifier"),typeParameters:(0,e.validateOptionalType)("TypeParameterDeclaration"),right:(0,e.validateType)("FlowType")}}),t("DeclareOpaqueType",{visitor:["id","typeParameters","supertype"],aliases:["FlowDeclaration","Statement","Declaration"],fields:{id:(0,e.validateType)("Identifier"),typeParameters:(0,e.validateOptionalType)("TypeParameterDeclaration"),supertype:(0,e.validateOptionalType)("FlowType"),impltype:(0,e.validateOptionalType)("FlowType")}}),t("DeclareVariable",{visitor:["id"],aliases:["FlowDeclaration","Statement","Declaration"],fields:{id:(0,e.validateType)("Identifier")}}),t("DeclareExportDeclaration",{visitor:["declaration","specifiers","source","attributes"],aliases:["FlowDeclaration","Statement","Declaration"],fields:Object.assign({declaration:(0,e.validateOptionalType)("Flow"),specifiers:(0,e.validateOptional)((0,e.arrayOfType)("ExportSpecifier","ExportNamespaceSpecifier")),source:(0,e.validateOptionalType)("StringLiteral"),default:(0,e.validateOptional)((0,e.assertValueType)("boolean"))},n.importAttributes)}),t("DeclareExportAllDeclaration",{visitor:["source","attributes"],aliases:["FlowDeclaration","Statement","Declaration"],fields:Object.assign({source:(0,e.validateType)("StringLiteral"),exportKind:(0,e.validateOptional)((0,e.assertOneOf)("type","value"))},n.importAttributes)}),t("DeclaredPredicate",{visitor:["value"],aliases:["FlowPredicate"],fields:{value:(0,e.validateType)("Flow")}}),t("ExistsTypeAnnotation",{aliases:["FlowType"]}),t("FunctionTypeAnnotation",{builder:["typeParameters","params","rest","returnType"],visitor:["typeParameters","this","params","rest","returnType"],aliases:["FlowType"],fields:{typeParameters:(0,e.validateOptionalType)("TypeParameterDeclaration"),params:(0,e.validateArrayOfType)("FunctionTypeParam"),rest:(0,e.validateOptionalType)("FunctionTypeParam"),this:(0,e.validateOptionalType)("FunctionTypeParam"),returnType:(0,e.validateType)("FlowType")}}),t("FunctionTypeParam",{visitor:["name","typeAnnotation"],fields:{name:(0,e.validateOptionalType)("Identifier"),typeAnnotation:(0,e.validateType)("FlowType"),optional:(0,e.validateOptional)((0,e.assertValueType)("boolean"))}}),t("GenericTypeAnnotation",{visitor:["id","typeParameters"],aliases:["FlowType"],fields:{id:(0,e.validateType)("Identifier","QualifiedTypeIdentifier"),typeParameters:(0,e.validateOptionalType)("TypeParameterInstantiation")}}),t("InferredPredicate",{aliases:["FlowPredicate"]}),t("InterfaceExtends",{visitor:["id","typeParameters"],fields:{id:(0,e.validateType)("Identifier","QualifiedTypeIdentifier"),typeParameters:(0,e.validateOptionalType)("TypeParameterInstantiation")}}),r("InterfaceDeclaration"),t("InterfaceTypeAnnotation",{visitor:["extends","body"],aliases:["FlowType"],fields:{extends:(0,e.validateOptional)((0,e.arrayOfType)("InterfaceExtends")),body:(0,e.validateType)("ObjectTypeAnnotation")}}),t("IntersectionTypeAnnotation",{visitor:["types"],aliases:["FlowType"],fields:{types:(0,e.validate)((0,e.arrayOfType)("FlowType"))}}),t("MixedTypeAnnotation",{aliases:["FlowType","FlowBaseAnnotation"]}),t("EmptyTypeAnnotation",{aliases:["FlowType","FlowBaseAnnotation"]}),t("NullableTypeAnnotation",{visitor:["typeAnnotation"],aliases:["FlowType"],fields:{typeAnnotation:(0,e.validateType)("FlowType")}}),t("NumberLiteralTypeAnnotation",{builder:["value"],aliases:["FlowType"],fields:{value:(0,e.validate)((0,e.assertValueType)("number"))}}),t("NumberTypeAnnotation",{aliases:["FlowType","FlowBaseAnnotation"]}),t("ObjectTypeAnnotation",{visitor:["properties","indexers","callProperties","internalSlots"],aliases:["FlowType"],builder:["properties","indexers","callProperties","internalSlots","exact"],fields:{properties:(0,e.validate)((0,e.arrayOfType)("ObjectTypeProperty","ObjectTypeSpreadProperty")),indexers:{validate:(0,e.arrayOfType)("ObjectTypeIndexer"),optional:!0,default:[]},callProperties:{validate:(0,e.arrayOfType)("ObjectTypeCallProperty"),optional:!0,default:[]},internalSlots:{validate:(0,e.arrayOfType)("ObjectTypeInternalSlot"),optional:!0,default:[]},exact:{validate:(0,e.assertValueType)("boolean"),default:!1},inexact:(0,e.validateOptional)((0,e.assertValueType)("boolean"))}}),t("ObjectTypeInternalSlot",{visitor:["id","value"],builder:["id","value","optional","static","method"],aliases:["UserWhitespacable"],fields:{id:(0,e.validateType)("Identifier"),value:(0,e.validateType)("FlowType"),optional:(0,e.validate)((0,e.assertValueType)("boolean")),static:(0,e.validate)((0,e.assertValueType)("boolean")),method:(0,e.validate)((0,e.assertValueType)("boolean"))}}),t("ObjectTypeCallProperty",{visitor:["value"],aliases:["UserWhitespacable"],fields:{value:(0,e.validateType)("FlowType"),static:(0,e.validate)((0,e.assertValueType)("boolean"))}}),t("ObjectTypeIndexer",{visitor:["variance","id","key","value"],builder:["id","key","value","variance"],aliases:["UserWhitespacable"],fields:{id:(0,e.validateOptionalType)("Identifier"),key:(0,e.validateType)("FlowType"),value:(0,e.validateType)("FlowType"),static:(0,e.validate)((0,e.assertValueType)("boolean")),variance:(0,e.validateOptionalType)("Variance")}}),t("ObjectTypeProperty",{visitor:["key","value","variance"],aliases:["UserWhitespacable"],fields:{key:(0,e.validateType)("Identifier","StringLiteral"),value:(0,e.validateType)("FlowType"),kind:(0,e.validate)((0,e.assertOneOf)("init","get","set")),static:(0,e.validate)((0,e.assertValueType)("boolean")),proto:(0,e.validate)((0,e.assertValueType)("boolean")),optional:(0,e.validate)((0,e.assertValueType)("boolean")),variance:(0,e.validateOptionalType)("Variance"),method:(0,e.validate)((0,e.assertValueType)("boolean"))}}),t("ObjectTypeSpreadProperty",{visitor:["argument"],aliases:["UserWhitespacable"],fields:{argument:(0,e.validateType)("FlowType")}}),t("OpaqueType",{visitor:["id","typeParameters","supertype","impltype"],aliases:["FlowDeclaration","Statement","Declaration"],fields:{id:(0,e.validateType)("Identifier"),typeParameters:(0,e.validateOptionalType)("TypeParameterDeclaration"),supertype:(0,e.validateOptionalType)("FlowType"),impltype:(0,e.validateType)("FlowType")}}),t("QualifiedTypeIdentifier",{visitor:["qualification","id"],builder:["id","qualification"],fields:{id:(0,e.validateType)("Identifier"),qualification:(0,e.validateType)("Identifier","QualifiedTypeIdentifier")}}),t("StringLiteralTypeAnnotation",{builder:["value"],aliases:["FlowType"],fields:{value:(0,e.validate)((0,e.assertValueType)("string"))}}),t("StringTypeAnnotation",{aliases:["FlowType","FlowBaseAnnotation"]}),t("SymbolTypeAnnotation",{aliases:["FlowType","FlowBaseAnnotation"]}),t("ThisTypeAnnotation",{aliases:["FlowType","FlowBaseAnnotation"]}),t("TupleTypeAnnotation",{visitor:["types"],aliases:["FlowType"],fields:{types:(0,e.validate)((0,e.arrayOfType)("FlowType"))}}),t("TypeofTypeAnnotation",{visitor:["argument"],aliases:["FlowType"],fields:{argument:(0,e.validateType)("FlowType")}}),t("TypeAlias",{visitor:["id","typeParameters","right"],aliases:["FlowDeclaration","Statement","Declaration"],fields:{id:(0,e.validateType)("Identifier"),typeParameters:(0,e.validateOptionalType)("TypeParameterDeclaration"),right:(0,e.validateType)("FlowType")}}),t("TypeAnnotation",{visitor:["typeAnnotation"],fields:{typeAnnotation:(0,e.validateType)("FlowType")}}),t("TypeCastExpression",{visitor:["expression","typeAnnotation"],aliases:["ExpressionWrapper","Expression"],fields:{expression:(0,e.validateType)("Expression"),typeAnnotation:(0,e.validateType)("TypeAnnotation")}}),t("TypeParameter",{visitor:["bound","default","variance"],fields:{name:(0,e.validate)((0,e.assertValueType)("string")),bound:(0,e.validateOptionalType)("TypeAnnotation"),default:(0,e.validateOptionalType)("FlowType"),variance:(0,e.validateOptionalType)("Variance")}}),t("TypeParameterDeclaration",{visitor:["params"],fields:{params:(0,e.validate)((0,e.arrayOfType)("TypeParameter"))}}),t("TypeParameterInstantiation",{visitor:["params"],fields:{params:(0,e.validate)((0,e.arrayOfType)("FlowType"))}}),t("UnionTypeAnnotation",{visitor:["types"],aliases:["FlowType"],fields:{types:(0,e.validate)((0,e.arrayOfType)("FlowType"))}}),t("Variance",{builder:["kind"],fields:{kind:(0,e.validate)((0,e.assertOneOf)("minus","plus"))}}),t("VoidTypeAnnotation",{aliases:["FlowType","FlowBaseAnnotation"]}),t("EnumDeclaration",{aliases:["Statement","Declaration"],visitor:["id","body"],fields:{id:(0,e.validateType)("Identifier"),body:(0,e.validateType)("EnumBooleanBody","EnumNumberBody","EnumStringBody","EnumSymbolBody")}}),t("EnumBooleanBody",{aliases:["EnumBody"],visitor:["members"],fields:{explicitType:(0,e.validate)((0,e.assertValueType)("boolean")),members:(0,e.validateArrayOfType)("EnumBooleanMember"),hasUnknownMembers:(0,e.validate)((0,e.assertValueType)("boolean"))}}),t("EnumNumberBody",{aliases:["EnumBody"],visitor:["members"],fields:{explicitType:(0,e.validate)((0,e.assertValueType)("boolean")),members:(0,e.validateArrayOfType)("EnumNumberMember"),hasUnknownMembers:(0,e.validate)((0,e.assertValueType)("boolean"))}}),t("EnumStringBody",{aliases:["EnumBody"],visitor:["members"],fields:{explicitType:(0,e.validate)((0,e.assertValueType)("boolean")),members:(0,e.validateArrayOfType)("EnumStringMember","EnumDefaultedMember"),hasUnknownMembers:(0,e.validate)((0,e.assertValueType)("boolean"))}}),t("EnumSymbolBody",{aliases:["EnumBody"],visitor:["members"],fields:{members:(0,e.validateArrayOfType)("EnumDefaultedMember"),hasUnknownMembers:(0,e.validate)((0,e.assertValueType)("boolean"))}}),t("EnumBooleanMember",{aliases:["EnumMember"],builder:["id"],visitor:["id","init"],fields:{id:(0,e.validateType)("Identifier"),init:(0,e.validateType)("BooleanLiteral")}}),t("EnumNumberMember",{aliases:["EnumMember"],visitor:["id","init"],fields:{id:(0,e.validateType)("Identifier"),init:(0,e.validateType)("NumericLiteral")}}),t("EnumStringMember",{aliases:["EnumMember"],visitor:["id","init"],fields:{id:(0,e.validateType)("Identifier"),init:(0,e.validateType)("StringLiteral")}}),t("EnumDefaultedMember",{aliases:["EnumMember"],visitor:["id"],fields:{id:(0,e.validateType)("Identifier")}}),t("IndexedAccessType",{visitor:["objectType","indexType"],aliases:["FlowType"],fields:{objectType:(0,e.validateType)("FlowType"),indexType:(0,e.validateType)("FlowType")}}),t("OptionalIndexedAccessType",{visitor:["objectType","indexType"],aliases:["FlowType"],fields:{objectType:(0,e.validateType)("FlowType"),indexType:(0,e.validateType)("FlowType"),optional:(0,e.validate)((0,e.assertValueType)("boolean"))}}),vI}var SI={},bI;function vre(){if(bI)return SI;bI=1;var n=Zu();const e=(0,n.defineAliasedType)("JSX");return e("JSXAttribute",{visitor:["name","value"],aliases:["Immutable"],fields:{name:{validate:(0,n.assertNodeType)("JSXIdentifier","JSXNamespacedName")},value:{optional:!0,validate:(0,n.assertNodeType)("JSXElement","JSXFragment","StringLiteral","JSXExpressionContainer")}}}),e("JSXClosingElement",{visitor:["name"],aliases:["Immutable"],fields:{name:{validate:(0,n.assertNodeType)("JSXIdentifier","JSXMemberExpression","JSXNamespacedName")}}}),e("JSXElement",{builder:["openingElement","closingElement","children","selfClosing"],visitor:["openingElement","children","closingElement"],aliases:["Immutable","Expression"],fields:Object.assign({openingElement:{validate:(0,n.assertNodeType)("JSXOpeningElement")},closingElement:{optional:!0,validate:(0,n.assertNodeType)("JSXClosingElement")},children:(0,n.validateArrayOfType)("JSXText","JSXExpressionContainer","JSXSpreadChild","JSXElement","JSXFragment")},{selfClosing:{validate:(0,n.assertValueType)("boolean"),optional:!0}})}),e("JSXEmptyExpression",{}),e("JSXExpressionContainer",{visitor:["expression"],aliases:["Immutable"],fields:{expression:{validate:(0,n.assertNodeType)("Expression","JSXEmptyExpression")}}}),e("JSXSpreadChild",{visitor:["expression"],aliases:["Immutable"],fields:{expression:{validate:(0,n.assertNodeType)("Expression")}}}),e("JSXIdentifier",{builder:["name"],fields:{name:{validate:(0,n.assertValueType)("string")}}}),e("JSXMemberExpression",{visitor:["object","property"],fields:{object:{validate:(0,n.assertNodeType)("JSXMemberExpression","JSXIdentifier")},property:{validate:(0,n.assertNodeType)("JSXIdentifier")}}}),e("JSXNamespacedName",{visitor:["namespace","name"],fields:{namespace:{validate:(0,n.assertNodeType)("JSXIdentifier")},name:{validate:(0,n.assertNodeType)("JSXIdentifier")}}}),e("JSXOpeningElement",{builder:["name","attributes","selfClosing"],visitor:["name","typeParameters","typeArguments","attributes"],aliases:["Immutable"],fields:Object.assign({name:{validate:(0,n.assertNodeType)("JSXIdentifier","JSXMemberExpression","JSXNamespacedName")},selfClosing:{default:!1},attributes:(0,n.validateArrayOfType)("JSXAttribute","JSXSpreadAttribute"),typeArguments:{validate:(0,n.assertNodeType)("TypeParameterInstantiation"),optional:!0}},{typeParameters:{validate:(0,n.assertNodeType)("TSTypeParameterInstantiation"),optional:!0}})}),e("JSXSpreadAttribute",{visitor:["argument"],fields:{argument:{validate:(0,n.assertNodeType)("Expression")}}}),e("JSXText",{aliases:["Immutable"],builder:["value"],fields:{value:{validate:(0,n.assertValueType)("string")}}}),e("JSXFragment",{builder:["openingFragment","closingFragment","children"],visitor:["openingFragment","children","closingFragment"],aliases:["Immutable","Expression"],fields:{openingFragment:{validate:(0,n.assertNodeType)("JSXOpeningFragment")},closingFragment:{validate:(0,n.assertNodeType)("JSXClosingFragment")},children:(0,n.validateArrayOfType)("JSXText","JSXExpressionContainer","JSXSpreadChild","JSXElement","JSXFragment")}}),e("JSXOpeningFragment",{aliases:["Immutable"]}),e("JSXClosingFragment",{aliases:["Immutable"]}),SI}var wI={},Mu={},EI;function R4(){if(EI)return Mu;EI=1,Object.defineProperty(Mu,"__esModule",{value:!0}),Mu.PLACEHOLDERS_FLIPPED_ALIAS=Mu.PLACEHOLDERS_ALIAS=Mu.PLACEHOLDERS=void 0;var n=Zu();const e=Mu.PLACEHOLDERS=["Identifier","StringLiteral","Expression","Statement","Declaration","BlockStatement","ClassBody","Pattern"],t=Mu.PLACEHOLDERS_ALIAS={Declaration:["Statement"],Pattern:["PatternLike","LVal"]};for(const s of e){const i=n.ALIAS_KEYS[s];i!=null&&i.length&&(t[s]=i)}const r=Mu.PLACEHOLDERS_FLIPPED_ALIAS={};return Object.keys(t).forEach(s=>{t[s].forEach(i=>{hasOwnProperty.call(r,i)||(r[i]=[]),r[i].push(s)})}),Mu}var PI;function Tre(){if(PI)return wI;PI=1;var n=Zu(),e=R4(),t=Dv();const r=(0,n.defineAliasedType)("Miscellaneous");return r("Noop",{visitor:[]}),r("Placeholder",{visitor:[],builder:["expectedNode","name"],fields:Object.assign({name:{validate:(0,n.assertNodeType)("Identifier")},expectedNode:{validate:(0,n.assertOneOf)(...e.PLACEHOLDERS)}},(0,t.patternLikeCommon)())}),r("V8IntrinsicIdentifier",{builder:["name"],fields:{name:{validate:(0,n.assertValueType)("string")}}}),wI}var AI={},NI;function Sre(){if(NI)return AI;NI=1;var n={},e=Zu();return(0,e.default)("ArgumentPlaceholder",{}),(0,e.default)("BindExpression",{visitor:["object","callee"],aliases:["Expression"],fields:n.BABEL_TYPES_8_BREAKING?{object:{validate:(0,e.assertNodeType)("Expression")},callee:{validate:(0,e.assertNodeType)("Expression")}}:{object:{validate:Object.assign(()=>{},{oneOfNodeTypes:["Expression"]})},callee:{validate:Object.assign(()=>{},{oneOfNodeTypes:["Expression"]})}}}),(0,e.default)("Decorator",{visitor:["expression"],fields:{expression:{validate:(0,e.assertNodeType)("Expression")}}}),(0,e.default)("DoExpression",{visitor:["body"],builder:["body","async"],aliases:["Expression"],fields:{body:{validate:(0,e.assertNodeType)("BlockStatement")},async:{validate:(0,e.assertValueType)("boolean"),default:!1}}}),(0,e.default)("ExportDefaultSpecifier",{visitor:["exported"],aliases:["ModuleSpecifier"],fields:{exported:{validate:(0,e.assertNodeType)("Identifier")}}}),(0,e.default)("RecordExpression",{visitor:["properties"],aliases:["Expression"],fields:{properties:(0,e.validateArrayOfType)("ObjectProperty","SpreadElement")}}),(0,e.default)("TupleExpression",{fields:{elements:{validate:(0,e.arrayOfType)("Expression","SpreadElement"),default:[]}},visitor:["elements"],aliases:["Expression"]}),(0,e.default)("DecimalLiteral",{builder:["value"],fields:{value:{validate:(0,e.assertValueType)("string")}},aliases:["Expression","Pureish","Literal","Immutable"]}),(0,e.default)("ModuleExpression",{visitor:["body"],fields:{body:{validate:(0,e.assertNodeType)("Program")}},aliases:["Expression"]}),(0,e.default)("TopicReference",{aliases:["Expression"]}),(0,e.default)("PipelineTopicExpression",{builder:["expression"],visitor:["expression"],fields:{expression:{validate:(0,e.assertNodeType)("Expression")}},aliases:["Expression"]}),(0,e.default)("PipelineBareFunction",{builder:["callee"],visitor:["callee"],fields:{callee:{validate:(0,e.assertNodeType)("Expression")}},aliases:["Expression"]}),(0,e.default)("PipelinePrimaryTopicReference",{aliases:["Expression"]}),(0,e.default)("VoidPattern",{aliases:["Pattern","PatternLike","FunctionParameter"]}),AI}var _I={},CI;function bre(){if(CI)return _I;CI=1;var n=Zu(),e=Dv(),t=Gm();const r=(0,n.defineAliasedType)("TypeScript"),s=(0,n.assertValueType)("boolean"),i=()=>({returnType:{validate:(0,n.assertNodeType)("TSTypeAnnotation","Noop"),optional:!0},typeParameters:{validate:(0,n.assertNodeType)("TSTypeParameterDeclaration","Noop"),optional:!0}});r("TSParameterProperty",{aliases:["LVal"],visitor:["parameter"],fields:{accessibility:{validate:(0,n.assertOneOf)("public","private","protected"),optional:!0},readonly:{validate:(0,n.assertValueType)("boolean"),optional:!0},parameter:{validate:(0,n.assertNodeType)("Identifier","AssignmentPattern")},override:{validate:(0,n.assertValueType)("boolean"),optional:!0},decorators:{validate:(0,n.arrayOfType)("Decorator"),optional:!0}}}),r("TSDeclareFunction",{aliases:["Statement","Declaration"],visitor:["id","typeParameters","params","returnType"],fields:Object.assign({},(0,e.functionDeclarationCommon)(),i())}),r("TSDeclareMethod",Object.assign({visitor:["decorators","key","typeParameters","params","returnType"]},(0,e.classMethodOrPropertyUnionShapeCommon)(),{fields:Object.assign({},(0,e.classMethodOrDeclareMethodCommon)(),i())})),r("TSQualifiedName",{aliases:["TSEntityName"],visitor:["left","right"],fields:{left:(0,n.validateType)("TSEntityName"),right:(0,n.validateType)("Identifier")}});const a=()=>({typeParameters:(0,n.validateOptionalType)("TSTypeParameterDeclaration"),parameters:(0,n.validateArrayOfType)("ArrayPattern","Identifier","ObjectPattern","RestElement"),typeAnnotation:(0,n.validateOptionalType)("TSTypeAnnotation")}),l={aliases:["TSTypeElement"],visitor:["typeParameters","parameters","typeAnnotation"],fields:a()};r("TSCallSignatureDeclaration",l),r("TSConstructSignatureDeclaration",l);const c=()=>({key:(0,n.validateType)("Expression"),computed:{default:!1},optional:(0,n.validateOptional)(s)});r("TSPropertySignature",{aliases:["TSTypeElement"],visitor:["key","typeAnnotation"],fields:Object.assign({},c(),{readonly:(0,n.validateOptional)(s),typeAnnotation:(0,n.validateOptionalType)("TSTypeAnnotation"),kind:{optional:!0,validate:(0,n.assertOneOf)("get","set")}})}),r("TSMethodSignature",{aliases:["TSTypeElement"],visitor:["key","typeParameters","parameters","typeAnnotation"],fields:Object.assign({},a(),c(),{kind:{validate:(0,n.assertOneOf)("method","get","set")}})}),r("TSIndexSignature",{aliases:["TSTypeElement"],visitor:["parameters","typeAnnotation"],fields:{readonly:(0,n.validateOptional)(s),static:(0,n.validateOptional)(s),parameters:(0,n.validateArrayOfType)("Identifier"),typeAnnotation:(0,n.validateOptionalType)("TSTypeAnnotation")}});const p=["TSAnyKeyword","TSBooleanKeyword","TSBigIntKeyword","TSIntrinsicKeyword","TSNeverKeyword","TSNullKeyword","TSNumberKeyword","TSObjectKeyword","TSStringKeyword","TSSymbolKeyword","TSUndefinedKeyword","TSUnknownKeyword","TSVoidKeyword"];for(const x of p)r(x,{aliases:["TSType","TSBaseType"],visitor:[],fields:{}});r("TSThisType",{aliases:["TSType","TSBaseType"],visitor:[],fields:{}});const d={aliases:["TSType"],visitor:["typeParameters","parameters","typeAnnotation"]};r("TSFunctionType",Object.assign({},d,{fields:a()})),r("TSConstructorType",Object.assign({},d,{fields:Object.assign({},a(),{abstract:(0,n.validateOptional)(s)})})),r("TSTypeReference",{aliases:["TSType"],visitor:["typeName","typeParameters"],fields:{typeName:(0,n.validateType)("TSEntityName"),typeParameters:(0,n.validateOptionalType)("TSTypeParameterInstantiation")}}),r("TSTypePredicate",{aliases:["TSType"],visitor:["parameterName","typeAnnotation"],builder:["parameterName","typeAnnotation","asserts"],fields:{parameterName:(0,n.validateType)("Identifier","TSThisType"),typeAnnotation:(0,n.validateOptionalType)("TSTypeAnnotation"),asserts:(0,n.validateOptional)(s)}}),r("TSTypeQuery",{aliases:["TSType"],visitor:["exprName","typeParameters"],fields:{exprName:(0,n.validateType)("TSEntityName","TSImportType"),typeParameters:(0,n.validateOptionalType)("TSTypeParameterInstantiation")}}),r("TSTypeLiteral",{aliases:["TSType"],visitor:["members"],fields:{members:(0,n.validateArrayOfType)("TSTypeElement")}}),r("TSArrayType",{aliases:["TSType"],visitor:["elementType"],fields:{elementType:(0,n.validateType)("TSType")}}),r("TSTupleType",{aliases:["TSType"],visitor:["elementTypes"],fields:{elementTypes:(0,n.validateArrayOfType)("TSType","TSNamedTupleMember")}}),r("TSOptionalType",{aliases:["TSType"],visitor:["typeAnnotation"],fields:{typeAnnotation:(0,n.validateType)("TSType")}}),r("TSRestType",{aliases:["TSType"],visitor:["typeAnnotation"],fields:{typeAnnotation:(0,n.validateType)("TSType")}}),r("TSNamedTupleMember",{visitor:["label","elementType"],builder:["label","elementType","optional"],fields:{label:(0,n.validateType)("Identifier"),optional:{validate:s,default:!1},elementType:(0,n.validateType)("TSType")}});const h={aliases:["TSType"],visitor:["types"],fields:{types:(0,n.validateArrayOfType)("TSType")}};r("TSUnionType",h),r("TSIntersectionType",h),r("TSConditionalType",{aliases:["TSType"],visitor:["checkType","extendsType","trueType","falseType"],fields:{checkType:(0,n.validateType)("TSType"),extendsType:(0,n.validateType)("TSType"),trueType:(0,n.validateType)("TSType"),falseType:(0,n.validateType)("TSType")}}),r("TSInferType",{aliases:["TSType"],visitor:["typeParameter"],fields:{typeParameter:(0,n.validateType)("TSTypeParameter")}}),r("TSParenthesizedType",{aliases:["TSType"],visitor:["typeAnnotation"],fields:{typeAnnotation:(0,n.validateType)("TSType")}}),r("TSTypeOperator",{aliases:["TSType"],visitor:["typeAnnotation"],builder:["typeAnnotation","operator"],fields:{operator:{validate:(0,n.assertValueType)("string"),default:"keyof"},typeAnnotation:(0,n.validateType)("TSType")}}),r("TSIndexedAccessType",{aliases:["TSType"],visitor:["objectType","indexType"],fields:{objectType:(0,n.validateType)("TSType"),indexType:(0,n.validateType)("TSType")}}),r("TSMappedType",{aliases:["TSType"],visitor:["typeParameter","nameType","typeAnnotation"],builder:["typeParameter","typeAnnotation","nameType"],fields:Object.assign({},{typeParameter:(0,n.validateType)("TSTypeParameter")},{readonly:(0,n.validateOptional)((0,n.assertOneOf)(!0,!1,"+","-")),optional:(0,n.validateOptional)((0,n.assertOneOf)(!0,!1,"+","-")),typeAnnotation:(0,n.validateOptionalType)("TSType"),nameType:(0,n.validateOptionalType)("TSType")})}),r("TSTemplateLiteralType",{aliases:["TSType","TSBaseType"],visitor:["quasis","types"],fields:{quasis:(0,n.validateArrayOfType)("TemplateElement"),types:{validate:(0,n.chain)((0,n.assertValueType)("array"),(0,n.assertEach)((0,n.assertNodeType)("TSType")),function(x,w,A){if(x.quasis.length!==A.length+1)throw new TypeError(`Number of ${x.type} quasis should be exactly one more than the number of types.
Expected ${A.length+1} quasis but got ${x.quasis.length}`)})}}}),r("TSLiteralType",{aliases:["TSType","TSBaseType"],visitor:["literal"],fields:{literal:{validate:(function(){const x=(0,n.assertNodeType)("NumericLiteral","BigIntLiteral"),w=(0,n.assertOneOf)("-"),A=(0,n.assertNodeType)("NumericLiteral","StringLiteral","BooleanLiteral","BigIntLiteral","TemplateLiteral"),P=function(C,I,_){(0,t.default)("UnaryExpression",_)?(w(_,"operator",_.operator),x(_,"argument",_.argument)):A(C,I,_)};return P.oneOfNodeTypes=["NumericLiteral","StringLiteral","BooleanLiteral","BigIntLiteral","TemplateLiteral","UnaryExpression"],P})()}}}),r("TSExpressionWithTypeArguments",{aliases:["TSType"],visitor:["expression","typeParameters"],fields:{expression:(0,n.validateType)("TSEntityName"),typeParameters:(0,n.validateOptionalType)("TSTypeParameterInstantiation")}}),r("TSInterfaceDeclaration",{aliases:["Statement","Declaration"],visitor:["id","typeParameters","extends","body"],fields:{declare:(0,n.validateOptional)(s),id:(0,n.validateType)("Identifier"),typeParameters:(0,n.validateOptionalType)("TSTypeParameterDeclaration"),extends:(0,n.validateOptional)((0,n.arrayOfType)("TSExpressionWithTypeArguments")),body:(0,n.validateType)("TSInterfaceBody")}}),r("TSInterfaceBody",{visitor:["body"],fields:{body:(0,n.validateArrayOfType)("TSTypeElement")}}),r("TSTypeAliasDeclaration",{aliases:["Statement","Declaration"],visitor:["id","typeParameters","typeAnnotation"],fields:{declare:(0,n.validateOptional)(s),id:(0,n.validateType)("Identifier"),typeParameters:(0,n.validateOptionalType)("TSTypeParameterDeclaration"),typeAnnotation:(0,n.validateType)("TSType")}}),r("TSInstantiationExpression",{aliases:["Expression"],visitor:["expression","typeParameters"],fields:{expression:(0,n.validateType)("Expression"),typeParameters:(0,n.validateOptionalType)("TSTypeParameterInstantiation")}});const m={aliases:["Expression","LVal","PatternLike"],visitor:["expression","typeAnnotation"],fields:{expression:(0,n.validateType)("Expression"),typeAnnotation:(0,n.validateType)("TSType")}};return r("TSAsExpression",m),r("TSSatisfiesExpression",m),r("TSTypeAssertion",{aliases:["Expression","LVal","PatternLike"],visitor:["typeAnnotation","expression"],fields:{typeAnnotation:(0,n.validateType)("TSType"),expression:(0,n.validateType)("Expression")}}),r("TSEnumBody",{visitor:["members"],fields:{members:(0,n.validateArrayOfType)("TSEnumMember")}}),r("TSEnumDeclaration",{aliases:["Statement","Declaration"],visitor:["id","members"],fields:{declare:(0,n.validateOptional)(s),const:(0,n.validateOptional)(s),id:(0,n.validateType)("Identifier"),members:(0,n.validateArrayOfType)("TSEnumMember"),initializer:(0,n.validateOptionalType)("Expression"),body:(0,n.validateOptionalType)("TSEnumBody")}}),r("TSEnumMember",{visitor:["id","initializer"],fields:{id:(0,n.validateType)("Identifier","StringLiteral"),initializer:(0,n.validateOptionalType)("Expression")}}),r("TSModuleDeclaration",{aliases:["Statement","Declaration"],visitor:["id","body"],fields:Object.assign({kind:{validate:(0,n.assertOneOf)("global","module","namespace")},declare:(0,n.validateOptional)(s)},{global:(0,n.validateOptional)(s)},{id:(0,n.validateType)("Identifier","StringLiteral"),body:(0,n.validateType)("TSModuleBlock","TSModuleDeclaration")})}),r("TSModuleBlock",{aliases:["Scopable","Block","BlockParent","FunctionParent"],visitor:["body"],fields:{body:(0,n.validateArrayOfType)("Statement")}}),r("TSImportType",{aliases:["TSType"],builder:["argument","qualifier","typeParameters"],visitor:["argument","options","qualifier","typeParameters"],fields:Object.assign({},{argument:(0,n.validateType)("StringLiteral")},{qualifier:(0,n.validateOptionalType)("TSEntityName")},{typeParameters:(0,n.validateOptionalType)("TSTypeParameterInstantiation")},{options:{validate:(0,n.assertNodeType)("ObjectExpression"),optional:!0}})}),r("TSImportEqualsDeclaration",{aliases:["Statement","Declaration"],visitor:["id","moduleReference"],fields:Object.assign({},{isExport:(0,n.validate)(s)},{id:(0,n.validateType)("Identifier"),moduleReference:(0,n.validateType)("TSEntityName","TSExternalModuleReference"),importKind:{validate:(0,n.assertOneOf)("type","value"),optional:!0}})}),r("TSExternalModuleReference",{visitor:["expression"],fields:{expression:(0,n.validateType)("StringLiteral")}}),r("TSNonNullExpression",{aliases:["Expression","LVal","PatternLike"],visitor:["expression"],fields:{expression:(0,n.validateType)("Expression")}}),r("TSExportAssignment",{aliases:["Statement"],visitor:["expression"],fields:{expression:(0,n.validateType)("Expression")}}),r("TSNamespaceExportDeclaration",{aliases:["Statement"],visitor:["id"],fields:{id:(0,n.validateType)("Identifier")}}),r("TSTypeAnnotation",{visitor:["typeAnnotation"],fields:{typeAnnotation:{validate:(0,n.assertNodeType)("TSType")}}}),r("TSTypeParameterInstantiation",{visitor:["params"],fields:{params:(0,n.validateArrayOfType)("TSType")}}),r("TSTypeParameterDeclaration",{visitor:["params"],fields:{params:(0,n.validateArrayOfType)("TSTypeParameter")}}),r("TSTypeParameter",{builder:["constraint","default","name"],visitor:["constraint","default"],fields:{name:{validate:(0,n.assertValueType)("string")},in:{validate:(0,n.assertValueType)("boolean"),optional:!0},out:{validate:(0,n.assertValueType)("boolean"),optional:!0},const:{validate:(0,n.assertValueType)("boolean"),optional:!0},constraint:{validate:(0,n.assertNodeType)("TSType"),optional:!0},default:{validate:(0,n.assertNodeType)("TSType"),optional:!0}}}),_I}var Ih={},II;function wre(){return II||(II=1,Object.defineProperty(Ih,"__esModule",{value:!0}),Ih.DEPRECATED_ALIASES=void 0,Ih.DEPRECATED_ALIASES={ModuleDeclaration:"ImportOrExportDeclaration"}),Ih}var MI;function il(){return MI||(MI=1,(function(n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"ALIAS_KEYS",{enumerable:!0,get:function(){return e.ALIAS_KEYS}}),Object.defineProperty(n,"BUILDER_KEYS",{enumerable:!0,get:function(){return e.BUILDER_KEYS}}),Object.defineProperty(n,"DEPRECATED_ALIASES",{enumerable:!0,get:function(){return r.DEPRECATED_ALIASES}}),Object.defineProperty(n,"DEPRECATED_KEYS",{enumerable:!0,get:function(){return e.DEPRECATED_KEYS}}),Object.defineProperty(n,"FLIPPED_ALIAS_KEYS",{enumerable:!0,get:function(){return e.FLIPPED_ALIAS_KEYS}}),Object.defineProperty(n,"NODE_FIELDS",{enumerable:!0,get:function(){return e.NODE_FIELDS}}),Object.defineProperty(n,"NODE_PARENT_VALIDATIONS",{enumerable:!0,get:function(){return e.NODE_PARENT_VALIDATIONS}}),Object.defineProperty(n,"NODE_UNION_SHAPES__PRIVATE",{enumerable:!0,get:function(){return e.NODE_UNION_SHAPES__PRIVATE}}),Object.defineProperty(n,"PLACEHOLDERS",{enumerable:!0,get:function(){return t.PLACEHOLDERS}}),Object.defineProperty(n,"PLACEHOLDERS_ALIAS",{enumerable:!0,get:function(){return t.PLACEHOLDERS_ALIAS}}),Object.defineProperty(n,"PLACEHOLDERS_FLIPPED_ALIAS",{enumerable:!0,get:function(){return t.PLACEHOLDERS_FLIPPED_ALIAS}}),n.TYPES=void 0,Object.defineProperty(n,"VISITOR_KEYS",{enumerable:!0,get:function(){return e.VISITOR_KEYS}}),Dv(),xre(),vre(),Tre(),Sre(),bre();var e=Zu(),t=R4(),r=wre();Object.keys(r.DEPRECATED_ALIASES).forEach(s=>{e.FLIPPED_ALIAS_KEYS[s]=e.FLIPPED_ALIAS_KEYS[r.DEPRECATED_ALIASES[s]]});for(const{types:s,set:i}of e.allExpandedTypes)for(const a of s){const l=e.FLIPPED_ALIAS_KEYS[a];l?l.forEach(i.add,i):i.add(a)}n.TYPES=[].concat(Object.keys(e.VISITOR_KEYS),Object.keys(e.FLIPPED_ALIAS_KEYS),Object.keys(e.DEPRECATED_KEYS))})(bb)),bb}var kI;function mP(){if(kI)return Dp;kI=1,Object.defineProperty(Dp,"__esModule",{value:!0}),Dp.default=e,Dp.validateChild=s,Dp.validateField=r,Dp.validateInternal=t;var n=il();function e(i,a,l){if(!i)return;const c=n.NODE_FIELDS[i.type];if(!c)return;const p=c[a];r(i,a,l,p),s(i,a,l)}function t(i,a,l,c,p){if(i!=null&&i.validate&&!(i.optional&&c==null)&&(i.validate(a,l,c),p)){var d;const h=c.type;if(h==null)return;(d=n.NODE_PARENT_VALIDATIONS[h])==null||d.call(n.NODE_PARENT_VALIDATIONS,a,l,c)}}function r(i,a,l,c){c!=null&&c.validate&&(c.optional&&l==null||c.validate(i,a,l))}function s(i,a,l){var c;const p=l?.type;p!=null&&((c=n.NODE_PARENT_VALIDATIONS[p])==null||c.call(n.NODE_PARENT_VALIDATIONS,i,a,l))}return Dp}var OI;function F4(){if(OI)return fe;OI=1,Object.defineProperty(fe,"__esModule",{value:!0}),fe.anyTypeAnnotation=qs,fe.argumentPlaceholder=ou,fe.arrayExpression=a,fe.arrayPattern=jt,fe.arrayTypeAnnotation=Oi,fe.arrowFunctionExpression=qt,fe.assignmentExpression=l,fe.assignmentPattern=Et,fe.awaitExpression=Ht,fe.bigIntLiteral=i,fe.binaryExpression=c,fe.bindExpression=xo,fe.blockStatement=m,fe.booleanLiteral=re,fe.booleanLiteralTypeAnnotation=gr,fe.booleanTypeAnnotation=ai,fe.breakStatement=x,fe.callExpression=w,fe.catchClause=A,fe.classAccessorProperty=Kn,fe.classBody=mn,fe.classDeclaration=Me,fe.classExpression=Fe,fe.classImplements=Zr,fe.classMethod=Xe,fe.classPrivateMethod=yr,fe.classPrivateProperty=br,fe.classProperty=Zn,fe.conditionalExpression=P,fe.continueStatement=S,fe.debuggerStatement=C,fe.decimalLiteral=Hi,fe.declareClass=oi,fe.declareExportAllDeclaration=ts,fe.declareExportDeclaration=es,fe.declareFunction=Qr,fe.declareInterface=Lr,fe.declareModule=Li,fe.declareModuleExports=li,fe.declareOpaqueType=xa,fe.declareTypeAlias=Di,fe.declareVariable=En,fe.declaredPredicate=va,fe.decorator=_a,fe.directive=d,fe.directiveLiteral=h,fe.doExpression=Wi,fe.doWhileStatement=I,fe.emptyStatement=_,fe.emptyTypeAnnotation=Es,fe.enumBooleanBody=wa,fe.enumBooleanMember=ji,fe.enumDeclaration=su,fe.enumDefaultedMember=di,fe.enumNumberBody=Vi,fe.enumNumberMember=Lt,fe.enumStringBody=mo,fe.enumStringMember=iu,fe.enumSymbolBody=cl,fe.existsTypeAnnotation=ui,fe.exportAllDeclaration=ce,fe.exportDefaultDeclaration=we,fe.exportDefaultSpecifier=Ca,fe.exportNamedDeclaration=De,fe.exportNamespaceSpecifier=_n,fe.exportSpecifier=$e,fe.expressionStatement=D,fe.file=F,fe.forInStatement=O,fe.forOfStatement=nt,fe.forStatement=L,fe.functionDeclaration=B,fe.functionExpression=j,fe.functionTypeAnnotation=oo,fe.functionTypeParam=Ta,fe.genericTypeAnnotation=ns,fe.identifier=M,fe.ifStatement=ee,fe.import=tn,fe.importAttribute=fs,fe.importDeclaration=ot,fe.importDefaultSpecifier=Zt,fe.importExpression=xn,fe.importNamespaceSpecifier=fn,fe.importSpecifier=ut,fe.indexedAccessType=zi,fe.inferredPredicate=Dr,fe.interfaceDeclaration=Er,fe.interfaceExtends=Sa,fe.interfaceTypeAnnotation=$s,fe.interpreterDirective=p,fe.intersectionTypeAnnotation=Rr,fe.jSXAttribute=fe.jsxAttribute=Ea,fe.jSXClosingElement=fe.jsxClosingElement=au,fe.jSXClosingFragment=fe.jsxClosingFragment=pr,fe.jSXElement=fe.jsxElement=pl,fe.jSXEmptyExpression=fe.jsxEmptyExpression=yo,fe.jSXExpressionContainer=fe.jsxExpressionContainer=Ui,fe.jSXFragment=fe.jsxFragment=Na,fe.jSXIdentifier=fe.jsxIdentifier=dl,fe.jSXMemberExpression=fe.jsxMemberExpression=ks,fe.jSXNamespacedName=fe.jsxNamespacedName=Aa,fe.jSXOpeningElement=fe.jsxOpeningElement=qi,fe.jSXOpeningFragment=fe.jsxOpeningFragment=hl,fe.jSXSpreadAttribute=fe.jsxSpreadAttribute=fl,fe.jSXSpreadChild=fe.jsxSpreadChild=Pa,fe.jSXText=fe.jsxText=$i,fe.labeledStatement=ue,fe.logicalExpression=H,fe.memberExpression=Q,fe.metaProperty=Be,fe.mixedTypeAnnotation=lo,fe.moduleExpression=yl,fe.newExpression=W,fe.noop=hi,fe.nullLiteral=oe,fe.nullLiteralTypeAnnotation=wr,fe.nullableTypeAnnotation=ci,fe.numberLiteral=ic,fe.numberLiteralTypeAnnotation=hs,fe.numberTypeAnnotation=ms,fe.numericLiteral=ae,fe.objectExpression=Z,fe.objectMethod=se,fe.objectPattern=de,fe.objectProperty=me,fe.objectTypeAnnotation=Ri,fe.objectTypeCallProperty=Fi,fe.objectTypeIndexer=Ps,fe.objectTypeInternalSlot=uo,fe.objectTypeProperty=pi,fe.objectTypeSpreadProperty=As,fe.opaqueType=Ns,fe.optionalCallExpression=Hn,fe.optionalIndexedAccessType=fi,fe.optionalMemberExpression=Jn,fe.parenthesizedExpression=Le,fe.pipelineBareFunction=y,fe.pipelinePrimaryTopicReference=o,fe.pipelineTopicExpression=G,fe.placeholder=go,fe.privateName=Jr,fe.program=Y,fe.qualifiedTypeIdentifier=co,fe.recordExpression=ml,fe.regExpLiteral=X,fe.regexLiteral=ac,fe.restElement=Ce,fe.restProperty=oc,fe.returnStatement=be,fe.sequenceExpression=Se,fe.spreadElement=Ke,fe.spreadProperty=lc,fe.staticBlock=Ot,fe.stringLiteral=J,fe.stringLiteralTypeAnnotation=hn,fe.stringTypeAnnotation=ol,fe.super=ht,fe.switchCase=Ue,fe.switchStatement=st,fe.symbolTypeAnnotation=ll,fe.taggedTemplateExpression=ve,fe.templateElement=at,fe.templateLiteral=Pt,fe.thisExpression=Ze,fe.thisTypeAnnotation=po,fe.throwStatement=it,fe.topicReference=vo,fe.tryStatement=pt,fe.tSAnyKeyword=fe.tsAnyKeyword=bt,fe.tSArrayType=fe.tsArrayType=Sl,fe.tSAsExpression=fe.tsAsExpression=Mo,fe.tSBigIntKeyword=fe.tsBigIntKeyword=yn,fe.tSBooleanKeyword=fe.tsBooleanKeyword=Rt,fe.tSCallSignatureDeclaration=fe.tsCallSignatureDeclaration=ye,fe.tSConditionalType=fe.tsConditionalType=wl,fe.tSConstructSignatureDeclaration=fe.tsConstructSignatureDeclaration=Pe,fe.tSConstructorType=fe.tsConstructorType=wo,fe.tSDeclareFunction=fe.tsDeclareFunction=k,fe.tSDeclareMethod=fe.tsDeclareMethod=ne,fe.tSEnumBody=fe.tsEnumBody=tc,fe.tSEnumDeclaration=fe.tsEnumDeclaration=nc,fe.tSEnumMember=fe.tsEnumMember=uu,fe.tSExportAssignment=fe.tsExportAssignment=rc,fe.tSExpressionWithTypeArguments=fe.tsExpressionWithTypeArguments=Pl,fe.tSExternalModuleReference=fe.tsExternalModuleReference=ko,fe.tSFunctionType=fe.tsFunctionType=bo,fe.tSImportEqualsDeclaration=fe.tsImportEqualsDeclaration=cu,fe.tSImportType=fe.tsImportType=Oa,fe.tSIndexSignature=fe.tsIndexSignature=mt,fe.tSIndexedAccessType=fe.tsIndexedAccessType=_o,fe.tSInferType=fe.tsInferType=No,fe.tSInstantiationExpression=fe.tsInstantiationExpression=gs,fe.tSInterfaceBody=fe.tsInterfaceBody=Nl,fe.tSInterfaceDeclaration=fe.tsInterfaceDeclaration=Al,fe.tSIntersectionType=fe.tsIntersectionType=Ki,fe.tSIntrinsicKeyword=fe.tsIntrinsicKeyword=Ln,fe.tSLiteralType=fe.tsLiteralType=El,fe.tSMappedType=fe.tsMappedType=Co,fe.tSMethodSignature=fe.tsMethodSignature=Je,fe.tSModuleBlock=fe.tsModuleBlock=up,fe.tSModuleDeclaration=fe.tsModuleDeclaration=lp,fe.tSNamedTupleMember=fe.tsNamedTupleMember=gi,fe.tSNamespaceExportDeclaration=fe.tsNamespaceExportDeclaration=_l,fe.tSNeverKeyword=fe.tsNeverKeyword=nn,fe.tSNonNullExpression=fe.tsNonNullExpression=pu,fe.tSNullKeyword=fe.tsNullKeyword=Cn,fe.tSNumberKeyword=fe.tsNumberKeyword=Hs,fe.tSObjectKeyword=fe.tsObjectKeyword=Os,fe.tSOptionalType=fe.tsOptionalType=Ao,fe.tSParameterProperty=fe.tsParameterProperty=b,fe.tSParenthesizedType=fe.tsParenthesizedType=Ma,fe.tSPropertySignature=fe.tsPropertySignature=Ie,fe.tSQualifiedName=fe.tsQualifiedName=le,fe.tSRestType=fe.tsRestType=yi,fe.tSSatisfiesExpression=fe.tsSatisfiesExpression=Qu,fe.tSStringKeyword=fe.tsStringKeyword=gl,fe.tSSymbolKeyword=fe.tsSymbolKeyword=Ia,fe.tSTemplateLiteralType=fe.tsTemplateLiteralType=Io,fe.tSThisType=fe.tsThisType=So,fe.tSTupleType=fe.tsTupleType=Po,fe.tSTypeAliasDeclaration=fe.tsTypeAliasDeclaration=op,fe.tSTypeAnnotation=fe.tsTypeAnnotation=La,fe.tSTypeAssertion=fe.tsTypeAssertion=ec,fe.tSTypeLiteral=fe.tsTypeLiteral=Tl,fe.tSTypeOperator=fe.tsTypeOperator=ka,fe.tSTypeParameter=fe.tsTypeParameter=Cl,fe.tSTypeParameterDeclaration=fe.tsTypeParameterDeclaration=sc,fe.tSTypeParameterInstantiation=fe.tsTypeParameterInstantiation=du,fe.tSTypePredicate=fe.tsTypePredicate=Ks,fe.tSTypeQuery=fe.tsTypeQuery=vl,fe.tSTypeReference=fe.tsTypeReference=Eo,fe.tSUndefinedKeyword=fe.tsUndefinedKeyword=mi,fe.tSUnionType=fe.tsUnionType=bl,fe.tSUnknownKeyword=fe.tsUnknownKeyword=xl,fe.tSVoidKeyword=fe.tsVoidKeyword=To,fe.tupleExpression=lu,fe.tupleTypeAnnotation=Bi,fe.typeAlias=ul,fe.typeAnnotation=ho,fe.typeCastExpression=ba,fe.typeParameter=_s,fe.typeParameterDeclaration=ys,fe.typeParameterInstantiation=Cs,fe.typeofTypeAnnotation=fo,fe.unaryExpression=It,fe.unionTypeAnnotation=Is,fe.updateExpression=ct,fe.v8IntrinsicIdentifier=Ws,fe.variableDeclaration=Ye,fe.variableDeclarator=We,fe.variance=Ms,fe.voidPattern=g,fe.voidTypeAnnotation=rs,fe.whileStatement=rt,fe.withStatement=St,fe.yieldExpression=Mt;var n=mP(),e=Xm(),t=Zu();const{validateInternal:r}=n,{NODE_FIELDS:s}=t;function i(V){typeof V=="bigint"&&(V=V.toString());const z={type:"BigIntLiteral",value:V},$=s.BigIntLiteral;return r($.value,z,"value",V),z}function a(V=[]){const z={type:"ArrayExpression",elements:V},$=s.ArrayExpression;return r($.elements,z,"elements",V,1),z}function l(V,z,$){const ie={type:"AssignmentExpression",operator:V,left:z,right:$},Te=s.AssignmentExpression;return r(Te.operator,ie,"operator",V),r(Te.left,ie,"left",z,1),r(Te.right,ie,"right",$,1),ie}function c(V,z,$){const ie={type:"BinaryExpression",operator:V,left:z,right:$},Te=s.BinaryExpression;return r(Te.operator,ie,"operator",V),r(Te.left,ie,"left",z,1),r(Te.right,ie,"right",$,1),ie}function p(V){const z={type:"InterpreterDirective",value:V},$=s.InterpreterDirective;return r($.value,z,"value",V),z}function d(V){const z={type:"Directive",value:V},$=s.Directive;return r($.value,z,"value",V,1),z}function h(V){const z={type:"DirectiveLiteral",value:V},$=s.DirectiveLiteral;return r($.value,z,"value",V),z}function m(V,z=[]){const $={type:"BlockStatement",body:V,directives:z},ie=s.BlockStatement;return r(ie.body,$,"body",V,1),r(ie.directives,$,"directives",z,1),$}function x(V=null){const z={type:"BreakStatement",label:V},$=s.BreakStatement;return r($.label,z,"label",V,1),z}function w(V,z){const $={type:"CallExpression",callee:V,arguments:z},ie=s.CallExpression;return r(ie.callee,$,"callee",V,1),r(ie.arguments,$,"arguments",z,1),$}function A(V=null,z){const $={type:"CatchClause",param:V,body:z},ie=s.CatchClause;return r(ie.param,$,"param",V,1),r(ie.body,$,"body",z,1),$}function P(V,z,$){const ie={type:"ConditionalExpression",test:V,consequent:z,alternate:$},Te=s.ConditionalExpression;return r(Te.test,ie,"test",V,1),r(Te.consequent,ie,"consequent",z,1),r(Te.alternate,ie,"alternate",$,1),ie}function S(V=null){const z={type:"ContinueStatement",label:V},$=s.ContinueStatement;return r($.label,z,"label",V,1),z}function C(){return{type:"DebuggerStatement"}}function I(V,z){const $={type:"DoWhileStatement",test:V,body:z},ie=s.DoWhileStatement;return r(ie.test,$,"test",V,1),r(ie.body,$,"body",z,1),$}function _(){return{type:"EmptyStatement"}}function D(V){const z={type:"ExpressionStatement",expression:V},$=s.ExpressionStatement;return r($.expression,z,"expression",V,1),z}function F(V,z=null,$=null){const ie={type:"File",program:V,comments:z,tokens:$},Te=s.File;return r(Te.program,ie,"program",V,1),r(Te.comments,ie,"comments",z,1),r(Te.tokens,ie,"tokens",$),ie}function O(V,z,$){const ie={type:"ForInStatement",left:V,right:z,body:$},Te=s.ForInStatement;return r(Te.left,ie,"left",V,1),r(Te.right,ie,"right",z,1),r(Te.body,ie,"body",$,1),ie}function L(V=null,z=null,$=null,ie){const Te={type:"ForStatement",init:V,test:z,update:$,body:ie},ze=s.ForStatement;return r(ze.init,Te,"init",V,1),r(ze.test,Te,"test",z,1),r(ze.update,Te,"update",$,1),r(ze.body,Te,"body",ie,1),Te}function B(V=null,z,$,ie=!1,Te=!1){const ze={type:"FunctionDeclaration",id:V,params:z,body:$,generator:ie,async:Te},Ut=s.FunctionDeclaration;return r(Ut.id,ze,"id",V,1),r(Ut.params,ze,"params",z,1),r(Ut.body,ze,"body",$,1),r(Ut.generator,ze,"generator",ie),r(Ut.async,ze,"async",Te),ze}function j(V=null,z,$,ie=!1,Te=!1){const ze={type:"FunctionExpression",id:V,params:z,body:$,generator:ie,async:Te},Ut=s.FunctionExpression;return r(Ut.id,ze,"id",V,1),r(Ut.params,ze,"params",z,1),r(Ut.body,ze,"body",$,1),r(Ut.generator,ze,"generator",ie),r(Ut.async,ze,"async",Te),ze}function M(V){const z={type:"Identifier",name:V},$=s.Identifier;return r($.name,z,"name",V),z}function ee(V,z,$=null){const ie={type:"IfStatement",test:V,consequent:z,alternate:$},Te=s.IfStatement;return r(Te.test,ie,"test",V,1),r(Te.consequent,ie,"consequent",z,1),r(Te.alternate,ie,"alternate",$,1),ie}function ue(V,z){const $={type:"LabeledStatement",label:V,body:z},ie=s.LabeledStatement;return r(ie.label,$,"label",V,1),r(ie.body,$,"body",z,1),$}function J(V){const z={type:"StringLiteral",value:V},$=s.StringLiteral;return r($.value,z,"value",V),z}function ae(V){const z={type:"NumericLiteral",value:V},$=s.NumericLiteral;return r($.value,z,"value",V),z}function oe(){return{type:"NullLiteral"}}function re(V){const z={type:"BooleanLiteral",value:V},$=s.BooleanLiteral;return r($.value,z,"value",V),z}function X(V,z=""){const $={type:"RegExpLiteral",pattern:V,flags:z},ie=s.RegExpLiteral;return r(ie.pattern,$,"pattern",V),r(ie.flags,$,"flags",z),$}function H(V,z,$){const ie={type:"LogicalExpression",operator:V,left:z,right:$},Te=s.LogicalExpression;return r(Te.operator,ie,"operator",V),r(Te.left,ie,"left",z,1),r(Te.right,ie,"right",$,1),ie}function Q(V,z,$=!1,ie=null){const Te={type:"MemberExpression",object:V,property:z,computed:$,optional:ie},ze=s.MemberExpression;return r(ze.object,Te,"object",V,1),r(ze.property,Te,"property",z,1),r(ze.computed,Te,"computed",$),r(ze.optional,Te,"optional",ie),Te}function W(V,z){const $={type:"NewExpression",callee:V,arguments:z},ie=s.NewExpression;return r(ie.callee,$,"callee",V,1),r(ie.arguments,$,"arguments",z,1),$}function Y(V,z=[],$="script",ie=null){const Te={type:"Program",body:V,directives:z,sourceType:$,interpreter:ie},ze=s.Program;return r(ze.body,Te,"body",V,1),r(ze.directives,Te,"directives",z,1),r(ze.sourceType,Te,"sourceType",$),r(ze.interpreter,Te,"interpreter",ie,1),Te}function Z(V){const z={type:"ObjectExpression",properties:V},$=s.ObjectExpression;return r($.properties,z,"properties",V,1),z}function se(V="method",z,$,ie,Te=!1,ze=!1,Ut=!1){const In={type:"ObjectMethod",kind:V,key:z,params:$,body:ie,computed:Te,generator:ze,async:Ut},dr=s.ObjectMethod;return r(dr.kind,In,"kind",V),r(dr.key,In,"key",z,1),r(dr.params,In,"params",$,1),r(dr.body,In,"body",ie,1),r(dr.computed,In,"computed",Te),r(dr.generator,In,"generator",ze),r(dr.async,In,"async",Ut),In}function me(V,z,$=!1,ie=!1,Te=null){const ze={type:"ObjectProperty",key:V,value:z,computed:$,shorthand:ie,decorators:Te},Ut=s.ObjectProperty;return r(Ut.key,ze,"key",V,1),r(Ut.value,ze,"value",z,1),r(Ut.computed,ze,"computed",$),r(Ut.shorthand,ze,"shorthand",ie),r(Ut.decorators,ze,"decorators",Te,1),ze}function Ce(V){const z={type:"RestElement",argument:V},$=s.RestElement;return r($.argument,z,"argument",V,1),z}function be(V=null){const z={type:"ReturnStatement",argument:V},$=s.ReturnStatement;return r($.argument,z,"argument",V,1),z}function Se(V){const z={type:"SequenceExpression",expressions:V},$=s.SequenceExpression;return r($.expressions,z,"expressions",V,1),z}function Le(V){const z={type:"ParenthesizedExpression",expression:V},$=s.ParenthesizedExpression;return r($.expression,z,"expression",V,1),z}function Ue(V=null,z){const $={type:"SwitchCase",test:V,consequent:z},ie=s.SwitchCase;return r(ie.test,$,"test",V,1),r(ie.consequent,$,"consequent",z,1),$}function st(V,z){const $={type:"SwitchStatement",discriminant:V,cases:z},ie=s.SwitchStatement;return r(ie.discriminant,$,"discriminant",V,1),r(ie.cases,$,"cases",z,1),$}function Ze(){return{type:"ThisExpression"}}function it(V){const z={type:"ThrowStatement",argument:V},$=s.ThrowStatement;return r($.argument,z,"argument",V,1),z}function pt(V,z=null,$=null){const ie={type:"TryStatement",block:V,handler:z,finalizer:$},Te=s.TryStatement;return r(Te.block,ie,"block",V,1),r(Te.handler,ie,"handler",z,1),r(Te.finalizer,ie,"finalizer",$,1),ie}function It(V,z,$=!0){const ie={type:"UnaryExpression",operator:V,argument:z,prefix:$},Te=s.UnaryExpression;return r(Te.operator,ie,"operator",V),r(Te.argument,ie,"argument",z,1),r(Te.prefix,ie,"prefix",$),ie}function ct(V,z,$=!1){const ie={type:"UpdateExpression",operator:V,argument:z,prefix:$},Te=s.UpdateExpression;return r(Te.operator,ie,"operator",V),r(Te.argument,ie,"argument",z,1),r(Te.prefix,ie,"prefix",$),ie}function Ye(V,z){const $={type:"VariableDeclaration",kind:V,declarations:z},ie=s.VariableDeclaration;return r(ie.kind,$,"kind",V),r(ie.declarations,$,"declarations",z,1),$}function We(V,z=null){const $={type:"VariableDeclarator",id:V,init:z},ie=s.VariableDeclarator;return r(ie.id,$,"id",V,1),r(ie.init,$,"init",z,1),$}function rt(V,z){const $={type:"WhileStatement",test:V,body:z},ie=s.WhileStatement;return r(ie.test,$,"test",V,1),r(ie.body,$,"body",z,1),$}function St(V,z){const $={type:"WithStatement",object:V,body:z},ie=s.WithStatement;return r(ie.object,$,"object",V,1),r(ie.body,$,"body",z,1),$}function Et(V,z){const $={type:"AssignmentPattern",left:V,right:z},ie=s.AssignmentPattern;return r(ie.left,$,"left",V,1),r(ie.right,$,"right",z,1),$}function jt(V){const z={type:"ArrayPattern",elements:V},$=s.ArrayPattern;return r($.elements,z,"elements",V,1),z}function qt(V,z,$=!1){const ie={type:"ArrowFunctionExpression",params:V,body:z,async:$,expression:null},Te=s.ArrowFunctionExpression;return r(Te.params,ie,"params",V,1),r(Te.body,ie,"body",z,1),r(Te.async,ie,"async",$),ie}function mn(V){const z={type:"ClassBody",body:V},$=s.ClassBody;return r($.body,z,"body",V,1),z}function Fe(V=null,z=null,$,ie=null){const Te={type:"ClassExpression",id:V,superClass:z,body:$,decorators:ie},ze=s.ClassExpression;return r(ze.id,Te,"id",V,1),r(ze.superClass,Te,"superClass",z,1),r(ze.body,Te,"body",$,1),r(ze.decorators,Te,"decorators",ie,1),Te}function Me(V=null,z=null,$,ie=null){const Te={type:"ClassDeclaration",id:V,superClass:z,body:$,decorators:ie},ze=s.ClassDeclaration;return r(ze.id,Te,"id",V,1),r(ze.superClass,Te,"superClass",z,1),r(ze.body,Te,"body",$,1),r(ze.decorators,Te,"decorators",ie,1),Te}function ce(V,z=null){const $={type:"ExportAllDeclaration",source:V,attributes:z},ie=s.ExportAllDeclaration;return r(ie.source,$,"source",V,1),r(ie.attributes,$,"attributes",z,1),$}function we(V){const z={type:"ExportDefaultDeclaration",declaration:V},$=s.ExportDefaultDeclaration;return r($.declaration,z,"declaration",V,1),z}function De(V=null,z=[],$=null,ie=null){const Te={type:"ExportNamedDeclaration",declaration:V,specifiers:z,source:$,attributes:ie},ze=s.ExportNamedDeclaration;return r(ze.declaration,Te,"declaration",V,1),r(ze.specifiers,Te,"specifiers",z,1),r(ze.source,Te,"source",$,1),r(ze.attributes,Te,"attributes",ie,1),Te}function $e(V,z){const $={type:"ExportSpecifier",local:V,exported:z},ie=s.ExportSpecifier;return r(ie.local,$,"local",V,1),r(ie.exported,$,"exported",z,1),$}function nt(V,z,$,ie=!1){const Te={type:"ForOfStatement",left:V,right:z,body:$,await:ie},ze=s.ForOfStatement;return r(ze.left,Te,"left",V,1),r(ze.right,Te,"right",z,1),r(ze.body,Te,"body",$,1),r(ze.await,Te,"await",ie),Te}function ot(V,z,$=null){const ie={type:"ImportDeclaration",specifiers:V,source:z,attributes:$},Te=s.ImportDeclaration;return r(Te.specifiers,ie,"specifiers",V,1),r(Te.source,ie,"source",z,1),r(Te.attributes,ie,"attributes",$,1),ie}function Zt(V){const z={type:"ImportDefaultSpecifier",local:V},$=s.ImportDefaultSpecifier;return r($.local,z,"local",V,1),z}function fn(V){const z={type:"ImportNamespaceSpecifier",local:V},$=s.ImportNamespaceSpecifier;return r($.local,z,"local",V,1),z}function ut(V,z){const $={type:"ImportSpecifier",local:V,imported:z},ie=s.ImportSpecifier;return r(ie.local,$,"local",V,1),r(ie.imported,$,"imported",z,1),$}function xn(V,z=null){const $={type:"ImportExpression",source:V,options:z},ie=s.ImportExpression;return r(ie.source,$,"source",V,1),r(ie.options,$,"options",z,1),$}function Be(V,z){const $={type:"MetaProperty",meta:V,property:z},ie=s.MetaProperty;return r(ie.meta,$,"meta",V,1),r(ie.property,$,"property",z,1),$}function Xe(V="method",z,$,ie,Te=!1,ze=!1,Ut=!1,In=!1){const dr={type:"ClassMethod",kind:V,key:z,params:$,body:ie,computed:Te,static:ze,generator:Ut,async:In},Xs=s.ClassMethod;return r(Xs.kind,dr,"kind",V),r(Xs.key,dr,"key",z,1),r(Xs.params,dr,"params",$,1),r(Xs.body,dr,"body",ie,1),r(Xs.computed,dr,"computed",Te),r(Xs.static,dr,"static",ze),r(Xs.generator,dr,"generator",Ut),r(Xs.async,dr,"async",In),dr}function de(V){const z={type:"ObjectPattern",properties:V},$=s.ObjectPattern;return r($.properties,z,"properties",V,1),z}function Ke(V){const z={type:"SpreadElement",argument:V},$=s.SpreadElement;return r($.argument,z,"argument",V,1),z}function ht(){return{type:"Super"}}function ve(V,z){const $={type:"TaggedTemplateExpression",tag:V,quasi:z},ie=s.TaggedTemplateExpression;return r(ie.tag,$,"tag",V,1),r(ie.quasi,$,"quasi",z,1),$}function at(V,z=!1){const $={type:"TemplateElement",value:V,tail:z},ie=s.TemplateElement;return r(ie.value,$,"value",V),r(ie.tail,$,"tail",z),$}function Pt(V,z){const $={type:"TemplateLiteral",quasis:V,expressions:z},ie=s.TemplateLiteral;return r(ie.quasis,$,"quasis",V,1),r(ie.expressions,$,"expressions",z,1),$}function Mt(V=null,z=!1){const $={type:"YieldExpression",argument:V,delegate:z},ie=s.YieldExpression;return r(ie.argument,$,"argument",V,1),r(ie.delegate,$,"delegate",z),$}function Ht(V){const z={type:"AwaitExpression",argument:V},$=s.AwaitExpression;return r($.argument,z,"argument",V,1),z}function tn(){return{type:"Import"}}function _n(V){const z={type:"ExportNamespaceSpecifier",exported:V},$=s.ExportNamespaceSpecifier;return r($.exported,z,"exported",V,1),z}function Jn(V,z,$=!1,ie){const Te={type:"OptionalMemberExpression",object:V,property:z,computed:$,optional:ie},ze=s.OptionalMemberExpression;return r(ze.object,Te,"object",V,1),r(ze.property,Te,"property",z,1),r(ze.computed,Te,"computed",$),r(ze.optional,Te,"optional",ie),Te}function Hn(V,z,$){const ie={type:"OptionalCallExpression",callee:V,arguments:z,optional:$},Te=s.OptionalCallExpression;return r(Te.callee,ie,"callee",V,1),r(Te.arguments,ie,"arguments",z,1),r(Te.optional,ie,"optional",$),ie}function Zn(V,z=null,$=null,ie=null,Te=!1,ze=!1){const Ut={type:"ClassProperty",key:V,value:z,typeAnnotation:$,decorators:ie,computed:Te,static:ze},In=s.ClassProperty;return r(In.key,Ut,"key",V,1),r(In.value,Ut,"value",z,1),r(In.typeAnnotation,Ut,"typeAnnotation",$,1),r(In.decorators,Ut,"decorators",ie,1),r(In.computed,Ut,"computed",Te),r(In.static,Ut,"static",ze),Ut}function Kn(V,z=null,$=null,ie=null,Te=!1,ze=!1){const Ut={type:"ClassAccessorProperty",key:V,value:z,typeAnnotation:$,decorators:ie,computed:Te,static:ze},In=s.ClassAccessorProperty;return r(In.key,Ut,"key",V,1),r(In.value,Ut,"value",z,1),r(In.typeAnnotation,Ut,"typeAnnotation",$,1),r(In.decorators,Ut,"decorators",ie,1),r(In.computed,Ut,"computed",Te),r(In.static,Ut,"static",ze),Ut}function br(V,z=null,$=null,ie=!1){const Te={type:"ClassPrivateProperty",key:V,value:z,decorators:$,static:ie},ze=s.ClassPrivateProperty;return r(ze.key,Te,"key",V,1),r(ze.value,Te,"value",z,1),r(ze.decorators,Te,"decorators",$,1),r(ze.static,Te,"static",ie),Te}function yr(V="method",z,$,ie,Te=!1){const ze={type:"ClassPrivateMethod",kind:V,key:z,params:$,body:ie,static:Te},Ut=s.ClassPrivateMethod;return r(Ut.kind,ze,"kind",V),r(Ut.key,ze,"key",z,1),r(Ut.params,ze,"params",$,1),r(Ut.body,ze,"body",ie,1),r(Ut.static,ze,"static",Te),ze}function Jr(V){const z={type:"PrivateName",id:V},$=s.PrivateName;return r($.id,z,"id",V,1),z}function Ot(V){const z={type:"StaticBlock",body:V},$=s.StaticBlock;return r($.body,z,"body",V,1),z}function fs(V,z){const $={type:"ImportAttribute",key:V,value:z},ie=s.ImportAttribute;return r(ie.key,$,"key",V,1),r(ie.value,$,"value",z,1),$}function qs(){return{type:"AnyTypeAnnotation"}}function Oi(V){const z={type:"ArrayTypeAnnotation",elementType:V},$=s.ArrayTypeAnnotation;return r($.elementType,z,"elementType",V,1),z}function ai(){return{type:"BooleanTypeAnnotation"}}function gr(V){const z={type:"BooleanLiteralTypeAnnotation",value:V},$=s.BooleanLiteralTypeAnnotation;return r($.value,z,"value",V),z}function wr(){return{type:"NullLiteralTypeAnnotation"}}function Zr(V,z=null){const $={type:"ClassImplements",id:V,typeParameters:z},ie=s.ClassImplements;return r(ie.id,$,"id",V,1),r(ie.typeParameters,$,"typeParameters",z,1),$}function oi(V,z=null,$=null,ie){const Te={type:"DeclareClass",id:V,typeParameters:z,extends:$,body:ie},ze=s.DeclareClass;return r(ze.id,Te,"id",V,1),r(ze.typeParameters,Te,"typeParameters",z,1),r(ze.extends,Te,"extends",$,1),r(ze.body,Te,"body",ie,1),Te}function Qr(V){const z={type:"DeclareFunction",id:V},$=s.DeclareFunction;return r($.id,z,"id",V,1),z}function Lr(V,z=null,$=null,ie){const Te={type:"DeclareInterface",id:V,typeParameters:z,extends:$,body:ie},ze=s.DeclareInterface;return r(ze.id,Te,"id",V,1),r(ze.typeParameters,Te,"typeParameters",z,1),r(ze.extends,Te,"extends",$,1),r(ze.body,Te,"body",ie,1),Te}function Li(V,z,$=null){const ie={type:"DeclareModule",id:V,body:z,kind:$},Te=s.DeclareModule;return r(Te.id,ie,"id",V,1),r(Te.body,ie,"body",z,1),r(Te.kind,ie,"kind",$),ie}function li(V){const z={type:"DeclareModuleExports",typeAnnotation:V},$=s.DeclareModuleExports;return r($.typeAnnotation,z,"typeAnnotation",V,1),z}function Di(V,z=null,$){const ie={type:"DeclareTypeAlias",id:V,typeParameters:z,right:$},Te=s.DeclareTypeAlias;return r(Te.id,ie,"id",V,1),r(Te.typeParameters,ie,"typeParameters",z,1),r(Te.right,ie,"right",$,1),ie}function xa(V,z=null,$=null){const ie={type:"DeclareOpaqueType",id:V,typeParameters:z,supertype:$},Te=s.DeclareOpaqueType;return r(Te.id,ie,"id",V,1),r(Te.typeParameters,ie,"typeParameters",z,1),r(Te.supertype,ie,"supertype",$,1),ie}function En(V){const z={type:"DeclareVariable",id:V},$=s.DeclareVariable;return r($.id,z,"id",V,1),z}function es(V=null,z=null,$=null,ie=null){const Te={type:"DeclareExportDeclaration",declaration:V,specifiers:z,source:$,attributes:ie},ze=s.DeclareExportDeclaration;return r(ze.declaration,Te,"declaration",V,1),r(ze.specifiers,Te,"specifiers",z,1),r(ze.source,Te,"source",$,1),r(ze.attributes,Te,"attributes",ie,1),Te}function ts(V,z=null){const $={type:"DeclareExportAllDeclaration",source:V,attributes:z},ie=s.DeclareExportAllDeclaration;return r(ie.source,$,"source",V,1),r(ie.attributes,$,"attributes",z,1),$}function va(V){const z={type:"DeclaredPredicate",value:V},$=s.DeclaredPredicate;return r($.value,z,"value",V,1),z}function ui(){return{type:"ExistsTypeAnnotation"}}function oo(V=null,z,$=null,ie){const Te={type:"FunctionTypeAnnotation",typeParameters:V,params:z,rest:$,returnType:ie},ze=s.FunctionTypeAnnotation;return r(ze.typeParameters,Te,"typeParameters",V,1),r(ze.params,Te,"params",z,1),r(ze.rest,Te,"rest",$,1),r(ze.returnType,Te,"returnType",ie,1),Te}function Ta(V=null,z){const $={type:"FunctionTypeParam",name:V,typeAnnotation:z},ie=s.FunctionTypeParam;return r(ie.name,$,"name",V,1),r(ie.typeAnnotation,$,"typeAnnotation",z,1),$}function ns(V,z=null){const $={type:"GenericTypeAnnotation",id:V,typeParameters:z},ie=s.GenericTypeAnnotation;return r(ie.id,$,"id",V,1),r(ie.typeParameters,$,"typeParameters",z,1),$}function Dr(){return{type:"InferredPredicate"}}function Sa(V,z=null){const $={type:"InterfaceExtends",id:V,typeParameters:z},ie=s.InterfaceExtends;return r(ie.id,$,"id",V,1),r(ie.typeParameters,$,"typeParameters",z,1),$}function Er(V,z=null,$=null,ie){const Te={type:"InterfaceDeclaration",id:V,typeParameters:z,extends:$,body:ie},ze=s.InterfaceDeclaration;return r(ze.id,Te,"id",V,1),r(ze.typeParameters,Te,"typeParameters",z,1),r(ze.extends,Te,"extends",$,1),r(ze.body,Te,"body",ie,1),Te}function $s(V=null,z){const $={type:"InterfaceTypeAnnotation",extends:V,body:z},ie=s.InterfaceTypeAnnotation;return r(ie.extends,$,"extends",V,1),r(ie.body,$,"body",z,1),$}function Rr(V){const z={type:"IntersectionTypeAnnotation",types:V},$=s.IntersectionTypeAnnotation;return r($.types,z,"types",V,1),z}function lo(){return{type:"MixedTypeAnnotation"}}function Es(){return{type:"EmptyTypeAnnotation"}}function ci(V){const z={type:"NullableTypeAnnotation",typeAnnotation:V},$=s.NullableTypeAnnotation;return r($.typeAnnotation,z,"typeAnnotation",V,1),z}function hs(V){const z={type:"NumberLiteralTypeAnnotation",value:V},$=s.NumberLiteralTypeAnnotation;return r($.value,z,"value",V),z}function ms(){return{type:"NumberTypeAnnotation"}}function Ri(V,z=[],$=[],ie=[],Te=!1){const ze={type:"ObjectTypeAnnotation",properties:V,indexers:z,callProperties:$,internalSlots:ie,exact:Te},Ut=s.ObjectTypeAnnotation;return r(Ut.properties,ze,"properties",V,1),r(Ut.indexers,ze,"indexers",z,1),r(Ut.callProperties,ze,"callProperties",$,1),r(Ut.internalSlots,ze,"internalSlots",ie,1),r(Ut.exact,ze,"exact",Te),ze}function uo(V,z,$,ie,Te){const ze={type:"ObjectTypeInternalSlot",id:V,value:z,optional:$,static:ie,method:Te},Ut=s.ObjectTypeInternalSlot;return r(Ut.id,ze,"id",V,1),r(Ut.value,ze,"value",z,1),r(Ut.optional,ze,"optional",$),r(Ut.static,ze,"static",ie),r(Ut.method,ze,"method",Te),ze}function Fi(V){const z={type:"ObjectTypeCallProperty",value:V,static:null},$=s.ObjectTypeCallProperty;return r($.value,z,"value",V,1),z}function Ps(V=null,z,$,ie=null){const Te={type:"ObjectTypeIndexer",id:V,key:z,value:$,variance:ie,static:null},ze=s.ObjectTypeIndexer;return r(ze.id,Te,"id",V,1),r(ze.key,Te,"key",z,1),r(ze.value,Te,"value",$,1),r(ze.variance,Te,"variance",ie,1),Te}function pi(V,z,$=null){const ie={type:"ObjectTypeProperty",key:V,value:z,variance:$,kind:null,method:null,optional:null,proto:null,static:null},Te=s.ObjectTypeProperty;return r(Te.key,ie,"key",V,1),r(Te.value,ie,"value",z,1),r(Te.variance,ie,"variance",$,1),ie}function As(V){const z={type:"ObjectTypeSpreadProperty",argument:V},$=s.ObjectTypeSpreadProperty;return r($.argument,z,"argument",V,1),z}function Ns(V,z=null,$=null,ie){const Te={type:"OpaqueType",id:V,typeParameters:z,supertype:$,impltype:ie},ze=s.OpaqueType;return r(ze.id,Te,"id",V,1),r(ze.typeParameters,Te,"typeParameters",z,1),r(ze.supertype,Te,"supertype",$,1),r(ze.impltype,Te,"impltype",ie,1),Te}function co(V,z){const $={type:"QualifiedTypeIdentifier",id:V,qualification:z},ie=s.QualifiedTypeIdentifier;return r(ie.id,$,"id",V,1),r(ie.qualification,$,"qualification",z,1),$}function hn(V){const z={type:"StringLiteralTypeAnnotation",value:V},$=s.StringLiteralTypeAnnotation;return r($.value,z,"value",V),z}function ol(){return{type:"StringTypeAnnotation"}}function ll(){return{type:"SymbolTypeAnnotation"}}function po(){return{type:"ThisTypeAnnotation"}}function Bi(V){const z={type:"TupleTypeAnnotation",types:V},$=s.TupleTypeAnnotation;return r($.types,z,"types",V,1),z}function fo(V){const z={type:"TypeofTypeAnnotation",argument:V},$=s.TypeofTypeAnnotation;return r($.argument,z,"argument",V,1),z}function ul(V,z=null,$){const ie={type:"TypeAlias",id:V,typeParameters:z,right:$},Te=s.TypeAlias;return r(Te.id,ie,"id",V,1),r(Te.typeParameters,ie,"typeParameters",z,1),r(Te.right,ie,"right",$,1),ie}function ho(V){const z={type:"TypeAnnotation",typeAnnotation:V},$=s.TypeAnnotation;return r($.typeAnnotation,z,"typeAnnotation",V,1),z}function ba(V,z){const $={type:"TypeCastExpression",expression:V,typeAnnotation:z},ie=s.TypeCastExpression;return r(ie.expression,$,"expression",V,1),r(ie.typeAnnotation,$,"typeAnnotation",z,1),$}function _s(V=null,z=null,$=null){const ie={type:"TypeParameter",bound:V,default:z,variance:$,name:null},Te=s.TypeParameter;return r(Te.bound,ie,"bound",V,1),r(Te.default,ie,"default",z,1),r(Te.variance,ie,"variance",$,1),ie}function ys(V){const z={type:"TypeParameterDeclaration",params:V},$=s.TypeParameterDeclaration;return r($.params,z,"params",V,1),z}function Cs(V){const z={type:"TypeParameterInstantiation",params:V},$=s.TypeParameterInstantiation;return r($.params,z,"params",V,1),z}function Is(V){const z={type:"UnionTypeAnnotation",types:V},$=s.UnionTypeAnnotation;return r($.types,z,"types",V,1),z}function Ms(V){const z={type:"Variance",kind:V},$=s.Variance;return r($.kind,z,"kind",V),z}function rs(){return{type:"VoidTypeAnnotation"}}function su(V,z){const $={type:"EnumDeclaration",id:V,body:z},ie=s.EnumDeclaration;return r(ie.id,$,"id",V,1),r(ie.body,$,"body",z,1),$}function wa(V){const z={type:"EnumBooleanBody",members:V,explicitType:null,hasUnknownMembers:null},$=s.EnumBooleanBody;return r($.members,z,"members",V,1),z}function Vi(V){const z={type:"EnumNumberBody",members:V,explicitType:null,hasUnknownMembers:null},$=s.EnumNumberBody;return r($.members,z,"members",V,1),z}function mo(V){const z={type:"EnumStringBody",members:V,explicitType:null,hasUnknownMembers:null},$=s.EnumStringBody;return r($.members,z,"members",V,1),z}function cl(V){const z={type:"EnumSymbolBody",members:V,hasUnknownMembers:null},$=s.EnumSymbolBody;return r($.members,z,"members",V,1),z}function ji(V){const z={type:"EnumBooleanMember",id:V,init:null},$=s.EnumBooleanMember;return r($.id,z,"id",V,1),z}function Lt(V,z){const $={type:"EnumNumberMember",id:V,init:z},ie=s.EnumNumberMember;return r(ie.id,$,"id",V,1),r(ie.init,$,"init",z,1),$}function iu(V,z){const $={type:"EnumStringMember",id:V,init:z},ie=s.EnumStringMember;return r(ie.id,$,"id",V,1),r(ie.init,$,"init",z,1),$}function di(V){const z={type:"EnumDefaultedMember",id:V},$=s.EnumDefaultedMember;return r($.id,z,"id",V,1),z}function zi(V,z){const $={type:"IndexedAccessType",objectType:V,indexType:z},ie=s.IndexedAccessType;return r(ie.objectType,$,"objectType",V,1),r(ie.indexType,$,"indexType",z,1),$}function fi(V,z){const $={type:"OptionalIndexedAccessType",objectType:V,indexType:z,optional:null},ie=s.OptionalIndexedAccessType;return r(ie.objectType,$,"objectType",V,1),r(ie.indexType,$,"indexType",z,1),$}function Ea(V,z=null){const $={type:"JSXAttribute",name:V,value:z},ie=s.JSXAttribute;return r(ie.name,$,"name",V,1),r(ie.value,$,"value",z,1),$}function au(V){const z={type:"JSXClosingElement",name:V},$=s.JSXClosingElement;return r($.name,z,"name",V,1),z}function pl(V,z=null,$,ie=null){const Te={type:"JSXElement",openingElement:V,closingElement:z,children:$,selfClosing:ie},ze=s.JSXElement;return r(ze.openingElement,Te,"openingElement",V,1),r(ze.closingElement,Te,"closingElement",z,1),r(ze.children,Te,"children",$,1),r(ze.selfClosing,Te,"selfClosing",ie),Te}function yo(){return{type:"JSXEmptyExpression"}}function Ui(V){const z={type:"JSXExpressionContainer",expression:V},$=s.JSXExpressionContainer;return r($.expression,z,"expression",V,1),z}function Pa(V){const z={type:"JSXSpreadChild",expression:V},$=s.JSXSpreadChild;return r($.expression,z,"expression",V,1),z}function dl(V){const z={type:"JSXIdentifier",name:V},$=s.JSXIdentifier;return r($.name,z,"name",V),z}function ks(V,z){const $={type:"JSXMemberExpression",object:V,property:z},ie=s.JSXMemberExpression;return r(ie.object,$,"object",V,1),r(ie.property,$,"property",z,1),$}function Aa(V,z){const $={type:"JSXNamespacedName",namespace:V,name:z},ie=s.JSXNamespacedName;return r(ie.namespace,$,"namespace",V,1),r(ie.name,$,"name",z,1),$}function qi(V,z,$=!1){const ie={type:"JSXOpeningElement",name:V,attributes:z,selfClosing:$},Te=s.JSXOpeningElement;return r(Te.name,ie,"name",V,1),r(Te.attributes,ie,"attributes",z,1),r(Te.selfClosing,ie,"selfClosing",$),ie}function fl(V){const z={type:"JSXSpreadAttribute",argument:V},$=s.JSXSpreadAttribute;return r($.argument,z,"argument",V,1),z}function $i(V){const z={type:"JSXText",value:V},$=s.JSXText;return r($.value,z,"value",V),z}function Na(V,z,$){const ie={type:"JSXFragment",openingFragment:V,closingFragment:z,children:$},Te=s.JSXFragment;return r(Te.openingFragment,ie,"openingFragment",V,1),r(Te.closingFragment,ie,"closingFragment",z,1),r(Te.children,ie,"children",$,1),ie}function hl(){return{type:"JSXOpeningFragment"}}function pr(){return{type:"JSXClosingFragment"}}function hi(){return{type:"Noop"}}function go(V,z){const $={type:"Placeholder",expectedNode:V,name:z},ie=s.Placeholder;return r(ie.expectedNode,$,"expectedNode",V),r(ie.name,$,"name",z,1),$}function Ws(V){const z={type:"V8IntrinsicIdentifier",name:V},$=s.V8IntrinsicIdentifier;return r($.name,z,"name",V),z}function ou(){return{type:"ArgumentPlaceholder"}}function xo(V,z){const $={type:"BindExpression",object:V,callee:z},ie=s.BindExpression;return r(ie.object,$,"object",V,1),r(ie.callee,$,"callee",z,1),$}function _a(V){const z={type:"Decorator",expression:V},$=s.Decorator;return r($.expression,z,"expression",V,1),z}function Wi(V,z=!1){const $={type:"DoExpression",body:V,async:z},ie=s.DoExpression;return r(ie.body,$,"body",V,1),r(ie.async,$,"async",z),$}function Ca(V){const z={type:"ExportDefaultSpecifier",exported:V},$=s.ExportDefaultSpecifier;return r($.exported,z,"exported",V,1),z}function ml(V){const z={type:"RecordExpression",properties:V},$=s.RecordExpression;return r($.properties,z,"properties",V,1),z}function lu(V=[]){const z={type:"TupleExpression",elements:V},$=s.TupleExpression;return r($.elements,z,"elements",V,1),z}function Hi(V){const z={type:"DecimalLiteral",value:V},$=s.DecimalLiteral;return r($.value,z,"value",V),z}function yl(V){const z={type:"ModuleExpression",body:V},$=s.ModuleExpression;return r($.body,z,"body",V,1),z}function vo(){return{type:"TopicReference"}}function G(V){const z={type:"PipelineTopicExpression",expression:V},$=s.PipelineTopicExpression;return r($.expression,z,"expression",V,1),z}function y(V){const z={type:"PipelineBareFunction",callee:V},$=s.PipelineBareFunction;return r($.callee,z,"callee",V,1),z}function o(){return{type:"PipelinePrimaryTopicReference"}}function g(){return{type:"VoidPattern"}}function b(V){const z={type:"TSParameterProperty",parameter:V},$=s.TSParameterProperty;return r($.parameter,z,"parameter",V,1),z}function k(V=null,z=null,$,ie=null){const Te={type:"TSDeclareFunction",id:V,typeParameters:z,params:$,returnType:ie},ze=s.TSDeclareFunction;return r(ze.id,Te,"id",V,1),r(ze.typeParameters,Te,"typeParameters",z,1),r(ze.params,Te,"params",$,1),r(ze.returnType,Te,"returnType",ie,1),Te}function ne(V=null,z,$=null,ie,Te=null){const ze={type:"TSDeclareMethod",decorators:V,key:z,typeParameters:$,params:ie,returnType:Te},Ut=s.TSDeclareMethod;return r(Ut.decorators,ze,"decorators",V,1),r(Ut.key,ze,"key",z,1),r(Ut.typeParameters,ze,"typeParameters",$,1),r(Ut.params,ze,"params",ie,1),r(Ut.returnType,ze,"returnType",Te,1),ze}function le(V,z){const $={type:"TSQualifiedName",left:V,right:z},ie=s.TSQualifiedName;return r(ie.left,$,"left",V,1),r(ie.right,$,"right",z,1),$}function ye(V=null,z,$=null){const ie={type:"TSCallSignatureDeclaration",typeParameters:V,parameters:z,typeAnnotation:$},Te=s.TSCallSignatureDeclaration;return r(Te.typeParameters,ie,"typeParameters",V,1),r(Te.parameters,ie,"parameters",z,1),r(Te.typeAnnotation,ie,"typeAnnotation",$,1),ie}function Pe(V=null,z,$=null){const ie={type:"TSConstructSignatureDeclaration",typeParameters:V,parameters:z,typeAnnotation:$},Te=s.TSConstructSignatureDeclaration;return r(Te.typeParameters,ie,"typeParameters",V,1),r(Te.parameters,ie,"parameters",z,1),r(Te.typeAnnotation,ie,"typeAnnotation",$,1),ie}function Ie(V,z=null){const $={type:"TSPropertySignature",key:V,typeAnnotation:z},ie=s.TSPropertySignature;return r(ie.key,$,"key",V,1),r(ie.typeAnnotation,$,"typeAnnotation",z,1),$}function Je(V,z=null,$,ie=null){const Te={type:"TSMethodSignature",key:V,typeParameters:z,parameters:$,typeAnnotation:ie,kind:null},ze=s.TSMethodSignature;return r(ze.key,Te,"key",V,1),r(ze.typeParameters,Te,"typeParameters",z,1),r(ze.parameters,Te,"parameters",$,1),r(ze.typeAnnotation,Te,"typeAnnotation",ie,1),Te}function mt(V,z=null){const $={type:"TSIndexSignature",parameters:V,typeAnnotation:z},ie=s.TSIndexSignature;return r(ie.parameters,$,"parameters",V,1),r(ie.typeAnnotation,$,"typeAnnotation",z,1),$}function bt(){return{type:"TSAnyKeyword"}}function Rt(){return{type:"TSBooleanKeyword"}}function yn(){return{type:"TSBigIntKeyword"}}function Ln(){return{type:"TSIntrinsicKeyword"}}function nn(){return{type:"TSNeverKeyword"}}function Cn(){return{type:"TSNullKeyword"}}function Hs(){return{type:"TSNumberKeyword"}}function Os(){return{type:"TSObjectKeyword"}}function gl(){return{type:"TSStringKeyword"}}function Ia(){return{type:"TSSymbolKeyword"}}function mi(){return{type:"TSUndefinedKeyword"}}function xl(){return{type:"TSUnknownKeyword"}}function To(){return{type:"TSVoidKeyword"}}function So(){return{type:"TSThisType"}}function bo(V=null,z,$=null){const ie={type:"TSFunctionType",typeParameters:V,parameters:z,typeAnnotation:$},Te=s.TSFunctionType;return r(Te.typeParameters,ie,"typeParameters",V,1),r(Te.parameters,ie,"parameters",z,1),r(Te.typeAnnotation,ie,"typeAnnotation",$,1),ie}function wo(V=null,z,$=null){const ie={type:"TSConstructorType",typeParameters:V,parameters:z,typeAnnotation:$},Te=s.TSConstructorType;return r(Te.typeParameters,ie,"typeParameters",V,1),r(Te.parameters,ie,"parameters",z,1),r(Te.typeAnnotation,ie,"typeAnnotation",$,1),ie}function Eo(V,z=null){const $={type:"TSTypeReference",typeName:V,typeParameters:z},ie=s.TSTypeReference;return r(ie.typeName,$,"typeName",V,1),r(ie.typeParameters,$,"typeParameters",z,1),$}function Ks(V,z=null,$=null){const ie={type:"TSTypePredicate",parameterName:V,typeAnnotation:z,asserts:$},Te=s.TSTypePredicate;return r(Te.parameterName,ie,"parameterName",V,1),r(Te.typeAnnotation,ie,"typeAnnotation",z,1),r(Te.asserts,ie,"asserts",$),ie}function vl(V,z=null){const $={type:"TSTypeQuery",exprName:V,typeParameters:z},ie=s.TSTypeQuery;return r(ie.exprName,$,"exprName",V,1),r(ie.typeParameters,$,"typeParameters",z,1),$}function Tl(V){const z={type:"TSTypeLiteral",members:V},$=s.TSTypeLiteral;return r($.members,z,"members",V,1),z}function Sl(V){const z={type:"TSArrayType",elementType:V},$=s.TSArrayType;return r($.elementType,z,"elementType",V,1),z}function Po(V){const z={type:"TSTupleType",elementTypes:V},$=s.TSTupleType;return r($.elementTypes,z,"elementTypes",V,1),z}function Ao(V){const z={type:"TSOptionalType",typeAnnotation:V},$=s.TSOptionalType;return r($.typeAnnotation,z,"typeAnnotation",V,1),z}function yi(V){const z={type:"TSRestType",typeAnnotation:V},$=s.TSRestType;return r($.typeAnnotation,z,"typeAnnotation",V,1),z}function gi(V,z,$=!1){const ie={type:"TSNamedTupleMember",label:V,elementType:z,optional:$},Te=s.TSNamedTupleMember;return r(Te.label,ie,"label",V,1),r(Te.elementType,ie,"elementType",z,1),r(Te.optional,ie,"optional",$),ie}function bl(V){const z={type:"TSUnionType",types:V},$=s.TSUnionType;return r($.types,z,"types",V,1),z}function Ki(V){const z={type:"TSIntersectionType",types:V},$=s.TSIntersectionType;return r($.types,z,"types",V,1),z}function wl(V,z,$,ie){const Te={type:"TSConditionalType",checkType:V,extendsType:z,trueType:$,falseType:ie},ze=s.TSConditionalType;return r(ze.checkType,Te,"checkType",V,1),r(ze.extendsType,Te,"extendsType",z,1),r(ze.trueType,Te,"trueType",$,1),r(ze.falseType,Te,"falseType",ie,1),Te}function No(V){const z={type:"TSInferType",typeParameter:V},$=s.TSInferType;return r($.typeParameter,z,"typeParameter",V,1),z}function Ma(V){const z={type:"TSParenthesizedType",typeAnnotation:V},$=s.TSParenthesizedType;return r($.typeAnnotation,z,"typeAnnotation",V,1),z}function ka(V,z="keyof"){const $={type:"TSTypeOperator",typeAnnotation:V,operator:z},ie=s.TSTypeOperator;return r(ie.typeAnnotation,$,"typeAnnotation",V,1),r(ie.operator,$,"operator",z),$}function _o(V,z){const $={type:"TSIndexedAccessType",objectType:V,indexType:z},ie=s.TSIndexedAccessType;return r(ie.objectType,$,"objectType",V,1),r(ie.indexType,$,"indexType",z,1),$}function Co(V,z=null,$=null){const ie={type:"TSMappedType",typeParameter:V,typeAnnotation:z,nameType:$},Te=s.TSMappedType;return r(Te.typeParameter,ie,"typeParameter",V,1),r(Te.typeAnnotation,ie,"typeAnnotation",z,1),r(Te.nameType,ie,"nameType",$,1),ie}function Io(V,z){const $={type:"TSTemplateLiteralType",quasis:V,types:z},ie=s.TSTemplateLiteralType;return r(ie.quasis,$,"quasis",V,1),r(ie.types,$,"types",z,1),$}function El(V){const z={type:"TSLiteralType",literal:V},$=s.TSLiteralType;return r($.literal,z,"literal",V,1),z}function Pl(V,z=null){const $={type:"TSExpressionWithTypeArguments",expression:V,typeParameters:z},ie=s.TSExpressionWithTypeArguments;return r(ie.expression,$,"expression",V,1),r(ie.typeParameters,$,"typeParameters",z,1),$}function Al(V,z=null,$=null,ie){const Te={type:"TSInterfaceDeclaration",id:V,typeParameters:z,extends:$,body:ie},ze=s.TSInterfaceDeclaration;return r(ze.id,Te,"id",V,1),r(ze.typeParameters,Te,"typeParameters",z,1),r(ze.extends,Te,"extends",$,1),r(ze.body,Te,"body",ie,1),Te}function Nl(V){const z={type:"TSInterfaceBody",body:V},$=s.TSInterfaceBody;return r($.body,z,"body",V,1),z}function op(V,z=null,$){const ie={type:"TSTypeAliasDeclaration",id:V,typeParameters:z,typeAnnotation:$},Te=s.TSTypeAliasDeclaration;return r(Te.id,ie,"id",V,1),r(Te.typeParameters,ie,"typeParameters",z,1),r(Te.typeAnnotation,ie,"typeAnnotation",$,1),ie}function gs(V,z=null){const $={type:"TSInstantiationExpression",expression:V,typeParameters:z},ie=s.TSInstantiationExpression;return r(ie.expression,$,"expression",V,1),r(ie.typeParameters,$,"typeParameters",z,1),$}function Mo(V,z){const $={type:"TSAsExpression",expression:V,typeAnnotation:z},ie=s.TSAsExpression;return r(ie.expression,$,"expression",V,1),r(ie.typeAnnotation,$,"typeAnnotation",z,1),$}function Qu(V,z){const $={type:"TSSatisfiesExpression",expression:V,typeAnnotation:z},ie=s.TSSatisfiesExpression;return r(ie.expression,$,"expression",V,1),r(ie.typeAnnotation,$,"typeAnnotation",z,1),$}function ec(V,z){const $={type:"TSTypeAssertion",typeAnnotation:V,expression:z},ie=s.TSTypeAssertion;return r(ie.typeAnnotation,$,"typeAnnotation",V,1),r(ie.expression,$,"expression",z,1),$}function tc(V){const z={type:"TSEnumBody",members:V},$=s.TSEnumBody;return r($.members,z,"members",V,1),z}function nc(V,z){const $={type:"TSEnumDeclaration",id:V,members:z},ie=s.TSEnumDeclaration;return r(ie.id,$,"id",V,1),r(ie.members,$,"members",z,1),$}function uu(V,z=null){const $={type:"TSEnumMember",id:V,initializer:z},ie=s.TSEnumMember;return r(ie.id,$,"id",V,1),r(ie.initializer,$,"initializer",z,1),$}function lp(V,z){const $={type:"TSModuleDeclaration",id:V,body:z,kind:null},ie=s.TSModuleDeclaration;return r(ie.id,$,"id",V,1),r(ie.body,$,"body",z,1),$}function up(V){const z={type:"TSModuleBlock",body:V},$=s.TSModuleBlock;return r($.body,z,"body",V,1),z}function Oa(V,z=null,$=null){const ie={type:"TSImportType",argument:V,qualifier:z,typeParameters:$},Te=s.TSImportType;return r(Te.argument,ie,"argument",V,1),r(Te.qualifier,ie,"qualifier",z,1),r(Te.typeParameters,ie,"typeParameters",$,1),ie}function cu(V,z){const $={type:"TSImportEqualsDeclaration",id:V,moduleReference:z,isExport:null},ie=s.TSImportEqualsDeclaration;return r(ie.id,$,"id",V,1),r(ie.moduleReference,$,"moduleReference",z,1),$}function ko(V){const z={type:"TSExternalModuleReference",expression:V},$=s.TSExternalModuleReference;return r($.expression,z,"expression",V,1),z}function pu(V){const z={type:"TSNonNullExpression",expression:V},$=s.TSNonNullExpression;return r($.expression,z,"expression",V,1),z}function rc(V){const z={type:"TSExportAssignment",expression:V},$=s.TSExportAssignment;return r($.expression,z,"expression",V,1),z}function _l(V){const z={type:"TSNamespaceExportDeclaration",id:V},$=s.TSNamespaceExportDeclaration;return r($.id,z,"id",V,1),z}function La(V){const z={type:"TSTypeAnnotation",typeAnnotation:V},$=s.TSTypeAnnotation;return r($.typeAnnotation,z,"typeAnnotation",V,1),z}function du(V){const z={type:"TSTypeParameterInstantiation",params:V},$=s.TSTypeParameterInstantiation;return r($.params,z,"params",V,1),z}function sc(V){const z={type:"TSTypeParameterDeclaration",params:V},$=s.TSTypeParameterDeclaration;return r($.params,z,"params",V,1),z}function Cl(V=null,z=null,$){const ie={type:"TSTypeParameter",constraint:V,default:z,name:$},Te=s.TSTypeParameter;return r(Te.constraint,ie,"constraint",V,1),r(Te.default,ie,"default",z,1),r(Te.name,ie,"name",$),ie}function ic(V){return(0,e.default)("NumberLiteral","NumericLiteral","The node type "),ae(V)}function ac(V,z=""){return(0,e.default)("RegexLiteral","RegExpLiteral","The node type "),X(V,z)}function oc(V){return(0,e.default)("RestProperty","RestElement","The node type "),Ce(V)}function lc(V){return(0,e.default)("SpreadProperty","SpreadElement","The node type "),Ke(V)}return fe}var te={},LI;function Ere(){if(LI)return te;LI=1,Object.defineProperty(te,"__esModule",{value:!0}),te.JSXIdentifier=te.JSXFragment=te.JSXExpressionContainer=te.JSXEmptyExpression=te.JSXElement=te.JSXClosingFragment=te.JSXClosingElement=te.JSXAttribute=te.IntersectionTypeAnnotation=te.InterpreterDirective=te.InterfaceTypeAnnotation=te.InterfaceExtends=te.InterfaceDeclaration=te.InferredPredicate=te.IndexedAccessType=te.ImportSpecifier=te.ImportNamespaceSpecifier=te.ImportExpression=te.ImportDefaultSpecifier=te.ImportDeclaration=te.ImportAttribute=te.Import=te.IfStatement=te.Identifier=te.GenericTypeAnnotation=te.FunctionTypeParam=te.FunctionTypeAnnotation=te.FunctionExpression=te.FunctionDeclaration=te.ForStatement=te.ForOfStatement=te.ForInStatement=te.File=te.ExpressionStatement=te.ExportSpecifier=te.ExportNamespaceSpecifier=te.ExportNamedDeclaration=te.ExportDefaultSpecifier=te.ExportDefaultDeclaration=te.ExportAllDeclaration=te.ExistsTypeAnnotation=te.EnumSymbolBody=te.EnumStringMember=te.EnumStringBody=te.EnumNumberMember=te.EnumNumberBody=te.EnumDefaultedMember=te.EnumDeclaration=te.EnumBooleanMember=te.EnumBooleanBody=te.EmptyTypeAnnotation=te.EmptyStatement=te.DoWhileStatement=te.DoExpression=te.DirectiveLiteral=te.Directive=te.Decorator=te.DeclaredPredicate=te.DeclareVariable=te.DeclareTypeAlias=te.DeclareOpaqueType=te.DeclareModuleExports=te.DeclareModule=te.DeclareInterface=te.DeclareFunction=te.DeclareExportDeclaration=te.DeclareExportAllDeclaration=te.DeclareClass=te.DecimalLiteral=te.DebuggerStatement=te.ContinueStatement=te.ConditionalExpression=te.ClassProperty=te.ClassPrivateProperty=te.ClassPrivateMethod=te.ClassMethod=te.ClassImplements=te.ClassExpression=te.ClassDeclaration=te.ClassBody=te.ClassAccessorProperty=te.CatchClause=te.CallExpression=te.BreakStatement=te.BooleanTypeAnnotation=te.BooleanLiteralTypeAnnotation=te.BooleanLiteral=te.BlockStatement=te.BindExpression=te.BinaryExpression=te.BigIntLiteral=te.AwaitExpression=te.AssignmentPattern=te.AssignmentExpression=te.ArrowFunctionExpression=te.ArrayTypeAnnotation=te.ArrayPattern=te.ArrayExpression=te.ArgumentPlaceholder=te.AnyTypeAnnotation=void 0,te.TSNumberKeyword=te.TSNullKeyword=te.TSNonNullExpression=te.TSNeverKeyword=te.TSNamespaceExportDeclaration=te.TSNamedTupleMember=te.TSModuleDeclaration=te.TSModuleBlock=te.TSMethodSignature=te.TSMappedType=te.TSLiteralType=te.TSIntrinsicKeyword=te.TSIntersectionType=te.TSInterfaceDeclaration=te.TSInterfaceBody=te.TSInstantiationExpression=te.TSInferType=te.TSIndexedAccessType=te.TSIndexSignature=te.TSImportType=te.TSImportEqualsDeclaration=te.TSFunctionType=te.TSExternalModuleReference=te.TSExpressionWithTypeArguments=te.TSExportAssignment=te.TSEnumMember=te.TSEnumDeclaration=te.TSEnumBody=te.TSDeclareMethod=te.TSDeclareFunction=te.TSConstructorType=te.TSConstructSignatureDeclaration=te.TSConditionalType=te.TSCallSignatureDeclaration=te.TSBooleanKeyword=te.TSBigIntKeyword=te.TSAsExpression=te.TSArrayType=te.TSAnyKeyword=te.SymbolTypeAnnotation=te.SwitchStatement=te.SwitchCase=te.Super=te.StringTypeAnnotation=te.StringLiteralTypeAnnotation=te.StringLiteral=te.StaticBlock=te.SpreadProperty=te.SpreadElement=te.SequenceExpression=te.ReturnStatement=te.RestProperty=te.RestElement=te.RegexLiteral=te.RegExpLiteral=te.RecordExpression=te.QualifiedTypeIdentifier=te.Program=te.PrivateName=te.Placeholder=te.PipelineTopicExpression=te.PipelinePrimaryTopicReference=te.PipelineBareFunction=te.ParenthesizedExpression=te.OptionalMemberExpression=te.OptionalIndexedAccessType=te.OptionalCallExpression=te.OpaqueType=te.ObjectTypeSpreadProperty=te.ObjectTypeProperty=te.ObjectTypeInternalSlot=te.ObjectTypeIndexer=te.ObjectTypeCallProperty=te.ObjectTypeAnnotation=te.ObjectProperty=te.ObjectPattern=te.ObjectMethod=te.ObjectExpression=te.NumericLiteral=te.NumberTypeAnnotation=te.NumberLiteralTypeAnnotation=te.NumberLiteral=te.NullableTypeAnnotation=te.NullLiteralTypeAnnotation=te.NullLiteral=te.Noop=te.NewExpression=te.ModuleExpression=te.MixedTypeAnnotation=te.MetaProperty=te.MemberExpression=te.LogicalExpression=te.LabeledStatement=te.JSXText=te.JSXSpreadChild=te.JSXSpreadAttribute=te.JSXOpeningFragment=te.JSXOpeningElement=te.JSXNamespacedName=te.JSXMemberExpression=void 0,te.YieldExpression=te.WithStatement=te.WhileStatement=te.VoidTypeAnnotation=te.VoidPattern=te.Variance=te.VariableDeclarator=te.VariableDeclaration=te.V8IntrinsicIdentifier=te.UpdateExpression=te.UnionTypeAnnotation=te.UnaryExpression=te.TypeofTypeAnnotation=te.TypeParameterInstantiation=te.TypeParameterDeclaration=te.TypeParameter=te.TypeCastExpression=te.TypeAnnotation=te.TypeAlias=te.TupleTypeAnnotation=te.TupleExpression=te.TryStatement=te.TopicReference=te.ThrowStatement=te.ThisTypeAnnotation=te.ThisExpression=te.TemplateLiteral=te.TemplateElement=te.TaggedTemplateExpression=te.TSVoidKeyword=te.TSUnknownKeyword=te.TSUnionType=te.TSUndefinedKeyword=te.TSTypeReference=te.TSTypeQuery=te.TSTypePredicate=te.TSTypeParameterInstantiation=te.TSTypeParameterDeclaration=te.TSTypeParameter=te.TSTypeOperator=te.TSTypeLiteral=te.TSTypeAssertion=te.TSTypeAnnotation=te.TSTypeAliasDeclaration=te.TSTupleType=te.TSThisType=te.TSTemplateLiteralType=te.TSSymbolKeyword=te.TSStringKeyword=te.TSSatisfiesExpression=te.TSRestType=te.TSQualifiedName=te.TSPropertySignature=te.TSParenthesizedType=te.TSParameterProperty=te.TSOptionalType=te.TSObjectKeyword=void 0;var n=F4();Xm();function e(t){return n[t]}return te.ArrayExpression=e("arrayExpression"),te.AssignmentExpression=e("assignmentExpression"),te.BinaryExpression=e("binaryExpression"),te.InterpreterDirective=e("interpreterDirective"),te.Directive=e("directive"),te.DirectiveLiteral=e("directiveLiteral"),te.BlockStatement=e("blockStatement"),te.BreakStatement=e("breakStatement"),te.CallExpression=e("callExpression"),te.CatchClause=e("catchClause"),te.ConditionalExpression=e("conditionalExpression"),te.ContinueStatement=e("continueStatement"),te.DebuggerStatement=e("debuggerStatement"),te.DoWhileStatement=e("doWhileStatement"),te.EmptyStatement=e("emptyStatement"),te.ExpressionStatement=e("expressionStatement"),te.File=e("file"),te.ForInStatement=e("forInStatement"),te.ForStatement=e("forStatement"),te.FunctionDeclaration=e("functionDeclaration"),te.FunctionExpression=e("functionExpression"),te.Identifier=e("identifier"),te.IfStatement=e("ifStatement"),te.LabeledStatement=e("labeledStatement"),te.StringLiteral=e("stringLiteral"),te.NumericLiteral=e("numericLiteral"),te.NullLiteral=e("nullLiteral"),te.BooleanLiteral=e("booleanLiteral"),te.RegExpLiteral=e("regExpLiteral"),te.LogicalExpression=e("logicalExpression"),te.MemberExpression=e("memberExpression"),te.NewExpression=e("newExpression"),te.Program=e("program"),te.ObjectExpression=e("objectExpression"),te.ObjectMethod=e("objectMethod"),te.ObjectProperty=e("objectProperty"),te.RestElement=e("restElement"),te.ReturnStatement=e("returnStatement"),te.SequenceExpression=e("sequenceExpression"),te.ParenthesizedExpression=e("parenthesizedExpression"),te.SwitchCase=e("switchCase"),te.SwitchStatement=e("switchStatement"),te.ThisExpression=e("thisExpression"),te.ThrowStatement=e("throwStatement"),te.TryStatement=e("tryStatement"),te.UnaryExpression=e("unaryExpression"),te.UpdateExpression=e("updateExpression"),te.VariableDeclaration=e("variableDeclaration"),te.VariableDeclarator=e("variableDeclarator"),te.WhileStatement=e("whileStatement"),te.WithStatement=e("withStatement"),te.AssignmentPattern=e("assignmentPattern"),te.ArrayPattern=e("arrayPattern"),te.ArrowFunctionExpression=e("arrowFunctionExpression"),te.ClassBody=e("classBody"),te.ClassExpression=e("classExpression"),te.ClassDeclaration=e("classDeclaration"),te.ExportAllDeclaration=e("exportAllDeclaration"),te.ExportDefaultDeclaration=e("exportDefaultDeclaration"),te.ExportNamedDeclaration=e("exportNamedDeclaration"),te.ExportSpecifier=e("exportSpecifier"),te.ForOfStatement=e("forOfStatement"),te.ImportDeclaration=e("importDeclaration"),te.ImportDefaultSpecifier=e("importDefaultSpecifier"),te.ImportNamespaceSpecifier=e("importNamespaceSpecifier"),te.ImportSpecifier=e("importSpecifier"),te.ImportExpression=e("importExpression"),te.MetaProperty=e("metaProperty"),te.ClassMethod=e("classMethod"),te.ObjectPattern=e("objectPattern"),te.SpreadElement=e("spreadElement"),te.Super=e("super"),te.TaggedTemplateExpression=e("taggedTemplateExpression"),te.TemplateElement=e("templateElement"),te.TemplateLiteral=e("templateLiteral"),te.YieldExpression=e("yieldExpression"),te.AwaitExpression=e("awaitExpression"),te.Import=e("import"),te.BigIntLiteral=e("bigIntLiteral"),te.ExportNamespaceSpecifier=e("exportNamespaceSpecifier"),te.OptionalMemberExpression=e("optionalMemberExpression"),te.OptionalCallExpression=e("optionalCallExpression"),te.ClassProperty=e("classProperty"),te.ClassAccessorProperty=e("classAccessorProperty"),te.ClassPrivateProperty=e("classPrivateProperty"),te.ClassPrivateMethod=e("classPrivateMethod"),te.PrivateName=e("privateName"),te.StaticBlock=e("staticBlock"),te.ImportAttribute=e("importAttribute"),te.AnyTypeAnnotation=e("anyTypeAnnotation"),te.ArrayTypeAnnotation=e("arrayTypeAnnotation"),te.BooleanTypeAnnotation=e("booleanTypeAnnotation"),te.BooleanLiteralTypeAnnotation=e("booleanLiteralTypeAnnotation"),te.NullLiteralTypeAnnotation=e("nullLiteralTypeAnnotation"),te.ClassImplements=e("classImplements"),te.DeclareClass=e("declareClass"),te.DeclareFunction=e("declareFunction"),te.DeclareInterface=e("declareInterface"),te.DeclareModule=e("declareModule"),te.DeclareModuleExports=e("declareModuleExports"),te.DeclareTypeAlias=e("declareTypeAlias"),te.DeclareOpaqueType=e("declareOpaqueType"),te.DeclareVariable=e("declareVariable"),te.DeclareExportDeclaration=e("declareExportDeclaration"),te.DeclareExportAllDeclaration=e("declareExportAllDeclaration"),te.DeclaredPredicate=e("declaredPredicate"),te.ExistsTypeAnnotation=e("existsTypeAnnotation"),te.FunctionTypeAnnotation=e("functionTypeAnnotation"),te.FunctionTypeParam=e("functionTypeParam"),te.GenericTypeAnnotation=e("genericTypeAnnotation"),te.InferredPredicate=e("inferredPredicate"),te.InterfaceExtends=e("interfaceExtends"),te.InterfaceDeclaration=e("interfaceDeclaration"),te.InterfaceTypeAnnotation=e("interfaceTypeAnnotation"),te.IntersectionTypeAnnotation=e("intersectionTypeAnnotation"),te.MixedTypeAnnotation=e("mixedTypeAnnotation"),te.EmptyTypeAnnotation=e("emptyTypeAnnotation"),te.NullableTypeAnnotation=e("nullableTypeAnnotation"),te.NumberLiteralTypeAnnotation=e("numberLiteralTypeAnnotation"),te.NumberTypeAnnotation=e("numberTypeAnnotation"),te.ObjectTypeAnnotation=e("objectTypeAnnotation"),te.ObjectTypeInternalSlot=e("objectTypeInternalSlot"),te.ObjectTypeCallProperty=e("objectTypeCallProperty"),te.ObjectTypeIndexer=e("objectTypeIndexer"),te.ObjectTypeProperty=e("objectTypeProperty"),te.ObjectTypeSpreadProperty=e("objectTypeSpreadProperty"),te.OpaqueType=e("opaqueType"),te.QualifiedTypeIdentifier=e("qualifiedTypeIdentifier"),te.StringLiteralTypeAnnotation=e("stringLiteralTypeAnnotation"),te.StringTypeAnnotation=e("stringTypeAnnotation"),te.SymbolTypeAnnotation=e("symbolTypeAnnotation"),te.ThisTypeAnnotation=e("thisTypeAnnotation"),te.TupleTypeAnnotation=e("tupleTypeAnnotation"),te.TypeofTypeAnnotation=e("typeofTypeAnnotation"),te.TypeAlias=e("typeAlias"),te.TypeAnnotation=e("typeAnnotation"),te.TypeCastExpression=e("typeCastExpression"),te.TypeParameter=e("typeParameter"),te.TypeParameterDeclaration=e("typeParameterDeclaration"),te.TypeParameterInstantiation=e("typeParameterInstantiation"),te.UnionTypeAnnotation=e("unionTypeAnnotation"),te.Variance=e("variance"),te.VoidTypeAnnotation=e("voidTypeAnnotation"),te.EnumDeclaration=e("enumDeclaration"),te.EnumBooleanBody=e("enumBooleanBody"),te.EnumNumberBody=e("enumNumberBody"),te.EnumStringBody=e("enumStringBody"),te.EnumSymbolBody=e("enumSymbolBody"),te.EnumBooleanMember=e("enumBooleanMember"),te.EnumNumberMember=e("enumNumberMember"),te.EnumStringMember=e("enumStringMember"),te.EnumDefaultedMember=e("enumDefaultedMember"),te.IndexedAccessType=e("indexedAccessType"),te.OptionalIndexedAccessType=e("optionalIndexedAccessType"),te.JSXAttribute=e("jsxAttribute"),te.JSXClosingElement=e("jsxClosingElement"),te.JSXElement=e("jsxElement"),te.JSXEmptyExpression=e("jsxEmptyExpression"),te.JSXExpressionContainer=e("jsxExpressionContainer"),te.JSXSpreadChild=e("jsxSpreadChild"),te.JSXIdentifier=e("jsxIdentifier"),te.JSXMemberExpression=e("jsxMemberExpression"),te.JSXNamespacedName=e("jsxNamespacedName"),te.JSXOpeningElement=e("jsxOpeningElement"),te.JSXSpreadAttribute=e("jsxSpreadAttribute"),te.JSXText=e("jsxText"),te.JSXFragment=e("jsxFragment"),te.JSXOpeningFragment=e("jsxOpeningFragment"),te.JSXClosingFragment=e("jsxClosingFragment"),te.Noop=e("noop"),te.Placeholder=e("placeholder"),te.V8IntrinsicIdentifier=e("v8IntrinsicIdentifier"),te.ArgumentPlaceholder=e("argumentPlaceholder"),te.BindExpression=e("bindExpression"),te.Decorator=e("decorator"),te.DoExpression=e("doExpression"),te.ExportDefaultSpecifier=e("exportDefaultSpecifier"),te.RecordExpression=e("recordExpression"),te.TupleExpression=e("tupleExpression"),te.DecimalLiteral=e("decimalLiteral"),te.ModuleExpression=e("moduleExpression"),te.TopicReference=e("topicReference"),te.PipelineTopicExpression=e("pipelineTopicExpression"),te.PipelineBareFunction=e("pipelineBareFunction"),te.PipelinePrimaryTopicReference=e("pipelinePrimaryTopicReference"),te.VoidPattern=e("voidPattern"),te.TSParameterProperty=e("tsParameterProperty"),te.TSDeclareFunction=e("tsDeclareFunction"),te.TSDeclareMethod=e("tsDeclareMethod"),te.TSQualifiedName=e("tsQualifiedName"),te.TSCallSignatureDeclaration=e("tsCallSignatureDeclaration"),te.TSConstructSignatureDeclaration=e("tsConstructSignatureDeclaration"),te.TSPropertySignature=e("tsPropertySignature"),te.TSMethodSignature=e("tsMethodSignature"),te.TSIndexSignature=e("tsIndexSignature"),te.TSAnyKeyword=e("tsAnyKeyword"),te.TSBooleanKeyword=e("tsBooleanKeyword"),te.TSBigIntKeyword=e("tsBigIntKeyword"),te.TSIntrinsicKeyword=e("tsIntrinsicKeyword"),te.TSNeverKeyword=e("tsNeverKeyword"),te.TSNullKeyword=e("tsNullKeyword"),te.TSNumberKeyword=e("tsNumberKeyword"),te.TSObjectKeyword=e("tsObjectKeyword"),te.TSStringKeyword=e("tsStringKeyword"),te.TSSymbolKeyword=e("tsSymbolKeyword"),te.TSUndefinedKeyword=e("tsUndefinedKeyword"),te.TSUnknownKeyword=e("tsUnknownKeyword"),te.TSVoidKeyword=e("tsVoidKeyword"),te.TSThisType=e("tsThisType"),te.TSFunctionType=e("tsFunctionType"),te.TSConstructorType=e("tsConstructorType"),te.TSTypeReference=e("tsTypeReference"),te.TSTypePredicate=e("tsTypePredicate"),te.TSTypeQuery=e("tsTypeQuery"),te.TSTypeLiteral=e("tsTypeLiteral"),te.TSArrayType=e("tsArrayType"),te.TSTupleType=e("tsTupleType"),te.TSOptionalType=e("tsOptionalType"),te.TSRestType=e("tsRestType"),te.TSNamedTupleMember=e("tsNamedTupleMember"),te.TSUnionType=e("tsUnionType"),te.TSIntersectionType=e("tsIntersectionType"),te.TSConditionalType=e("tsConditionalType"),te.TSInferType=e("tsInferType"),te.TSParenthesizedType=e("tsParenthesizedType"),te.TSTypeOperator=e("tsTypeOperator"),te.TSIndexedAccessType=e("tsIndexedAccessType"),te.TSMappedType=e("tsMappedType"),te.TSTemplateLiteralType=e("tsTemplateLiteralType"),te.TSLiteralType=e("tsLiteralType"),te.TSExpressionWithTypeArguments=e("tsExpressionWithTypeArguments"),te.TSInterfaceDeclaration=e("tsInterfaceDeclaration"),te.TSInterfaceBody=e("tsInterfaceBody"),te.TSTypeAliasDeclaration=e("tsTypeAliasDeclaration"),te.TSInstantiationExpression=e("tsInstantiationExpression"),te.TSAsExpression=e("tsAsExpression"),te.TSSatisfiesExpression=e("tsSatisfiesExpression"),te.TSTypeAssertion=e("tsTypeAssertion"),te.TSEnumBody=e("tsEnumBody"),te.TSEnumDeclaration=e("tsEnumDeclaration"),te.TSEnumMember=e("tsEnumMember"),te.TSModuleDeclaration=e("tsModuleDeclaration"),te.TSModuleBlock=e("tsModuleBlock"),te.TSImportType=e("tsImportType"),te.TSImportEqualsDeclaration=e("tsImportEqualsDeclaration"),te.TSExternalModuleReference=e("tsExternalModuleReference"),te.TSNonNullExpression=e("tsNonNullExpression"),te.TSExportAssignment=e("tsExportAssignment"),te.TSNamespaceExportDeclaration=e("tsNamespaceExportDeclaration"),te.TSTypeAnnotation=e("tsTypeAnnotation"),te.TSTypeParameterInstantiation=e("tsTypeParameterInstantiation"),te.TSTypeParameterDeclaration=e("tsTypeParameterDeclaration"),te.TSTypeParameter=e("tsTypeParameter"),te.NumberLiteral=n.numberLiteral,te.RegexLiteral=n.regexLiteral,te.RestProperty=n.restProperty,te.SpreadProperty=n.spreadProperty,te}var DI;function ga(){return DI||(DI=1,(function(n){Object.defineProperty(n,"__esModule",{value:!0});var e=F4();Object.keys(e).forEach(function(r){r==="default"||r==="__esModule"||r in n&&n[r]===e[r]||Object.defineProperty(n,r,{enumerable:!0,get:function(){return e[r]}})});var t=Ere();Object.keys(t).forEach(function(r){r==="default"||r==="__esModule"||r in n&&n[r]===t[r]||Object.defineProperty(n,r,{enumerable:!0,get:function(){return t[r]}})})})(Sb)),Sb}var RI;function Pre(){if(RI)return $g;RI=1,Object.defineProperty($g,"__esModule",{value:!0}),$g.default=t;var n=ga(),e=vn();function t(r,s){const i=r.value.split(/\r\n|\n|\r/);let a=0;for(let c=0;c<i.length;c++)/[^ \t]/.exec(i[c])&&(a=c);let l="";for(let c=0;c<i.length;c++){const p=i[c],d=c===0,h=c===i.length-1,m=c===a;let x=p.replace(/\t/g," ");d||(x=x.replace(/^ +/,"")),h||(x=x.replace(/ +$/,"")),x&&(m||(x+=" "),l+=x)}l&&s.push((0,e.inherits)((0,n.stringLiteral)(l),r))}return $g}var FI;function Are(){if(FI)return qg;FI=1,Object.defineProperty(qg,"__esModule",{value:!0}),qg.default=t;var n=Or(),e=Pre();function t(r){const s=[];for(let i=0;i<r.children.length;i++){let a=r.children[i];if((0,n.isJSXText)(a)){(0,e.default)(a,s);continue}(0,n.isJSXExpressionContainer)(a)&&(a=a.expression),!(0,n.isJSXEmptyExpression)(a)&&s.push(a)}return s}return qg}var Gg={},Yg={},BI;function B4(){if(BI)return Yg;BI=1,Object.defineProperty(Yg,"__esModule",{value:!0}),Yg.default=e;var n=il();function e(t){return!!(t&&n.VISITOR_KEYS[t.type])}return Yg}var VI;function Nre(){if(VI)return Gg;VI=1,Object.defineProperty(Gg,"__esModule",{value:!0}),Gg.default=e;var n=B4();function e(t){if(!(0,n.default)(t)){var r;const s=(r=t?.type)!=null?r:JSON.stringify(t);throw new TypeError(`Not a valid node of type "${s}"`)}}return Gg}var xe={},jI;function _re(){if(jI)return xe;jI=1,Object.defineProperty(xe,"__esModule",{value:!0}),xe.assertAccessor=mp,xe.assertAnyTypeAnnotation=Ot,xe.assertArgumentPlaceholder=go,xe.assertArrayExpression=r,xe.assertArrayPattern=rt,xe.assertArrayTypeAnnotation=fs,xe.assertArrowFunctionExpression=St,xe.assertAssignmentExpression=s,xe.assertAssignmentPattern=We,xe.assertAwaitExpression=at,xe.assertBigIntLiteral=Mt,xe.assertBinary=ic,xe.assertBinaryExpression=i,xe.assertBindExpression=Ws,xe.assertBlock=lc,xe.assertBlockParent=oc,xe.assertBlockStatement=p,xe.assertBooleanLiteral=J,xe.assertBooleanLiteralTypeAnnotation=Oi,xe.assertBooleanTypeAnnotation=qs,xe.assertBreakStatement=d,xe.assertCallExpression=h,xe.assertCatchClause=m,xe.assertClass=mu,xe.assertClassAccessorProperty=Hn,xe.assertClassBody=Et,xe.assertClassDeclaration=qt,xe.assertClassExpression=jt,xe.assertClassImplements=gr,xe.assertClassMethod=ut,xe.assertClassPrivateMethod=Kn,xe.assertClassPrivateProperty=Zn,xe.assertClassProperty=Jn,xe.assertCompletionStatement=$,xe.assertConditional=ie,xe.assertConditionalExpression=x,xe.assertContinueStatement=w,xe.assertDebuggerStatement=A,xe.assertDecimalLiteral=ml,xe.assertDeclaration=cp,xe.assertDeclareClass=wr,xe.assertDeclareExportAllDeclaration=En,xe.assertDeclareExportDeclaration=xa,xe.assertDeclareFunction=Zr,xe.assertDeclareInterface=oi,xe.assertDeclareModule=Qr,xe.assertDeclareModuleExports=Lr,xe.assertDeclareOpaqueType=li,xe.assertDeclareTypeAlias=Li,xe.assertDeclareVariable=Di,xe.assertDeclaredPredicate=es,xe.assertDecorator=ou,xe.assertDirective=l,xe.assertDirectiveLiteral=c,xe.assertDoExpression=xo,xe.assertDoWhileStatement=P,xe.assertEmptyStatement=S,xe.assertEmptyTypeAnnotation=Rr,xe.assertEnumBody=yd,xe.assertEnumBooleanBody=rs,xe.assertEnumBooleanMember=mo,xe.assertEnumDeclaration=Ms,xe.assertEnumDefaultedMember=Lt,xe.assertEnumMember=Ml,xe.assertEnumNumberBody=su,xe.assertEnumNumberMember=cl,xe.assertEnumStringBody=wa,xe.assertEnumStringMember=ji,xe.assertEnumSymbolBody=Vi,xe.assertExistsTypeAnnotation=ts,xe.assertExportAllDeclaration=mn,xe.assertExportDeclaration=fp,xe.assertExportDefaultDeclaration=Fe,xe.assertExportDefaultSpecifier=_a,xe.assertExportNamedDeclaration=Me,xe.assertExportNamespaceSpecifier=Ht,xe.assertExportSpecifier=ce,xe.assertExpression=Cl,xe.assertExpressionStatement=C,xe.assertExpressionWrapper=Ut,xe.assertFile=I,xe.assertFlow=md,xe.assertFlowBaseAnnotation=Hf,xe.assertFlowDeclaration=yp,xe.assertFlowPredicate=Da,xe.assertFlowType=Wf,xe.assertFor=In,xe.assertForInStatement=_,xe.assertForOfStatement=we,xe.assertForStatement=D,xe.assertForXStatement=dr,xe.assertFunction=Xs,xe.assertFunctionDeclaration=F,xe.assertFunctionExpression=O,xe.assertFunctionParameter=uc,xe.assertFunctionParent=pd,xe.assertFunctionTypeAnnotation=va,xe.assertFunctionTypeParam=ui,xe.assertGenericTypeAnnotation=oo,xe.assertIdentifier=L,xe.assertIfStatement=B,xe.assertImmutable=cc,xe.assertImport=Pt,xe.assertImportAttribute=Jr,xe.assertImportDeclaration=De,xe.assertImportDefaultSpecifier=$e,xe.assertImportExpression=Zt,xe.assertImportNamespaceSpecifier=nt,xe.assertImportOrExportDeclaration=dp,xe.assertImportSpecifier=ot,xe.assertIndexedAccessType=iu,xe.assertInferredPredicate=Ta,xe.assertInterfaceDeclaration=Dr,xe.assertInterfaceExtends=ns,xe.assertInterfaceTypeAnnotation=Sa,xe.assertInterpreterDirective=a,xe.assertIntersectionTypeAnnotation=Er,xe.assertJSX=xi,xe.assertJSXAttribute=zi,xe.assertJSXClosingElement=fi,xe.assertJSXClosingFragment=Na,xe.assertJSXElement=Ea,xe.assertJSXEmptyExpression=au,xe.assertJSXExpressionContainer=pl,xe.assertJSXFragment=fl,xe.assertJSXIdentifier=Ui,xe.assertJSXMemberExpression=Pa,xe.assertJSXNamespacedName=dl,xe.assertJSXOpeningElement=ks,xe.assertJSXOpeningFragment=$i,xe.assertJSXSpreadAttribute=Aa,xe.assertJSXSpreadChild=yo,xe.assertJSXText=qi,xe.assertLVal=dd,xe.assertLabeledStatement=j,xe.assertLiteral=hu,xe.assertLogicalExpression=oe,xe.assertLoop=Te,xe.assertMemberExpression=re,xe.assertMetaProperty=fn,xe.assertMethod=fd,xe.assertMiscellaneous=yu,xe.assertMixedTypeAnnotation=$s,xe.assertModuleDeclaration=E,xe.assertModuleExpression=lu,xe.assertModuleSpecifier=hp,xe.assertNewExpression=X,xe.assertNoop=hl,xe.assertNullLiteral=ue,xe.assertNullLiteralTypeAnnotation=ai,xe.assertNullableTypeAnnotation=lo,xe.assertNumberLiteral=Oo,xe.assertNumberLiteralTypeAnnotation=Es,xe.assertNumberTypeAnnotation=ci,xe.assertNumericLiteral=ee,xe.assertObjectExpression=Q,xe.assertObjectMember=Uf,xe.assertObjectMethod=W,xe.assertObjectPattern=xn,xe.assertObjectProperty=Y,xe.assertObjectTypeAnnotation=hs,xe.assertObjectTypeCallProperty=Ri,xe.assertObjectTypeIndexer=uo,xe.assertObjectTypeInternalSlot=ms,xe.assertObjectTypeProperty=Fi,xe.assertObjectTypeSpreadProperty=Ps,xe.assertOpaqueType=pi,xe.assertOptionalCallExpression=_n,xe.assertOptionalIndexedAccessType=di,xe.assertOptionalMemberExpression=tn,xe.assertParenthesizedExpression=Ce,xe.assertPattern=pc,xe.assertPatternLike=fu,xe.assertPipelineBareFunction=vo,xe.assertPipelinePrimaryTopicReference=G,xe.assertPipelineTopicExpression=yl,xe.assertPlaceholder=pr,xe.assertPrivate=$f,xe.assertPrivateName=br,xe.assertProgram=H,xe.assertProperty=qf,xe.assertPureish=qn,xe.assertQualifiedTypeIdentifier=As,xe.assertRecordExpression=Wi,xe.assertRegExpLiteral=ae,xe.assertRegexLiteral=gu,xe.assertRestElement=Z,xe.assertRestProperty=kl,xe.assertReturnStatement=se,xe.assertScopable=ac,xe.assertSequenceExpression=me,xe.assertSpreadElement=Be,xe.assertSpreadProperty=dc,xe.assertStandardized=sc,xe.assertStatement=V,xe.assertStaticBlock=yr,xe.assertStringLiteral=M,xe.assertStringLiteralTypeAnnotation=Ns,xe.assertStringTypeAnnotation=co,xe.assertSuper=Xe,xe.assertSwitchCase=be,xe.assertSwitchStatement=Se,xe.assertSymbolTypeAnnotation=hn,xe.assertTSAnyKeyword=Je,xe.assertTSArrayType=vl,xe.assertTSAsExpression=op,xe.assertTSBaseType=Xf,xe.assertTSBigIntKeyword=bt,xe.assertTSBooleanKeyword=mt,xe.assertTSCallSignatureDeclaration=ne,xe.assertTSConditionalType=bl,xe.assertTSConstructSignatureDeclaration=le,xe.assertTSConstructorType=So,xe.assertTSDeclareFunction=g,xe.assertTSDeclareMethod=b,xe.assertTSEntityName=pp,xe.assertTSEnumBody=Qu,xe.assertTSEnumDeclaration=ec,xe.assertTSEnumMember=tc,xe.assertTSExportAssignment=ko,xe.assertTSExpressionWithTypeArguments=Io,xe.assertTSExternalModuleReference=Oa,xe.assertTSFunctionType=To,xe.assertTSImportEqualsDeclaration=up,xe.assertTSImportType=lp,xe.assertTSIndexSignature=Ie,xe.assertTSIndexedAccessType=Ma,xe.assertTSInferType=Ki,xe.assertTSInstantiationExpression=Nl,xe.assertTSInterfaceBody=Pl,xe.assertTSInterfaceDeclaration=El,xe.assertTSIntersectionType=gi,xe.assertTSIntrinsicKeyword=Rt,xe.assertTSLiteralType=Co,xe.assertTSMappedType=ka,xe.assertTSMethodSignature=Pe,xe.assertTSModuleBlock=uu,xe.assertTSModuleDeclaration=nc,xe.assertTSNamedTupleMember=Ao,xe.assertTSNamespaceExportDeclaration=pu,xe.assertTSNeverKeyword=yn,xe.assertTSNonNullExpression=cu,xe.assertTSNullKeyword=Ln,xe.assertTSNumberKeyword=nn,xe.assertTSObjectKeyword=Cn,xe.assertTSOptionalType=Sl,xe.assertTSParameterProperty=o,xe.assertTSParenthesizedType=wl,xe.assertTSPropertySignature=ye,xe.assertTSQualifiedName=k,xe.assertTSRestType=Po,xe.assertTSSatisfiesExpression=gs,xe.assertTSStringKeyword=Hs,xe.assertTSSymbolKeyword=Os,xe.assertTSTemplateLiteralType=_o,xe.assertTSThisType=xl,xe.assertTSTupleType=Tl,xe.assertTSType=Kf,xe.assertTSTypeAliasDeclaration=Al,xe.assertTSTypeAnnotation=rc,xe.assertTSTypeAssertion=Mo,xe.assertTSTypeElement=gp,xe.assertTSTypeLiteral=Ks,xe.assertTSTypeOperator=No,xe.assertTSTypeParameter=du,xe.assertTSTypeParameterDeclaration=La,xe.assertTSTypeParameterInstantiation=_l,xe.assertTSTypePredicate=wo,xe.assertTSTypeQuery=Eo,xe.assertTSTypeReference=bo,xe.assertTSUndefinedKeyword=gl,xe.assertTSUnionType=yi,xe.assertTSUnknownKeyword=Ia,xe.assertTSVoidKeyword=mi,xe.assertTaggedTemplateExpression=de,xe.assertTemplateElement=Ke,xe.assertTemplateLiteral=ht,xe.assertTerminatorless=z,xe.assertThisExpression=Le,xe.assertThisTypeAnnotation=ol,xe.assertThrowStatement=Ue,xe.assertTopicReference=Hi,xe.assertTryStatement=st,xe.assertTupleExpression=Ca,xe.assertTupleTypeAnnotation=ll,xe.assertTypeAlias=Bi,xe.assertTypeAnnotation=fo,xe.assertTypeCastExpression=ul,xe.assertTypeParameter=ho,xe.assertTypeParameterDeclaration=ba,xe.assertTypeParameterInstantiation=_s,xe.assertTypeScript=Xi,xe.assertTypeofTypeAnnotation=po,xe.assertUnaryExpression=Ze,xe.assertUnaryLike=hd,xe.assertUnionTypeAnnotation=ys,xe.assertUpdateExpression=it,xe.assertUserWhitespacable=Il,xe.assertV8IntrinsicIdentifier=hi,xe.assertVariableDeclaration=pt,xe.assertVariableDeclarator=It,xe.assertVariance=Cs,xe.assertVoidPattern=y,xe.assertVoidTypeAnnotation=Is,xe.assertWhile=ze,xe.assertWhileStatement=ct,xe.assertWithStatement=Ye,xe.assertYieldExpression=ve;var n=Gm(),e=Xm();function t(v,U,Xn){if(!(0,n.default)(v,U,Xn))throw new Error(`Expected type "${v}" with option ${JSON.stringify(Xn)}, but instead got "${U.type}".`)}function r(v,U){t("ArrayExpression",v,U)}function s(v,U){t("AssignmentExpression",v,U)}function i(v,U){t("BinaryExpression",v,U)}function a(v,U){t("InterpreterDirective",v,U)}function l(v,U){t("Directive",v,U)}function c(v,U){t("DirectiveLiteral",v,U)}function p(v,U){t("BlockStatement",v,U)}function d(v,U){t("BreakStatement",v,U)}function h(v,U){t("CallExpression",v,U)}function m(v,U){t("CatchClause",v,U)}function x(v,U){t("ConditionalExpression",v,U)}function w(v,U){t("ContinueStatement",v,U)}function A(v,U){t("DebuggerStatement",v,U)}function P(v,U){t("DoWhileStatement",v,U)}function S(v,U){t("EmptyStatement",v,U)}function C(v,U){t("ExpressionStatement",v,U)}function I(v,U){t("File",v,U)}function _(v,U){t("ForInStatement",v,U)}function D(v,U){t("ForStatement",v,U)}function F(v,U){t("FunctionDeclaration",v,U)}function O(v,U){t("FunctionExpression",v,U)}function L(v,U){t("Identifier",v,U)}function B(v,U){t("IfStatement",v,U)}function j(v,U){t("LabeledStatement",v,U)}function M(v,U){t("StringLiteral",v,U)}function ee(v,U){t("NumericLiteral",v,U)}function ue(v,U){t("NullLiteral",v,U)}function J(v,U){t("BooleanLiteral",v,U)}function ae(v,U){t("RegExpLiteral",v,U)}function oe(v,U){t("LogicalExpression",v,U)}function re(v,U){t("MemberExpression",v,U)}function X(v,U){t("NewExpression",v,U)}function H(v,U){t("Program",v,U)}function Q(v,U){t("ObjectExpression",v,U)}function W(v,U){t("ObjectMethod",v,U)}function Y(v,U){t("ObjectProperty",v,U)}function Z(v,U){t("RestElement",v,U)}function se(v,U){t("ReturnStatement",v,U)}function me(v,U){t("SequenceExpression",v,U)}function Ce(v,U){t("ParenthesizedExpression",v,U)}function be(v,U){t("SwitchCase",v,U)}function Se(v,U){t("SwitchStatement",v,U)}function Le(v,U){t("ThisExpression",v,U)}function Ue(v,U){t("ThrowStatement",v,U)}function st(v,U){t("TryStatement",v,U)}function Ze(v,U){t("UnaryExpression",v,U)}function it(v,U){t("UpdateExpression",v,U)}function pt(v,U){t("VariableDeclaration",v,U)}function It(v,U){t("VariableDeclarator",v,U)}function ct(v,U){t("WhileStatement",v,U)}function Ye(v,U){t("WithStatement",v,U)}function We(v,U){t("AssignmentPattern",v,U)}function rt(v,U){t("ArrayPattern",v,U)}function St(v,U){t("ArrowFunctionExpression",v,U)}function Et(v,U){t("ClassBody",v,U)}function jt(v,U){t("ClassExpression",v,U)}function qt(v,U){t("ClassDeclaration",v,U)}function mn(v,U){t("ExportAllDeclaration",v,U)}function Fe(v,U){t("ExportDefaultDeclaration",v,U)}function Me(v,U){t("ExportNamedDeclaration",v,U)}function ce(v,U){t("ExportSpecifier",v,U)}function we(v,U){t("ForOfStatement",v,U)}function De(v,U){t("ImportDeclaration",v,U)}function $e(v,U){t("ImportDefaultSpecifier",v,U)}function nt(v,U){t("ImportNamespaceSpecifier",v,U)}function ot(v,U){t("ImportSpecifier",v,U)}function Zt(v,U){t("ImportExpression",v,U)}function fn(v,U){t("MetaProperty",v,U)}function ut(v,U){t("ClassMethod",v,U)}function xn(v,U){t("ObjectPattern",v,U)}function Be(v,U){t("SpreadElement",v,U)}function Xe(v,U){t("Super",v,U)}function de(v,U){t("TaggedTemplateExpression",v,U)}function Ke(v,U){t("TemplateElement",v,U)}function ht(v,U){t("TemplateLiteral",v,U)}function ve(v,U){t("YieldExpression",v,U)}function at(v,U){t("AwaitExpression",v,U)}function Pt(v,U){t("Import",v,U)}function Mt(v,U){t("BigIntLiteral",v,U)}function Ht(v,U){t("ExportNamespaceSpecifier",v,U)}function tn(v,U){t("OptionalMemberExpression",v,U)}function _n(v,U){t("OptionalCallExpression",v,U)}function Jn(v,U){t("ClassProperty",v,U)}function Hn(v,U){t("ClassAccessorProperty",v,U)}function Zn(v,U){t("ClassPrivateProperty",v,U)}function Kn(v,U){t("ClassPrivateMethod",v,U)}function br(v,U){t("PrivateName",v,U)}function yr(v,U){t("StaticBlock",v,U)}function Jr(v,U){t("ImportAttribute",v,U)}function Ot(v,U){t("AnyTypeAnnotation",v,U)}function fs(v,U){t("ArrayTypeAnnotation",v,U)}function qs(v,U){t("BooleanTypeAnnotation",v,U)}function Oi(v,U){t("BooleanLiteralTypeAnnotation",v,U)}function ai(v,U){t("NullLiteralTypeAnnotation",v,U)}function gr(v,U){t("ClassImplements",v,U)}function wr(v,U){t("DeclareClass",v,U)}function Zr(v,U){t("DeclareFunction",v,U)}function oi(v,U){t("DeclareInterface",v,U)}function Qr(v,U){t("DeclareModule",v,U)}function Lr(v,U){t("DeclareModuleExports",v,U)}function Li(v,U){t("DeclareTypeAlias",v,U)}function li(v,U){t("DeclareOpaqueType",v,U)}function Di(v,U){t("DeclareVariable",v,U)}function xa(v,U){t("DeclareExportDeclaration",v,U)}function En(v,U){t("DeclareExportAllDeclaration",v,U)}function es(v,U){t("DeclaredPredicate",v,U)}function ts(v,U){t("ExistsTypeAnnotation",v,U)}function va(v,U){t("FunctionTypeAnnotation",v,U)}function ui(v,U){t("FunctionTypeParam",v,U)}function oo(v,U){t("GenericTypeAnnotation",v,U)}function Ta(v,U){t("InferredPredicate",v,U)}function ns(v,U){t("InterfaceExtends",v,U)}function Dr(v,U){t("InterfaceDeclaration",v,U)}function Sa(v,U){t("InterfaceTypeAnnotation",v,U)}function Er(v,U){t("IntersectionTypeAnnotation",v,U)}function $s(v,U){t("MixedTypeAnnotation",v,U)}function Rr(v,U){t("EmptyTypeAnnotation",v,U)}function lo(v,U){t("NullableTypeAnnotation",v,U)}function Es(v,U){t("NumberLiteralTypeAnnotation",v,U)}function ci(v,U){t("NumberTypeAnnotation",v,U)}function hs(v,U){t("ObjectTypeAnnotation",v,U)}function ms(v,U){t("ObjectTypeInternalSlot",v,U)}function Ri(v,U){t("ObjectTypeCallProperty",v,U)}function uo(v,U){t("ObjectTypeIndexer",v,U)}function Fi(v,U){t("ObjectTypeProperty",v,U)}function Ps(v,U){t("ObjectTypeSpreadProperty",v,U)}function pi(v,U){t("OpaqueType",v,U)}function As(v,U){t("QualifiedTypeIdentifier",v,U)}function Ns(v,U){t("StringLiteralTypeAnnotation",v,U)}function co(v,U){t("StringTypeAnnotation",v,U)}function hn(v,U){t("SymbolTypeAnnotation",v,U)}function ol(v,U){t("ThisTypeAnnotation",v,U)}function ll(v,U){t("TupleTypeAnnotation",v,U)}function po(v,U){t("TypeofTypeAnnotation",v,U)}function Bi(v,U){t("TypeAlias",v,U)}function fo(v,U){t("TypeAnnotation",v,U)}function ul(v,U){t("TypeCastExpression",v,U)}function ho(v,U){t("TypeParameter",v,U)}function ba(v,U){t("TypeParameterDeclaration",v,U)}function _s(v,U){t("TypeParameterInstantiation",v,U)}function ys(v,U){t("UnionTypeAnnotation",v,U)}function Cs(v,U){t("Variance",v,U)}function Is(v,U){t("VoidTypeAnnotation",v,U)}function Ms(v,U){t("EnumDeclaration",v,U)}function rs(v,U){t("EnumBooleanBody",v,U)}function su(v,U){t("EnumNumberBody",v,U)}function wa(v,U){t("EnumStringBody",v,U)}function Vi(v,U){t("EnumSymbolBody",v,U)}function mo(v,U){t("EnumBooleanMember",v,U)}function cl(v,U){t("EnumNumberMember",v,U)}function ji(v,U){t("EnumStringMember",v,U)}function Lt(v,U){t("EnumDefaultedMember",v,U)}function iu(v,U){t("IndexedAccessType",v,U)}function di(v,U){t("OptionalIndexedAccessType",v,U)}function zi(v,U){t("JSXAttribute",v,U)}function fi(v,U){t("JSXClosingElement",v,U)}function Ea(v,U){t("JSXElement",v,U)}function au(v,U){t("JSXEmptyExpression",v,U)}function pl(v,U){t("JSXExpressionContainer",v,U)}function yo(v,U){t("JSXSpreadChild",v,U)}function Ui(v,U){t("JSXIdentifier",v,U)}function Pa(v,U){t("JSXMemberExpression",v,U)}function dl(v,U){t("JSXNamespacedName",v,U)}function ks(v,U){t("JSXOpeningElement",v,U)}function Aa(v,U){t("JSXSpreadAttribute",v,U)}function qi(v,U){t("JSXText",v,U)}function fl(v,U){t("JSXFragment",v,U)}function $i(v,U){t("JSXOpeningFragment",v,U)}function Na(v,U){t("JSXClosingFragment",v,U)}function hl(v,U){t("Noop",v,U)}function pr(v,U){t("Placeholder",v,U)}function hi(v,U){t("V8IntrinsicIdentifier",v,U)}function go(v,U){t("ArgumentPlaceholder",v,U)}function Ws(v,U){t("BindExpression",v,U)}function ou(v,U){t("Decorator",v,U)}function xo(v,U){t("DoExpression",v,U)}function _a(v,U){t("ExportDefaultSpecifier",v,U)}function Wi(v,U){t("RecordExpression",v,U)}function Ca(v,U){t("TupleExpression",v,U)}function ml(v,U){t("DecimalLiteral",v,U)}function lu(v,U){t("ModuleExpression",v,U)}function Hi(v,U){t("TopicReference",v,U)}function yl(v,U){t("PipelineTopicExpression",v,U)}function vo(v,U){t("PipelineBareFunction",v,U)}function G(v,U){t("PipelinePrimaryTopicReference",v,U)}function y(v,U){t("VoidPattern",v,U)}function o(v,U){t("TSParameterProperty",v,U)}function g(v,U){t("TSDeclareFunction",v,U)}function b(v,U){t("TSDeclareMethod",v,U)}function k(v,U){t("TSQualifiedName",v,U)}function ne(v,U){t("TSCallSignatureDeclaration",v,U)}function le(v,U){t("TSConstructSignatureDeclaration",v,U)}function ye(v,U){t("TSPropertySignature",v,U)}function Pe(v,U){t("TSMethodSignature",v,U)}function Ie(v,U){t("TSIndexSignature",v,U)}function Je(v,U){t("TSAnyKeyword",v,U)}function mt(v,U){t("TSBooleanKeyword",v,U)}function bt(v,U){t("TSBigIntKeyword",v,U)}function Rt(v,U){t("TSIntrinsicKeyword",v,U)}function yn(v,U){t("TSNeverKeyword",v,U)}function Ln(v,U){t("TSNullKeyword",v,U)}function nn(v,U){t("TSNumberKeyword",v,U)}function Cn(v,U){t("TSObjectKeyword",v,U)}function Hs(v,U){t("TSStringKeyword",v,U)}function Os(v,U){t("TSSymbolKeyword",v,U)}function gl(v,U){t("TSUndefinedKeyword",v,U)}function Ia(v,U){t("TSUnknownKeyword",v,U)}function mi(v,U){t("TSVoidKeyword",v,U)}function xl(v,U){t("TSThisType",v,U)}function To(v,U){t("TSFunctionType",v,U)}function So(v,U){t("TSConstructorType",v,U)}function bo(v,U){t("TSTypeReference",v,U)}function wo(v,U){t("TSTypePredicate",v,U)}function Eo(v,U){t("TSTypeQuery",v,U)}function Ks(v,U){t("TSTypeLiteral",v,U)}function vl(v,U){t("TSArrayType",v,U)}function Tl(v,U){t("TSTupleType",v,U)}function Sl(v,U){t("TSOptionalType",v,U)}function Po(v,U){t("TSRestType",v,U)}function Ao(v,U){t("TSNamedTupleMember",v,U)}function yi(v,U){t("TSUnionType",v,U)}function gi(v,U){t("TSIntersectionType",v,U)}function bl(v,U){t("TSConditionalType",v,U)}function Ki(v,U){t("TSInferType",v,U)}function wl(v,U){t("TSParenthesizedType",v,U)}function No(v,U){t("TSTypeOperator",v,U)}function Ma(v,U){t("TSIndexedAccessType",v,U)}function ka(v,U){t("TSMappedType",v,U)}function _o(v,U){t("TSTemplateLiteralType",v,U)}function Co(v,U){t("TSLiteralType",v,U)}function Io(v,U){t("TSExpressionWithTypeArguments",v,U)}function El(v,U){t("TSInterfaceDeclaration",v,U)}function Pl(v,U){t("TSInterfaceBody",v,U)}function Al(v,U){t("TSTypeAliasDeclaration",v,U)}function Nl(v,U){t("TSInstantiationExpression",v,U)}function op(v,U){t("TSAsExpression",v,U)}function gs(v,U){t("TSSatisfiesExpression",v,U)}function Mo(v,U){t("TSTypeAssertion",v,U)}function Qu(v,U){t("TSEnumBody",v,U)}function ec(v,U){t("TSEnumDeclaration",v,U)}function tc(v,U){t("TSEnumMember",v,U)}function nc(v,U){t("TSModuleDeclaration",v,U)}function uu(v,U){t("TSModuleBlock",v,U)}function lp(v,U){t("TSImportType",v,U)}function up(v,U){t("TSImportEqualsDeclaration",v,U)}function Oa(v,U){t("TSExternalModuleReference",v,U)}function cu(v,U){t("TSNonNullExpression",v,U)}function ko(v,U){t("TSExportAssignment",v,U)}function pu(v,U){t("TSNamespaceExportDeclaration",v,U)}function rc(v,U){t("TSTypeAnnotation",v,U)}function _l(v,U){t("TSTypeParameterInstantiation",v,U)}function La(v,U){t("TSTypeParameterDeclaration",v,U)}function du(v,U){t("TSTypeParameter",v,U)}function sc(v,U){t("Standardized",v,U)}function Cl(v,U){t("Expression",v,U)}function ic(v,U){t("Binary",v,U)}function ac(v,U){t("Scopable",v,U)}function oc(v,U){t("BlockParent",v,U)}function lc(v,U){t("Block",v,U)}function V(v,U){t("Statement",v,U)}function z(v,U){t("Terminatorless",v,U)}function $(v,U){t("CompletionStatement",v,U)}function ie(v,U){t("Conditional",v,U)}function Te(v,U){t("Loop",v,U)}function ze(v,U){t("While",v,U)}function Ut(v,U){t("ExpressionWrapper",v,U)}function In(v,U){t("For",v,U)}function dr(v,U){t("ForXStatement",v,U)}function Xs(v,U){t("Function",v,U)}function pd(v,U){t("FunctionParent",v,U)}function qn(v,U){t("Pureish",v,U)}function cp(v,U){t("Declaration",v,U)}function uc(v,U){t("FunctionParameter",v,U)}function fu(v,U){t("PatternLike",v,U)}function dd(v,U){t("LVal",v,U)}function pp(v,U){t("TSEntityName",v,U)}function hu(v,U){t("Literal",v,U)}function cc(v,U){t("Immutable",v,U)}function Il(v,U){t("UserWhitespacable",v,U)}function fd(v,U){t("Method",v,U)}function Uf(v,U){t("ObjectMember",v,U)}function qf(v,U){t("Property",v,U)}function hd(v,U){t("UnaryLike",v,U)}function pc(v,U){t("Pattern",v,U)}function mu(v,U){t("Class",v,U)}function dp(v,U){t("ImportOrExportDeclaration",v,U)}function fp(v,U){t("ExportDeclaration",v,U)}function hp(v,U){t("ModuleSpecifier",v,U)}function mp(v,U){t("Accessor",v,U)}function $f(v,U){t("Private",v,U)}function md(v,U){t("Flow",v,U)}function Wf(v,U){t("FlowType",v,U)}function Hf(v,U){t("FlowBaseAnnotation",v,U)}function yp(v,U){t("FlowDeclaration",v,U)}function Da(v,U){t("FlowPredicate",v,U)}function yd(v,U){t("EnumBody",v,U)}function Ml(v,U){t("EnumMember",v,U)}function xi(v,U){t("JSX",v,U)}function yu(v,U){t("Miscellaneous",v,U)}function Xi(v,U){t("TypeScript",v,U)}function gp(v,U){t("TSTypeElement",v,U)}function Kf(v,U){t("TSType",v,U)}function Xf(v,U){t("TSBaseType",v,U)}function Oo(v,U){(0,e.default)("assertNumberLiteral","assertNumericLiteral"),t("NumberLiteral",v,U)}function gu(v,U){(0,e.default)("assertRegexLiteral","assertRegExpLiteral"),t("RegexLiteral",v,U)}function kl(v,U){(0,e.default)("assertRestProperty","assertRestElement"),t("RestProperty",v,U)}function dc(v,U){(0,e.default)("assertSpreadProperty","assertSpreadElement"),t("SpreadProperty",v,U)}function E(v,U){(0,e.default)("assertModuleDeclaration","assertImportOrExportDeclaration"),t("ModuleDeclaration",v,U)}return xe}var Mh={},zI;function Cre(){if(zI)return Mh;zI=1,Object.defineProperty(Mh,"__esModule",{value:!0}),Mh.default=void 0;var n=ga();Mh.default=e;function e(t){switch(t){case"string":return(0,n.stringTypeAnnotation)();case"number":return(0,n.numberTypeAnnotation)();case"undefined":return(0,n.voidTypeAnnotation)();case"boolean":return(0,n.booleanTypeAnnotation)();case"function":return(0,n.genericTypeAnnotation)((0,n.identifier)("Function"));case"object":return(0,n.genericTypeAnnotation)((0,n.identifier)("Object"));case"symbol":return(0,n.genericTypeAnnotation)((0,n.identifier)("Symbol"));case"bigint":return(0,n.anyTypeAnnotation)()}throw new Error("Invalid typeof value: "+t)}return Mh}var Jg={},Zg={},UI;function V4(){if(UI)return Zg;UI=1,Object.defineProperty(Zg,"__esModule",{value:!0}),Zg.default=t;var n=Or();function e(r){return(0,n.isIdentifier)(r)?r.name:`${r.id.name}.${e(r.qualification)}`}function t(r){const s=Array.from(r),i=new Map,a=new Map,l=new Set,c=[];for(let p=0;p<s.length;p++){const d=s[p];if(d&&!c.includes(d)){if((0,n.isAnyTypeAnnotation)(d))return[d];if((0,n.isFlowBaseAnnotation)(d)){a.set(d.type,d);continue}if((0,n.isUnionTypeAnnotation)(d)){l.has(d.types)||(s.push(...d.types),l.add(d.types));continue}if((0,n.isGenericTypeAnnotation)(d)){const h=e(d.id);if(i.has(h)){let m=i.get(h);m.typeParameters?d.typeParameters&&(m.typeParameters.params.push(...d.typeParameters.params),m.typeParameters.params=t(m.typeParameters.params)):m=d.typeParameters}else i.set(h,d);continue}c.push(d)}}for(const[,p]of a)c.push(p);for(const[,p]of i)c.push(p);return c}return Zg}var qI;function Ire(){if(qI)return Jg;qI=1,Object.defineProperty(Jg,"__esModule",{value:!0}),Jg.default=t;var n=ga(),e=V4();function t(r){const s=(0,e.default)(r);return s.length===1?s[0]:(0,n.unionTypeAnnotation)(s)}return Jg}var Qg={},e0={},$I;function Mre(){if($I)return e0;$I=1,Object.defineProperty(e0,"__esModule",{value:!0}),e0.default=t;var n=Or();function e(r){return(0,n.isIdentifier)(r)?r.name:(0,n.isThisExpression)(r)?"this":`${r.right.name}.${e(r.left)}`}function t(r){const s=Array.from(r),i=new Map,a=new Map,l=new Set,c=[];for(let p=0;p<s.length;p++){const d=s[p];if(!d||c.includes(d))continue;if((0,n.isTSAnyKeyword)(d))return[d];if((0,n.isTSBaseType)(d)){a.set(d.type,d);continue}if((0,n.isTSUnionType)(d)){l.has(d.types)||(s.push(...d.types),l.add(d.types));continue}const h="typeParameters";if((0,n.isTSTypeReference)(d)&&d[h]){const m=d[h],x=e(d.typeName);if(i.has(x)){let w=i.get(x);const A=w[h];A?(A.params.push(...m.params),A.params=t(A.params)):w=m}else i.set(x,d);continue}c.push(d)}for(const[,p]of a)c.push(p);for(const[,p]of i)c.push(p);return c}return e0}var WI;function kre(){if(WI)return Qg;WI=1,Object.defineProperty(Qg,"__esModule",{value:!0}),Qg.default=r;var n=ga(),e=Mre(),t=Or();function r(s){const i=s.map(l=>(0,t.isTSTypeAnnotation)(l)?l.typeAnnotation:l),a=(0,e.default)(i);return a.length===1?a[0]:(0,n.tsUnionType)(a)}return Qg}var t0={},HI;function j4(){if(HI)return t0;HI=1,Object.defineProperty(t0,"__esModule",{value:!0}),t0.buildUndefinedNode=e;var n=ga();function e(){return(0,n.unaryExpression)("void",(0,n.numericLiteral)(0),!0)}return t0}var n0={},KI;function ud(){if(KI)return n0;KI=1,Object.defineProperty(n0,"__esModule",{value:!0}),n0.default=i;var n=il(),e=Or();const{hasOwn:t}={hasOwn:Function.call.bind(Object.prototype.hasOwnProperty)};function r(c,p,d,h){return c&&typeof c.type=="string"?a(c,p,d,h):c}function s(c,p,d,h){return Array.isArray(c)?c.map(m=>r(m,p,d,h)):r(c,p,d,h)}function i(c,p=!0,d=!1){return a(c,p,d,new Map)}function a(c,p=!0,d=!1,h){if(!c)return c;const{type:m}=c,x={type:c.type};if((0,e.isIdentifier)(c))x.name=c.name,t(c,"optional")&&typeof c.optional=="boolean"&&(x.optional=c.optional),t(c,"typeAnnotation")&&(x.typeAnnotation=p?s(c.typeAnnotation,!0,d,h):c.typeAnnotation),t(c,"decorators")&&(x.decorators=p?s(c.decorators,!0,d,h):c.decorators);else if(t(n.NODE_FIELDS,m))for(const w of Object.keys(n.NODE_FIELDS[m]))t(c,w)&&(p?x[w]=(0,e.isFile)(c)&&w==="comments"?l(c.comments,p,d,h):s(c[w],!0,d,h):x[w]=c[w]);else throw new Error(`Unknown node type: "${m}"`);return t(c,"loc")&&(d?x.loc=null:x.loc=c.loc),t(c,"leadingComments")&&(x.leadingComments=l(c.leadingComments,p,d,h)),t(c,"innerComments")&&(x.innerComments=l(c.innerComments,p,d,h)),t(c,"trailingComments")&&(x.trailingComments=l(c.trailingComments,p,d,h)),t(c,"extra")&&(x.extra=Object.assign({},c.extra)),x}function l(c,p,d,h){return!c||!p?c:c.map(m=>{const x=h.get(m);if(x)return x;const{type:w,value:A,loc:P}=m,S={type:w,value:A,loc:P};return d&&(S.loc=null),h.set(m,S),S})}return n0}var r0={},XI;function Ore(){if(XI)return r0;XI=1,Object.defineProperty(r0,"__esModule",{value:!0}),r0.default=e;var n=ud();function e(t){return(0,n.default)(t,!1)}return r0}var s0={},GI;function Lre(){if(GI)return s0;GI=1,Object.defineProperty(s0,"__esModule",{value:!0}),s0.default=e;var n=ud();function e(t){return(0,n.default)(t)}return s0}var i0={},YI;function Dre(){if(YI)return i0;YI=1,Object.defineProperty(i0,"__esModule",{value:!0}),i0.default=e;var n=ud();function e(t){return(0,n.default)(t,!0,!0)}return i0}var a0={},JI;function Rre(){if(JI)return a0;JI=1,Object.defineProperty(a0,"__esModule",{value:!0}),a0.default=e;var n=ud();function e(t){return(0,n.default)(t,!1,!0)}return a0}var o0={},l0={},ZI;function z4(){if(ZI)return l0;ZI=1,Object.defineProperty(l0,"__esModule",{value:!0}),l0.default=n;function n(e,t,r){if(!r||!e)return e;const s=`${t}Comments`;return e[s]?t==="leading"?e[s]=r.concat(e[s]):e[s].push(...r):e[s]=r,e}return l0}var QI;function Fre(){if(QI)return o0;QI=1,Object.defineProperty(o0,"__esModule",{value:!0}),o0.default=e;var n=z4();function e(t,r,s,i){return(0,n.default)(t,r,[{type:i?"CommentLine":"CommentBlock",value:s}])}return o0}var u0={},c0={},e2;function yP(){if(e2)return c0;e2=1,Object.defineProperty(c0,"__esModule",{value:!0}),c0.default=n;function n(e,t,r){t&&r&&(t[e]=Array.from(new Set([].concat(t[e],r[e]).filter(Boolean))))}return c0}var t2;function U4(){if(t2)return u0;t2=1,Object.defineProperty(u0,"__esModule",{value:!0}),u0.default=e;var n=yP();function e(t,r){(0,n.default)("innerComments",t,r)}return u0}var p0={},n2;function q4(){if(n2)return p0;n2=1,Object.defineProperty(p0,"__esModule",{value:!0}),p0.default=e;var n=yP();function e(t,r){(0,n.default)("leadingComments",t,r)}return p0}var d0={},f0={},r2;function $4(){if(r2)return f0;r2=1,Object.defineProperty(f0,"__esModule",{value:!0}),f0.default=e;var n=yP();function e(t,r){(0,n.default)("trailingComments",t,r)}return f0}var s2;function W4(){if(s2)return d0;s2=1,Object.defineProperty(d0,"__esModule",{value:!0}),d0.default=r;var n=$4(),e=q4(),t=U4();function r(s,i){return(0,n.default)(s,i),(0,e.default)(s,i),(0,t.default)(s,i),s}return d0}var h0={},i2;function Bre(){if(i2)return h0;i2=1,Object.defineProperty(h0,"__esModule",{value:!0}),h0.default=e;var n=Jm();function e(t){return n.COMMENT_KEYS.forEach(r=>{t[r]=null}),t}return h0}var dt={},a2;function Vre(){if(a2)return dt;a2=1,Object.defineProperty(dt,"__esModule",{value:!0}),dt.WHILE_TYPES=dt.USERWHITESPACABLE_TYPES=dt.UNARYLIKE_TYPES=dt.TYPESCRIPT_TYPES=dt.TSTYPE_TYPES=dt.TSTYPEELEMENT_TYPES=dt.TSENTITYNAME_TYPES=dt.TSBASETYPE_TYPES=dt.TERMINATORLESS_TYPES=dt.STATEMENT_TYPES=dt.STANDARDIZED_TYPES=dt.SCOPABLE_TYPES=dt.PUREISH_TYPES=dt.PROPERTY_TYPES=dt.PRIVATE_TYPES=dt.PATTERN_TYPES=dt.PATTERNLIKE_TYPES=dt.OBJECTMEMBER_TYPES=dt.MODULESPECIFIER_TYPES=dt.MODULEDECLARATION_TYPES=dt.MISCELLANEOUS_TYPES=dt.METHOD_TYPES=dt.LVAL_TYPES=dt.LOOP_TYPES=dt.LITERAL_TYPES=dt.JSX_TYPES=dt.IMPORTOREXPORTDECLARATION_TYPES=dt.IMMUTABLE_TYPES=dt.FUNCTION_TYPES=dt.FUNCTIONPARENT_TYPES=dt.FUNCTIONPARAMETER_TYPES=dt.FOR_TYPES=dt.FORXSTATEMENT_TYPES=dt.FLOW_TYPES=dt.FLOWTYPE_TYPES=dt.FLOWPREDICATE_TYPES=dt.FLOWDECLARATION_TYPES=dt.FLOWBASEANNOTATION_TYPES=dt.EXPRESSION_TYPES=dt.EXPRESSIONWRAPPER_TYPES=dt.EXPORTDECLARATION_TYPES=dt.ENUMMEMBER_TYPES=dt.ENUMBODY_TYPES=dt.DECLARATION_TYPES=dt.CONDITIONAL_TYPES=dt.COMPLETIONSTATEMENT_TYPES=dt.CLASS_TYPES=dt.BLOCK_TYPES=dt.BLOCKPARENT_TYPES=dt.BINARY_TYPES=dt.ACCESSOR_TYPES=void 0;var n=il();dt.STANDARDIZED_TYPES=n.FLIPPED_ALIAS_KEYS.Standardized,dt.EXPRESSION_TYPES=n.FLIPPED_ALIAS_KEYS.Expression,dt.BINARY_TYPES=n.FLIPPED_ALIAS_KEYS.Binary,dt.SCOPABLE_TYPES=n.FLIPPED_ALIAS_KEYS.Scopable,dt.BLOCKPARENT_TYPES=n.FLIPPED_ALIAS_KEYS.BlockParent,dt.BLOCK_TYPES=n.FLIPPED_ALIAS_KEYS.Block,dt.STATEMENT_TYPES=n.FLIPPED_ALIAS_KEYS.Statement,dt.TERMINATORLESS_TYPES=n.FLIPPED_ALIAS_KEYS.Terminatorless,dt.COMPLETIONSTATEMENT_TYPES=n.FLIPPED_ALIAS_KEYS.CompletionStatement,dt.CONDITIONAL_TYPES=n.FLIPPED_ALIAS_KEYS.Conditional,dt.LOOP_TYPES=n.FLIPPED_ALIAS_KEYS.Loop,dt.WHILE_TYPES=n.FLIPPED_ALIAS_KEYS.While,dt.EXPRESSIONWRAPPER_TYPES=n.FLIPPED_ALIAS_KEYS.ExpressionWrapper,dt.FOR_TYPES=n.FLIPPED_ALIAS_KEYS.For,dt.FORXSTATEMENT_TYPES=n.FLIPPED_ALIAS_KEYS.ForXStatement,dt.FUNCTION_TYPES=n.FLIPPED_ALIAS_KEYS.Function,dt.FUNCTIONPARENT_TYPES=n.FLIPPED_ALIAS_KEYS.FunctionParent,dt.PUREISH_TYPES=n.FLIPPED_ALIAS_KEYS.Pureish,dt.DECLARATION_TYPES=n.FLIPPED_ALIAS_KEYS.Declaration,dt.FUNCTIONPARAMETER_TYPES=n.FLIPPED_ALIAS_KEYS.FunctionParameter,dt.PATTERNLIKE_TYPES=n.FLIPPED_ALIAS_KEYS.PatternLike,dt.LVAL_TYPES=n.FLIPPED_ALIAS_KEYS.LVal,dt.TSENTITYNAME_TYPES=n.FLIPPED_ALIAS_KEYS.TSEntityName,dt.LITERAL_TYPES=n.FLIPPED_ALIAS_KEYS.Literal,dt.IMMUTABLE_TYPES=n.FLIPPED_ALIAS_KEYS.Immutable,dt.USERWHITESPACABLE_TYPES=n.FLIPPED_ALIAS_KEYS.UserWhitespacable,dt.METHOD_TYPES=n.FLIPPED_ALIAS_KEYS.Method,dt.OBJECTMEMBER_TYPES=n.FLIPPED_ALIAS_KEYS.ObjectMember,dt.PROPERTY_TYPES=n.FLIPPED_ALIAS_KEYS.Property,dt.UNARYLIKE_TYPES=n.FLIPPED_ALIAS_KEYS.UnaryLike,dt.PATTERN_TYPES=n.FLIPPED_ALIAS_KEYS.Pattern,dt.CLASS_TYPES=n.FLIPPED_ALIAS_KEYS.Class;const e=dt.IMPORTOREXPORTDECLARATION_TYPES=n.FLIPPED_ALIAS_KEYS.ImportOrExportDeclaration;return dt.EXPORTDECLARATION_TYPES=n.FLIPPED_ALIAS_KEYS.ExportDeclaration,dt.MODULESPECIFIER_TYPES=n.FLIPPED_ALIAS_KEYS.ModuleSpecifier,dt.ACCESSOR_TYPES=n.FLIPPED_ALIAS_KEYS.Accessor,dt.PRIVATE_TYPES=n.FLIPPED_ALIAS_KEYS.Private,dt.FLOW_TYPES=n.FLIPPED_ALIAS_KEYS.Flow,dt.FLOWTYPE_TYPES=n.FLIPPED_ALIAS_KEYS.FlowType,dt.FLOWBASEANNOTATION_TYPES=n.FLIPPED_ALIAS_KEYS.FlowBaseAnnotation,dt.FLOWDECLARATION_TYPES=n.FLIPPED_ALIAS_KEYS.FlowDeclaration,dt.FLOWPREDICATE_TYPES=n.FLIPPED_ALIAS_KEYS.FlowPredicate,dt.ENUMBODY_TYPES=n.FLIPPED_ALIAS_KEYS.EnumBody,dt.ENUMMEMBER_TYPES=n.FLIPPED_ALIAS_KEYS.EnumMember,dt.JSX_TYPES=n.FLIPPED_ALIAS_KEYS.JSX,dt.MISCELLANEOUS_TYPES=n.FLIPPED_ALIAS_KEYS.Miscellaneous,dt.TYPESCRIPT_TYPES=n.FLIPPED_ALIAS_KEYS.TypeScript,dt.TSTYPEELEMENT_TYPES=n.FLIPPED_ALIAS_KEYS.TSTypeElement,dt.TSTYPE_TYPES=n.FLIPPED_ALIAS_KEYS.TSType,dt.TSBASETYPE_TYPES=n.FLIPPED_ALIAS_KEYS.TSBaseType,dt.MODULEDECLARATION_TYPES=e,dt}var m0={},y0={},o2;function H4(){if(o2)return y0;o2=1,Object.defineProperty(y0,"__esModule",{value:!0}),y0.default=t;var n=Or(),e=ga();function t(r,s){if((0,n.isBlockStatement)(r))return r;let i=[];return(0,n.isEmptyStatement)(r)?i=[]:((0,n.isStatement)(r)||((0,n.isFunction)(s)?r=(0,e.returnStatement)(r):r=(0,e.expressionStatement)(r)),i=[r]),(0,e.blockStatement)(i)}return y0}var l2;function jre(){if(l2)return m0;l2=1,Object.defineProperty(m0,"__esModule",{value:!0}),m0.default=e;var n=H4();function e(t,r="body"){const s=(0,n.default)(t[r],t);return t[r]=s,s}return m0}var g0={},x0={},u2;function K4(){if(u2)return x0;u2=1,Object.defineProperty(x0,"__esModule",{value:!0}),x0.default=t;var n=Ym(),e=Lv();function t(r){r=r+"";let s="";for(const i of r)s+=(0,e.isIdentifierChar)(i.codePointAt(0))?i:"-";return s=s.replace(/^[-0-9]+/,""),s=s.replace(/[-\s]+(.)?/g,function(i,a){return a?a.toUpperCase():""}),(0,n.default)(s)||(s=`_${s}`),s||"_"}return x0}var c2;function zre(){if(c2)return g0;c2=1,Object.defineProperty(g0,"__esModule",{value:!0}),g0.default=e;var n=K4();function e(t){return t=(0,n.default)(t),(t==="eval"||t==="arguments")&&(t="_"+t),t}return g0}var v0={},p2;function Ure(){if(p2)return v0;p2=1,Object.defineProperty(v0,"__esModule",{value:!0}),v0.default=t;var n=Or(),e=ga();function t(r,s=r.key||r.property){return!r.computed&&(0,n.isIdentifier)(s)&&(s=(0,e.stringLiteral)(s.name)),s}return v0}var kh={},d2;function qre(){if(d2)return kh;d2=1,Object.defineProperty(kh,"__esModule",{value:!0}),kh.default=void 0;var n=Or();kh.default=e;function e(t){if((0,n.isExpressionStatement)(t)&&(t=t.expression),(0,n.isExpression)(t))return t;if((0,n.isClass)(t)?(t.type="ClassExpression",t.abstract=!1):(0,n.isFunction)(t)&&(t.type="FunctionExpression"),!(0,n.isExpression)(t))throw new Error(`cannot turn ${t.type} to an expression`);return t}return kh}var T0={},S0={},b0={},f2;function X4(){if(f2)return b0;f2=1,Object.defineProperty(b0,"__esModule",{value:!0}),b0.default=r;var n=il();const e=Symbol(),t=Symbol();function r(s,i,a){if(!s)return!1;const l=n.VISITOR_KEYS[s.type];if(!l)return!1;a=a||{};const c=i(s,a);if(c!==void 0)switch(c){case e:return!1;case t:return!0}for(const p of l){const d=s[p];if(d){if(Array.isArray(d)){for(const h of d)if(r(h,i,a))return!0}else if(r(d,i,a))return!0}}return!1}return r.skip=e,r.stop=t,b0}var w0={},h2;function G4(){if(h2)return w0;h2=1,Object.defineProperty(w0,"__esModule",{value:!0}),w0.default=r;var n=Jm();const e=["tokens","start","end","loc","raw","rawValue"],t=[...n.COMMENT_KEYS,"comments",...e];function r(s,i={}){const a=i.preserveComments?e:t;for(const c of a)s[c]!=null&&(s[c]=void 0);for(const c of Object.keys(s))c.startsWith("_")&&s[c]!=null&&(s[c]=void 0);const l=Object.getOwnPropertySymbols(s);for(const c of l)s[c]=null}return w0}var m2;function Y4(){if(m2)return S0;m2=1,Object.defineProperty(S0,"__esModule",{value:!0}),S0.default=t;var n=X4(),e=G4();function t(r,s){return(0,n.default)(r,e.default,s),r}return S0}var y2;function $re(){if(y2)return T0;y2=1,Object.defineProperty(T0,"__esModule",{value:!0}),T0.default=r;var n=Or(),e=ud(),t=Y4();function r(s,i=s.key){let a;return s.kind==="method"?r.increment()+"":((0,n.isIdentifier)(i)?a=i.name:(0,n.isStringLiteral)(i)?a=JSON.stringify(i.value):a=JSON.stringify((0,t.default)((0,e.default)(i))),s.computed&&(a=`[${a}]`),s.static&&(a=`static:${a}`),a)}return r.uid=0,r.increment=function(){return r.uid>=Number.MAX_SAFE_INTEGER?r.uid=0:r.uid++},T0}var Oh={},g2;function Wre(){if(g2)return Oh;g2=1,Object.defineProperty(Oh,"__esModule",{value:!0}),Oh.default=void 0;var n=Or(),e=ga();Oh.default=t;function t(r,s){if((0,n.isStatement)(r))return r;let i=!1,a;if((0,n.isClass)(r))i=!0,a="ClassDeclaration";else if((0,n.isFunction)(r))i=!0,a="FunctionDeclaration";else if((0,n.isAssignmentExpression)(r))return(0,e.expressionStatement)(r);if(i&&!r.id&&(a=!1),!a){if(s)return!1;throw new Error(`cannot turn ${r.type} to a statement`)}return r.type=a,r}return Oh}var Lh={},x2;function Hre(){if(x2)return Lh;x2=1,Object.defineProperty(Lh,"__esModule",{value:!0}),Lh.default=void 0;var n=Ym(),e=ga();Lh.default=i;const t=Function.call.bind(Object.prototype.toString);function r(a){return t(a)==="[object RegExp]"}function s(a){if(typeof a!="object"||a===null||Object.prototype.toString.call(a)!=="[object Object]")return!1;const l=Object.getPrototypeOf(a);return l===null||Object.getPrototypeOf(l)===null}function i(a){if(a===void 0)return(0,e.identifier)("undefined");if(a===!0||a===!1)return(0,e.booleanLiteral)(a);if(a===null)return(0,e.nullLiteral)();if(typeof a=="string")return(0,e.stringLiteral)(a);if(typeof a=="number"){let l;if(Number.isFinite(a))l=(0,e.numericLiteral)(Math.abs(a));else{let c;Number.isNaN(a)?c=(0,e.numericLiteral)(0):c=(0,e.numericLiteral)(1),l=(0,e.binaryExpression)("/",c,(0,e.numericLiteral)(0))}return(a<0||Object.is(a,-0))&&(l=(0,e.unaryExpression)("-",l)),l}if(typeof a=="bigint")return a<0?(0,e.unaryExpression)("-",(0,e.bigIntLiteral)(-a)):(0,e.bigIntLiteral)(a);if(r(a)){const l=a.source,c=/\/([a-z]*)$/.exec(a.toString())[1];return(0,e.regExpLiteral)(l,c)}if(Array.isArray(a))return(0,e.arrayExpression)(a.map(i));if(s(a)){const l=[];for(const c of Object.keys(a)){let p,d=!1;(0,n.default)(c)?c==="__proto__"?(d=!0,p=(0,e.stringLiteral)(c)):p=(0,e.identifier)(c):p=(0,e.stringLiteral)(c),l.push((0,e.objectProperty)(p,i(a[c]),d))}return(0,e.objectExpression)(l)}throw new Error("don't know how to turn this value into a node")}return Lh}var E0={},v2;function Kre(){if(v2)return E0;v2=1,Object.defineProperty(E0,"__esModule",{value:!0}),E0.default=e;var n=ga();function e(t,r,s=!1){return t.object=(0,n.memberExpression)(t.object,t.property,t.computed),t.property=r,t.computed=!!s,t}return E0}var P0={},T2;function Xre(){if(T2)return P0;T2=1,Object.defineProperty(P0,"__esModule",{value:!0}),P0.default=t;var n=Jm(),e=W4();function t(r,s){if(!r||!s)return r;for(const i of n.INHERIT_KEYS.optional)r[i]==null&&(r[i]=s[i]);for(const i of Object.keys(s))i.startsWith("_")&&i!=="__clone"&&(r[i]=s[i]);for(const i of n.INHERIT_KEYS.force)r[i]=s[i];return(0,e.default)(r,s),r}return P0}var A0={},S2;function Gre(){if(S2)return A0;S2=1,Object.defineProperty(A0,"__esModule",{value:!0}),A0.default=t;var n=ga(),e=vn();function t(r,s){if((0,e.isSuper)(r.object))throw new Error("Cannot prepend node to super property access (`super.foo`).");return r.object=(0,n.memberExpression)(s,r.object),r}return A0}var N0={},b2;function Yre(){if(b2)return N0;b2=1,Object.defineProperty(N0,"__esModule",{value:!0}),N0.default=n;function n(e){const t=[].concat(e),r=Object.create(null);for(;t.length;){const s=t.pop();if(s)switch(s.type){case"ArrayPattern":t.push(...s.elements);break;case"AssignmentExpression":case"AssignmentPattern":case"ForInStatement":case"ForOfStatement":t.push(s.left);break;case"ObjectPattern":t.push(...s.properties);break;case"ObjectProperty":t.push(s.value);break;case"RestElement":case"UpdateExpression":t.push(s.argument);break;case"UnaryExpression":s.operator==="delete"&&t.push(s.argument);break;case"Identifier":r[s.name]=s;break}}return r}return N0}var _0={},w2;function Rv(){if(w2)return _0;w2=1,Object.defineProperty(_0,"__esModule",{value:!0}),_0.default=e;var n=Or();function e(r,s,i,a){const l=[].concat(r),c=Object.create(null);for(;l.length;){const p=l.shift();if(!p||a&&((0,n.isAssignmentExpression)(p)||(0,n.isUnaryExpression)(p)||(0,n.isUpdateExpression)(p)))continue;if((0,n.isIdentifier)(p)){s?(c[p.name]=c[p.name]||[]).push(p):c[p.name]=p;continue}if((0,n.isExportDeclaration)(p)&&!(0,n.isExportAllDeclaration)(p)){(0,n.isDeclaration)(p.declaration)&&l.push(p.declaration);continue}if(i){if((0,n.isFunctionDeclaration)(p)){l.push(p.id);continue}if((0,n.isFunctionExpression)(p))continue}const d=e.keys[p.type];if(d)for(let h=0;h<d.length;h++){const m=d[h],x=p[m];x&&(Array.isArray(x)?l.push(...x):l.push(x))}}return c}const t={DeclareClass:["id"],DeclareFunction:["id"],DeclareModule:["id"],DeclareVariable:["id"],DeclareInterface:["id"],DeclareTypeAlias:["id"],DeclareOpaqueType:["id"],InterfaceDeclaration:["id"],TypeAlias:["id"],OpaqueType:["id"],CatchClause:["param"],LabeledStatement:["label"],UnaryExpression:["argument"],AssignmentExpression:["left"],ImportSpecifier:["local"],ImportNamespaceSpecifier:["local"],ImportDefaultSpecifier:["local"],ImportDeclaration:["specifiers"],TSImportEqualsDeclaration:["id"],ExportSpecifier:["exported"],ExportNamespaceSpecifier:["exported"],ExportDefaultSpecifier:["exported"],FunctionDeclaration:["id","params"],FunctionExpression:["id","params"],ArrowFunctionExpression:["params"],ObjectMethod:["params"],ClassMethod:["params"],ClassPrivateMethod:["params"],ForInStatement:["left"],ForOfStatement:["left"],ClassDeclaration:["id"],ClassExpression:["id"],RestElement:["argument"],UpdateExpression:["argument"],ObjectProperty:["value"],AssignmentPattern:["left"],ArrayPattern:["elements"],ObjectPattern:["properties"],VariableDeclaration:["declarations"],VariableDeclarator:["id"]};return e.keys=t,_0}var Dh={},E2;function Jre(){if(E2)return Dh;E2=1,Object.defineProperty(Dh,"__esModule",{value:!0}),Dh.default=void 0;var n=Rv();Dh.default=e;function e(t,r){return(0,n.default)(t,r,!0)}return Dh}var C0={},P2;function Zre(){if(P2)return C0;P2=1,Object.defineProperty(C0,"__esModule",{value:!0}),C0.default=r;var n=Or();function e(s){return(0,n.isNullLiteral)(s)?"null":(0,n.isRegExpLiteral)(s)?`/${s.pattern}/${s.flags}`:(0,n.isTemplateLiteral)(s)?s.quasis.map(i=>i.value.raw).join(""):s.value!==void 0?String(s.value):null}function t(s){if(!s.computed||(0,n.isLiteral)(s.key))return s.key}function r(s,i){if("id"in s&&s.id)return{name:s.id.name,originalNode:s.id};let a="",l;if((0,n.isObjectProperty)(i,{value:s})?l=t(i):(0,n.isObjectMethod)(s)||(0,n.isClassMethod)(s)?(l=t(s),s.kind==="get"?a="get ":s.kind==="set"&&(a="set ")):(0,n.isVariableDeclarator)(i,{init:s})?l=i.id:(0,n.isAssignmentExpression)(i,{operator:"=",right:s})&&(l=i.left),!l)return null;const c=(0,n.isLiteral)(l)?e(l):(0,n.isIdentifier)(l)?l.name:(0,n.isPrivateName)(l)?l.id.name:null;return c==null?null:{name:a+c,originalNode:l}}return C0}var I0={},A2;function Qre(){if(A2)return I0;A2=1,Object.defineProperty(I0,"__esModule",{value:!0}),I0.default=e;var n=il();function e(r,s,i){typeof s=="function"&&(s={enter:s});const{enter:a,exit:l}=s;t(r,a,l,i,[])}function t(r,s,i,a,l){const c=n.VISITOR_KEYS[r.type];if(c){s&&s(r,l,a);for(const p of c){const d=r[p];if(Array.isArray(d))for(let h=0;h<d.length;h++){const m=d[h];m&&(l.push({node:r,key:p,index:h}),t(m,s,i,a,l),l.pop())}else d&&(l.push({node:r,key:p}),t(d,s,i,a,l),l.pop())}i&&i(r,l,a)}}return I0}var M0={},N2;function ese(){if(N2)return M0;N2=1,Object.defineProperty(M0,"__esModule",{value:!0}),M0.default=e;var n=Rv();function e(t,r,s){if(s&&t.type==="Identifier"&&r.type==="ObjectProperty"&&s.type==="ObjectExpression")return!1;const i=n.default.keys[r.type];if(i)for(let a=0;a<i.length;a++){const l=i[a],c=r[l];if(Array.isArray(c)){if(c.includes(t))return!0}else if(c===t)return!0}return!1}return M0}var k0={},O0={},_2;function J4(){if(_2)return O0;_2=1,Object.defineProperty(O0,"__esModule",{value:!0}),O0.default=t;var n=Or(),e=Symbol.for("var used to be block scoped");function t(r){return(0,n.isVariableDeclaration)(r)&&(r.kind!=="var"||r[e])}return O0}var C2;function tse(){if(C2)return k0;C2=1,Object.defineProperty(k0,"__esModule",{value:!0}),k0.default=t;var n=Or(),e=J4();function t(r){return(0,n.isFunctionDeclaration)(r)||(0,n.isClassDeclaration)(r)||(0,e.default)(r)}return k0}var L0={},I2;function nse(){if(I2)return L0;I2=1,Object.defineProperty(L0,"__esModule",{value:!0}),L0.default=t;var n=hP(),e=Or();function t(r){return(0,n.default)(r.type,"Immutable")?!0:(0,e.isIdentifier)(r)?r.name==="undefined":!1}return L0}var D0={},M2;function rse(){if(M2)return D0;M2=1,Object.defineProperty(D0,"__esModule",{value:!0}),D0.default=e;var n=il();function e(t,r){if(typeof t!="object"||typeof r!="object"||t==null||r==null)return t===r;if(t.type!==r.type)return!1;const s=Object.keys(n.NODE_FIELDS[t.type]||t.type),i=n.VISITOR_KEYS[t.type];for(const a of s){const l=t[a],c=r[a];if(typeof l!=typeof c)return!1;if(!(l==null&&c==null)){if(l==null||c==null)return!1;if(Array.isArray(l)){if(!Array.isArray(c)||l.length!==c.length)return!1;for(let p=0;p<l.length;p++)if(!e(l[p],c[p]))return!1;continue}if(typeof l=="object"&&!(i!=null&&i.includes(a))){for(const p of Object.keys(l))if(l[p]!==c[p])return!1;continue}if(!e(l,c))return!1}}return!0}return D0}var R0={},k2;function sse(){if(k2)return R0;k2=1,Object.defineProperty(R0,"__esModule",{value:!0}),R0.default=n;function n(e,t,r){switch(t.type){case"MemberExpression":case"OptionalMemberExpression":return t.property===e?!!t.computed:t.object===e;case"JSXMemberExpression":return t.object===e;case"VariableDeclarator":return t.init===e;case"ArrowFunctionExpression":return t.body===e;case"PrivateName":return!1;case"ClassMethod":case"ClassPrivateMethod":case"ObjectMethod":return t.key===e?!!t.computed:!1;case"ObjectProperty":return t.key===e?!!t.computed:r?.type!=="ObjectPattern";case"ClassProperty":case"ClassAccessorProperty":return t.key===e?!!t.computed:!0;case"ClassPrivateProperty":return t.key!==e;case"ClassDeclaration":case"ClassExpression":return t.superClass===e;case"AssignmentExpression":return t.right===e;case"AssignmentPattern":return t.right===e;case"LabeledStatement":return!1;case"CatchClause":return!1;case"RestElement":return!1;case"BreakStatement":case"ContinueStatement":return!1;case"FunctionDeclaration":case"FunctionExpression":return!1;case"ExportNamespaceSpecifier":case"ExportDefaultSpecifier":return!1;case"ExportSpecifier":return r!=null&&r.source?!1:t.local===e;case"ImportDefaultSpecifier":case"ImportNamespaceSpecifier":case"ImportSpecifier":return!1;case"ImportAttribute":return!1;case"JSXAttribute":return!1;case"ObjectPattern":case"ArrayPattern":return!1;case"MetaProperty":return!1;case"ObjectTypeProperty":return t.key!==e;case"TSEnumMember":return t.id!==e;case"TSPropertySignature":return t.key===e?!!t.computed:!0}return!0}return R0}var F0={},O2;function ise(){if(O2)return F0;O2=1,Object.defineProperty(F0,"__esModule",{value:!0}),F0.default=e;var n=Or();function e(t,r){return(0,n.isBlockStatement)(t)&&((0,n.isFunction)(r)||(0,n.isCatchClause)(r))?!1:(0,n.isPattern)(t)&&((0,n.isFunction)(r)||(0,n.isCatchClause)(r))?!0:(0,n.isScopable)(t)}return F0}var B0={},L2;function ase(){if(L2)return B0;L2=1,Object.defineProperty(B0,"__esModule",{value:!0}),B0.default=e;var n=Or();function e(t){return(0,n.isImportDefaultSpecifier)(t)||(0,n.isIdentifier)(t.imported||t.exported,{name:"default"})}return B0}var V0={},D2;function ose(){if(D2)return V0;D2=1,Object.defineProperty(V0,"__esModule",{value:!0}),V0.default=t;var n=Ym();const e=new Set(["abstract","boolean","byte","char","double","enum","final","float","goto","implements","int","interface","long","native","package","private","protected","public","short","static","synchronized","throws","transient","volatile"]);function t(r){return(0,n.default)(r)&&!e.has(r)}return V0}var j0={},R2;function lse(){if(R2)return j0;R2=1,Object.defineProperty(j0,"__esModule",{value:!0}),j0.default=t;var n=Or(),e=Symbol.for("var used to be block scoped");function t(r){return(0,n.isVariableDeclaration)(r,{kind:"var"})&&!r[e]}return j0}var z0={},U0={},F2;function use(){if(F2)return U0;F2=1,Object.defineProperty(U0,"__esModule",{value:!0}),U0.default=i;var n=Rv(),e=Or(),t=ga(),r=j4(),s=ud();function i(a,l){const c=[];let p=!0;for(const d of a)if((0,e.isEmptyStatement)(d)||(p=!1),(0,e.isExpression)(d))c.push(d);else if((0,e.isExpressionStatement)(d))c.push(d.expression);else if((0,e.isVariableDeclaration)(d)){if(d.kind!=="var")return;for(const h of d.declarations){const m=(0,n.default)(h);for(const x of Object.keys(m))l.push({kind:d.kind,id:(0,s.default)(m[x])});h.init&&c.push((0,t.assignmentExpression)("=",h.id,h.init))}p=!0}else if((0,e.isIfStatement)(d)){const h=d.consequent?i([d.consequent],l):(0,r.buildUndefinedNode)(),m=d.alternate?i([d.alternate],l):(0,r.buildUndefinedNode)();if(!h||!m)return;c.push((0,t.conditionalExpression)(d.test,h,m))}else if((0,e.isBlockStatement)(d)){const h=i(d.body,l);if(!h)return;c.push(h)}else if((0,e.isEmptyStatement)(d))a.indexOf(d)===0&&(p=!0);else return;return p&&c.push((0,r.buildUndefinedNode)()),c.length===1?c[0]:(0,t.sequenceExpression)(c)}return U0}var B2;function cse(){if(B2)return z0;B2=1,Object.defineProperty(z0,"__esModule",{value:!0}),z0.default=e;var n=use();function e(t,r){if(!(t!=null&&t.length))return;const s=[],i=(0,n.default)(t,s);if(i){for(const a of s)r.push(a);return i}}return z0}var V2;function vn(){return V2||(V2=1,(function(n){var e={};Object.defineProperty(n,"__esModule",{value:!0});var t={react:!0,assertNode:!0,createTypeAnnotationBasedOnTypeof:!0,createUnionTypeAnnotation:!0,createFlowUnionType:!0,createTSUnionType:!0,cloneNode:!0,clone:!0,cloneDeep:!0,cloneDeepWithoutLoc:!0,cloneWithoutLoc:!0,addComment:!0,addComments:!0,inheritInnerComments:!0,inheritLeadingComments:!0,inheritsComments:!0,inheritTrailingComments:!0,removeComments:!0,ensureBlock:!0,toBindingIdentifierName:!0,toBlock:!0,toComputedKey:!0,toExpression:!0,toIdentifier:!0,toKeyAlias:!0,toStatement:!0,valueToNode:!0,appendToMemberExpression:!0,inherits:!0,prependToMemberExpression:!0,removeProperties:!0,removePropertiesDeep:!0,removeTypeDuplicates:!0,getAssignmentIdentifiers:!0,getBindingIdentifiers:!0,getOuterBindingIdentifiers:!0,getFunctionName:!0,traverse:!0,traverseFast:!0,shallowEqual:!0,is:!0,isBinding:!0,isBlockScoped:!0,isImmutable:!0,isLet:!0,isNode:!0,isNodesEquivalent:!0,isPlaceholderType:!0,isReferenced:!0,isScope:!0,isSpecifierDefault:!0,isType:!0,isValidES3Identifier:!0,isValidIdentifier:!0,isVar:!0,matchesPattern:!0,validate:!0,buildMatchMemberExpression:!0,__internal__deprecationWarning:!0};Object.defineProperty(n,"__internal__deprecationWarning",{enumerable:!0,get:function(){return Zt.default}}),Object.defineProperty(n,"addComment",{enumerable:!0,get:function(){return C.default}}),Object.defineProperty(n,"addComments",{enumerable:!0,get:function(){return I.default}}),Object.defineProperty(n,"appendToMemberExpression",{enumerable:!0,get:function(){return W.default}}),Object.defineProperty(n,"assertNode",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(n,"buildMatchMemberExpression",{enumerable:!0,get:function(){return nt.default}}),Object.defineProperty(n,"clone",{enumerable:!0,get:function(){return w.default}}),Object.defineProperty(n,"cloneDeep",{enumerable:!0,get:function(){return A.default}}),Object.defineProperty(n,"cloneDeepWithoutLoc",{enumerable:!0,get:function(){return P.default}}),Object.defineProperty(n,"cloneNode",{enumerable:!0,get:function(){return x.default}}),Object.defineProperty(n,"cloneWithoutLoc",{enumerable:!0,get:function(){return S.default}}),Object.defineProperty(n,"createFlowUnionType",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(n,"createTSUnionType",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(n,"createTypeAnnotationBasedOnTypeof",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(n,"createUnionTypeAnnotation",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(n,"ensureBlock",{enumerable:!0,get:function(){return M.default}}),Object.defineProperty(n,"getAssignmentIdentifiers",{enumerable:!0,get:function(){return be.default}}),Object.defineProperty(n,"getBindingIdentifiers",{enumerable:!0,get:function(){return Se.default}}),Object.defineProperty(n,"getFunctionName",{enumerable:!0,get:function(){return Ue.default}}),Object.defineProperty(n,"getOuterBindingIdentifiers",{enumerable:!0,get:function(){return Le.default}}),Object.defineProperty(n,"inheritInnerComments",{enumerable:!0,get:function(){return _.default}}),Object.defineProperty(n,"inheritLeadingComments",{enumerable:!0,get:function(){return D.default}}),Object.defineProperty(n,"inheritTrailingComments",{enumerable:!0,get:function(){return O.default}}),Object.defineProperty(n,"inherits",{enumerable:!0,get:function(){return Y.default}}),Object.defineProperty(n,"inheritsComments",{enumerable:!0,get:function(){return F.default}}),Object.defineProperty(n,"is",{enumerable:!0,get:function(){return pt.default}}),Object.defineProperty(n,"isBinding",{enumerable:!0,get:function(){return It.default}}),Object.defineProperty(n,"isBlockScoped",{enumerable:!0,get:function(){return ct.default}}),Object.defineProperty(n,"isImmutable",{enumerable:!0,get:function(){return Ye.default}}),Object.defineProperty(n,"isLet",{enumerable:!0,get:function(){return We.default}}),Object.defineProperty(n,"isNode",{enumerable:!0,get:function(){return rt.default}}),Object.defineProperty(n,"isNodesEquivalent",{enumerable:!0,get:function(){return St.default}}),Object.defineProperty(n,"isPlaceholderType",{enumerable:!0,get:function(){return Et.default}}),Object.defineProperty(n,"isReferenced",{enumerable:!0,get:function(){return jt.default}}),Object.defineProperty(n,"isScope",{enumerable:!0,get:function(){return qt.default}}),Object.defineProperty(n,"isSpecifierDefault",{enumerable:!0,get:function(){return mn.default}}),Object.defineProperty(n,"isType",{enumerable:!0,get:function(){return Fe.default}}),Object.defineProperty(n,"isValidES3Identifier",{enumerable:!0,get:function(){return Me.default}}),Object.defineProperty(n,"isValidIdentifier",{enumerable:!0,get:function(){return ce.default}}),Object.defineProperty(n,"isVar",{enumerable:!0,get:function(){return we.default}}),Object.defineProperty(n,"matchesPattern",{enumerable:!0,get:function(){return De.default}}),Object.defineProperty(n,"prependToMemberExpression",{enumerable:!0,get:function(){return Z.default}}),n.react=void 0,Object.defineProperty(n,"removeComments",{enumerable:!0,get:function(){return L.default}}),Object.defineProperty(n,"removeProperties",{enumerable:!0,get:function(){return se.default}}),Object.defineProperty(n,"removePropertiesDeep",{enumerable:!0,get:function(){return me.default}}),Object.defineProperty(n,"removeTypeDuplicates",{enumerable:!0,get:function(){return Ce.default}}),Object.defineProperty(n,"shallowEqual",{enumerable:!0,get:function(){return it.default}}),Object.defineProperty(n,"toBindingIdentifierName",{enumerable:!0,get:function(){return ee.default}}),Object.defineProperty(n,"toBlock",{enumerable:!0,get:function(){return ue.default}}),Object.defineProperty(n,"toComputedKey",{enumerable:!0,get:function(){return J.default}}),Object.defineProperty(n,"toExpression",{enumerable:!0,get:function(){return ae.default}}),Object.defineProperty(n,"toIdentifier",{enumerable:!0,get:function(){return oe.default}}),Object.defineProperty(n,"toKeyAlias",{enumerable:!0,get:function(){return re.default}}),Object.defineProperty(n,"toStatement",{enumerable:!0,get:function(){return X.default}}),Object.defineProperty(n,"traverse",{enumerable:!0,get:function(){return st.default}}),Object.defineProperty(n,"traverseFast",{enumerable:!0,get:function(){return Ze.default}}),Object.defineProperty(n,"validate",{enumerable:!0,get:function(){return $e.default}}),Object.defineProperty(n,"valueToNode",{enumerable:!0,get:function(){return H.default}});var r=fre(),s=hre(),i=Are(),a=Nre(),l=_re();Object.keys(l).forEach(function(ut){ut==="default"||ut==="__esModule"||Object.prototype.hasOwnProperty.call(t,ut)||ut in n&&n[ut]===l[ut]||Object.defineProperty(n,ut,{enumerable:!0,get:function(){return l[ut]}})});var c=Cre(),p=Ire(),d=kre(),h=j4();Object.keys(h).forEach(function(ut){ut==="default"||ut==="__esModule"||Object.prototype.hasOwnProperty.call(t,ut)||ut in n&&n[ut]===h[ut]||Object.defineProperty(n,ut,{enumerable:!0,get:function(){return h[ut]}})});var m=ga();Object.keys(m).forEach(function(ut){ut==="default"||ut==="__esModule"||Object.prototype.hasOwnProperty.call(t,ut)||ut in n&&n[ut]===m[ut]||Object.defineProperty(n,ut,{enumerable:!0,get:function(){return m[ut]}})});var x=ud(),w=Ore(),A=Lre(),P=Dre(),S=Rre(),C=Fre(),I=z4(),_=U4(),D=q4(),F=W4(),O=$4(),L=Bre(),B=Vre();Object.keys(B).forEach(function(ut){ut==="default"||ut==="__esModule"||Object.prototype.hasOwnProperty.call(t,ut)||ut in n&&n[ut]===B[ut]||Object.defineProperty(n,ut,{enumerable:!0,get:function(){return B[ut]}})});var j=Jm();Object.keys(j).forEach(function(ut){ut==="default"||ut==="__esModule"||Object.prototype.hasOwnProperty.call(t,ut)||ut in n&&n[ut]===j[ut]||Object.defineProperty(n,ut,{enumerable:!0,get:function(){return j[ut]}})});var M=jre(),ee=zre(),ue=H4(),J=Ure(),ae=qre(),oe=K4(),re=$re(),X=Wre(),H=Hre(),Q=il();Object.keys(Q).forEach(function(ut){ut==="default"||ut==="__esModule"||Object.prototype.hasOwnProperty.call(t,ut)||ut in n&&n[ut]===Q[ut]||Object.defineProperty(n,ut,{enumerable:!0,get:function(){return Q[ut]}})});var W=Kre(),Y=Xre(),Z=Gre(),se=G4(),me=Y4(),Ce=V4(),be=Yre(),Se=Rv(),Le=Jre(),Ue=Zre(),st=Qre();Object.keys(st).forEach(function(ut){ut==="default"||ut==="__esModule"||Object.prototype.hasOwnProperty.call(t,ut)||ut in n&&n[ut]===st[ut]||Object.defineProperty(n,ut,{enumerable:!0,get:function(){return st[ut]}})});var Ze=X4(),it=fP(),pt=Gm(),It=ese(),ct=tse(),Ye=nse(),We=J4(),rt=B4(),St=rse(),Et=D4(),jt=sse(),qt=ise(),mn=ase(),Fe=hP(),Me=ose(),ce=Ym(),we=lse(),De=O4(),$e=mP(),nt=L4(),ot=Or();Object.keys(ot).forEach(function(ut){ut==="default"||ut==="__esModule"||Object.prototype.hasOwnProperty.call(t,ut)||ut in n&&n[ut]===ot[ut]||Object.defineProperty(n,ut,{enumerable:!0,get:function(){return ot[ut]}})});var Zt=Xm(),fn=cse();n.react={isReactComponent:r.default,isCompatTag:s.default,buildChildren:i.default},n.toSequenceExpression=fn.default,e.BABEL_TYPES_8_BREAKING&&console.warn("BABEL_TYPES_8_BREAKING is not supported anymore. Use the latest Babel 8.0.0 pre-release instead!")})(Tb)),Tb}var Dc={},Ar={},j2;function Z4(){if(j2)return Ar;j2=1,Object.defineProperty(Ar,"__esModule",{value:!0}),Ar.isBindingIdentifier=B,Ar.isBlockScoped=J,Ar.isExpression=M,Ar.isFlow=H,Ar.isForAwaitStatement=Y,Ar.isGenerated=re,Ar.isPure=X,Ar.isReferenced=ue,Ar.isReferencedIdentifier=O,Ar.isReferencedMemberExpression=L,Ar.isRestProperty=Q,Ar.isScope=ee,Ar.isSpreadProperty=W,Ar.isStatement=j,Ar.isUser=oe,Ar.isVar=ae;var n=vn();const{isBinding:e,isBlockScoped:t,isExportDeclaration:r,isExpression:s,isFlow:i,isForStatement:a,isForXStatement:l,isIdentifier:c,isImportDeclaration:p,isImportSpecifier:d,isJSXIdentifier:h,isJSXMemberExpression:m,isMemberExpression:x,isRestElement:w,isReferenced:A,isScope:P,isStatement:S,isVar:C,isVariableDeclaration:I,react:_,isForOfStatement:D}=n,{isCompatTag:F}=_;function O(Z){const{node:se,parent:me}=this;return c(se,Z)?A(se,me,this.parentPath.parent):h(se,Z)?!m(me)&&F(se.name)?!1:A(se,me,this.parentPath.parent):!1}function L(){const{node:Z,parent:se}=this;return x(Z)&&A(Z,se)}function B(){const{node:Z,parent:se}=this,me=this.parentPath.parent;return c(Z)&&e(Z,se,me)}function j(){const{node:Z,parent:se}=this;return S(Z)?!(I(Z)&&(l(se,{left:Z})||a(se,{init:Z}))):!1}function M(){return this.isIdentifier()?this.isReferencedIdentifier():s(this.node)}function ee(){return P(this.node,this.parent)}function ue(){return A(this.node,this.parent)}function J(){return t(this.node)}function ae(){return C(this.node)}function oe(){var Z;return!!((Z=this.node)!=null&&Z.loc)}function re(){return!this.isUser()}function X(Z){return this.scope.isPure(this.node,Z)}function H(){const{node:Z}=this;return i(Z)?!0:p(Z)?Z.importKind==="type"||Z.importKind==="typeof":r(Z)?Z.exportKind==="type":d(Z)?Z.importKind==="type"||Z.importKind==="typeof":!1}function Q(){var Z;return w(this.node)&&((Z=this.parentPath)==null?void 0:Z.isObjectPattern())}function W(){var Z;return w(this.node)&&((Z=this.parentPath)==null?void 0:Z.isObjectExpression())}function Y(){return D(this.node,{await:!0})}return Ar.isExistentialTypeParam=function(){throw new Error("`path.isExistentialTypeParam` has been renamed to `path.isExistsTypeAnnotation()` in Babel 7.")},Ar.isNumericLiteralTypeAnnotation=function(){throw new Error("`path.isNumericLiteralTypeAnnotation()` has been renamed to `path.isNumberLiteralTypeAnnotation()` in Babel 7.")},Ar}var z2;function Fv(){if(z2)return Dc;z2=1,Object.defineProperty(Dc,"__esModule",{value:!0}),Dc.environmentVisitor=F,Dc.explode=h,Dc.isExplodedVisitor=d,Dc.merge=w,Dc.verify=m;var n=k4(),e=Z4(),t=vn(),r=al();const{DEPRECATED_KEYS:s,DEPRECATED_ALIASES:i,FLIPPED_ALIAS_KEYS:a,TYPES:l,__internal__deprecationWarning:c}=t;function p(O){return O in n}function d(O){return O?._exploded}function h(O){if(d(O))return O;O._exploded=!0;for(const B of Object.keys(O)){if(I(B))continue;const j=B.split("|");if(j.length===1)continue;const M=O[B];delete O[B];for(const ee of j)O[ee]=M}m(O),delete O.__esModule,P(O),S(O);for(const B of Object.keys(O)){if(I(B)||!p(B))continue;const j=O[B];for(const ee of Object.keys(j))j[ee]=C(B,j[ee]);delete O[B];const M=n[B];if(M!==null)for(const ee of M){var L;(L=O[ee])!=null||(O[ee]={}),_(O[ee],j)}else _(O,j)}for(const B of Object.keys(O)){if(I(B))continue;let j=a[B];if(B in s){const ee=s[B];c(B,ee,"Visitor "),j=[ee]}else if(B in i){const ee=i[B];c(B,ee,"Visitor "),j=a[ee]}if(!j)continue;const M=O[B];delete O[B];for(const ee of j){const ue=O[ee];ue?_(ue,M):O[ee]=Object.assign({},M)}}for(const B of Object.keys(O))I(B)||S(O[B]);return O}function m(O){if(!O._verified){if(typeof O=="function")throw new Error("You passed `traverse()` a function when it expected a visitor object, are you sure you didn't mean `{ enter: Function }`?");for(const L of Object.keys(O)){if((L==="enter"||L==="exit")&&x(L,O[L]),I(L))continue;if(!l.includes(L))throw new Error(`You gave us a visitor for the node type ${L} but it's not a valid type in @babel/traverse 7.29.0`);const B=O[L];if(typeof B=="object")for(const j of Object.keys(B))if(j==="enter"||j==="exit")x(`${L}.${j}`,B[j]);else throw new Error(`You passed \`traverse()\` a visitor object with the property ${L} that has the invalid property ${j}`)}O._verified=!0}}function x(O,L){const B=[].concat(L);for(const j of B)if(typeof j!="function")throw new TypeError(`Non-function found defined in ${O} with type ${typeof j}`)}function w(O,L=[],B){const j={_verified:!0,_exploded:!0};Object.defineProperty(j,"_exploded",{enumerable:!1}),Object.defineProperty(j,"_verified",{enumerable:!1});for(let M=0;M<O.length;M++){const ee=h(O[M]),ue=L[M];let J=ee;(ue||B)&&(J=A(J,ue,B)),_(j,J);for(const ae of Object.keys(ee)){if(I(ae))continue;let oe=ee[ae];(ue||B)&&(oe=A(oe,ue,B));const re=j[ae]||(j[ae]={});_(re,oe)}}return j}function A(O,L,B){const j={};for(const M of["enter","exit"]){let ee=O[M];Array.isArray(ee)&&(ee=ee.map(function(ue){let J=ue;return L&&(J=function(ae){ue.call(L,ae,L)}),B&&(J=B(L?.key,M,J)),J!==ue&&(J.toString=()=>ue.toString()),J}),j[M]=ee)}return j}function P(O){for(const L of Object.keys(O)){if(I(L))continue;const B=O[L];typeof B=="function"&&(O[L]={enter:B})}}function S(O){O.enter&&!Array.isArray(O.enter)&&(O.enter=[O.enter]),O.exit&&!Array.isArray(O.exit)&&(O.exit=[O.exit])}function C(O,L){const B=`is${O}`,j=e[B],M=function(ee){if(j.call(ee))return L.apply(this,arguments)};return M.toString=()=>L.toString(),M}function I(O){return!!(O.startsWith("_")||O==="enter"||O==="exit"||O==="shouldSkip"||O==="denylist"||O==="noScope"||O==="skipKeys"||O==="blacklist")}function _(O,L){for(const B of["enter","exit"])L[B]&&(O[B]=[].concat(O[B]||[],L[B]))}const D={FunctionParent(O){O.isArrowFunctionExpression()||(O.skip(),O.isMethod()&&(O.requeueComputedKeyAndDecorators?O.requeueComputedKeyAndDecorators():r.requeueComputedKeyAndDecorators.call(O)))},Property(O){O.isObjectProperty()||(O.skip(),O.requeueComputedKeyAndDecorators?O.requeueComputedKeyAndDecorators():r.requeueComputedKeyAndDecorators.call(O))}};function F(O){return w([D,O])}return Dc}var U2;function pse(){if(U2)return _h;U2=1,Object.defineProperty(_h,"__esModule",{value:!0}),_h.default=void 0;var n=vn(),e=n,t=bP(),r=Fv(),s=al();const{getAssignmentIdentifiers:i}=e,a={ReferencedIdentifier({node:c},p){c.name===p.oldName&&(c.name=p.newName)},Scope(c,p){c.scope.bindingIdentifierEquals(p.oldName,p.binding.identifier)||(c.skip(),c.isMethod()&&(c.requeueComputedKeyAndDecorators?c.requeueComputedKeyAndDecorators():s.requeueComputedKeyAndDecorators.call(c)),c.isSwitchStatement()&&c.context.maybeQueue(c.get("discriminant")))},ObjectProperty({node:c,scope:p},d){const{name:h}=c.key;if(c.shorthand&&(h===d.oldName||h===d.newName)&&p.getBindingIdentifier(h)===d.binding.identifier){var m;c.shorthand=!1,(m=c.extra)!=null&&m.shorthand&&(c.extra.shorthand=!1)}},"AssignmentExpression|Declaration|VariableDeclarator"(c,p){if(c.isVariableDeclaration())return;const d=c.isAssignmentExpression()?i(c.node):c.getOuterBindingIdentifiers();for(const h in d)h===p.oldName&&(d[h].name=p.newName)}};class l{constructor(p,d,h){this.newName=h,this.oldName=d,this.binding=p}maybeConvertFromExportDeclaration(p){const d=p.parentPath;if(d.isExportDeclaration()){if(d.isExportDefaultDeclaration()){const{declaration:h}=d.node;if(n.isDeclaration(h)&&!h.id)return}d.isExportAllDeclaration()||d.splitExportDeclaration()}}maybeConvertFromClassFunctionDeclaration(p){return p}maybeConvertFromClassFunctionExpression(p){return p}rename(){const{binding:p,oldName:d,newName:h}=this,{scope:m,path:x}=p,w=x.find(S=>S.isDeclaration()||S.isFunctionExpression()||S.isClassExpression());w&&w.getOuterBindingIdentifiers()[d]===p.identifier&&this.maybeConvertFromExportDeclaration(w);const A=arguments[0]||m.block,P={discriminant:!0};n.isMethod(A)&&(A.computed&&(P.key=!0),n.isObjectMethod(A)||(P.decorators=!0)),(0,t.traverseNode)(A,(0,r.explode)(a),m,this,m.path,P),arguments[0]||(m.removeOwnBinding(d),m.bindings[h]=p,this.binding.identifier.name=h),w&&(this.maybeConvertFromClassFunctionDeclaration(x),this.maybeConvertFromClassFunctionExpression(x))}}return _h.default=l,_h}var q0={},q2;function dse(){if(q2)return q0;q2=1,Object.defineProperty(q0,"__esModule",{value:!0}),q0.default=i;var n=vn(),e=Zm(),t=Fv(),r=al();const{VISITOR_KEYS:s}=n;function i(a,l,c){const p=(0,t.explode)(l);if(p.enter||p.exit)throw new Error("Should not be used with enter/exit visitors.");d(a.parentPath,a.parent,a.node,a.container,a.key,a.listKey,a.hub,a);function d(h,m,x,w,A,P,S,C){if(!x)return;const I=C||e.NodePath.get({hub:S,parentPath:h,parent:m,container:w,listKey:P,key:A});r._forceSetScope.call(I);const _=p[x.type];if(_!=null&&_.enter)for(const F of _.enter)F.call(c,I,c);if(I.shouldSkip)return;const D=s[x.type];if(D!=null&&D.length){for(const F of D){const O=x[F];if(O)if(Array.isArray(O))for(let L=0;L<O.length;L++){const B=O[L];d(I,x,B,O,L,F)}else d(I,x,O,x,F,null)}if(_!=null&&_.exit)for(const F of _.exit)F.call(c,I,c)}}}return q0}var Rh={},$2;function fse(){if($2)return Rh;$2=1,Object.defineProperty(Rh,"__esModule",{value:!0}),Rh.default=void 0;class n{constructor({identifier:r,scope:s,path:i,kind:a}){this.identifier=void 0,this.scope=void 0,this.path=void 0,this.kind=void 0,this.constantViolations=[],this.constant=!0,this.referencePaths=[],this.referenced=!1,this.references=0,this.identifier=r,this.scope=s,this.path=i,this.kind=a,(a==="var"||a==="hoisted")&&e(i)&&this.reassign(i),this.clearValue()}deoptValue(){this.clearValue(),this.hasDeoptedValue=!0}setValue(r){this.hasDeoptedValue||(this.hasValue=!0,this.value=r)}clearValue(){this.hasDeoptedValue=!1,this.hasValue=!1,this.value=null}reassign(r){this.constant=!1,!this.constantViolations.includes(r)&&this.constantViolations.push(r)}reference(r){this.referencePaths.includes(r)||(this.referenced=!0,this.references++,this.referencePaths.push(r))}dereference(){this.references--,this.referenced=!!this.references}}Rh.default=n;function e(t){const r=!t.isVariableDeclarator()||t.node.init;for(let{parentPath:s,key:i}=t;s;{parentPath:s,key:i}=s){if(s.isFunctionParent())return!1;if(i==="left"&&s.isForXStatement()||r&&i==="body"&&s.isLoop())return!0}return!1}return Rh}var Pi={},W2;function zf(){if(W2)return Pi;W2=1,Object.defineProperty(Pi,"__esModule",{value:!0}),Pi.clear=e,Pi.clearPath=t,Pi.clearScope=r,Pi.getCachedPaths=s,Pi.getOrCreateCachedPaths=i,Pi.scope=Pi.path=void 0;let n=Pi.path=new WeakMap;Pi.scope=new WeakMap;function e(){t(),r()}function t(){Pi.path=n=new WeakMap}function r(){Pi.scope=new WeakMap}function s(a){const{parent:l,parentPath:c}=a;return n.get(l)}function i(a,l){let c=n.get(a);return c||n.set(a,c=new Map),c}return Pi}const hse=["decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","eval","globalThis","isFinite","isNaN","parseFloat","parseInt","undefined","unescape"],mse=["AggregateError","Array","ArrayBuffer","Atomics","BigInt","BigInt64Array","BigUint64Array","Boolean","DataView","Date","Error","EvalError","FinalizationRegistry","Float16Array","Float32Array","Float64Array","Function","Infinity","Int16Array","Int32Array","Int8Array","Intl","Iterator","JSON","Map","Math","NaN","Number","Object","Promise","Proxy","RangeError","ReferenceError","Reflect","RegExp","Set","SharedArrayBuffer","String","Symbol","SyntaxError","TypeError","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray","URIError","WeakMap","WeakRef","WeakSet"];var H2;function Q4(){if(H2)return Nh;H2=1,Object.defineProperty(Nh,"__esModule",{value:!0}),Nh.default=void 0;var n=pse(),e=Zm();dse();var t=fse(),r=vn(),s=r,i=zf();const a=hse,l=mse,{assignmentExpression:c,callExpression:p,cloneNode:d,getBindingIdentifiers:h,identifier:m,isArrayExpression:x,isBinary:w,isCallExpression:A,isClass:P,isClassBody:S,isClassDeclaration:C,isExportAllDeclaration:I,isExportDefaultDeclaration:_,isExportNamedDeclaration:D,isFunctionDeclaration:F,isIdentifier:O,isImportDeclaration:L,isLiteral:B,isMemberExpression:j,isMethod:M,isModuleSpecifier:ee,isNullLiteral:ue,isObjectExpression:J,isProperty:ae,isPureish:oe,isRegExpLiteral:re,isSuper:X,isTaggedTemplateExpression:H,isTemplateLiteral:Q,isThisExpression:W,isUnaryExpression:Y,isVariableDeclaration:Z,expressionStatement:se,matchesPattern:me,memberExpression:Ce,numericLiteral:be,toIdentifier:Se,variableDeclaration:Le,variableDeclarator:Ue,isObjectProperty:st,isTopicReference:Ze,isMetaProperty:it,isPrivateName:pt,isExportDeclaration:It,buildUndefinedNode:ct,sequenceExpression:Ye}=r;function We(Me,ce){switch(Me?.type){default:if(L(Me)||It(Me)){var we;if((I(Me)||D(Me)||L(Me))&&Me.source)We(Me.source,ce);else if((D(Me)||L(Me))&&(we=Me.specifiers)!=null&&we.length)for(const De of Me.specifiers)We(De,ce);else(_(Me)||D(Me))&&Me.declaration&&We(Me.declaration,ce)}else ee(Me)?We(Me.local,ce):B(Me)&&!ue(Me)&&!re(Me)&&!Q(Me)&&ce.push(Me.value);break;case"MemberExpression":case"OptionalMemberExpression":case"JSXMemberExpression":We(Me.object,ce),We(Me.property,ce);break;case"Identifier":case"JSXIdentifier":ce.push(Me.name);break;case"CallExpression":case"OptionalCallExpression":case"NewExpression":We(Me.callee,ce);break;case"ObjectExpression":case"ObjectPattern":for(const De of Me.properties)We(De,ce);break;case"SpreadElement":case"RestElement":We(Me.argument,ce);break;case"ObjectProperty":case"ObjectMethod":case"ClassProperty":case"ClassMethod":case"ClassPrivateProperty":case"ClassPrivateMethod":We(Me.key,ce);break;case"ThisExpression":ce.push("this");break;case"Super":ce.push("super");break;case"Import":case"ImportExpression":ce.push("import");break;case"DoExpression":ce.push("do");break;case"YieldExpression":ce.push("yield"),We(Me.argument,ce);break;case"AwaitExpression":ce.push("await"),We(Me.argument,ce);break;case"AssignmentExpression":We(Me.left,ce);break;case"VariableDeclarator":We(Me.id,ce);break;case"FunctionExpression":case"FunctionDeclaration":case"ClassExpression":case"ClassDeclaration":We(Me.id,ce);break;case"PrivateName":We(Me.id,ce);break;case"ParenthesizedExpression":We(Me.expression,ce);break;case"UnaryExpression":case"UpdateExpression":We(Me.argument,ce);break;case"MetaProperty":We(Me.meta,ce),We(Me.property,ce);break;case"JSXElement":We(Me.openingElement,ce);break;case"JSXOpeningElement":We(Me.name,ce);break;case"JSXFragment":We(Me.openingFragment,ce);break;case"JSXOpeningFragment":ce.push("Fragment");break;case"JSXNamespacedName":We(Me.namespace,ce),We(Me.name,ce);break}}function rt(Me){Me.references=Object.create(null),Me.uids=Object.create(null),Me.bindings=Object.create(null),Me.globals=Object.create(null)}function St(Me){return Me.isFunctionExpression()&&!Me.node.id||Me.isArrowFunctionExpression()}var Et=Symbol.for("should not be considered a local binding");const jt={ForStatement(Me){const ce=Me.get("init");if(ce.isVar()){const{scope:we}=Me;(we.getFunctionParent()||we.getProgramParent()).registerBinding("var",ce)}},Declaration(Me){if(Me.isBlockScoped()||Me.isImportDeclaration()||Me.isExportDeclaration())return;(Me.scope.getFunctionParent()||Me.scope.getProgramParent()).registerDeclaration(Me)},ImportDeclaration(Me){Me.scope.getBlockParent().registerDeclaration(Me)},TSImportEqualsDeclaration(Me){Me.scope.getBlockParent().registerDeclaration(Me)},ReferencedIdentifier(Me,ce){s.isTSQualifiedName(Me.parent)&&Me.parent.right===Me.node||Me.parentPath.isTSImportEqualsDeclaration()||ce.references.push(Me)},ForXStatement(Me,ce){const we=Me.get("left");if(we.isPattern()||we.isIdentifier())ce.constantViolations.push(Me);else if(we.isVar()){const{scope:De}=Me;(De.getFunctionParent()||De.getProgramParent()).registerBinding("var",we)}},ExportDeclaration:{exit(Me){const{node:ce,scope:we}=Me;if(I(ce))return;const De=ce.declaration;if(C(De)||F(De)){const $e=De.id;if(!$e)return;const nt=we.getBinding($e.name);nt?.reference(Me)}else if(Z(De))for(const $e of De.declarations)for(const nt of Object.keys(h($e))){const ot=we.getBinding(nt);ot?.reference(Me)}}},LabeledStatement(Me){Me.scope.getBlockParent().registerDeclaration(Me)},AssignmentExpression(Me,ce){ce.assignments.push(Me)},UpdateExpression(Me,ce){ce.constantViolations.push(Me)},UnaryExpression(Me,ce){Me.node.operator==="delete"&&ce.constantViolations.push(Me)},BlockScoped(Me){let ce=Me.scope;if(ce.path===Me&&(ce=ce.parent),ce.getBlockParent().registerDeclaration(Me),Me.isClassDeclaration()&&Me.node.id){const $e=Me.node.id.name;Me.scope.bindings[$e]=Me.scope.parent.getBinding($e)}},CatchClause(Me){Me.scope.registerBinding("let",Me)},Function(Me){const ce=Me.get("params");for(const we of ce)Me.scope.registerBinding("param",we);Me.isFunctionExpression()&&Me.node.id&&!Me.node.id[Et]&&Me.scope.registerBinding("local",Me.get("id"),Me)},ClassExpression(Me){Me.node.id&&!Me.node.id[Et]&&Me.scope.registerBinding("local",Me.get("id"),Me)},TSTypeAnnotation(Me){Me.skip()}};let qt,mn=0;class Fe{constructor(ce){this.uid=void 0,this.path=void 0,this.block=void 0,this.inited=void 0,this.labels=void 0,this.bindings=void 0,this.referencesSet=void 0,this.globals=void 0,this.uidsSet=void 0,this.data=void 0,this.crawling=void 0;const{node:we}=ce,De=i.scope.get(we);if(De?.path===ce)return De;i.scope.set(we,this),this.uid=mn++,this.block=we,this.path=ce,this.labels=new Map,this.inited=!1,Object.defineProperties(this,{references:{enumerable:!0,configurable:!0,writable:!0,value:Object.create(null)},uids:{enumerable:!0,configurable:!0,writable:!0,value:Object.create(null)}})}get parent(){var ce;let we,De=this.path;do{var $e;const nt=De.key==="key"||De.listKey==="decorators";De=De.parentPath,nt&&De.isMethod()&&(De=De.parentPath),($e=De)!=null&&$e.isScope()&&(we=De)}while(De&&!we);return(ce=we)==null?void 0:ce.scope}get references(){throw new Error("Scope#references is not available in Babel 8. Use Scope#referencesSet instead.")}get uids(){throw new Error("Scope#uids is not available in Babel 8. Use Scope#uidsSet instead.")}generateDeclaredUidIdentifier(ce){const we=this.generateUidIdentifier(ce);return this.push({id:we}),d(we)}generateUidIdentifier(ce){return m(this.generateUid(ce))}generateUid(ce="temp"){ce=Se(ce).replace(/^_+/,"").replace(/\d+$/g,"");let we,De=0;do we=`_${ce}`,De>=11?we+=De-1:De>=9?we+=De-9:De>=1&&(we+=De+1),De++;while(this.hasLabel(we)||this.hasBinding(we)||this.hasGlobal(we)||this.hasReference(we));const $e=this.getProgramParent();return $e.references[we]=!0,$e.uids[we]=!0,we}generateUidBasedOnNode(ce,we){const De=[];We(ce,De);let $e=De.join("$");return $e=$e.replace(/^_/,"")||we||"ref",this.generateUid($e.slice(0,20))}generateUidIdentifierBasedOnNode(ce,we){return m(this.generateUidBasedOnNode(ce,we))}isStatic(ce){if(W(ce)||X(ce)||Ze(ce))return!0;if(O(ce)){const we=this.getBinding(ce.name);return we?we.constant:this.hasBinding(ce.name)}return!1}maybeGenerateMemoised(ce,we){if(this.isStatic(ce))return null;{const De=this.generateUidIdentifierBasedOnNode(ce);return we?De:(this.push({id:De}),d(De))}}checkBlockScopedCollisions(ce,we,De,$e){if(we==="param"||ce.kind==="local")return;if(we==="let"||ce.kind==="let"||ce.kind==="const"||ce.kind==="module"||ce.kind==="param"&&we==="const")throw this.path.hub.buildError($e,`Duplicate declaration "${De}"`,TypeError)}rename(ce,we){const De=this.getBinding(ce);De&&(we||(we=this.generateUidIdentifier(ce).name),new n.default(De,ce,we).rename(arguments[2]))}dump(){const ce="-".repeat(60);console.log(ce);let we=this;do{console.log("#",we.block.type);for(const De of Object.keys(we.bindings)){const $e=we.bindings[De];console.log(" -",De,{constant:$e.constant,references:$e.references,violations:$e.constantViolations.length,kind:$e.kind})}}while(we=we.parent);console.log(ce)}hasLabel(ce){return!!this.getLabel(ce)}getLabel(ce){return this.labels.get(ce)}registerLabel(ce){this.labels.set(ce.node.label.name,ce)}registerDeclaration(ce){if(ce.isLabeledStatement())this.registerLabel(ce);else if(ce.isFunctionDeclaration())this.registerBinding("hoisted",ce.get("id"),ce);else if(ce.isVariableDeclaration()){const we=ce.get("declarations"),{kind:De}=ce.node;for(const $e of we)this.registerBinding(De==="using"||De==="await using"?"const":De,$e)}else if(ce.isClassDeclaration()){if(ce.node.declare)return;this.registerBinding("let",ce)}else if(ce.isImportDeclaration()){const we=ce.node.importKind==="type"||ce.node.importKind==="typeof",De=ce.get("specifiers");for(const $e of De){const nt=we||$e.isImportSpecifier()&&($e.node.importKind==="type"||$e.node.importKind==="typeof");this.registerBinding(nt?"unknown":"module",$e)}}else if(ce.isExportDeclaration()){const we=ce.get("declaration");(we.isClassDeclaration()||we.isFunctionDeclaration()||we.isVariableDeclaration())&&this.registerDeclaration(we)}else this.registerBinding("unknown",ce)}buildUndefinedNode(){return ct()}registerConstantViolation(ce){const we=ce.getAssignmentIdentifiers();for(const $e of Object.keys(we)){var De;(De=this.getBinding($e))==null||De.reassign(ce)}}registerBinding(ce,we,De=we){if(!ce)throw new ReferenceError("no `kind`");if(we.isVariableDeclaration()){const ot=we.get("declarations");for(const Zt of ot)this.registerBinding(ce,Zt);return}const $e=this.getProgramParent(),nt=we.getOuterBindingIdentifiers(!0);for(const ot of Object.keys(nt)){$e.references[ot]=!0;for(const Zt of nt[ot]){const fn=this.getOwnBinding(ot);if(fn){if(fn.identifier===Zt)continue;this.checkBlockScopedCollisions(fn,ce,ot,Zt)}fn?fn.reassign(De):this.bindings[ot]=new t.default({identifier:Zt,scope:this,path:De,kind:ce})}}}addGlobal(ce){this.globals[ce.name]=ce}hasUid(ce){let we=this;do if(we.uids[ce])return!0;while(we=we.parent);return!1}hasGlobal(ce){let we=this;do if(we.globals[ce])return!0;while(we=we.parent);return!1}hasReference(ce){return!!this.getProgramParent().references[ce]}isPure(ce,we){if(O(ce)){const ot=this.getBinding(ce.name);return ot?we?ot.constant:!0:!1}else{if(W(ce)||it(ce)||Ze(ce)||pt(ce))return!0;if(P(ce)){var De;return ce.superClass&&!this.isPure(ce.superClass,we)||((De=ce.decorators)==null?void 0:De.length)>0?!1:this.isPure(ce.body,we)}else if(S(ce)){for(const ot of ce.body)if(!this.isPure(ot,we))return!1;return!0}else{if(w(ce))return this.isPure(ce.left,we)&&this.isPure(ce.right,we);if(x(ce)||ce?.type==="TupleExpression"){for(const ot of ce.elements)if(ot!==null&&!this.isPure(ot,we))return!1;return!0}else if(J(ce)||ce?.type==="RecordExpression"){for(const ot of ce.properties)if(!this.isPure(ot,we))return!1;return!0}else if(M(ce)){var $e;return!(ce.computed&&!this.isPure(ce.key,we)||(($e=ce.decorators)==null?void 0:$e.length)>0)}else if(ae(ce)){var nt;return!(ce.computed&&!this.isPure(ce.key,we)||((nt=ce.decorators)==null?void 0:nt.length)>0||(st(ce)||ce.static)&&ce.value!==null&&!this.isPure(ce.value,we))}else{if(Y(ce))return this.isPure(ce.argument,we);if(Q(ce)){for(const ot of ce.expressions)if(!this.isPure(ot,we))return!1;return!0}else return H(ce)?me(ce.tag,"String.raw")&&!this.hasBinding("String",{noGlobals:!0})&&this.isPure(ce.quasi,we):j(ce)?!ce.computed&&O(ce.object)&&ce.object.name==="Symbol"&&O(ce.property)&&ce.property.name!=="for"&&!this.hasBinding("Symbol",{noGlobals:!0}):A(ce)?me(ce.callee,"Symbol.for")&&!this.hasBinding("Symbol",{noGlobals:!0})&&ce.arguments.length===1&&s.isStringLiteral(ce.arguments[0]):oe(ce)}}}}setData(ce,we){return this.data[ce]=we}getData(ce){let we=this;do{const De=we.data[ce];if(De!=null)return De}while(we=we.parent)}removeData(ce){let we=this;do we.data[ce]!=null&&(we.data[ce]=null);while(we=we.parent)}init(){this.inited||(this.inited=!0,this.crawl())}crawl(){const ce=this.path;rt(this),this.data=Object.create(null);let we=this;do{if(we.crawling)return;if(we.path.isProgram())break}while(we=we.parent);const De=we,$e={references:[],constantViolations:[],assignments:[]};if(this.crawling=!0,qt||(qt=e.default.visitors.merge([{Scope(nt){rt(nt.scope)}},jt])),ce.type!=="Program"){const nt=qt[ce.type];if(nt)for(const ot of nt.enter)ot.call($e,ce,$e)}ce.traverse(qt,$e),this.crawling=!1;for(const nt of $e.assignments){const ot=nt.getAssignmentIdentifiers();for(const Zt of Object.keys(ot))nt.scope.getBinding(Zt)||De.addGlobal(ot[Zt]);nt.scope.registerConstantViolation(nt)}for(const nt of $e.references){const ot=nt.scope.getBinding(nt.node.name);ot?ot.reference(nt):De.addGlobal(nt.node)}for(const nt of $e.constantViolations)nt.scope.registerConstantViolation(nt)}push(ce){let we=this.path;we.isPattern()?we=this.getPatternParent().path:!we.isBlockStatement()&&!we.isProgram()&&(we=this.getBlockParent().path),we.isSwitchStatement()&&(we=(this.getFunctionParent()||this.getProgramParent()).path);const{init:De,unique:$e,kind:nt="var",id:ot}=ce;if(!De&&!$e&&(nt==="var"||nt==="let")&&St(we)&&A(we.parent,{callee:we.node})&&we.parent.arguments.length<=we.node.params.length&&O(ot)){we.pushContainer("params",ot),we.scope.registerBinding("param",we.get("params")[we.node.params.length-1]);return}(we.isLoop()||we.isCatchClause()||we.isFunction())&&(we.ensureBlock(),we=we.get("body"));const Zt=ce._blockHoist==null?2:ce._blockHoist,fn=`declaration:${nt}:${Zt}`;let ut=!$e&&we.getData(fn);if(!ut){const Xe=Le(nt,[]);Xe._blockHoist=Zt,[ut]=we.unshiftContainer("body",[Xe]),$e||we.setData(fn,ut)}const xn=Ue(ot,De),Be=ut.node.declarations.push(xn);we.scope.registerBinding(nt,ut.get("declarations")[Be-1])}getProgramParent(){let ce=this;do if(ce.path.isProgram())return ce;while(ce=ce.parent);throw new Error("Couldn't find a Program")}getFunctionParent(){let ce=this;do if(ce.path.isFunctionParent())return ce;while(ce=ce.parent);return null}getBlockParent(){let ce=this;do if(ce.path.isBlockParent())return ce;while(ce=ce.parent);throw new Error("We couldn't find a BlockStatement, For, Switch, Function, Loop or Program...")}getPatternParent(){let ce=this;do if(!ce.path.isPattern())return ce.getBlockParent();while(ce=ce.parent.parent);throw new Error("We couldn't find a BlockStatement, For, Switch, Function, Loop or Program...")}getAllBindings(){const ce=Object.create(null);let we=this;do{for(const De of Object.keys(we.bindings))De in ce||(ce[De]=we.bindings[De]);we=we.parent}while(we);return ce}bindingIdentifierEquals(ce,we){return this.getBindingIdentifier(ce)===we}getBinding(ce){let we=this,De;do{const nt=we.getOwnBinding(ce);if(nt){var $e;if(!(($e=De)!=null&&$e.isPattern()&&nt.kind!=="param"&&nt.kind!=="local"))return nt}else if(!nt&&ce==="arguments"&&we.path.isFunction()&&!we.path.isArrowFunctionExpression())break;De=we.path}while(we=we.parent)}getOwnBinding(ce){return this.bindings[ce]}getBindingIdentifier(ce){var we;return(we=this.getBinding(ce))==null?void 0:we.identifier}getOwnBindingIdentifier(ce){const we=this.bindings[ce];return we?.identifier}hasOwnBinding(ce){return!!this.getOwnBinding(ce)}hasBinding(ce,we){if(!ce)return!1;let De,$e,nt;typeof we=="object"?(De=we.noGlobals,$e=we.noUids,nt=we.upToScope):typeof we=="boolean"&&(De=we);let ot=this;do{if(nt===ot)break;if(ot.hasOwnBinding(ce))return!0}while(ot=ot.parent);return!!(!$e&&this.hasUid(ce)||!De&&Fe.globals.includes(ce)||!De&&Fe.contextVariables.includes(ce))}parentHasBinding(ce,we){var De;return(De=this.parent)==null?void 0:De.hasBinding(ce,we)}moveBindingTo(ce,we){const De=this.getBinding(ce);De&&(De.scope.removeOwnBinding(ce),De.scope=we,we.bindings[ce]=De)}removeOwnBinding(ce){delete this.bindings[ce]}removeBinding(ce){var we;(we=this.getBinding(ce))==null||we.scope.removeOwnBinding(ce);let De=this;do De.uids[ce]&&(De.uids[ce]=!1);while(De=De.parent)}hoistVariables(ce=we=>this.push({id:we})){this.crawl();const we=new Set;for(const De of Object.keys(this.bindings)){const $e=this.bindings[De];if(!$e)continue;const{path:nt}=$e;if(!nt.isVariableDeclarator())continue;const{parent:ot,parentPath:Zt}=nt;if(ot.kind!=="var"||we.has(ot))continue;we.add(nt.parent);let fn;const ut=[];for(const xn of ot.declarations){fn??(fn=xn.id),xn.init&&ut.push(c("=",xn.id,xn.init));const Be=Object.keys(h(xn,!1,!0,!0));for(const Xe of Be)ce(m(Xe),xn.init!=null)}if(Zt.parentPath.isForXStatement({left:ot}))Zt.replaceWith(fn);else if(ut.length===0)Zt.remove();else{const xn=ut.length===1?ut[0]:Ye(ut);Zt.parentPath.isForStatement({init:ot})?Zt.replaceWith(xn):Zt.replaceWith(se(xn))}}}}return Nh.default=Fe,Fe.globals=[...a,...l],Fe.contextVariables=["arguments","undefined","Infinity","NaN"],Fe.prototype._renameFromMap=function(ce,we,De,$e){ce[we]&&(ce[De]=$e,ce[we]=null)},Fe.prototype.traverse=function(Me,ce,we){(0,e.default)(Me,ce,this,we,this.path)},Fe.prototype._generateUid=function(ce,we){let De=ce;return we>1&&(De+=we),`_${De}`},Fe.prototype.toArray=function(ce,we,De){if(O(ce)){const ot=this.getBinding(ce.name);if(ot!=null&&ot.constant&&ot.path.isGenericType("Array"))return ce}if(x(ce))return ce;if(O(ce,{name:"arguments"}))return p(Ce(Ce(Ce(m("Array"),m("prototype")),m("slice")),m("call")),[ce]);let $e;const nt=[ce];return we===!0?$e="toConsumableArray":typeof we=="number"?(nt.push(be(we)),$e="slicedToArray"):$e="toArray",De&&(nt.unshift(this.path.hub.addHelper($e)),$e="maybeArrayLike"),p(this.path.hub.addHelper($e),nt)},Fe.prototype.getAllBindingsOfKind=function(...ce){const we=Object.create(null);for(const De of ce){let $e=this;do{for(const nt of Object.keys($e.bindings)){const ot=$e.bindings[nt];ot.kind===De&&(we[nt]=ot)}$e=$e.parent}while($e)}return we},Object.defineProperties(Fe.prototype,{parentBlock:{configurable:!0,enumerable:!0,get(){return this.path.parent}},hub:{configurable:!0,enumerable:!0,get(){return this.path.hub}}}),Nh}var Rp={},Fh={},ux={exports:{}},cx={exports:{}},yse=cx.exports,K2;function eV(){return K2||(K2=1,(function(n,e){(function(t,r){r(n),n.exports=s(n);function s(i){return"default"in i.exports?i.exports.default:i.exports}})(yse,(function(t){var r=Object.defineProperty,s=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,l=(H,Q)=>{for(var W in Q)r(H,W,{get:Q[W],enumerable:!0})},c=(H,Q,W,Y)=>{if(Q&&typeof Q=="object"||typeof Q=="function")for(let Z of i(Q))!a.call(H,Z)&&Z!==W&&r(H,Z,{get:()=>Q[Z],enumerable:!(Y=s(Q,Z))||Y.enumerable});return H},p=H=>c(r({},"__esModule",{value:!0}),H),d={};l(d,{decode:()=>ae,decodeGeneratedRanges:()=>M,decodeOriginalScopes:()=>L,encode:()=>X,encodeGeneratedRanges:()=>ee,encodeOriginalScopes:()=>B}),t.exports=p(d);var h=44,m=59,x="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",w=new Uint8Array(64),A=new Uint8Array(128);for(let H=0;H<x.length;H++){const Q=x.charCodeAt(H);w[H]=Q,A[Q]=H}function P(H,Q){let W=0,Y=0,Z=0;do{const me=H.next();Z=A[me],W|=(Z&31)<<Y,Y+=5}while(Z&32);const se=W&1;return W>>>=1,se&&(W=-2147483648|-W),Q+W}function S(H,Q,W){let Y=Q-W;Y=Y<0?-Y<<1|1:Y<<1;do{let Z=Y&31;Y>>>=5,Y>0&&(Z|=32),H.write(w[Z])}while(Y>0);return Q}function C(H,Q){return H.pos>=Q?!1:H.peek()!==h}var I=1024*16,_=typeof TextDecoder<"u"?new TextDecoder:typeof Buffer<"u"?{decode(H){return Buffer.from(H.buffer,H.byteOffset,H.byteLength).toString()}}:{decode(H){let Q="";for(let W=0;W<H.length;W++)Q+=String.fromCharCode(H[W]);return Q}},D=class{constructor(){this.pos=0,this.out="",this.buffer=new Uint8Array(I)}write(H){const{buffer:Q}=this;Q[this.pos++]=H,this.pos===I&&(this.out+=_.decode(Q),this.pos=0)}flush(){const{buffer:H,out:Q,pos:W}=this;return W>0?Q+_.decode(H.subarray(0,W)):Q}},F=class{constructor(H){this.pos=0,this.buffer=H}next(){return this.buffer.charCodeAt(this.pos++)}peek(){return this.buffer.charCodeAt(this.pos)}indexOf(H){const{buffer:Q,pos:W}=this,Y=Q.indexOf(H,W);return Y===-1?Q.length:Y}},O=[];function L(H){const{length:Q}=H,W=new F(H),Y=[],Z=[];let se=0;for(;W.pos<Q;W.pos++){se=P(W,se);const me=P(W,0);if(!C(W,Q)){const st=Z.pop();st[2]=se,st[3]=me;continue}const Ce=P(W,0),Le=P(W,0)&1?[se,me,0,0,Ce,P(W,0)]:[se,me,0,0,Ce];let Ue=O;if(C(W,Q)){Ue=[];do{const st=P(W,0);Ue.push(st)}while(C(W,Q))}Le.vars=Ue,Y.push(Le),Z.push(Le)}return Y}function B(H){const Q=new D;for(let W=0;W<H.length;)W=j(H,W,Q,[0]);return Q.flush()}function j(H,Q,W,Y){const Z=H[Q],{0:se,1:me,2:Ce,3:be,4:Se,vars:Le}=Z;Q>0&&W.write(h),Y[0]=S(W,se,Y[0]),S(W,me,0),S(W,Se,0);const Ue=Z.length===6?1:0;S(W,Ue,0),Z.length===6&&S(W,Z[5],0);for(const st of Le)S(W,st,0);for(Q++;Q<H.length;){const st=H[Q],{0:Ze,1:it}=st;if(Ze>Ce||Ze===Ce&&it>=be)break;Q=j(H,Q,W,Y)}return W.write(h),Y[0]=S(W,Ce,Y[0]),S(W,be,0),Q}function M(H){const{length:Q}=H,W=new F(H),Y=[],Z=[];let se=0,me=0,Ce=0,be=0,Se=0,Le=0,Ue=0,st=0;do{const Ze=W.indexOf(";");let it=0;for(;W.pos<Ze;W.pos++){if(it=P(W,it),!C(W,Ze)){const Et=Z.pop();Et[2]=se,Et[3]=it;continue}const pt=P(W,0),It=pt&1,ct=pt&2,Ye=pt&4;let We=null,rt=O,St;if(It){const Et=P(W,me);Ce=P(W,me===Et?Ce:0),me=Et,St=[se,it,0,0,Et,Ce]}else St=[se,it,0,0];if(St.isScope=!!Ye,ct){const Et=be,jt=Se;be=P(W,be);const qt=Et===be;Se=P(W,qt?Se:0),Le=P(W,qt&&jt===Se?Le:0),We=[be,Se,Le]}if(St.callsite=We,C(W,Ze)){rt=[];do{Ue=se,st=it;const Et=P(W,0);let jt;if(Et<-1){jt=[[P(W,0)]];for(let qt=-1;qt>Et;qt--){const mn=Ue;Ue=P(W,Ue),st=P(W,Ue===mn?st:0);const Fe=P(W,0);jt.push([Fe,Ue,st])}}else jt=[[Et]];rt.push(jt)}while(C(W,Ze))}St.bindings=rt,Y.push(St),Z.push(St)}se++,W.pos=Ze+1}while(W.pos<Q);return Y}function ee(H){if(H.length===0)return"";const Q=new D;for(let W=0;W<H.length;)W=ue(H,W,Q,[0,0,0,0,0,0,0]);return Q.flush()}function ue(H,Q,W,Y){const Z=H[Q],{0:se,1:me,2:Ce,3:be,isScope:Se,callsite:Le,bindings:Ue}=Z;Y[0]<se?(J(W,Y[0],se),Y[0]=se,Y[1]=0):Q>0&&W.write(h),Y[1]=S(W,Z[1],Y[1]);const st=(Z.length===6?1:0)|(Le?2:0)|(Se?4:0);if(S(W,st,0),Z.length===6){const{4:Ze,5:it}=Z;Ze!==Y[2]&&(Y[3]=0),Y[2]=S(W,Ze,Y[2]),Y[3]=S(W,it,Y[3])}if(Le){const{0:Ze,1:it,2:pt}=Z.callsite;Ze!==Y[4]?(Y[5]=0,Y[6]=0):it!==Y[5]&&(Y[6]=0),Y[4]=S(W,Ze,Y[4]),Y[5]=S(W,it,Y[5]),Y[6]=S(W,pt,Y[6])}if(Ue)for(const Ze of Ue){Ze.length>1&&S(W,-Ze.length,0);const it=Ze[0][0];S(W,it,0);let pt=se,It=me;for(let ct=1;ct<Ze.length;ct++){const Ye=Ze[ct];pt=S(W,Ye[1],pt),It=S(W,Ye[2],It),S(W,Ye[0],0)}}for(Q++;Q<H.length;){const Ze=H[Q],{0:it,1:pt}=Ze;if(it>Ce||it===Ce&&pt>=be)break;Q=ue(H,Q,W,Y)}return Y[0]<Ce?(J(W,Y[0],Ce),Y[0]=Ce,Y[1]=0):W.write(h),Y[1]=S(W,be,Y[1]),Q}function J(H,Q,W){do H.write(m);while(++Q<W)}function ae(H){const{length:Q}=H,W=new F(H),Y=[];let Z=0,se=0,me=0,Ce=0,be=0;do{const Se=W.indexOf(";"),Le=[];let Ue=!0,st=0;for(Z=0;W.pos<Se;){let Ze;Z=P(W,Z),Z<st&&(Ue=!1),st=Z,C(W,Se)?(se=P(W,se),me=P(W,me),Ce=P(W,Ce),C(W,Se)?(be=P(W,be),Ze=[Z,se,me,Ce,be]):Ze=[Z,se,me,Ce]):Ze=[Z],Le.push(Ze),W.pos++}Ue||oe(Le),Y.push(Le),W.pos=Se+1}while(W.pos<=Q);return Y}function oe(H){H.sort(re)}function re(H,Q){return H[0]-Q[0]}function X(H){const Q=new D;let W=0,Y=0,Z=0,se=0;for(let me=0;me<H.length;me++){const Ce=H[me];if(me>0&&Q.write(m),Ce.length===0)continue;let be=0;for(let Se=0;Se<Ce.length;Se++){const Le=Ce[Se];Se>0&&Q.write(h),be=S(Q,Le[0],be),Le.length!==1&&(W=S(Q,Le[1],W),Y=S(Q,Le[2],Y),Z=S(Q,Le[3],Z),Le.length!==4&&(se=S(Q,Le[4],se)))}}return Q.flush()}}))})(cx)),cx.exports}var px={exports:{}},dx={exports:{}},gse=dx.exports,X2;function xse(){return X2||(X2=1,(function(n,e){(function(t,r){n.exports=r()})(gse,(function(){const t=/^[\w+.-]+:\/\//,r=/^([\w+.-]+:)\/\/([^@/#?]*@)?([^:/#?]*)(:\d+)?(\/[^#?]*)?(\?[^#]*)?(#.*)?/,s=/^file:(?:\/\/((?![a-z]:)[^/#?]*)?)?(\/?[^#?]*)(\?[^#]*)?(#.*)?/i;function i(C){return t.test(C)}function a(C){return C.startsWith("//")}function l(C){return C.startsWith("/")}function c(C){return C.startsWith("file:")}function p(C){return/^[.?#]/.test(C)}function d(C){const I=r.exec(C);return m(I[1],I[2]||"",I[3],I[4]||"",I[5]||"/",I[6]||"",I[7]||"")}function h(C){const I=s.exec(C),_=I[2];return m("file:","",I[1]||"","",l(_)?_:"/"+_,I[3]||"",I[4]||"")}function m(C,I,_,D,F,O,L){return{scheme:C,user:I,host:_,port:D,path:F,query:O,hash:L,type:7}}function x(C){if(a(C)){const _=d("http:"+C);return _.scheme="",_.type=6,_}if(l(C)){const _=d("http://foo.com"+C);return _.scheme="",_.host="",_.type=5,_}if(c(C))return h(C);if(i(C))return d(C);const I=d("http://foo.com/"+C);return I.scheme="",I.host="",I.type=C?C.startsWith("?")?3:C.startsWith("#")?2:4:1,I}function w(C){if(C.endsWith("/.."))return C;const I=C.lastIndexOf("/");return C.slice(0,I+1)}function A(C,I){P(I,I.type),C.path==="/"?C.path=I.path:C.path=w(I.path)+C.path}function P(C,I){const _=I<=4,D=C.path.split("/");let F=1,O=0,L=!1;for(let j=1;j<D.length;j++){const M=D[j];if(!M){L=!0;continue}if(L=!1,M!=="."){if(M===".."){O?(L=!0,O--,F--):_&&(D[F++]=M);continue}D[F++]=M,O++}}let B="";for(let j=1;j<F;j++)B+="/"+D[j];(!B||L&&!B.endsWith("/.."))&&(B+="/"),C.path=B}function S(C,I){if(!C&&!I)return"";const _=x(C);let D=_.type;if(I&&D!==7){const O=x(I),L=O.type;switch(D){case 1:_.hash=O.hash;case 2:_.query=O.query;case 3:case 4:A(_,O);case 5:_.user=O.user,_.host=O.host,_.port=O.port;case 6:_.scheme=O.scheme}L>D&&(D=L)}P(_,D);const F=_.query+_.hash;switch(D){case 2:case 3:return F;case 4:{const O=_.path.slice(1);return O?p(I||C)&&!p(O)?"./"+O+F:O+F:F||"."}case 5:return _.path+F;default:return _.scheme+"//"+_.user+_.host+_.port+_.path+F}}return S}))})(dx)),dx.exports}var vse=px.exports,G2;function tV(){return G2||(G2=1,(function(n,e){(function(t,r){r(n,xse(),eV()),n.exports=s(n);function s(i){return"default"in i.exports?i.exports.default:i.exports}})(vse,(function(t,r,s){var i=Object.create,a=Object.defineProperty,l=Object.getOwnPropertyDescriptor,c=Object.getOwnPropertyNames,p=Object.getPrototypeOf,d=Object.prototype.hasOwnProperty,h=(Be,Xe)=>function(){return Xe||(0,Be[c(Be)[0]])((Xe={exports:{}}).exports,Xe),Xe.exports},m=(Be,Xe)=>{for(var de in Xe)a(Be,de,{get:Xe[de],enumerable:!0})},x=(Be,Xe,de,Ke)=>{if(Xe&&typeof Xe=="object"||typeof Xe=="function")for(let ht of c(Xe))!d.call(Be,ht)&&ht!==de&&a(Be,ht,{get:()=>Xe[ht],enumerable:!(Ke=l(Xe,ht))||Ke.enumerable});return Be},w=(Be,Xe,de)=>(de=Be!=null?i(p(Be)):{},x(!Be||!Be.__esModule?a(de,"default",{value:Be,enumerable:!0}):de,Be)),A=Be=>x(a({},"__esModule",{value:!0}),Be),P=h({"umd:@jridgewell/sourcemap-codec"(Be,Xe){Xe.exports=s}}),S=h({"umd:@jridgewell/resolve-uri"(Be,Xe){Xe.exports=r}}),C={};m(C,{AnyMap:()=>be,FlattenMap:()=>be,GREATEST_LOWER_BOUND:()=>It,LEAST_UPPER_BOUND:()=>pt,TraceMap:()=>ct,allGeneratedPositionsFor:()=>qt,decodedMap:()=>De,decodedMappings:()=>rt,eachMapping:()=>mn,encodedMap:()=>$e,encodedMappings:()=>We,generatedPositionFor:()=>jt,isIgnored:()=>ce,originalPositionFor:()=>Et,presortedDecodedMap:()=>we,sourceContentFor:()=>Me,traceSegment:()=>St}),t.exports=A(C);var I=w(P()),_=w(S());function D(Be){if(!Be)return"";const Xe=Be.lastIndexOf("/");return Be.slice(0,Xe+1)}function F(Be,Xe){const de=D(Be),Ke=Xe?Xe+"/":"";return ht=>(0,_.default)(Ke+(ht||""),de)}var O=0,L=1,B=2,j=3,M=4,ee=1,ue=2;function J(Be,Xe){const de=ae(Be,0);if(de===Be.length)return Be;Xe||(Be=Be.slice());for(let Ke=de;Ke<Be.length;Ke=ae(Be,Ke+1))Be[Ke]=re(Be[Ke],Xe);return Be}function ae(Be,Xe){for(let de=Xe;de<Be.length;de++)if(!oe(Be[de]))return de;return Be.length}function oe(Be){for(let Xe=1;Xe<Be.length;Xe++)if(Be[Xe][O]<Be[Xe-1][O])return!1;return!0}function re(Be,Xe){return Xe||(Be=Be.slice()),Be.sort(X)}function X(Be,Xe){return Be[O]-Xe[O]}function H(Be,Xe){const de=Xe.map(()=>[]);for(let Ke=0;Ke<Be.length;Ke++){const ht=Be[Ke];for(let ve=0;ve<ht.length;ve++){const at=ht[ve];if(at.length===1)continue;const Pt=at[L],Mt=at[B],Ht=at[j],tn=de[Pt];(tn[Mt]||(tn[Mt]=[])).push([Ht,Ke,at[O]])}}for(let Ke=0;Ke<de.length;Ke++){const ht=de[Ke];for(let ve=0;ve<ht.length;ve++){const at=ht[ve];at&&at.sort(X)}}return de}var Q=!1;function W(Be,Xe,de,Ke){for(;de<=Ke;){const ht=de+(Ke-de>>1),ve=Be[ht][O]-Xe;if(ve===0)return Q=!0,ht;ve<0?de=ht+1:Ke=ht-1}return Q=!1,de-1}function Y(Be,Xe,de){for(let Ke=de+1;Ke<Be.length&&Be[Ke][O]===Xe;de=Ke++);return de}function Z(Be,Xe,de){for(let Ke=de-1;Ke>=0&&Be[Ke][O]===Xe;de=Ke--);return de}function se(){return{lastKey:-1,lastNeedle:-1,lastIndex:-1}}function me(Be,Xe,de,Ke){const{lastKey:ht,lastNeedle:ve,lastIndex:at}=de;let Pt=0,Mt=Be.length-1;if(Ke===ht){if(Xe===ve)return Q=at!==-1&&Be[at][O]===Xe,at;Xe>=ve?Pt=at===-1?0:at:Mt=at}return de.lastKey=Ke,de.lastNeedle=Xe,de.lastIndex=W(Be,Xe,Pt,Mt)}function Ce(Be){return typeof Be=="string"?JSON.parse(Be):Be}var be=function(Be,Xe){const de=Ce(Be);if(!("sections"in de))return new ct(de,Xe);const Ke=[],ht=[],ve=[],at=[],Pt=[];Se(de,Xe,Ke,ht,ve,at,Pt,0,0,1/0,1/0);const Mt={version:3,file:de.file,names:at,sources:ht,sourcesContent:ve,mappings:Ke,ignoreList:Pt};return we(Mt)};function Se(Be,Xe,de,Ke,ht,ve,at,Pt,Mt,Ht,tn){const{sections:_n}=Be;for(let Jn=0;Jn<_n.length;Jn++){const{map:Hn,offset:Zn}=_n[Jn];let Kn=Ht,br=tn;if(Jn+1<_n.length){const yr=_n[Jn+1].offset;Kn=Math.min(Ht,Pt+yr.line),Kn===Ht?br=Math.min(tn,Mt+yr.column):Kn<Ht&&(br=Mt+yr.column)}Le(Hn,Xe,de,Ke,ht,ve,at,Pt+Zn.line,Mt+Zn.column,Kn,br)}}function Le(Be,Xe,de,Ke,ht,ve,at,Pt,Mt,Ht,tn){const _n=Ce(Be);if("sections"in _n)return Se(...arguments);const Jn=new ct(_n,Xe),Hn=Ke.length,Zn=ve.length,Kn=rt(Jn),{resolvedSources:br,sourcesContent:yr,ignoreList:Jr}=Jn;if(Ue(Ke,br),Ue(ve,Jn.names),yr)Ue(ht,yr);else for(let Ot=0;Ot<br.length;Ot++)ht.push(null);if(Jr)for(let Ot=0;Ot<Jr.length;Ot++)at.push(Jr[Ot]+Hn);for(let Ot=0;Ot<Kn.length;Ot++){const fs=Pt+Ot;if(fs>Ht)return;const qs=st(de,fs),Oi=Ot===0?Mt:0,ai=Kn[Ot];for(let gr=0;gr<ai.length;gr++){const wr=ai[gr],Zr=Oi+wr[O];if(fs===Ht&&Zr>=tn)return;if(wr.length===1){qs.push([Zr]);continue}const oi=Hn+wr[L],Qr=wr[B],Lr=wr[j];qs.push(wr.length===4?[Zr,oi,Qr,Lr]:[Zr,oi,Qr,Lr,Zn+wr[M]])}}}function Ue(Be,Xe){for(let de=0;de<Xe.length;de++)Be.push(Xe[de])}function st(Be,Xe){for(let de=Be.length;de<=Xe;de++)Be[de]=[];return Be[Xe]}var Ze="`line` must be greater than 0 (lines start at line 1)",it="`column` must be greater than or equal to 0 (columns start at column 0)",pt=-1,It=1,ct=class{constructor(Be,Xe){const de=typeof Be=="string";if(!de&&Be._decodedMemo)return Be;const Ke=Ce(Be),{version:ht,file:ve,names:at,sourceRoot:Pt,sources:Mt,sourcesContent:Ht}=Ke;this.version=ht,this.file=ve,this.names=at||[],this.sourceRoot=Pt,this.sources=Mt,this.sourcesContent=Ht,this.ignoreList=Ke.ignoreList||Ke.x_google_ignoreList||void 0;const tn=F(Xe,Pt);this.resolvedSources=Mt.map(tn);const{mappings:_n}=Ke;if(typeof _n=="string")this._encoded=_n,this._decoded=void 0;else if(Array.isArray(_n))this._encoded=void 0,this._decoded=J(_n,de);else throw Ke.sections?new Error("TraceMap passed sectioned source map, please use FlattenMap export instead"):new Error(`invalid source map: ${JSON.stringify(Ke)}`);this._decodedMemo=se(),this._bySources=void 0,this._bySourceMemos=void 0}};function Ye(Be){return Be}function We(Be){var Xe,de;return(de=(Xe=Be)._encoded)!=null?de:Xe._encoded=(0,I.encode)(Be._decoded)}function rt(Be){var Xe;return(Xe=Be)._decoded||(Xe._decoded=(0,I.decode)(Be._encoded))}function St(Be,Xe,de){const Ke=rt(Be);if(Xe>=Ke.length)return null;const ht=Ke[Xe],ve=fn(ht,Be._decodedMemo,Xe,de,It);return ve===-1?null:ht[ve]}function Et(Be,Xe){let{line:de,column:Ke,bias:ht}=Xe;if(de--,de<0)throw new Error(Ze);if(Ke<0)throw new Error(it);const ve=rt(Be);if(de>=ve.length)return ot(null,null,null,null);const at=ve[de],Pt=fn(at,Be._decodedMemo,de,Ke,ht||It);if(Pt===-1)return ot(null,null,null,null);const Mt=at[Pt];if(Mt.length===1)return ot(null,null,null,null);const{names:Ht,resolvedSources:tn}=Be;return ot(tn[Mt[L]],Mt[B]+1,Mt[j],Mt.length===5?Ht[Mt[M]]:null)}function jt(Be,Xe){const{source:de,line:Ke,column:ht,bias:ve}=Xe;return xn(Be,de,Ke,ht,ve||It,!1)}function qt(Be,Xe){const{source:de,line:Ke,column:ht,bias:ve}=Xe;return xn(Be,de,Ke,ht,ve||pt,!0)}function mn(Be,Xe){const de=rt(Be),{names:Ke,resolvedSources:ht}=Be;for(let ve=0;ve<de.length;ve++){const at=de[ve];for(let Pt=0;Pt<at.length;Pt++){const Mt=at[Pt],Ht=ve+1,tn=Mt[0];let _n=null,Jn=null,Hn=null,Zn=null;Mt.length!==1&&(_n=ht[Mt[1]],Jn=Mt[2]+1,Hn=Mt[3]),Mt.length===5&&(Zn=Ke[Mt[4]]),Xe({generatedLine:Ht,generatedColumn:tn,source:_n,originalLine:Jn,originalColumn:Hn,name:Zn})}}}function Fe(Be,Xe){const{sources:de,resolvedSources:Ke}=Be;let ht=de.indexOf(Xe);return ht===-1&&(ht=Ke.indexOf(Xe)),ht}function Me(Be,Xe){const{sourcesContent:de}=Be;if(de==null)return null;const Ke=Fe(Be,Xe);return Ke===-1?null:de[Ke]}function ce(Be,Xe){const{ignoreList:de}=Be;if(de==null)return!1;const Ke=Fe(Be,Xe);return Ke===-1?!1:de.includes(Ke)}function we(Be,Xe){const de=new ct(nt(Be,[]),Xe);return de._decoded=Be.mappings,de}function De(Be){return nt(Be,rt(Be))}function $e(Be){return nt(Be,We(Be))}function nt(Be,Xe){return{version:Be.version,file:Be.file,names:Be.names,sourceRoot:Be.sourceRoot,sources:Be.sources,sourcesContent:Be.sourcesContent,mappings:Xe,ignoreList:Be.ignoreList||Be.x_google_ignoreList}}function ot(Be,Xe,de,Ke){return{source:Be,line:Xe,column:de,name:Ke}}function Zt(Be,Xe){return{line:Be,column:Xe}}function fn(Be,Xe,de,Ke,ht){let ve=me(Be,Ke,Xe,de);return Q?ve=(ht===pt?Y:Z)(Be,Ke,ve):ht===pt&&ve++,ve===-1||ve===Be.length?-1:ve}function ut(Be,Xe,de,Ke,ht){let ve=fn(Be,Xe,de,Ke,It);if(!Q&&ht===pt&&ve++,ve===-1||ve===Be.length)return[];const at=Q?Ke:Be[ve][O];Q||(ve=Z(Be,at,ve));const Pt=Y(Be,at,ve),Mt=[];for(;ve<=Pt;ve++){const Ht=Be[ve];Mt.push(Zt(Ht[ee]+1,Ht[ue]))}return Mt}function xn(Be,Xe,de,Ke,ht,ve){var at,Pt;if(de--,de<0)throw new Error(Ze);if(Ke<0)throw new Error(it);const{sources:Mt,resolvedSources:Ht}=Be;let tn=Mt.indexOf(Xe);if(tn===-1&&(tn=Ht.indexOf(Xe)),tn===-1)return ve?[]:Zt(null,null);const _n=(at=Be)._bySourceMemos||(at._bySourceMemos=Mt.map(se)),Hn=((Pt=Be)._bySources||(Pt._bySources=H(rt(Be),_n)))[tn][de];if(Hn==null)return ve?[]:Zt(null,null);const Zn=_n[tn];if(ve)return ut(Hn,Zn,de,Ke,ht);const Kn=fn(Hn,Zn,de,Ke,ht);if(Kn===-1)return Zt(null,null);const br=Hn[Kn];return Zt(br[ee]+1,br[ue])}}))})(px)),px.exports}var Tse=ux.exports,Y2;function Sse(){return Y2||(Y2=1,(function(n,e){(function(t,r){r(n,eV(),tV()),n.exports=s(n);function s(i){return"default"in i.exports?i.exports.default:i.exports}})(Tse,(function(t,r,s){var i=Object.create,a=Object.defineProperty,l=Object.getOwnPropertyDescriptor,c=Object.getOwnPropertyNames,p=Object.getPrototypeOf,d=Object.prototype.hasOwnProperty,h=(Ye,We)=>function(){return We||(0,Ye[c(Ye)[0]])((We={exports:{}}).exports,We),We.exports},m=(Ye,We)=>{for(var rt in We)a(Ye,rt,{get:We[rt],enumerable:!0})},x=(Ye,We,rt,St)=>{if(We&&typeof We=="object"||typeof We=="function")for(let Et of c(We))!d.call(Ye,Et)&&Et!==rt&&a(Ye,Et,{get:()=>We[Et],enumerable:!(St=l(We,Et))||St.enumerable});return Ye},w=(Ye,We,rt)=>(rt=Ye!=null?i(p(Ye)):{},x(!Ye||!Ye.__esModule?a(rt,"default",{value:Ye,enumerable:!0}):rt,Ye)),A=Ye=>x(a({},"__esModule",{value:!0}),Ye),P=h({"umd:@jridgewell/sourcemap-codec"(Ye,We){We.exports=r}}),S=h({"umd:@jridgewell/trace-mapping"(Ye,We){We.exports=s}}),C={};m(C,{GenMapping:()=>oe,addMapping:()=>H,addSegment:()=>X,allMappings:()=>be,fromMap:()=>Ce,maybeAddMapping:()=>W,maybeAddSegment:()=>Q,setIgnore:()=>Z,setSourceContent:()=>Y,toDecodedMap:()=>se,toEncodedMap:()=>me}),t.exports=A(C);var I=class{constructor(){this._indexes={__proto__:null},this.array=[]}};function _(Ye){return Ye}function D(Ye,We){return Ye._indexes[We]}function F(Ye,We){const rt=D(Ye,We);if(rt!==void 0)return rt;const{array:St,_indexes:Et}=Ye,jt=St.push(We);return Et[We]=jt-1}function O(Ye,We){const rt=D(Ye,We);if(rt===void 0)return;const{array:St,_indexes:Et}=Ye;for(let jt=rt+1;jt<St.length;jt++){const qt=St[jt];St[jt-1]=qt,Et[qt]--}Et[We]=void 0,St.pop()}var L=w(P()),B=w(S()),j=0,M=1,ee=2,ue=3,J=4,ae=-1,oe=class{constructor({file:Ye,sourceRoot:We}={}){this._names=new I,this._sources=new I,this._sourcesContent=[],this._mappings=[],this.file=Ye,this.sourceRoot=We,this._ignoreList=new I}};function re(Ye){return Ye}function X(Ye,We,rt,St,Et,jt,qt,mn){return Se(!1,Ye,We,rt,St,Et,jt,qt,mn)}function H(Ye,We){return ct(!1,Ye,We)}var Q=(Ye,We,rt,St,Et,jt,qt,mn)=>Se(!0,Ye,We,rt,St,Et,jt,qt,mn),W=(Ye,We)=>ct(!0,Ye,We);function Y(Ye,We,rt){const{_sources:St,_sourcesContent:Et}=Ye,jt=F(St,We);Et[jt]=rt}function Z(Ye,We,rt=!0){const{_sources:St,_sourcesContent:Et,_ignoreList:jt}=Ye,qt=F(St,We);qt===Et.length&&(Et[qt]=null),rt?F(jt,qt):O(jt,qt)}function se(Ye){const{_mappings:We,_sources:rt,_sourcesContent:St,_names:Et,_ignoreList:jt}=Ye;return Ze(We),{version:3,file:Ye.file||void 0,names:Et.array,sourceRoot:Ye.sourceRoot||void 0,sources:rt.array,sourcesContent:St,mappings:We,ignoreList:jt.array}}function me(Ye){const We=se(Ye);return Object.assign({},We,{mappings:(0,L.encode)(We.mappings)})}function Ce(Ye){const We=new B.TraceMap(Ye),rt=new oe({file:We.file,sourceRoot:We.sourceRoot});return it(rt._names,We.names),it(rt._sources,We.sources),rt._sourcesContent=We.sourcesContent||We.sources.map(()=>null),rt._mappings=(0,B.decodedMappings)(We),We.ignoreList&&it(rt._ignoreList,We.ignoreList),rt}function be(Ye){const We=[],{_mappings:rt,_sources:St,_names:Et}=Ye;for(let jt=0;jt<rt.length;jt++){const qt=rt[jt];for(let mn=0;mn<qt.length;mn++){const Fe=qt[mn],Me={line:jt+1,column:Fe[j]};let ce,we,De;Fe.length!==1&&(ce=St.array[Fe[M]],we={line:Fe[ee]+1,column:Fe[ue]},Fe.length===5&&(De=Et.array[Fe[J]])),We.push({generated:Me,source:ce,original:we,name:De})}}return We}function Se(Ye,We,rt,St,Et,jt,qt,mn,Fe){const{_mappings:Me,_sources:ce,_sourcesContent:we,_names:De}=We,$e=Le(Me,rt),nt=Ue($e,St);if(!Et)return Ye&&pt($e,nt)?void 0:st($e,nt,[St]);const ot=F(ce,Et),Zt=mn?F(De,mn):ae;if(ot===we.length&&(we[ot]=Fe??null),!(Ye&&It($e,nt,ot,jt,qt,Zt)))return st($e,nt,mn?[St,ot,jt,qt,Zt]:[St,ot,jt,qt])}function Le(Ye,We){for(let rt=Ye.length;rt<=We;rt++)Ye[rt]=[];return Ye[We]}function Ue(Ye,We){let rt=Ye.length;for(let St=rt-1;St>=0;rt=St--){const Et=Ye[St];if(We>=Et[j])break}return rt}function st(Ye,We,rt){for(let St=Ye.length;St>We;St--)Ye[St]=Ye[St-1];Ye[We]=rt}function Ze(Ye){const{length:We}=Ye;let rt=We;for(let St=rt-1;St>=0&&!(Ye[St].length>0);rt=St,St--);rt<We&&(Ye.length=rt)}function it(Ye,We){for(let rt=0;rt<We.length;rt++)F(Ye,We[rt])}function pt(Ye,We){return We===0?!0:Ye[We-1].length===1}function It(Ye,We,rt,St,Et,jt){if(We===0)return!1;const qt=Ye[We-1];return qt.length===1?!1:rt===qt[M]&&St===qt[ee]&&Et===qt[ue]&&jt===(qt.length===5?qt[J]:ae)}function ct(Ye,We,rt){const{generated:St,source:Et,original:jt,name:qt,content:mn}=rt;return Et?Se(Ye,We,St.line-1,St.column,Et,jt.line-1,jt.column,qt,mn):Se(Ye,We,St.line-1,St.column,null,null,null,null,null)}}))})(ux)),ux.exports}var J2;function bse(){if(J2)return Fh;J2=1,Object.defineProperty(Fh,"__esModule",{value:!0}),Fh.default=void 0;var n=Sse(),e=tV();class t{constructor(s,i){var a;this._map=void 0,this._rawMappings=void 0,this._sourceFileName=void 0,this._lastGenLine=0,this._lastSourceLine=0,this._lastSourceColumn=0,this._inputMap=null;const l=this._map=new n.GenMapping({sourceRoot:s.sourceRoot});if(this._sourceFileName=(a=s.sourceFileName)==null?void 0:a.replace(/\\/g,"/"),this._rawMappings=void 0,s.inputSourceMap){this._inputMap=new e.TraceMap(s.inputSourceMap);const p=this._inputMap.resolvedSources;if(p.length)for(let d=0;d<p.length;d++){var c;(0,n.setSourceContent)(l,p[d],(c=this._inputMap.sourcesContent)==null?void 0:c[d])}}if(typeof i=="string"&&!s.inputSourceMap)(0,n.setSourceContent)(l,this._sourceFileName,i);else if(typeof i=="object")for(const p of Object.keys(i))(0,n.setSourceContent)(l,p.replace(/\\/g,"/"),i[p])}get(){return(0,n.toEncodedMap)(this._map)}getDecoded(){return(0,n.toDecodedMap)(this._map)}getRawMappings(){return this._rawMappings||(this._rawMappings=(0,n.allMappings)(this._map))}mark(s,i,a,l,c,p){var d;this._rawMappings=void 0;let h;if(i!=null)if(this._inputMap){if(h=(0,e.originalPositionFor)(this._inputMap,{line:i,column:a}),!h.name&&c){const m=(0,e.originalPositionFor)(this._inputMap,c);m.name&&(l=m.name)}}else h={name:null,source:p?.replace(/\\/g,"/")||this._sourceFileName,line:i,column:a};(0,n.maybeAddMapping)(this._map,{name:l,generated:s,source:(d=h)==null?void 0:d.source,original:h})}}return Fh.default=t,Fh}var Bh={},Vh={},Z2;function wse(){if(Z2)return Vh;Z2=1,Object.defineProperty(Vh,"__esModule",{value:!0}),Vh.default=void 0;const n=[];for(let t=0;t<32;t++)n.push(" ".repeat(t*2));class e{constructor(r,s){this._map=null,this._buf="",this._str="",this._appendCount=0,this._last=0,this._canMarkIdName=!0,this._indentChar="",this._queuedChar=0,this._position={line:1,column:0},this._sourcePosition={identifierName:void 0,identifierNamePos:void 0,line:void 0,column:void 0,filename:void 0},this._map=r,this._indentChar=s}get(){const{_map:r,_last:s}=this;this._queuedChar!==32&&this._flush();const i=s===10?(this._buf+this._str).trimRight():this._buf+this._str;if(r===null)return{code:i,decodedMap:void 0,map:null,rawMappings:void 0};const a={code:i,decodedMap:r.getDecoded(),get __mergedMap(){return this.map},get map(){const l=r.get();return a.map=l,l},set map(l){Object.defineProperty(a,"map",{value:l,writable:!0})},get rawMappings(){const l=r.getRawMappings();return a.rawMappings=l,l},set rawMappings(l){Object.defineProperty(a,"rawMappings",{value:l,writable:!0})}};return a}append(r,s){this._flush(),this._append(r,s)}appendChar(r){this._flush(),this._appendChar(r,1,!0)}queue(r){this._flush(),this._queuedChar=r}_flush(){const r=this._queuedChar;r!==0&&(this._appendChar(r,1,!0),this._queuedChar=0)}_appendChar(r,s,i){if(this._last=r,r===-1){const c=s>=64?this._indentChar.repeat(s):n[s/2];this._str+=c}else this._str+=s>1?String.fromCharCode(r).repeat(s):String.fromCharCode(r);const a=r===32,l=this._position;if(r!==10){if(this._map){const c=this._sourcePosition;i&&c?(this._map.mark(l,c.line,c.column,a?void 0:c.identifierName,a?void 0:c.identifierNamePos,c.filename),!a&&this._canMarkIdName&&(c.identifierName=void 0,c.identifierNamePos=void 0)):this._map.mark(l)}l.column+=s}else l.line++,l.column=0}_append(r,s){const i=r.length,a=this._position,l=this._sourcePosition;this._last=-1,++this._appendCount>4096?(+this._str,this._buf+=this._str,this._str=r,this._appendCount=0):this._str+=r;const c=this._map!==null;if(!s&&!c){a.column+=i;return}const{column:p,identifierName:d,identifierNamePos:h,filename:m}=l;let x=l.line;(d!=null||h!=null)&&this._canMarkIdName&&(l.identifierName=void 0,l.identifierNamePos=void 0);let w=r.indexOf(`
`),A=0;for(c&&w!==0&&this._map.mark(a,x,p,d,h,m);w!==-1;)a.line++,a.column=0,A=w+1,A<i&&x!==void 0&&(x++,c&&this._map.mark(a,x,0,void 0,void 0,m)),w=r.indexOf(`
`,A);a.column+=i-A}removeLastSemicolon(){this._queuedChar===59&&(this._queuedChar=0)}getLastChar(r){if(!r)return this._last;const s=this._queuedChar;return s!==0?s:this._last}getNewlineCount(){return this._queuedChar===0&&this._last===10?1:0}hasContent(){return this._last!==0}exactSource(r,s){if(!this._map){s();return}this.source("start",r);const i=r.identifierName,a=this._sourcePosition;i!=null&&(this._canMarkIdName=!1,a.identifierName=i),s(),i!=null&&(this._canMarkIdName=!0,a.identifierName=void 0,a.identifierNamePos=void 0),this.source("end",r)}source(r,s){this._map&&this._normalizePosition(r,s,0)}sourceWithOffset(r,s,i){this._map&&this._normalizePosition(r,s,i)}_normalizePosition(r,s,i){this._flush();const a=s[r],l=this._sourcePosition;a&&(l.line=a.line,l.column=Math.max(a.column+i,0),l.filename=s.filename)}getCurrentColumn(){return this._position.column+(this._queuedChar?1:0)}getCurrentLine(){return this._position.line}}return Vh.default=e,Vh}var Fp={},Pn={},Q2;function Ese(){if(Q2)return Pn;Q2=1,Object.defineProperty(Pn,"__esModule",{value:!0}),Pn.AssignmentExpression=Q,Pn.BinaryExpression=M,Pn.ClassExpression=ae,Pn.ArrowFunctionExpression=Pn.ConditionalExpression=X,Pn.DoExpression=A,Pn.FunctionExpression=re,Pn.FunctionTypeAnnotation=h,Pn.Identifier=W,Pn.LogicalExpression=ee,Pn.NullableTypeAnnotation=d,Pn.ObjectExpression=w,Pn.OptionalIndexedAccessType=C,Pn.OptionalCallExpression=Pn.OptionalMemberExpression=H,Pn.SequenceExpression=ue,Pn.TSSatisfiesExpression=Pn.TSAsExpression=I,Pn.TSConditionalType=_,Pn.TSConstructorType=Pn.TSFunctionType=j,Pn.TSInferType=O,Pn.TSInstantiationExpression=B,Pn.TSIntersectionType=F,Pn.SpreadElement=Pn.UnaryExpression=Pn.TSTypeAssertion=oe,Pn.TSTypeOperator=L,Pn.TSUnionType=D,Pn.IntersectionTypeAnnotation=Pn.UnionTypeAnnotation=S,Pn.UpdateExpression=m,Pn.AwaitExpression=Pn.YieldExpression=J;var n=vn(),e=cd();const{isMemberExpression:t,isOptionalMemberExpression:r,isYieldExpression:s,isStatement:i}=n,a=new Map([["||",0],["??",1],["&&",2],["|",3],["^",4],["&",5],["==",6],["===",6],["!=",6],["!==",6],["<",7],[">",7],["<=",7],[">=",7],["in",7],["instanceof",7],[">>",8],["<<",8],[">>>",8],["+",9],["-",9],["*",10],["/",10],["%",10],["**",11]]);function l(Y){return Y===156||Y===201||Y===209}const c=(Y,Z,se)=>(se===21||se===22)&&Z.superClass===Y,p=(Y,Z,se)=>{switch(se){case 108:case 132:return Z.object===Y;case 17:case 130:case 112:return Z.callee===Y;case 222:return Z.tag===Y;case 191:return!0}return!1};function d(Y,Z,se){return se===4}function h(Y,Z,se,me){return se===239||se===90||se===4||(me&e.TokenContext.arrowFlowReturnType)>0}function m(Y,Z,se){return p(Y,Z,se)||c(Y,Z,se)}function x(Y){return(Y&(e.TokenContext.expressionStatement|e.TokenContext.arrowBody))>0}function w(Y,Z,se,me){return x(me)}function A(Y,Z,se,me){return(me&e.TokenContext.expressionStatement)>0&&!Y.async}function P(Y,Z,se,me){if(c(Y,Z,se)||p(Y,Z,se)||se===238||se===145||se===8)return!0;let Ce;switch(se){case 10:case 107:Ce=a.get(Z.operator);break;case 156:case 201:Ce=7}if(Ce!==void 0){const be=me===2?7:a.get(Y.operator);if(Ce>be||Ce===be&&se===10&&(be===11?Z.left===Y:Z.right===Y)||me===1&&se===107&&(be===1&&Ce!==1||Ce===1&&be!==1))return!0}return!1}function S(Y,Z,se){switch(se){case 4:case 115:case 90:case 239:return!0}return!1}function C(Y,Z,se){return se===84&&Z.objectType===Y}function I(Y,Z,se){return(se===6||se===7)&&Z.left===Y||se===10&&(Z.operator==="|"||Z.operator==="&")&&Y===Z.left?!0:P(Y,Z,se,2)}function _(Y,Z,se){switch(se){case 155:case 195:case 211:case 212:return!0;case 175:return Z.objectType===Y;case 181:case 219:return Z.types[0]===Y;case 161:return Z.checkType===Y||Z.extendsType===Y}return!1}function D(Y,Z,se){switch(se){case 181:case 211:case 155:case 195:return!0;case 175:return Z.objectType===Y}return!1}function F(Y,Z,se){return se===211||L(Y,Z,se)}function O(Y,Z,se){return!!(L(Y,Z,se)||(se===181||se===219)&&Y.typeParameter.constraint&&Z.types[0]===Y)}function L(Y,Z,se){switch(se){case 155:case 195:return!0;case 175:if(Z.objectType===Y)return!0}return!1}function B(Y,Z,se){switch(se){case 17:case 130:case 112:case 177:return Z.typeParameters!=null}return!1}function j(Y,Z,se){return D(Y,Z,se)?!0:se===219||se===161&&(Z.checkType===Y||Z.extendsType===Y)}function M(Y,Z,se,me){return P(Y,Z,se,0)?!0:(me&e.TokenContext.forInOrInitHeadAccumulate)>0&&Y.operator==="in"}function ee(Y,Z,se){return P(Y,Z,se,1)}function ue(Y,Z,se){return se===144||se===133||se===108&&Z.property===Y||se===132&&Z.property===Y||se===224?!1:se===21?!0:se===68?Z.right===Y:se===60?!0:!i(Z)}function J(Y,Z,se){return se===10||se===107||se===238||se===145||p(Y,Z,se)||se===8&&s(Y)||se===28&&Y===Z.test||c(Y,Z,se)||l(se)}function ae(Y,Z,se,me){return(me&(e.TokenContext.expressionStatement|e.TokenContext.exportDefault))>0}function oe(Y,Z,se){return p(Y,Z,se)||se===10&&Z.operator==="**"&&Z.left===Y||c(Y,Z,se)}function re(Y,Z,se,me){return(me&(e.TokenContext.expressionStatement|e.TokenContext.exportDefault))>0}function X(Y,Z,se){switch(se){case 238:case 145:case 10:case 107:case 8:return!0;case 28:if(Z.test===Y)return!0}return l(se)?!0:oe(Y,Z,se)}function H(Y,Z,se){switch(se){case 17:return Z.callee===Y;case 108:return Z.object===Y}return!1}function Q(Y,Z,se,me){return x(me)&&Y.left.type==="ObjectPattern"?!0:X(Y,Z,se)}function W(Y,Z,se,me,Ce){var be;if(Ce&&Ce(Y)!==Y.name)return!1;if(se===6&&(be=Y.extra)!=null&&be.parenthesized&&Z.left===Y){const Se=Z.right.type;if((Se==="FunctionExpression"||Se==="ClassExpression")&&Z.right.id==null)return!0}return(me&e.TokenContext.forOfHead||(se===108||se===132)&&me&(e.TokenContext.expressionStatement|e.TokenContext.forInitHead|e.TokenContext.forInHead))&&Y.name==="let"?(t(Z,{object:Y,computed:!0})||r(Z,{object:Y,computed:!0,optional:!1}))&&me&(e.TokenContext.expressionStatement|e.TokenContext.forInitHead|e.TokenContext.forInHead)?!0:(me&e.TokenContext.forOfHead)>0:se===68&&Z.left===Y&&Y.name==="async"&&!Z.await}return Pn}var jh={},Eb={},Bp={},eM;function nV(){if(eM)return Bp;eM=1,Object.defineProperty(Bp,"__esModule",{value:!0}),Bp.TaggedTemplateExpression=n,Bp.TemplateElement=e,Bp.TemplateLiteral=r,Bp._printTemplate=t;function n(s){this.print(s.tag),this.print(s.typeParameters),this.print(s.quasi)}function e(){throw new Error("TemplateElement printing is handled in TemplateLiteral")}function t(s,i){const a=s.quasis;let l="`";for(let c=0;c<a.length-1;c++)if(l+=a[c].value.raw,this.token(l+"${",!0),this.print(i[c]),l="}",this.tokenMap){const p=this.tokenMap.findMatching(s,"}",c);p&&this._catchUpTo(p.loc.start)}l+=a[a.length-1].value.raw,this.token(l+"`",!0)}function r(s){t.call(this,s,s.expressions)}return Bp}var Vn={},tM;function gP(){if(tM)return Vn;tM=1,Object.defineProperty(Vn,"__esModule",{value:!0}),Vn.LogicalExpression=Vn.AssignmentExpression=M,Vn.AssignmentPattern=j,Vn.AwaitExpression=F,Vn.BinaryExpression=ee,Vn.BindExpression=ue,Vn.CallExpression=_,Vn.ConditionalExpression=h,Vn.Decorator=S,Vn.DoExpression=c,Vn.EmptyStatement=L,Vn.ExpressionStatement=B,Vn.Import=D,Vn.MemberExpression=J,Vn.MetaProperty=ae,Vn.ModuleExpression=X,Vn.NewExpression=m,Vn.OptionalCallExpression=I,Vn.OptionalMemberExpression=C,Vn.ParenthesizedExpression=p,Vn.PrivateName=oe,Vn.SequenceExpression=x,Vn.Super=A,Vn.ThisExpression=w,Vn.UnaryExpression=l,Vn.UpdateExpression=d,Vn.V8IntrinsicIdentifier=re,Vn.YieldExpression=O,Vn._shouldPrintDecoratorsBeforeExport=P;var n=vn(),e=cd();const{isCallExpression:t,isLiteral:r,isMemberExpression:s,isNewExpression:i,isPattern:a}=n;function l(H){const{operator:Q}=H,W=Q.charCodeAt(0);W>=97&&W<=122?(this.word(Q),this.space()):this.tokenChar(W),this.print(H.argument)}function c(H){H.async&&(this.word("async",!0),this.space()),this.word("do"),this.space(),this.print(H.body)}function p(H){this.tokenChar(40);const Q=this.enterDelimited();this.print(H.expression,void 0,!0),this._noLineTerminatorAfterNode=Q,this.rightParens(H)}function d(H){H.prefix?(this.token(H.operator,!1,0,!0),this.print(H.argument)):(this.print(H.argument,!0),this.token(H.operator,!1,0,!0))}function h(H){this.print(H.test),this.space(),this.tokenChar(63),this.space(),this.print(H.consequent),this.space(),this.tokenChar(58),this.space(),this.print(H.alternate)}function m(H,Q){if(this.word("new"),this.space(),this.print(H.callee),this.format.minified&&H.arguments.length===0&&!H.optional&&!t(Q,{callee:H})&&!s(Q)&&!i(Q)||(this.print(H.typeArguments),this.print(H.typeParameters),H.optional&&this.token("?."),H.arguments.length===0&&this.tokenMap&&!this.tokenMap.endMatches(H,")")))return;this.tokenChar(40);const W=this.enterDelimited();this.printList(H.arguments,this.shouldPrintTrailingComma(")"),void 0,void 0,void 0,!0),this._noLineTerminatorAfterNode=W,this.rightParens(H)}function x(H){this.printList(H.expressions)}function w(){this.word("this")}function A(){this.word("super")}function P(H){return typeof this.format.decoratorsBeforeExport=="boolean"?this.format.decoratorsBeforeExport:typeof H.start=="number"&&H.start===H.declaration.start}function S(H){this.tokenChar(64);const{expression:Q}=H;this.print(Q),this.newline()}function C(H){let{computed:Q}=H;const{optional:W,property:Y}=H;if(this.print(H.object),!Q&&s(Y))throw new TypeError("Got a MemberExpression for MemberExpression property");r(Y)&&typeof Y.value=="number"&&(Q=!0),W&&this.token("?."),Q?(this.tokenChar(91),this.print(Y),this.tokenChar(93)):(W||this.tokenChar(46),this.print(Y))}function I(H){this.print(H.callee),this.print(H.typeParameters),H.optional&&this.token("?."),this.print(H.typeArguments),this.tokenChar(40);const Q=this.enterDelimited();this.printList(H.arguments,void 0,void 0,void 0,void 0,!0),this._noLineTerminatorAfterNode=Q,this.rightParens(H)}function _(H){this.print(H.callee),this.print(H.typeArguments),this.print(H.typeParameters),this.tokenChar(40);const Q=this.enterDelimited();this.printList(H.arguments,this.shouldPrintTrailingComma(")"),void 0,void 0,void 0,!0),this._noLineTerminatorAfterNode=Q,this.rightParens(H)}function D(){this.word("import")}function F(H){this.word("await"),this.space(),this.print(H.argument)}function O(H){H.delegate?(this.word("yield",!0),this.tokenChar(42),H.argument&&(this.space(),this.print(H.argument))):H.argument?(this.word("yield",!0),this.space(),this.print(H.argument)):this.word("yield")}function L(){this.semicolon(!0)}function B(H){this.tokenContext|=e.TokenContext.expressionStatement,this.print(H.expression),this.semicolon()}function j(H){this.print(H.left),(H.left.type==="Identifier"||a(H.left))&&(H.left.optional&&this.tokenChar(63),this.print(H.left.typeAnnotation)),this.space(),this.tokenChar(61),this.space(),this.print(H.right)}function M(H){this.print(H.left),this.space(),this.token(H.operator,!1,0,!0),this.space(),this.print(H.right)}function ee(H){this.print(H.left),this.space();const{operator:Q}=H;Q.charCodeAt(0)===105?this.word(Q):(this.token(Q,!1,0,!0),this.setLastChar(Q.charCodeAt(Q.length-1))),this.space(),this.print(H.right)}function ue(H){this.print(H.object),this.token("::"),this.print(H.callee)}function J(H){if(this.print(H.object),!H.computed&&s(H.property))throw new TypeError("Got a MemberExpression for MemberExpression property");let Q=H.computed;if(r(H.property)&&typeof H.property.value=="number"&&(Q=!0),Q){const W=this.enterDelimited();this.tokenChar(91),this.print(H.property,void 0,!0),this.tokenChar(93),this._noLineTerminatorAfterNode=W}else this.tokenChar(46),this.print(H.property)}function ae(H){this.print(H.meta),this.tokenChar(46),this.print(H.property)}function oe(H){this.tokenChar(35),this.print(H.id)}function re(H){this.tokenChar(37),this.word(H.name)}function X(H){this.word("module",!0),this.space(),this.tokenChar(123),this.indent();const{body:Q}=H;(Q.body.length||Q.directives.length)&&this.newline(),this.print(Q),this.dedent(),this.rightBrace(H)}return Vn}var vr={},nM;function Pse(){if(nM)return vr;nM=1,Object.defineProperty(vr,"__esModule",{value:!0}),vr.BreakStatement=w,vr.CatchClause=_,vr.ContinueStatement=A,vr.DebuggerStatement=O,vr.DoWhileStatement=m,vr.ForInStatement=d,vr.ForOfStatement=h,vr.ForStatement=c,vr.IfStatement=a,vr.LabeledStatement=C,vr.ReturnStatement=P,vr.SwitchCase=F,vr.SwitchStatement=D,vr.ThrowStatement=S,vr.TryStatement=I,vr.VariableDeclaration=B,vr.VariableDeclarator=j,vr.WhileStatement=p,vr.WithStatement=i;var n=vn(),e=cd();const{isFor:t,isIfStatement:r,isStatement:s}=n;function i(M){this.word("with"),this.space(),this.tokenChar(40),this.print(M.object),this.tokenChar(41),this.printBlock(M.body)}function a(M){this.word("if"),this.space(),this.tokenChar(40),this.print(M.test),this.tokenChar(41),this.space();const ee=M.alternate&&r(l(M.consequent));ee&&(this.tokenChar(123),this.newline(),this.indent()),this.printAndIndentOnComments(M.consequent),ee&&(this.dedent(),this.newline(),this.tokenChar(125)),M.alternate&&(this.endsWith(125)&&this.space(),this.word("else"),this.space(),this.printAndIndentOnComments(M.alternate))}function l(M){const{body:ee}=M;return s(ee)===!1?M:l(ee)}function c(M){this.word("for"),this.space(),this.tokenChar(40),this.tokenContext|=e.TokenContext.forInitHead|e.TokenContext.forInOrInitHeadAccumulate,this.print(M.init),this.tokenContext=e.TokenContext.normal,this.tokenChar(59),M.test&&(this.space(),this.print(M.test)),this.tokenChar(59,1),M.update&&(this.space(),this.print(M.update)),this.tokenChar(41),this.printBlock(M.body)}function p(M){this.word("while"),this.space(),this.tokenChar(40),this.print(M.test),this.tokenChar(41),this.printBlock(M.body)}function d(M){this.word("for"),this.space(),this.noIndentInnerCommentsHere(),this.tokenChar(40),this.tokenContext|=e.TokenContext.forInHead|e.TokenContext.forInOrInitHeadAccumulate,this.print(M.left),this.tokenContext=e.TokenContext.normal,this.space(),this.word("in"),this.space(),this.print(M.right),this.tokenChar(41),this.printBlock(M.body)}function h(M){this.word("for"),this.space(),M.await&&(this.word("await"),this.space()),this.noIndentInnerCommentsHere(),this.tokenChar(40),this.tokenContext|=e.TokenContext.forOfHead,this.print(M.left),this.space(),this.word("of"),this.space(),this.print(M.right),this.tokenChar(41),this.printBlock(M.body)}function m(M){this.word("do"),this.space(),this.print(M.body),this.space(),this.word("while"),this.space(),this.tokenChar(40),this.print(M.test),this.tokenChar(41),this.semicolon()}function x(M,ee){ee&&(M.space(),M.printTerminatorless(ee)),M.semicolon()}function w(M){this.word("break"),x(this,M.label)}function A(M){this.word("continue"),x(this,M.label)}function P(M){this.word("return"),x(this,M.argument)}function S(M){this.word("throw"),x(this,M.argument)}function C(M){this.print(M.label),this.tokenChar(58),this.space(),this.print(M.body)}function I(M){this.word("try"),this.space(),this.print(M.block),this.space(),M.handlers?this.print(M.handlers[0]):this.print(M.handler),M.finalizer&&(this.space(),this.word("finally"),this.space(),this.print(M.finalizer))}function _(M){this.word("catch"),this.space(),M.param&&(this.tokenChar(40),this.print(M.param),this.print(M.param.typeAnnotation),this.tokenChar(41),this.space()),this.print(M.body)}function D(M){this.word("switch"),this.space(),this.tokenChar(40),this.print(M.discriminant),this.tokenChar(41),this.space(),this.tokenChar(123),this.printSequence(M.cases,!0),this.rightBrace(M)}function F(M){M.test?(this.word("case"),this.space(),this.print(M.test),this.tokenChar(58)):(this.word("default"),this.tokenChar(58)),M.consequent.length&&(this.newline(),this.printSequence(M.consequent,!0))}function O(){this.word("debugger"),this.semicolon()}function L(M){this.tokenChar(44,M),this.newline()}function B(M,ee){M.declare&&(this.word("declare"),this.space());const{kind:ue}=M;switch(ue){case"await using":this.word("await"),this.space();case"using":this.word("using",!0);break;default:this.word(ue)}this.space();let J=!1;if(!t(ee)){for(const ae of M.declarations)if(ae.init){J=!0;break}}if(this.printList(M.declarations,void 0,void 0,M.declarations.length>1,J?L:void 0),ee!=null)switch(ee.type){case"ForStatement":if(ee.init===M)return;break;case"ForInStatement":case"ForOfStatement":if(ee.left===M)return}this.semicolon()}function j(M){this.print(M.id),M.definite&&this.tokenChar(33),this.print(M.id.typeAnnotation),M.init&&(this.space(),this.tokenChar(61),this.space(),this.print(M.init))}return vr}var ta={},Vt={},na={},rM;function Bv(){if(rM)return na;rM=1,Object.defineProperty(na,"__esModule",{value:!0}),na.ArrowFunctionExpression=d,na.FunctionDeclaration=na.FunctionExpression=p,na._functionHead=c,na._methodHead=a,na._param=i,na._parameters=s,na._params=r,na._predicate=l,na._shouldPrintArrowParamsParens=h;var n=vn(),e=cd();const{isIdentifier:t}=n;function r(x,w,A,P){if(this.print(x.typeParameters),A!==void 0||P!==void 0){const S=m.call(this,A,P);S&&this.sourceIdentifierName(S.name,S.pos)}this.tokenChar(40),s.call(this,x.params,41),this.print(x.returnType,w),this._noLineTerminator=w}function s(x,w){const A=this.enterDelimited(),P=this.shouldPrintTrailingComma(w),S=x.length;for(let C=0;C<S;C++)i.call(this,x[C]),(P||C<S-1)&&(this.tokenChar(44,C),this.space());this.tokenChar(w),this._noLineTerminatorAfterNode=A}function i(x){this.printJoin(x.decorators,void 0,void 0,void 0,void 0,!0),this.print(x,void 0,!0),x.optional&&this.tokenChar(63),this.print(x.typeAnnotation,void 0,!0)}function a(x){const w=x.kind,A=x.key;(w==="get"||w==="set")&&(this.word(w),this.space()),x.async&&(this.word("async",!0),this.space()),(w==="method"||w==="init")&&x.generator&&this.tokenChar(42),x.computed?(this.tokenChar(91),this.print(A),this.tokenChar(93)):this.print(A),x.optional&&this.tokenChar(63),this._buf._map?r.call(this,x,!1,x.computed&&x.key.type!=="StringLiteral"?void 0:x.key):r.call(this,x,!1)}function l(x,w){x.predicate&&(x.returnType||this.tokenChar(58),this.space(),this.print(x.predicate,w))}function c(x,w,A){x.async&&(this.word("async"),this.format.preserveFormat||(this._innerCommentsState=0),this.space()),this.word("function"),x.generator&&(this.format.preserveFormat||(this._innerCommentsState=0),this.tokenChar(42)),this.space(),x.id&&this.print(x.id),this._buf._map?r.call(this,x,!1,x.id,w):r.call(this,x,!1),A&&l.call(this,x)}function p(x,w){c.call(this,x,w,!0),this.space(),this.print(x.body)}function d(x,w){x.async&&(this.word("async",!0),this.space()),h.call(this,x)?r.call(this,x,!0,void 0,this._buf._map?w:void 0):this.print(x.params[0],!0),l.call(this,x,!0),this.space(),this.printInnerComments(),this.token("=>"),this.space(),this.tokenContext|=e.TokenContext.arrowBody,this.print(x.body)}function h(x){var w,A;if(x.params.length!==1||x.typeParameters||x.returnType||x.predicate)return!0;const P=x.params[0];if(!t(P)||P.typeAnnotation||P.optional||(w=P.leadingComments)!=null&&w.length||(A=P.trailingComments)!=null&&A.length)return!0;if(this.tokenMap){if(x.loc==null||this.tokenMap.findMatching(x,"(")!==null)return!0;const S=this.tokenMap.findMatching(x,"=>");return S?.loc==null?!0:S.loc.start.line!==x.loc.start.line}return!!this.format.retainLines}function m(x,w){let A=x;if(!A&&w){const D=w.type;D==="VariableDeclarator"?A=w.id:D==="AssignmentExpression"||D==="AssignmentPattern"?A=w.left:D==="ObjectProperty"||D==="ClassProperty"?(!w.computed||w.key.type==="StringLiteral")&&(A=w.key):(D==="ClassPrivateProperty"||D==="ClassAccessorProperty")&&(A=w.key)}if(!A)return;let P;if(A.type==="Identifier"){var S,C;P={pos:(S=A.loc)==null?void 0:S.start,name:((C=A.loc)==null?void 0:C.identifierName)||A.name}}else if(A.type==="PrivateName"){var I;P={pos:(I=A.loc)==null?void 0:I.start,name:"#"+A.id.name}}else if(A.type==="StringLiteral"){var _;P={pos:(_=A.loc)==null?void 0:_.start,name:A.value}}return P}return na}var sM;function rV(){if(sM)return Vt;sM=1,Object.defineProperty(Vt,"__esModule",{value:!0}),Vt.TSAnyKeyword=S,Vt.TSArrayType=Y,Vt.TSAsExpression=qt,Vt.TSBigIntKeyword=C,Vt.TSBooleanKeyword=F,Vt.TSCallSignatureDeclaration=d,Vt.TSInterfaceHeritage=Vt.TSClassImplements=rt,Vt.TSConditionalType=Ue,Vt.TSConstructSignatureDeclaration=m,Vt.TSConstructorType=oe,Vt.TSDeclareFunction=l,Vt.TSDeclareMethod=c,Vt.TSEnumBody=we,Vt.TSEnumDeclaration=ce,Vt.TSEnumMember=De,Vt.TSExportAssignment=xn,Vt.TSExternalModuleReference=fn,Vt.TSFunctionType=ae,Vt.TSImportEqualsDeclaration=Zt,Vt.TSImportType=ot,Vt.TSIndexSignature=P,Vt.TSIndexedAccessType=pt,Vt.TSInferType=st,Vt.TSInstantiationExpression=Me,Vt.TSInterfaceBody=Et,Vt.TSInterfaceDeclaration=St,Vt.TSIntersectionType=Se,Vt.TSIntrinsicKeyword=ue,Vt.TSLiteralType=We,Vt.TSMappedType=It,Vt.TSMethodSignature=A,Vt.TSModuleBlock=nt,Vt.TSModuleDeclaration=$e,Vt.TSNamedTupleMember=Ce,Vt.TSNamespaceExportDeclaration=Be,Vt.TSNeverKeyword=ee,Vt.TSNonNullExpression=ut,Vt.TSNullKeyword=M,Vt.TSNumberKeyword=_,Vt.TSObjectKeyword=D,Vt.TSOptionalType=se,Vt.TSParameterProperty=a,Vt.TSParenthesizedType=Ze,Vt.TSPropertySignature=x,Vt.TSQualifiedName=p,Vt.TSRestType=me,Vt.TSSatisfiesExpression=mn,Vt.TSStringKeyword=O,Vt.TSSymbolKeyword=L,Vt.TSTemplateLiteralType=Ye,Vt.TSThisType=J,Vt.TSTupleType=Z,Vt.TSTypeAliasDeclaration=jt,Vt.TSTypeAnnotation=r,Vt.TSTypeAssertion=Fe,Vt.TSTypeLiteral=W,Vt.TSTypeOperator=it,Vt.TSTypeParameter=i,Vt.TSTypeParameterDeclaration=Vt.TSTypeParameterInstantiation=s,Vt.TSTypePredicate=H,Vt.TSTypeQuery=Q,Vt.TSTypeReference=X,Vt.TSUndefinedKeyword=j,Vt.TSUnionType=be,Vt.TSUnknownKeyword=I,Vt.TSVoidKeyword=B,Vt._tsPrintClassMemberModifiers=de;var n=Bv(),e=aV(),t=nV();function r(ve,at){this.token((at.type==="TSFunctionType"||at.type==="TSConstructorType")&&at.typeAnnotation===ve?"=>":":"),this.space(),ve.optional&&this.tokenChar(63),this.print(ve.typeAnnotation)}function s(ve,at){this.tokenChar(60);let Pt=at.type==="ArrowFunctionExpression"&&ve.params.length===1;this.tokenMap&&ve.start!=null&&ve.end!=null&&(Pt&&(Pt=!!this.tokenMap.find(ve,Mt=>this.tokenMap.matchesOriginal(Mt,","))),Pt||(Pt=this.shouldPrintTrailingComma(">"))),this.printList(ve.params,Pt),this.tokenChar(62)}function i(ve){ve.const&&(this.word("const"),this.space()),ve.in&&(this.word("in"),this.space()),ve.out&&(this.word("out"),this.space()),this.word(ve.name),ve.constraint&&(this.space(),this.word("extends"),this.space(),this.print(ve.constraint)),ve.default&&(this.space(),this.tokenChar(61),this.space(),this.print(ve.default))}function a(ve){ve.accessibility&&(this.word(ve.accessibility),this.space()),ve.readonly&&(this.word("readonly"),this.space()),n._param.call(this,ve.parameter)}function l(ve,at){ve.declare&&(this.word("declare"),this.space()),n._functionHead.call(this,ve,at,!1),this.semicolon()}function c(ve){e._classMethodHead.call(this,ve),this.semicolon()}function p(ve){this.print(ve.left),this.tokenChar(46),this.print(ve.right)}function d(ve){Xe.call(this,ve),h(this,ve)}function h(ve,at){if(!ve.tokenMap||!at.start||!at.end){ve.semicolon();return}ve.tokenMap.endMatches(at,",")?ve.token(","):ve.tokenMap.endMatches(at,";")&&ve.semicolon()}function m(ve){this.word("new"),this.space(),Xe.call(this,ve),h(this,ve)}function x(ve){const{readonly:at}=ve;at&&(this.word("readonly"),this.space()),w.call(this,ve),this.print(ve.typeAnnotation),h(this,ve)}function w(ve){ve.computed&&this.tokenChar(91),this.print(ve.key),ve.computed&&this.tokenChar(93),ve.optional&&this.tokenChar(63)}function A(ve){const{kind:at}=ve;(at==="set"||at==="get")&&(this.word(at),this.space()),w.call(this,ve),Xe.call(this,ve),h(this,ve)}function P(ve){const{readonly:at,static:Pt}=ve;Pt&&(this.word("static"),this.space()),at&&(this.word("readonly"),this.space()),this.tokenChar(91),n._parameters.call(this,ve.parameters,93),this.print(ve.typeAnnotation),h(this,ve)}function S(){this.word("any")}function C(){this.word("bigint")}function I(){this.word("unknown")}function _(){this.word("number")}function D(){this.word("object")}function F(){this.word("boolean")}function O(){this.word("string")}function L(){this.word("symbol")}function B(){this.word("void")}function j(){this.word("undefined")}function M(){this.word("null")}function ee(){this.word("never")}function ue(){this.word("intrinsic")}function J(){this.word("this")}function ae(ve){re.call(this,ve)}function oe(ve){ve.abstract&&(this.word("abstract"),this.space()),this.word("new"),this.space(),re.call(this,ve)}function re(ve){const{typeParameters:at}=ve,Pt=ve.parameters;this.print(at),this.tokenChar(40),n._parameters.call(this,Pt,41),this.space();const Mt=ve.typeAnnotation;this.print(Mt)}function X(ve){const at=ve.typeParameters;this.print(ve.typeName,!!at),this.print(at)}function H(ve){ve.asserts&&(this.word("asserts"),this.space()),this.print(ve.parameterName),ve.typeAnnotation&&(this.space(),this.word("is"),this.space(),this.print(ve.typeAnnotation.typeAnnotation))}function Q(ve){this.word("typeof"),this.space(),this.print(ve.exprName);const at=ve.typeParameters;at&&this.print(at)}function W(ve){Ke(this,ve,()=>this.printJoin(ve.members,!0,!0,void 0,void 0,!0))}function Y(ve){this.print(ve.elementType,!0),this.tokenChar(91),this.tokenChar(93)}function Z(ve){this.tokenChar(91),this.printList(ve.elementTypes,this.shouldPrintTrailingComma("]")),this.tokenChar(93)}function se(ve){this.print(ve.typeAnnotation),this.tokenChar(63)}function me(ve){this.token("..."),this.print(ve.typeAnnotation)}function Ce(ve){this.print(ve.label),ve.optional&&this.tokenChar(63),this.tokenChar(58),this.space(),this.print(ve.elementType)}function be(ve){Le(this,ve,"|")}function Se(ve){Le(this,ve,"&")}function Le(ve,at,Pt){var Mt;let Ht=0;(Mt=ve.tokenMap)!=null&&Mt.startMatches(at,Pt)&&(Ht=1,ve.token(Pt)),ve.printJoin(at.types,void 0,void 0,function(tn){this.space(),this.token(Pt,void 0,tn+Ht),this.space()})}function Ue(ve){this.print(ve.checkType),this.space(),this.word("extends"),this.space(),this.print(ve.extendsType),this.space(),this.tokenChar(63),this.space(),this.print(ve.trueType),this.space(),this.tokenChar(58),this.space(),this.print(ve.falseType)}function st(ve){this.word("infer"),this.print(ve.typeParameter)}function Ze(ve){this.tokenChar(40),this.print(ve.typeAnnotation),this.tokenChar(41)}function it(ve){this.word(ve.operator),this.space(),this.print(ve.typeAnnotation)}function pt(ve){this.print(ve.objectType,!0),this.tokenChar(91),this.print(ve.indexType),this.tokenChar(93)}function It(ve){const{nameType:at,optional:Pt,readonly:Mt,typeAnnotation:Ht}=ve;this.tokenChar(123);const tn=this.enterDelimited();this.space(),Mt&&(ct(this,Mt),this.word("readonly"),this.space()),this.tokenChar(91),this.word(ve.typeParameter.name),this.space(),this.word("in"),this.space(),this.print(ve.typeParameter.constraint,void 0,!0),at&&(this.space(),this.word("as"),this.space(),this.print(at,void 0,!0)),this.tokenChar(93),Pt&&(ct(this,Pt),this.tokenChar(63)),Ht&&(this.tokenChar(58),this.space(),this.print(Ht,void 0,!0)),this.space(),this._noLineTerminatorAfterNode=tn,this.tokenChar(125)}function ct(ve,at){at!==!0&&ve.token(at)}function Ye(ve){t._printTemplate.call(this,ve,ve.types)}function We(ve){this.print(ve.literal)}function rt(ve){this.print(ve.expression),this.print(ve.typeArguments)}function St(ve){const{declare:at,id:Pt,typeParameters:Mt,extends:Ht,body:tn}=ve;at&&(this.word("declare"),this.space()),this.word("interface"),this.space(),this.print(Pt),this.print(Mt),Ht!=null&&Ht.length&&(this.space(),this.word("extends"),this.space(),this.printList(Ht)),this.space(),this.print(tn)}function Et(ve){Ke(this,ve,()=>this.printJoin(ve.body,!0,!0,void 0,void 0,!0))}function jt(ve){const{declare:at,id:Pt,typeParameters:Mt,typeAnnotation:Ht}=ve;at&&(this.word("declare"),this.space()),this.word("type"),this.space(),this.print(Pt),this.print(Mt),this.space(),this.tokenChar(61),this.space(),this.print(Ht),this.semicolon()}function qt(ve){const{expression:at,typeAnnotation:Pt}=ve;this.print(at,!0),this.space(),this.word("as"),this.space(),this.print(Pt)}function mn(ve){const{expression:at,typeAnnotation:Pt}=ve;this.print(at,!0),this.space(),this.word("satisfies"),this.space(),this.print(Pt)}function Fe(ve){const{typeAnnotation:at,expression:Pt}=ve;this.tokenChar(60),this.print(at),this.tokenChar(62),this.space(),this.print(Pt)}function Me(ve){this.print(ve.expression),this.print(ve.typeParameters)}function ce(ve){const{declare:at,const:Pt,id:Mt}=ve;at&&(this.word("declare"),this.space()),Pt&&(this.word("const"),this.space()),this.word("enum"),this.space(),this.print(Mt),this.space(),we.call(this,ve)}function we(ve){Ke(this,ve,()=>{var at;return this.printList(ve.members,(at=this.shouldPrintTrailingComma("}"))!=null?at:!0,!0,!0,void 0,!0)})}function De(ve){const{id:at,initializer:Pt}=ve;this.print(at),Pt&&(this.space(),this.tokenChar(61),this.space(),this.print(Pt))}function $e(ve){const{declare:at,id:Pt,kind:Mt}=ve;if(at&&(this.word("declare"),this.space()),ve.global||(this.word(Mt??(Pt.type==="Identifier"?"namespace":"module")),this.space()),this.print(Pt),!ve.body){this.semicolon();return}let Ht=ve.body;for(;Ht.type==="TSModuleDeclaration";)this.tokenChar(46),this.print(Ht.id),Ht=Ht.body;this.space(),this.print(Ht)}function nt(ve){Ke(this,ve,()=>this.printSequence(ve.body,!0,!0))}function ot(ve){const{qualifier:at,options:Pt}=ve;this.word("import"),this.tokenChar(40),this.print(ve.argument),Pt&&(this.tokenChar(44),this.print(Pt)),this.tokenChar(41),at&&(this.tokenChar(46),this.print(at));const Mt=ve.typeParameters;Mt&&this.print(Mt)}function Zt(ve){const{id:at,moduleReference:Pt}=ve;ve.isExport&&(this.word("export"),this.space()),this.word("import"),this.space(),this.print(at),this.space(),this.tokenChar(61),this.space(),this.print(Pt),this.semicolon()}function fn(ve){this.token("require("),this.print(ve.expression),this.tokenChar(41)}function ut(ve){this.print(ve.expression),this.tokenChar(33),this.setLastChar(33)}function xn(ve){this.word("export"),this.space(),this.tokenChar(61),this.space(),this.print(ve.expression),this.semicolon()}function Be(ve){this.word("export"),this.space(),this.word("as"),this.space(),this.word("namespace"),this.space(),this.print(ve.id),this.semicolon()}function Xe(ve){const{typeParameters:at}=ve,Pt=ve.parameters;this.print(at),this.tokenChar(40),n._parameters.call(this,Pt,41);const Mt=ve.typeAnnotation;this.print(Mt)}function de(ve){const at=ve.type==="ClassPrivateProperty",Pt=ve.type==="ClassAccessorProperty"||ve.type==="ClassProperty";ht(this,ve,[Pt&&ve.declare&&"declare",!at&&ve.accessibility]),ve.static&&(this.word("static"),this.space()),ht(this,ve,[!at&&ve.abstract&&"abstract",!at&&ve.override&&"override",(Pt||at)&&ve.readonly&&"readonly"])}function Ke(ve,at,Pt){ve.token("{");const Mt=ve.enterDelimited();Pt(),ve._noLineTerminatorAfterNode=Mt,ve.rightBrace(at)}function ht(ve,at,Pt){var Mt;const Ht=new Set;for(const tn of Pt)tn&&Ht.add(tn);(Mt=ve.tokenMap)==null||Mt.find(at,tn=>Ht.has(tn.value)?(ve.token(tn.value),ve.space(),Ht.delete(tn.value),Ht.size===0):!1);for(const tn of Ht)ve.word(tn),ve.space()}return Vt}var Pb={},js={},iM;function sV(){if(iM)return js;iM=1,Object.defineProperty(js,"__esModule",{value:!0}),js.ExportAllDeclaration=P,js.ExportDefaultDeclaration=I,js.ExportDefaultSpecifier=h,js.ExportNamedDeclaration=C,js.ExportNamespaceSpecifier=x,js.ExportSpecifier=m,js.ImportAttribute=D,js.ImportDeclaration=_,js.ImportDefaultSpecifier=d,js.ImportExpression=O,js.ImportNamespaceSpecifier=F,js.ImportSpecifier=p,js._printAttributes=A;var n=vn(),e=cd(),t=gP();const{isClassDeclaration:r,isExportDefaultSpecifier:s,isExportNamespaceSpecifier:i,isImportDefaultSpecifier:a,isImportNamespaceSpecifier:l,isStatement:c}=n;function p(L){(L.importKind==="type"||L.importKind==="typeof")&&(this.word(L.importKind),this.space()),this.print(L.imported),L.local&&L.local.name!==L.imported.name&&(this.space(),this.word("as"),this.space(),this.print(L.local))}function d(L){this.print(L.local)}function h(L){this.print(L.exported)}function m(L){L.exportKind==="type"&&(this.word("type"),this.space()),this.print(L.local),L.exported&&L.local.name!==L.exported.name&&(this.space(),this.word("as"),this.space(),this.print(L.exported))}function x(L){this.tokenChar(42),this.space(),this.word("as"),this.space(),this.print(L.exported)}let w=!1;function A(L,B){var j;const{attributes:M}=L;var{assertions:ee}=L;const{importAttributesKeyword:ue}=this.format;M&&!ue&&L.extra&&(L.extra.deprecatedAssertSyntax||L.extra.deprecatedWithLegacySyntax)&&!w&&(w=!0,console.warn('You are using import attributes, without specifying the desired output syntax.\nPlease specify the "importAttributesKeyword" generator option, whose value can be one of:\n - "with"        : `import { a } from "b" with { type: "json" };`\n - "assert"      : `import { a } from "b" assert { type: "json" };`\n - "with-legacy" : `import { a } from "b" with type: "json";`\n'));const J=ue==="assert"||!ue&&ee;if(this.word(J?"assert":"with"),this.space(),!J&&(ue==="with-legacy"||!ue&&(j=L.extra)!=null&&j.deprecatedWithLegacySyntax)){this.printList(M||ee);return}const ae=B?1:0;this.token("{",void 0,ae),this.space(),this.printList(M||ee,this.shouldPrintTrailingComma("}")),this.space(),this.token("}",void 0,ae)}function P(L){var B,j;this.word("export"),this.space(),L.exportKind==="type"&&(this.word("type"),this.space()),this.tokenChar(42),this.space(),this.word("from"),this.space(),(B=L.attributes)!=null&&B.length||(j=L.assertions)!=null&&j.length?(this.print(L.source,!0),this.space(),A.call(this,L,!1)):this.print(L.source),this.semicolon()}function S(L,B){r(B.declaration)&&t._shouldPrintDecoratorsBeforeExport.call(L,B)&&L.printJoin(B.declaration.decorators)}function C(L){if(S(this,L),this.word("export"),this.space(),L.declaration){const M=L.declaration;this.print(M),c(M)||this.semicolon()}else{L.exportKind==="type"&&(this.word("type"),this.space());const M=L.specifiers.slice(0);let ee=!1;for(;;){const J=M[0];if(s(J)||i(J))ee=!0,this.print(M.shift()),M.length&&(this.tokenChar(44),this.space());else break}let ue=!1;if((M.length||!M.length&&!ee)&&(ue=!0,this.tokenChar(123),M.length&&(this.space(),this.printList(M,this.shouldPrintTrailingComma("}")),this.space()),this.tokenChar(125)),L.source){var B,j;this.space(),this.word("from"),this.space(),(B=L.attributes)!=null&&B.length||(j=L.assertions)!=null&&j.length?(this.print(L.source,!0),this.space(),A.call(this,L,ue)):this.print(L.source)}this.semicolon()}}function I(L){S(this,L),this.word("export"),this.noIndentInnerCommentsHere(),this.space(),this.word("default"),this.space(),this.tokenContext|=e.TokenContext.exportDefault;const B=L.declaration;this.print(B),c(B)||this.semicolon()}function _(L){var B,j;this.word("import"),this.space();const M=L.importKind==="type"||L.importKind==="typeof";M?(this.noIndentInnerCommentsHere(),this.word(L.importKind),this.space()):L.module?(this.noIndentInnerCommentsHere(),this.word("module"),this.space()):L.phase&&(this.noIndentInnerCommentsHere(),this.word(L.phase),this.space());const ee=L.specifiers.slice(0),ue=!!ee.length;for(;ue;){const ae=ee[0];if(a(ae)||l(ae))this.print(ee.shift()),ee.length&&(this.tokenChar(44),this.space());else break}let J=!1;ee.length?(J=!0,this.tokenChar(123),this.space(),this.printList(ee,this.shouldPrintTrailingComma("}")),this.space(),this.tokenChar(125)):M&&!ue&&(J=!0,this.tokenChar(123),this.tokenChar(125)),(ue||M)&&(this.space(),this.word("from"),this.space()),(B=L.attributes)!=null&&B.length||(j=L.assertions)!=null&&j.length?(this.print(L.source,!0),this.space(),A.call(this,L,J)):this.print(L.source),this.semicolon()}function D(L){this.print(L.key),this.tokenChar(58),this.space(),this.print(L.value)}function F(L){this.tokenChar(42),this.space(),this.word("as"),this.space(),this.print(L.local)}function O(L){this.word("import"),L.phase&&(this.tokenChar(46),this.word(L.phase)),this.tokenChar(40);const B=this.shouldPrintTrailingComma(")");this.print(L.source),L.options!=null&&(this.tokenChar(44),this.space(),this.print(L.options)),B&&this.tokenChar(44),this.rightParens(L)}return js}var tr={},Ab,aM;function Ase(){if(aM)return Ab;aM=1;const n={},e=n.hasOwnProperty,t=(L,B)=>{for(const j in L)e.call(L,j)&&B(j,L[j])},r=(L,B)=>(B&&t(B,(j,M)=>{L[j]=M}),L),s=(L,B)=>{const j=L.length;let M=-1;for(;++M<j;)B(L[M])},i=L=>"\\u"+("0000"+L).slice(-4),a=(L,B)=>{let j=L.toString(16);return B?j:j.toUpperCase()},l=n.toString,c=Array.isArray,p=L=>typeof Buffer=="function"&&Buffer.isBuffer(L),d=L=>l.call(L)=="[object Object]",h=L=>typeof L=="string"||l.call(L)=="[object String]",m=L=>typeof L=="number"||l.call(L)=="[object Number]",x=L=>typeof L=="bigint",w=L=>typeof L=="function",A=L=>l.call(L)=="[object Map]",P=L=>l.call(L)=="[object Set]",S={"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"},C=/[\\\b\f\n\r\t]/,I=/[0-9]/,_=/[\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/,D=/([\uD800-\uDBFF][\uDC00-\uDFFF])|([\uD800-\uDFFF])|(['"`])|[^]/g,F=/([\uD800-\uDBFF][\uDC00-\uDFFF])|([\uD800-\uDFFF])|(['"`])|[^ !#-&\(-\[\]-_a-~]/g,O=(L,B)=>{const j=()=>{re=oe,++B.indentLevel,oe=B.indent.repeat(B.indentLevel)},M={escapeEverything:!1,minimal:!1,isScriptContext:!1,quotes:"single",wrap:!1,es6:!1,json:!1,compact:!0,lowercaseHex:!1,numbers:"decimal",indent:"	",indentLevel:0,__inline1__:!1,__inline2__:!1},ee=B&&B.json;ee&&(M.quotes="double",M.wrap=!0),B=r(M,B),B.quotes!="single"&&B.quotes!="double"&&B.quotes!="backtick"&&(B.quotes="single");const ue=B.quotes=="double"?'"':B.quotes=="backtick"?"`":"'",J=B.compact,ae=B.lowercaseHex;let oe=B.indent.repeat(B.indentLevel),re="";const X=B.__inline1__,H=B.__inline2__,Q=J?"":`
`;let W,Y=!0;const Z=B.numbers=="binary",se=B.numbers=="octal",me=B.numbers=="decimal",Ce=B.numbers=="hexadecimal";if(ee&&L&&w(L.toJSON)&&(L=L.toJSON()),!h(L)){if(A(L))return L.size==0?"new Map()":(J||(B.__inline1__=!0,B.__inline2__=!1),"new Map("+O(Array.from(L),B)+")");if(P(L))return L.size==0?"new Set()":"new Set("+O(Array.from(L),B)+")";if(p(L))return L.length==0?"Buffer.from([])":"Buffer.from("+O(Array.from(L),B)+")";if(c(L))return W=[],B.wrap=!0,X&&(B.__inline1__=!1,B.__inline2__=!0),H||j(),s(L,Se=>{Y=!1,H&&(B.__inline2__=!1),W.push((J||H?"":oe)+O(Se,B))}),Y?"[]":H?"["+W.join(", ")+"]":"["+Q+W.join(","+Q)+Q+(J?"":re)+"]";if(m(L)||x(L)){if(ee)return JSON.stringify(Number(L));let Se;if(me)Se=String(L);else if(Ce){let Le=L.toString(16);ae||(Le=Le.toUpperCase()),Se="0x"+Le}else Z?Se="0b"+L.toString(2):se&&(Se="0o"+L.toString(8));return x(L)?Se+"n":Se}else return x(L)?ee?JSON.stringify(Number(L)):L+"n":d(L)?(W=[],B.wrap=!0,j(),t(L,(Se,Le)=>{Y=!1,W.push((J?"":oe)+O(Se,B)+":"+(J?"":" ")+O(Le,B))}),Y?"{}":"{"+Q+W.join(","+Q)+Q+(J?"":re)+"}"):ee?JSON.stringify(L)||"null":String(L)}const be=B.escapeEverything?D:F;return W=L.replace(be,(Se,Le,Ue,st,Ze,it)=>{if(Le){if(B.minimal)return Le;const It=Le.charCodeAt(0),ct=Le.charCodeAt(1);if(B.es6){const Ye=(It-55296)*1024+ct-56320+65536;return"\\u{"+a(Ye,ae)+"}"}return i(a(It,ae))+i(a(ct,ae))}if(Ue)return i(a(Ue.charCodeAt(0),ae));if(Se=="\0"&&!ee&&!I.test(it.charAt(Ze+1)))return"\\0";if(st)return st==ue||B.escapeEverything?"\\"+st:st;if(C.test(Se))return S[Se];if(B.minimal&&!_.test(Se))return Se;const pt=a(Se.charCodeAt(0),ae);return ee||pt.length>2?i(pt):"\\x"+("00"+pt).slice(-2)}),ue=="`"&&(W=W.replace(/\$\{/g,"\\${")),B.isScriptContext&&(W=W.replace(/<\/(script|style)/gi,"<\\/$1").replace(/<!--/g,ee?"\\u003C!--":"\\x3C!--")),B.wrap&&(W=ue+W+ue),W};return O.version="3.0.2",Ab=O,Ab}var oM;function xP(){if(oM)return tr;oM=1,Object.defineProperty(tr,"__esModule",{value:!0}),tr.ArgumentPlaceholder=c,tr.ArrayPattern=tr.ArrayExpression=x,tr.BigIntLiteral=I,tr.BooleanLiteral=A,tr.Identifier=l,tr.NullLiteral=P,tr.NumericLiteral=S,tr.ObjectPattern=tr.ObjectExpression=d,tr.ObjectMethod=h,tr.ObjectProperty=m,tr.PipelineBareFunction=O,tr.PipelinePrimaryTopicReference=L,tr.PipelineTopicExpression=F,tr.RegExpLiteral=w,tr.SpreadElement=tr.RestElement=p,tr.StringLiteral=C,tr.TopicReference=D,tr.VoidPattern=B,tr._getRawIdentifier=a;var n=vn(),e=Ase(),t=Bv();const{isAssignmentPattern:r,isIdentifier:s}=n;let i="";function a(j){const{name:M}=j,ee=this.tokenMap.find(j,ue=>ue.value===M);return ee?(i=this._originalCode.slice(ee.start,ee.end),i):i=j.name}function l(j){if(this._buf._map){var M;this.sourceIdentifierName(((M=j.loc)==null?void 0:M.identifierName)||j.name)}this.word(this.tokenMap?i:j.name)}function c(){this.tokenChar(63)}function p(j){this.token("..."),this.print(j.argument)}function d(j){const M=j.properties;if(this.tokenChar(123),M.length){const ee=this.enterDelimited();this.space(),this.printList(M,this.shouldPrintTrailingComma("}"),!0,!0,void 0,!0),this.space(),this._noLineTerminatorAfterNode=ee}this.rightBrace(j)}function h(j){this.printJoin(j.decorators),t._methodHead.call(this,j),this.space(),this.print(j.body)}function m(j){if(this.printJoin(j.decorators),j.computed)this.tokenChar(91),this.print(j.key),this.tokenChar(93);else{if(r(j.value)&&s(j.key)&&j.key.name===j.value.left.name){this.print(j.value);return}if(this.print(j.key),j.shorthand&&s(j.key)&&s(j.value)&&j.key.name===j.value.name)return}this.tokenChar(58),this.space(),this.print(j.value)}function x(j){const M=j.elements,ee=M.length;this.tokenChar(91);const ue=this.enterDelimited();for(let J=0;J<M.length;J++){const ae=M[J];ae?(J>0&&this.space(),this.print(ae,void 0,!0),(J<ee-1||this.shouldPrintTrailingComma("]"))&&this.tokenChar(44,J)):this.tokenChar(44,J)}this._noLineTerminatorAfterNode=ue,this.tokenChar(93)}function w(j){this.word(`/${j.pattern}/${j.flags}`,!1)}function A(j){this.word(j.value?"true":"false")}function P(){this.word("null")}function S(j){const M=this.getPossibleRaw(j),ee=this.format.jsescOption,ue=j.value,J=ue+"";ee.numbers?this.number(e(ue,ee),ue):M==null?this.number(J,ue):this.format.minified?this.number(M.length<J.length?M:J,ue):this.number(M,ue)}function C(j){const M=this.getPossibleRaw(j);if(!this.format.minified&&M!==void 0){this.token(M);return}const ee=e(j.value,this.format.jsescOption);this.token(ee)}function I(j){const M=this.getPossibleRaw(j);if(!this.format.minified&&M!==void 0){this.word(M);return}this.word(j.value+"n")}const _=new Set(["^^","@@","^","%","#"]);function D(){const{topicToken:j}=this.format;if(_.has(j))this.token(j);else{const M=JSON.stringify(j),ee=Array.from(_,ue=>JSON.stringify(ue));throw new Error(`The "topicToken" generator option must be one of ${ee.join(", ")} (${M} received instead).`)}}function F(j){this.print(j.expression)}function O(j){this.print(j.callee)}function L(){this.tokenChar(35)}function B(){this.word("void")}return tr}var lM;function iV(){return lM||(lM=1,(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.AnyTypeAnnotation=l,n.ArrayTypeAnnotation=c,n.BooleanLiteralTypeAnnotation=d,n.BooleanTypeAnnotation=p,n.DeclareClass=m,n.DeclareExportAllDeclaration=O,n.DeclareExportDeclaration=F,n.DeclareFunction=x,n.DeclareInterface=P,n.DeclareModule=S,n.DeclareModuleExports=C,n.DeclareOpaqueType=_,n.DeclareTypeAlias=I,n.DeclareVariable=D,n.DeclaredPredicate=A,n.EmptyTypeAnnotation=Ze,n.EnumBooleanBody=M,n.EnumBooleanMember=re,n.EnumDeclaration=L,n.EnumDefaultedMember=ae,n.EnumNumberBody=ee,n.EnumNumberMember=X,n.EnumStringBody=ue,n.EnumStringMember=H,n.EnumSymbolBody=J,n.ExistsTypeAnnotation=W,n.FunctionTypeAnnotation=Y,n.FunctionTypeParam=Z,n.IndexedAccessType=Be,n.InferredPredicate=w,n.InterfaceDeclaration=be,n.GenericTypeAnnotation=n.ClassImplements=n.InterfaceExtends=se,n.InterfaceTypeAnnotation=Le,n.IntersectionTypeAnnotation=Ue,n.MixedTypeAnnotation=st,n.NullLiteralTypeAnnotation=h,n.NullableTypeAnnotation=it,Object.defineProperty(n,"NumberLiteralTypeAnnotation",{enumerable:!0,get:function(){return s.NumericLiteral}}),n.NumberTypeAnnotation=pt,n.ObjectTypeAnnotation=mn,n.ObjectTypeCallProperty=Me,n.ObjectTypeIndexer=ce,n.ObjectTypeInternalSlot=Fe,n.ObjectTypeProperty=we,n.ObjectTypeSpreadProperty=De,n.OpaqueType=qt,n.OptionalIndexedAccessType=Xe,n.QualifiedTypeIdentifier=$e,Object.defineProperty(n,"StringLiteralTypeAnnotation",{enumerable:!0,get:function(){return s.StringLiteral}}),n.StringTypeAnnotation=It,n.SymbolTypeAnnotation=nt,n.ThisTypeAnnotation=ct,n.TupleTypeAnnotation=Ye,n.TypeAlias=rt,n.TypeAnnotation=St,n.TypeCastExpression=fn,n.TypeParameter=jt,n.TypeParameterDeclaration=n.TypeParameterInstantiation=Et,n.TypeofTypeAnnotation=We,n.UnionTypeAnnotation=Zt,n.Variance=ut,n.VoidTypeAnnotation=xn,n._interfaceish=me,n._variance=Ce;var e=vn(),t=sV(),r=cd(),s=xP();const{isDeclareExportDeclaration:i,isStatement:a}=e;function l(){this.word("any")}function c(de){this.print(de.elementType,!0),this.tokenChar(91),this.tokenChar(93)}function p(){this.word("boolean")}function d(de){this.word(de.value?"true":"false")}function h(){this.word("null")}function m(de,Ke){i(Ke)||(this.word("declare"),this.space()),this.word("class"),this.space(),me.call(this,de)}function x(de,Ke){i(Ke)||(this.word("declare"),this.space()),this.word("function"),this.space(),this.print(de.id),this.print(de.id.typeAnnotation.typeAnnotation),de.predicate&&(this.space(),this.print(de.predicate)),this.semicolon()}function w(){this.tokenChar(37),this.word("checks")}function A(de){this.tokenChar(37),this.word("checks"),this.tokenChar(40),this.print(de.value),this.tokenChar(41)}function P(de){this.word("declare"),this.space(),be.call(this,de)}function S(de){this.word("declare"),this.space(),this.word("module"),this.space(),this.print(de.id),this.space(),this.print(de.body)}function C(de){this.word("declare"),this.space(),this.word("module"),this.tokenChar(46),this.word("exports"),this.print(de.typeAnnotation)}function I(de){this.word("declare"),this.space(),rt.call(this,de)}function _(de,Ke){i(Ke)||(this.word("declare"),this.space()),qt.call(this,de)}function D(de,Ke){i(Ke)||(this.word("declare"),this.space()),this.word("var"),this.space(),this.print(de.id),this.print(de.id.typeAnnotation),this.semicolon()}function F(de){this.word("declare"),this.space(),this.word("export"),this.space(),de.default&&(this.word("default"),this.space()),Q.call(this,de)}function O(de){this.word("declare"),this.space(),t.ExportAllDeclaration.call(this,de)}function L(de){const{id:Ke,body:ht}=de;this.word("enum"),this.space(),this.print(Ke),this.print(ht)}function B(de,Ke,ht){ht&&(de.space(),de.word("of"),de.space(),de.word(Ke)),de.space()}function j(de,Ke){const{members:ht}=Ke;de.token("{"),de.indent(),de.newline();for(const ve of ht)de.print(ve),de.newline();Ke.hasUnknownMembers&&(de.token("..."),de.newline()),de.dedent(),de.token("}")}function M(de){const{explicitType:Ke}=de;B(this,"boolean",Ke),j(this,de)}function ee(de){const{explicitType:Ke}=de;B(this,"number",Ke),j(this,de)}function ue(de){const{explicitType:Ke}=de;B(this,"string",Ke),j(this,de)}function J(de){B(this,"symbol",!0),j(this,de)}function ae(de){const{id:Ke}=de;this.print(Ke),this.tokenChar(44)}function oe(de,Ke){de.print(Ke.id),de.space(),de.token("="),de.space(),de.print(Ke.init),de.token(",")}function re(de){oe(this,de)}function X(de){oe(this,de)}function H(de){oe(this,de)}function Q(de){if(de.declaration){const Ke=de.declaration;this.print(Ke),a(Ke)||this.semicolon()}else this.tokenChar(123),de.specifiers.length&&(this.space(),this.printList(de.specifiers),this.space()),this.tokenChar(125),de.source&&(this.space(),this.word("from"),this.space(),this.print(de.source)),this.semicolon()}function W(){this.tokenChar(42)}function Y(de,Ke){this.print(de.typeParameters),this.tokenChar(40),de.this&&(this.word("this"),this.tokenChar(58),this.space(),this.print(de.this.typeAnnotation),(de.params.length||de.rest)&&(this.tokenChar(44),this.space())),this.printList(de.params),de.rest&&(de.params.length&&(this.tokenChar(44),this.space()),this.token("..."),this.print(de.rest)),this.tokenChar(41);const ht=Ke?.type;ht!=null&&(ht==="ObjectTypeCallProperty"||ht==="ObjectTypeInternalSlot"||ht==="DeclareFunction"||ht==="ObjectTypeProperty"&&Ke.method)?this.tokenChar(58):(this.space(),this.token("=>")),this.space(),this.print(de.returnType)}function Z(de){this.print(de.name),de.optional&&this.tokenChar(63),de.name&&(this.tokenChar(58),this.space()),this.print(de.typeAnnotation)}function se(de){this.print(de.id),this.print(de.typeParameters,!0)}function me(de){var Ke;if(this.print(de.id),this.print(de.typeParameters),(Ke=de.extends)!=null&&Ke.length&&(this.space(),this.word("extends"),this.space(),this.printList(de.extends)),de.type==="DeclareClass"){var ht,ve;(ht=de.mixins)!=null&&ht.length&&(this.space(),this.word("mixins"),this.space(),this.printList(de.mixins)),(ve=de.implements)!=null&&ve.length&&(this.space(),this.word("implements"),this.space(),this.printList(de.implements))}this.space(),this.print(de.body)}function Ce(de){var Ke;const ht=(Ke=de.variance)==null?void 0:Ke.kind;ht!=null&&(ht==="plus"?this.tokenChar(43):ht==="minus"&&this.tokenChar(45))}function be(de){this.word("interface"),this.space(),me.call(this,de)}function Se(de){this.space(),this.token("&",!1,de),this.space()}function Le(de){var Ke;this.word("interface"),(Ke=de.extends)!=null&&Ke.length&&(this.space(),this.word("extends"),this.space(),this.printList(de.extends)),this.space(),this.print(de.body)}function Ue(de){this.printJoin(de.types,void 0,void 0,Se)}function st(){this.word("mixed")}function Ze(){this.word("empty")}function it(de){this.tokenChar(63),this.print(de.typeAnnotation)}function pt(){this.word("number")}function It(){this.word("string")}function ct(){this.word("this")}function Ye(de){this.tokenChar(91),this.printList(de.types),this.tokenChar(93)}function We(de){this.word("typeof"),this.space(),this.print(de.argument)}function rt(de){this.word("type"),this.space(),this.print(de.id),this.print(de.typeParameters),this.space(),this.tokenChar(61),this.space(),this.print(de.right),this.semicolon()}function St(de,Ke){this.tokenChar(58),this.space(),Ke.type==="ArrowFunctionExpression"?this.tokenContext|=r.TokenContext.arrowFlowReturnType:de.optional&&this.tokenChar(63),this.print(de.typeAnnotation)}function Et(de){this.tokenChar(60),this.printList(de.params),this.tokenChar(62)}function jt(de){Ce.call(this,de),this.word(de.name),de.bound&&this.print(de.bound),de.default&&(this.space(),this.tokenChar(61),this.space(),this.print(de.default))}function qt(de){this.word("opaque"),this.space(),this.word("type"),this.space(),this.print(de.id),this.print(de.typeParameters),de.supertype&&(this.tokenChar(58),this.space(),this.print(de.supertype)),de.impltype&&(this.space(),this.tokenChar(61),this.space(),this.print(de.impltype)),this.semicolon()}function mn(de){de.exact?this.token("{|"):this.tokenChar(123);const Ke=[...de.properties,...de.callProperties||[],...de.indexers||[],...de.internalSlots||[]];Ke.length&&(this.newline(),this.space(),this.printJoin(Ke,!0,!0,()=>{(Ke.length!==1||de.inexact)&&(this.tokenChar(44),this.space())},!0),this.space()),de.inexact&&(this.indent(),this.token("..."),Ke.length&&this.newline(),this.dedent()),de.exact?this.token("|}"):this.tokenChar(125)}function Fe(de){de.static&&(this.word("static"),this.space()),this.tokenChar(91),this.tokenChar(91),this.print(de.id),this.tokenChar(93),this.tokenChar(93),de.optional&&this.tokenChar(63),de.method||(this.tokenChar(58),this.space()),this.print(de.value)}function Me(de){de.static&&(this.word("static"),this.space()),this.print(de.value)}function ce(de){de.static&&(this.word("static"),this.space()),Ce.call(this,de),this.tokenChar(91),de.id&&(this.print(de.id),this.tokenChar(58),this.space()),this.print(de.key),this.tokenChar(93),this.tokenChar(58),this.space(),this.print(de.value)}function we(de){de.proto&&(this.word("proto"),this.space()),de.static&&(this.word("static"),this.space()),(de.kind==="get"||de.kind==="set")&&(this.word(de.kind),this.space()),Ce.call(this,de),this.print(de.key),de.optional&&this.tokenChar(63),de.method||(this.tokenChar(58),this.space()),this.print(de.value)}function De(de){this.token("..."),this.print(de.argument)}function $e(de){this.print(de.qualification),this.tokenChar(46),this.print(de.id)}function nt(){this.word("symbol")}function ot(de){this.space(),this.token("|",!1,de),this.space()}function Zt(de){this.printJoin(de.types,void 0,void 0,ot)}function fn(de){this.tokenChar(40),this.print(de.expression),this.print(de.typeAnnotation),this.tokenChar(41)}function ut(de){de.kind==="plus"?this.tokenChar(43):this.tokenChar(45)}function xn(){this.word("void")}function Be(de){this.print(de.objectType,!0),this.tokenChar(91),this.print(de.indexType),this.tokenChar(93)}function Xe(de){this.print(de.objectType),de.optional&&this.token("?."),this.tokenChar(91),this.print(de.indexType),this.tokenChar(93)}})(Pb)),Pb}var uM;function aV(){if(uM)return ta;uM=1,Object.defineProperty(ta,"__esModule",{value:!0}),ta.ClassAccessorProperty=h,ta.ClassBody=c,ta.ClassExpression=ta.ClassDeclaration=l,ta.ClassMethod=x,ta.ClassPrivateMethod=w,ta.ClassPrivateProperty=m,ta.ClassProperty=d,ta.StaticBlock=P,ta._classMethodHead=A;var n=vn(),e=gP(),t=rV(),r=iV(),s=Bv();const{isExportDefaultDeclaration:i,isExportNamedDeclaration:a}=n;function l(S,C){(!(i(C)||a(C))||!e._shouldPrintDecoratorsBeforeExport.call(this,C))&&this.printJoin(S.decorators),S.declare&&(this.word("declare"),this.space()),S.abstract&&(this.word("abstract"),this.space()),this.word("class"),S.id&&(this.space(),this.print(S.id)),this.print(S.typeParameters),S.superClass&&(this.space(),this.word("extends"),this.space(),this.print(S.superClass),this.print(S.superTypeParameters)),S.implements&&(this.space(),this.word("implements"),this.space(),this.printList(S.implements)),this.space(),this.print(S.body)}function c(S){if(this.tokenChar(123),S.body.length===0)this.tokenChar(125);else{const C=p(this,S);C?.(-1);const I=this.enterDelimited();this.printJoin(S.body,!0,!0,C,!0,!0),this._noLineTerminatorAfterNode=I,this.endsWith(10)||this.newline(),this.rightBrace(S)}}function p(S,C){if(!S.tokenMap||C.start==null||C.end==null)return null;const I=S.tokenMap.getIndexes(C);if(!I)return null;let _=1,D=0,F=0;const O=()=>{for(;F<C.body.length&&C.body[F].start==null;)F++};return O(),L=>{F<=L&&(F=L+1,O());const B=F===C.body.length?C.end:C.body[F].start;let j;for(;_<I.length&&S.tokenMap.matchesOriginal(j=S._tokens[I[_]],";")&&j.start<B;)S.tokenChar(59,D++),_++}}function d(S){if(this.printJoin(S.decorators),!S.static&&!this.format.preserveFormat){var C;const I=(C=S.key.loc)==null||(C=C.end)==null?void 0:C.line;I&&this.catchUp(I)}t._tsPrintClassMemberModifiers.call(this,S),S.computed?(this.tokenChar(91),this.print(S.key),this.tokenChar(93)):(r._variance.call(this,S),this.print(S.key)),S.optional&&this.tokenChar(63),S.definite&&this.tokenChar(33),this.print(S.typeAnnotation),S.value&&(this.space(),this.tokenChar(61),this.space(),this.print(S.value)),this.semicolon()}function h(S){var C;this.printJoin(S.decorators);const I=(C=S.key.loc)==null||(C=C.end)==null?void 0:C.line;I&&this.catchUp(I),t._tsPrintClassMemberModifiers.call(this,S),this.word("accessor",!0),this.space(),S.computed?(this.tokenChar(91),this.print(S.key),this.tokenChar(93)):(r._variance.call(this,S),this.print(S.key)),S.optional&&this.tokenChar(63),S.definite&&this.tokenChar(33),this.print(S.typeAnnotation),S.value&&(this.space(),this.tokenChar(61),this.space(),this.print(S.value)),this.semicolon()}function m(S){this.printJoin(S.decorators),t._tsPrintClassMemberModifiers.call(this,S),this.print(S.key),S.optional&&this.tokenChar(63),S.definite&&this.tokenChar(33),this.print(S.typeAnnotation),S.value&&(this.space(),this.tokenChar(61),this.space(),this.print(S.value)),this.semicolon()}function x(S){A.call(this,S),this.space(),this.print(S.body)}function w(S){A.call(this,S),this.space(),this.print(S.body)}function A(S){if(this.printJoin(S.decorators),!this.format.preserveFormat){var C;const I=(C=S.key.loc)==null||(C=C.end)==null?void 0:C.line;I&&this.catchUp(I)}t._tsPrintClassMemberModifiers.call(this,S),s._methodHead.call(this,S)}function P(S){this.word("static"),this.space(),this.tokenChar(123),S.body.length===0?this.tokenChar(125):(this.newline(),this.printSequence(S.body,!0),this.rightBrace(S))}return ta}var Ul={},cM;function Nse(){if(cM)return Ul;cM=1,Object.defineProperty(Ul,"__esModule",{value:!0}),Ul.BlockStatement=t,Ul.Directive=r,Ul.DirectiveLiteral=a,Ul.File=n,Ul.InterpreterDirective=l,Ul.Placeholder=c,Ul.Program=e;function n(p){p.program&&this.print(p.program.interpreter),this.print(p.program)}function e(p){var d;this.printInnerComments(!1);const h=(d=p.directives)==null?void 0:d.length;if(h){var m;const x=p.body.length?2:1;this.printSequence(p.directives,void 0,void 0,x),(m=p.directives[h-1].trailingComments)!=null&&m.length||this.newline(x)}this.printSequence(p.body)}function t(p){var d;this.tokenChar(123);const h=this.enterDelimited(),m=(d=p.directives)==null?void 0:d.length;if(m){var x;const w=p.body.length?2:1;this.printSequence(p.directives,!0,!0,w),(x=p.directives[m-1].trailingComments)!=null&&x.length||this.newline(w)}this.printSequence(p.body,!0,!0),this._noLineTerminatorAfterNode=h,this.rightBrace(p)}function r(p){this.print(p.value),this.semicolon()}const s=/(?:^|[^\\])(?:\\\\)*'/,i=/(?:^|[^\\])(?:\\\\)*"/;function a(p){const d=this.getPossibleRaw(p);if(!this.format.minified&&d!==void 0){this.token(d);return}const{value:h}=p;if(!i.test(h))this.token(`"${h}"`);else if(!s.test(h))this.token(`'${h}'`);else throw new Error("Malformed AST: it is not possible to print a directive containing both unescaped single and double quotes.")}function l(p){this.token(`#!${p.value}`),this._newline()}function c(p){this.token("%%"),this.print(p.name),this.token("%%"),p.expectedNode==="Statement"&&this.semicolon()}return Ul}var ls={},pM;function _se(){if(pM)return ls;pM=1,Object.defineProperty(ls,"__esModule",{value:!0}),ls.JSXAttribute=n,ls.JSXClosingElement=h,ls.JSXClosingFragment=A,ls.JSXElement=c,ls.JSXEmptyExpression=m,ls.JSXExpressionContainer=i,ls.JSXFragment=x,ls.JSXIdentifier=e,ls.JSXMemberExpression=r,ls.JSXNamespacedName=t,ls.JSXOpeningElement=d,ls.JSXOpeningFragment=w,ls.JSXSpreadAttribute=s,ls.JSXSpreadChild=a,ls.JSXText=l;function n(P){this.print(P.name),P.value&&(this.tokenChar(61),this.print(P.value))}function e(P){this.word(P.name)}function t(P){this.print(P.namespace),this.tokenChar(58),this.print(P.name)}function r(P){this.print(P.object),this.tokenChar(46),this.print(P.property)}function s(P){this.tokenChar(123),this.token("..."),this.print(P.argument),this.rightBrace(P)}function i(P){this.tokenChar(123),this.print(P.expression),this.rightBrace(P)}function a(P){this.tokenChar(123),this.token("..."),this.print(P.expression),this.rightBrace(P)}function l(P){const S=this.getPossibleRaw(P);S!==void 0?this.token(S,!0):this.token(P.value,!0)}function c(P){const S=P.openingElement;if(this.print(S),!S.selfClosing){this.indent();for(const C of P.children)this.print(C);this.dedent(),this.print(P.closingElement)}}function p(){this.space()}function d(P){this.tokenChar(60),this.print(P.name),P.typeArguments&&this.print(P.typeArguments),this.print(P.typeParameters),P.attributes.length>0&&(this.space(),this.printJoin(P.attributes,void 0,void 0,p)),P.selfClosing&&(this.space(),this.tokenChar(47)),this.tokenChar(62)}function h(P){this.tokenChar(60),this.tokenChar(47),this.print(P.name),this.tokenChar(62)}function m(){this.printInnerComments()}function x(P){this.print(P.openingFragment),this.indent();for(const S of P.children)this.print(S);this.dedent(),this.print(P.closingFragment)}function w(){this.tokenChar(60),this.tokenChar(62)}function A(){this.token("</"),this.tokenChar(62)}return ls}var dM;function Cse(){return dM||(dM=1,(function(n){Object.defineProperty(n,"__esModule",{value:!0});var e=nV();Object.keys(e).forEach(function(m){m==="default"||m==="__esModule"||m in n&&n[m]===e[m]||Object.defineProperty(n,m,{enumerable:!0,get:function(){return e[m]}})});var t=gP();Object.keys(t).forEach(function(m){m==="default"||m==="__esModule"||m in n&&n[m]===t[m]||Object.defineProperty(n,m,{enumerable:!0,get:function(){return t[m]}})});var r=Pse();Object.keys(r).forEach(function(m){m==="default"||m==="__esModule"||m in n&&n[m]===r[m]||Object.defineProperty(n,m,{enumerable:!0,get:function(){return r[m]}})});var s=aV();Object.keys(s).forEach(function(m){m==="default"||m==="__esModule"||m in n&&n[m]===s[m]||Object.defineProperty(n,m,{enumerable:!0,get:function(){return s[m]}})});var i=Bv();Object.keys(i).forEach(function(m){m==="default"||m==="__esModule"||m in n&&n[m]===i[m]||Object.defineProperty(n,m,{enumerable:!0,get:function(){return i[m]}})});var a=sV();Object.keys(a).forEach(function(m){m==="default"||m==="__esModule"||m in n&&n[m]===a[m]||Object.defineProperty(n,m,{enumerable:!0,get:function(){return a[m]}})});var l=xP();Object.keys(l).forEach(function(m){m==="default"||m==="__esModule"||m in n&&n[m]===l[m]||Object.defineProperty(n,m,{enumerable:!0,get:function(){return l[m]}})});var c=iV();Object.keys(c).forEach(function(m){m==="default"||m==="__esModule"||m in n&&n[m]===c[m]||Object.defineProperty(n,m,{enumerable:!0,get:function(){return c[m]}})});var p=Nse();Object.keys(p).forEach(function(m){m==="default"||m==="__esModule"||m in n&&n[m]===p[m]||Object.defineProperty(n,m,{enumerable:!0,get:function(){return p[m]}})});var d=_se();Object.keys(d).forEach(function(m){m==="default"||m==="__esModule"||m in n&&n[m]===d[m]||Object.defineProperty(n,m,{enumerable:!0,get:function(){return d[m]}})});var h=rV();Object.keys(h).forEach(function(m){m==="default"||m==="__esModule"||m in n&&n[m]===h[m]||Object.defineProperty(n,m,{enumerable:!0,get:function(){return h[m]}})})})(Eb)),Eb}var Rc={},fM;function Ise(){if(fM)return Rc;fM=1,Object.defineProperty(Rc,"__esModule",{value:!0}),Rc.DecimalLiteral=t,Rc.Noop=n,Rc.RecordExpression=r,Rc.TSExpressionWithTypeArguments=e,Rc.TupleExpression=s;function n(){}function e(i){this.print(i.expression),this.print(i.typeParameters)}function t(i){const a=this.getPossibleRaw(i);if(!this.format.minified&&a!==void 0){this.word(a);return}this.word(i.value+"m")}function r(i){const a=i.properties;let l,c;if(this.format.recordAndTupleSyntaxType==="bar")l="{|",c="|}";else{if(this.format.recordAndTupleSyntaxType!=="hash"&&this.format.recordAndTupleSyntaxType!=null)throw new Error(`The "recordAndTupleSyntaxType" generator option must be "bar" or "hash" (${JSON.stringify(this.format.recordAndTupleSyntaxType)} received).`);l="#{",c="}"}this.token(l),a.length&&(this.space(),this.printList(a,this.shouldPrintTrailingComma(c),!0,!0),this.space()),this.token(c)}function s(i){const a=i.elements,l=a.length;let c,p;if(this.format.recordAndTupleSyntaxType==="bar")c="[|",p="|]";else if(this.format.recordAndTupleSyntaxType==="hash")c="#[",p="]";else throw new Error(`${this.format.recordAndTupleSyntaxType} is not a valid recordAndTuple syntax type`);this.token(c);for(let d=0;d<a.length;d++){const h=a[d];h&&(d>0&&this.space(),this.print(h),(d<l-1||this.shouldPrintTrailingComma(p))&&this.token(",",!1,d))}this.token(p)}return Rc}var hM;function oV(){if(hM)return jh;hM=1,Object.defineProperty(jh,"__esModule",{value:!0}),jh.generatorInfosMap=void 0;var n=Cse(),e=Ise();const t=jh.generatorInfosMap=new Map;let r=0;for(const s of Object.keys(n).sort())s.startsWith("_")||t.set(s,[n[s],r++,void 0]);for(const s of Object.keys(e))t.set(s,[e[s],r++,void 0]);return jh}var mM;function cd(){if(mM)return Fp;mM=1,Object.defineProperty(Fp,"__esModule",{value:!0}),Fp.TokenContext=void 0,Fp.isLastChild=l,Fp.parentNeedsParens=i;var n=Ese(),e=vn(),t=oV();const{VISITOR_KEYS:r}=e;Fp.TokenContext={normal:0,expressionStatement:1,arrowBody:2,exportDefault:4,arrowFlowReturnType:8,forInitHead:16,forInHead:32,forOfHead:64,forInOrInitHeadAccumulate:128,forInOrInitHeadAccumulatePassThroughMask:128};for(const c of Object.keys(n)){const p=n[c];t.generatorInfosMap.has(c)&&(t.generatorInfosMap.get(c)[2]=p)}function s(c){switch(c.type){case"CallExpression":return!0;case"MemberExpression":return s(c.object)}return!1}function i(c,p,d){switch(d){case 112:if(p.callee===c&&s(c))return!0;break;case 42:return!a(c)&&!(c.type==="CallExpression"&&a(c.callee))&&c.type!=="ParenthesizedExpression"}return!1}function a(c){switch(c.type){case"Identifier":return!0;case"MemberExpression":return!c.computed&&c.property.type==="Identifier"&&a(c.object);default:return!1}}function l(c,p){const d=r[c.type];for(let h=d.length-1;h>=0;h--){const m=c[d[h]];if(m===p)return!0;if(Array.isArray(m)){let x=m.length-1;for(;x>=0&&m[x]===null;)x--;return x>=0&&m[x]===p}else if(m)return!1}return!1}return Fp}var zh={},yM;function Mse(){if(yM)return zh;yM=1,Object.defineProperty(zh,"__esModule",{value:!0}),zh.TokenMap=void 0;var n=vn();const{traverseFast:e,VISITOR_KEYS:t}=n;class r{constructor(a,l,c){this._tokens=void 0,this._source=void 0,this._nodesToTokenIndexes=new Map,this._nodesOccurrencesCountCache=new Map,this._tokensCache=new Map,this._tokens=l,this._source=c,e(a,p=>{const d=this._getTokensIndexesOfNode(p);d.length>0&&this._nodesToTokenIndexes.set(p,d)}),this._tokensCache.clear()}has(a){return this._nodesToTokenIndexes.has(a)}getIndexes(a){return this._nodesToTokenIndexes.get(a)}find(a,l){const c=this._nodesToTokenIndexes.get(a);if(c)for(let p=0;p<c.length;p++){const d=c[p],h=this._tokens[d];if(l(h,d))return h}return null}findLastIndex(a,l){const c=this._nodesToTokenIndexes.get(a);if(c)for(let p=c.length-1;p>=0;p--){const d=c[p],h=this._tokens[d];if(l(h,d))return d}return-1}findMatching(a,l,c=0){const p=this._nodesToTokenIndexes.get(a);if(p){typeof l=="number"&&(l=String.fromCharCode(l));let d=0;const h=c;if(h>1){const m=this._nodesOccurrencesCountCache.get(a);m?.test===l&&m.count<h&&(d=m.i+1,c-=m.count+1)}for(;d<p.length;d++){const m=this._tokens[p[d]];if(this.matchesOriginal(m,l)){if(c===0)return h>0&&this._nodesOccurrencesCountCache.set(a,{test:l,count:h,i:d}),m;c--}}}return null}matchesOriginal(a,l){return a.end-a.start!==l.length?!1:a.value!=null?a.value===l:this._source.startsWith(l,a.start)}startMatches(a,l){const c=this._nodesToTokenIndexes.get(a);if(!c)return!1;const p=this._tokens[c[0]];return p.start!==a.start?!1:this.matchesOriginal(p,l)}endMatches(a,l){const c=this._nodesToTokenIndexes.get(a);if(!c)return!1;const p=this._tokens[c[c.length-1]];return p.end!==a.end?!1:this.matchesOriginal(p,l)}_getTokensIndexesOfNode(a){var l;if(a.start==null||a.end==null)return[];const{first:c,last:p}=this._findTokensOfNode(a,0,this._tokens.length-1);let d=c;const h=s(a);(a.type==="ExportNamedDeclaration"||a.type==="ExportDefaultDeclaration")&&((l=a.declaration)==null?void 0:l.type)==="ClassDeclaration"&&h.next();const m=[];for(const x of h){if(x==null||x.start==null||x.end==null)continue;const w=this._findTokensOfNode(x,d,p),A=w.first;for(let P=d;P<A;P++)m.push(P);d=w.last+1}for(let x=d;x<=p;x++)m.push(x);return m}_findTokensOfNode(a,l,c){const p=this._tokensCache.get(a);if(p)return p;const d=this._findFirstTokenOfNode(a.start,l,c),h=this._findLastTokenOfNode(a.end,d,c);return this._tokensCache.set(a,{first:d,last:h}),{first:d,last:h}}_findFirstTokenOfNode(a,l,c){for(;l<=c;){const p=c+l>>1;if(a<this._tokens[p].start)c=p-1;else if(a>this._tokens[p].start)l=p+1;else return p}return l}_findLastTokenOfNode(a,l,c){for(;l<=c;){const p=c+l>>1;if(a<this._tokens[p].end)c=p-1;else if(a>this._tokens[p].end)l=p+1;else return p}return c}}zh.TokenMap=r;function*s(i){if(i.type==="TemplateLiteral"){yield i.quasis[0];for(let l=1;l<i.quasis.length;l++)yield i.expressions[l-1],yield i.quasis[l];return}const a=t[i.type];for(const l of a){const c=i[l];c&&(Array.isArray(c)?yield*c:yield c)}}return zh}var gM;function kse(){if(gM)return Bh;gM=1,Object.defineProperty(Bh,"__esModule",{value:!0}),Bh.default=void 0;var n=wse(),e=cd(),t=oV(),r=vn(),s=Mse(),i=xP();const{isExpression:a,isFunction:l,isStatement:c,isClassBody:p,isTSInterfaceBody:d,isTSEnumMember:h}=r,m=/e/i,x=/\.0+$/,w=/[\n\r\u2028\u2029]/,A=/[\n\r\u2028\u2029]|\*\//;function P(I){return I.type==="CommentLine"||w.test(I.value)}class S{constructor(_,D,F=null,O=null){this.tokenContext=e.TokenContext.normal,this._tokens=null,this._originalCode=null,this._currentNode=null,this._currentTypeId=null,this._indent=0,this._indentRepeat=0,this._insideAux=!1,this._noLineTerminator=!1,this._noLineTerminatorAfterNode=null,this._printAuxAfterOnNextUserNode=!1,this._printedComments=new Set,this._lastCommentLine=0,this._innerCommentsState=0,this._flags=0,this.tokenMap=null,this._boundGetRawIdentifier=null,this._printSemicolonBeforeNextNode=-1,this._printSemicolonBeforeNextToken=-1,this.format=_,this._tokens=F,this._originalCode=O,this._indentRepeat=_.indent.style.length,this._inputMap=D?._inputMap||null,this._buf=new n.default(D,_.indent.style[0]);const{preserveFormat:L,compact:B,concise:j,retainLines:M,retainFunctionParens:ee}=_;L&&(this._flags|=1),B&&(this._flags|=2),j&&(this._flags|=4),M&&(this._flags|=8),ee&&(this._flags|=16),(_.auxiliaryCommentBefore||_.auxiliaryCommentAfter)&&(this._flags|=32)}enterDelimited(){const _=this._noLineTerminatorAfterNode;return _!==null&&(this._noLineTerminatorAfterNode=null),_}generate(_){return this.format.preserveFormat&&(this.tokenMap=new s.TokenMap(_,this._tokens,this._originalCode),this._boundGetRawIdentifier=i._getRawIdentifier.bind(this)),this.print(_),this._maybeAddAuxComment(),this._buf.get()}indent(_=this._flags){_&7||(this._indent+=this._indentRepeat)}dedent(_=this._flags){_&7||(this._indent-=this._indentRepeat)}semicolon(_=!1){const D=this._flags;if(D&32&&this._maybeAddAuxComment(),D&1){const F=this._currentNode;if(F.start!=null&&F.end!=null){if(!this.tokenMap.endMatches(F,";")){this._printSemicolonBeforeNextNode=this._buf.getCurrentLine();return}const O=this.tokenMap.getIndexes(this._currentNode);this._catchUpTo(this._tokens[O[O.length-1]].loc.start)}}_?this._appendChar(59):this._queue(59),this._noLineTerminator=!1}rightBrace(_){this.format.minified&&this._buf.removeLastSemicolon(),this.sourceWithOffset("end",_.loc,-1),this.tokenChar(125)}rightParens(_){this.sourceWithOffset("end",_.loc,-1),this.tokenChar(41)}space(_=!1){if(!(this._flags&3))if(_)this._space();else{const D=this.getLastChar(!0);D!==0&&D!==32&&D!==10&&this._space()}}word(_,D=!1){this.tokenContext&=e.TokenContext.forInOrInitHeadAccumulatePassThroughMask,this._maybePrintInnerComments(_);const F=this._flags;F&32&&this._maybeAddAuxComment(),F&1&&this._catchUpToCurrentToken(_);const O=this.getLastChar();(O===-2||O===-3||O===47&&_.charCodeAt(0)===47)&&this._space(),this._append(_,!1),this.setLastChar(-3),this._noLineTerminator=D}number(_,D){function F(O){if(O.length>2&&O.charCodeAt(0)===48){const L=O.charCodeAt(1);return L===98||L===111||L===120}return!1}this.word(_),Number.isInteger(D)&&!F(_)&&!m.test(_)&&!x.test(_)&&_.charCodeAt(_.length-1)!==46&&this.setLastChar(-2)}token(_,D=!1,F=0,O=!1){this.tokenContext&=e.TokenContext.forInOrInitHeadAccumulatePassThroughMask,this._maybePrintInnerComments(_,F);const L=this._flags;if(L&32&&this._maybeAddAuxComment(),L&1&&this._catchUpToCurrentToken(_,F),O){const B=_.charCodeAt(0);((B===45&&_==="--"||B===61)&&this.getLastChar()===33||B===43&&this.getLastChar()===43||B===45&&this.getLastChar()===45||B===46&&this.getLastChar()===-2)&&this._space()}this._append(_,D),this._noLineTerminator=!1}tokenChar(_,D=0){this.tokenContext&=e.TokenContext.forInOrInitHeadAccumulatePassThroughMask,this._maybePrintInnerComments(_,D);const F=this._flags;F&32&&this._maybeAddAuxComment(),F&1&&this._catchUpToCurrentToken(_,D),(_===43&&this.getLastChar()===43||_===45&&this.getLastChar()===45||_===46&&this.getLastChar()===-2)&&this._space(),this._appendChar(_),this._noLineTerminator=!1}newline(_=1,D=this._flags){if(!(_<=0)&&!(D&10)){if(D&4){this.space();return}_>2&&(_=2),_-=this._buf.getNewlineCount();for(let F=0;F<_;F++)this._newline()}}endsWith(_){return this.getLastChar(!0)===_}getLastChar(_){return this._buf.getLastChar(_)}setLastChar(_){this._buf._last=_}exactSource(_,D){if(!_){D();return}this._catchUp("start",_),this._buf.exactSource(_,D)}source(_,D){D&&(this._catchUp(_,D),this._buf.source(_,D))}sourceWithOffset(_,D,F){!D||this.format.preserveFormat||(this._catchUp(_,D),this._buf.sourceWithOffset(_,D,F))}sourceIdentifierName(_,D){if(!this._buf._canMarkIdName)return;const F=this._buf._sourcePosition;F.identifierNamePos=D,F.identifierName=_}_space(){this._queue(32)}_newline(){this._buf._queuedChar===32&&(this._buf._queuedChar=0),this._appendChar(10,!0)}_catchUpToCurrentToken(_,D=0){const F=this.tokenMap.findMatching(this._currentNode,_,D);F&&this._catchUpTo(F.loc.start),this._printSemicolonBeforeNextToken!==-1&&this._printSemicolonBeforeNextToken===this._buf.getCurrentLine()&&this._appendChar(59,!0),this._printSemicolonBeforeNextToken=-1,this._printSemicolonBeforeNextNode=-1}_append(_,D){this._maybeIndent(),this._buf.append(_,D)}_appendChar(_,D){D||this._maybeIndent(),this._buf.appendChar(_)}_queue(_){this._buf.queue(_),this.setLastChar(-1)}_maybeIndent(){const _=this._shouldIndent();_>0&&this._buf._appendChar(-1,_,!1)}_shouldIndent(){return this.endsWith(10)?this._indent:0}catchUp(_){if(!this.format.retainLines)return;const D=_-this._buf.getCurrentLine();for(let F=0;F<D;F++)this._newline()}_catchUp(_,D){const F=this._flags;if((F&1)===0){F&8&&D!=null&&D[_]&&this.catchUp(D[_].line);return}const O=D?.[_];O!=null&&this._catchUpTo(O)}_catchUpTo({line:_,column:D,index:F}){const O=_-this._buf.getCurrentLine();if(O>0&&this._noLineTerminator)return;for(let B=0;B<O;B++)this._newline();const L=O>0?D:D-this._buf.getCurrentColumn();if(L>0){const B=this._originalCode?this._originalCode.slice(F-L,F).replace(/[^\t\x0B\f \xA0\u1680\u2000-\u200A\u202F\u205F\u3000\uFEFF]/gu," "):" ".repeat(L);this._append(B,!1),this.setLastChar(32)}}printTerminatorless(_){this._noLineTerminator=!0,this.print(_)}print(_,D=!1,F=!1,O){var L,B;if(!_)return;this._innerCommentsState=0;const{type:j,loc:M,extra:ee}=_,ue=this._flags;let J=!1;_._compact&&(this._flags|=4,J=!0);const ae=t.generatorInfosMap.get(j);if(ae===void 0)throw new ReferenceError(`unknown node of type ${JSON.stringify(j)} with constructor ${JSON.stringify(_.constructor.name)}`);const[oe,re,X]=ae,H=this._currentNode,Q=this._currentTypeId;this._currentNode=_,this._currentTypeId=re,ue&1&&(this._printSemicolonBeforeNextToken=this._printSemicolonBeforeNextNode);let W;ue&32&&(W=this._insideAux,this._insideAux=M==null,this._maybeAddAuxComment(this._insideAux&&!W));let Y=0;F&&(Y=this.tokenContext,Y&e.TokenContext.forInOrInitHeadAccumulate?this.tokenContext=0:Y=0);const Z=ee!=null&&ee.parenthesized;let se=Z&&ue&1||Z&&ue&16&&re===71||H&&((0,e.parentNeedsParens)(_,H,Q)||X!=null&&X(_,H,Q,this.tokenContext,ue&1?this._boundGetRawIdentifier:void 0));if(!se&&Z&&(L=_.leadingComments)!=null&&L.length&&_.leadingComments[0].type==="CommentBlock")switch(Q){case 65:case 243:case 6:case 143:break;case 17:case 130:case 112:if(H.callee!==_)break;default:se=!0}let me=!1;!se&&this._noLineTerminator&&((B=_.leadingComments)!=null&&B.some(P)||ue&8&&M&&M.start.line>this._buf.getCurrentLine())&&(se=!0,me=!0);let Ce;if(!se&&(D||(D=!!H&&this._noLineTerminatorAfterNode===H&&(0,e.isLastChild)(H,_)),D)){var be;(be=_.trailingComments)!=null&&be.some(P)?a(_)&&(se=!0):(Ce=this._noLineTerminatorAfterNode,this._noLineTerminatorAfterNode=_)}se&&(this.tokenChar(40),me&&this.indent(),this._innerCommentsState=0,F||(Y=this.tokenContext),Y&e.TokenContext.forInOrInitHeadAccumulate&&(this.tokenContext=0),Ce=this._noLineTerminatorAfterNode,this._noLineTerminatorAfterNode=null),this._printLeadingComments(_,H),this.exactSource(re===139||re===66?null:M,oe.bind(this,_,H)),se?(this._printTrailingComments(_,H),me&&(this.dedent(),this.newline()),this.tokenChar(41),this._noLineTerminator=D):D&&!this._noLineTerminator?(this._noLineTerminator=!0,this._printTrailingComments(_,H)):this._printTrailingComments(_,H,O),Y&&(this.tokenContext=Y),this._currentNode=H,this._currentTypeId=Q,J&&(this._flags=ue),ue&32&&(this._insideAux=W),Ce!=null&&(this._noLineTerminatorAfterNode=Ce),this._innerCommentsState=0}_maybeAddAuxComment(_){_&&this._printAuxBeforeComment(),this._insideAux||this._printAuxAfterComment()}_printAuxBeforeComment(){if(this._printAuxAfterOnNextUserNode)return;this._printAuxAfterOnNextUserNode=!0;const _=this.format.auxiliaryCommentBefore;_&&this._printComment({type:"CommentBlock",value:_},0)}_printAuxAfterComment(){if(!this._printAuxAfterOnNextUserNode)return;this._printAuxAfterOnNextUserNode=!1;const _=this.format.auxiliaryCommentAfter;_&&this._printComment({type:"CommentBlock",value:_},0)}getPossibleRaw(_){const D=_.extra;if(D?.raw!=null&&D.rawValue!=null&&_.value===D.rawValue)return D.raw}printJoin(_,D,F,O,L,B,j){if(!(_!=null&&_.length))return;const M=this._flags;if(F==null&&M&8){var ee;const ae=(ee=_[0].loc)==null?void 0:ee.start.line;ae!=null&&ae!==this._buf.getCurrentLine()&&(F=!0)}F&&this.indent(M);const ue=_.length;for(let ae=0;ae<ue;ae++){const oe=_[ae];if(oe&&(D&&ae===0&&this._buf.hasContent()&&this.newline(1,M),this.print(oe,!1,B,j||0),O!=null&&(ae<ue-1?O.call(this,ae,!1):L&&O.call(this,ae,!0)),D))if(ae+1===ue)this.newline(1,M);else{const re=this._lastCommentLine;if(re>0){var J;const X=(((J=_[ae+1].loc)==null?void 0:J.start.line)||0)-re;if(X>=0){this.newline(X||1,M);continue}}this.newline(1,M)}}F&&this.dedent(M)}printAndIndentOnComments(_){const D=_.leadingComments&&_.leadingComments.length>0;D&&this.indent(),this.print(_),D&&this.dedent()}printBlock(_){_.type!=="EmptyStatement"&&this.space(),this.print(_)}_printTrailingComments(_,D,F){const{innerComments:O,trailingComments:L}=_;O!=null&&O.length&&this._printComments(2,O,_,D,F),L!=null&&L.length?this._printComments(2,L,_,D,F):this._lastCommentLine=0}_printLeadingComments(_,D){const F=_.leadingComments;F!=null&&F.length&&this._printComments(0,F,_,D)}_maybePrintInnerComments(_,D){var F;const O=this._innerCommentsState;switch(O&3){case 0:this._innerCommentsState=5;return;case 1:this.printInnerComments((O&4)>0,(F=this.tokenMap)==null?void 0:F.findMatching(this._currentNode,_,D))}}printInnerComments(_=!0,D){const F=this._currentNode,O=F.innerComments;if(!(O!=null&&O.length)){this._innerCommentsState=2;return}const L=this.endsWith(32);switch(_&&this.indent(),this._printComments(1,O,F,void 0,void 0,D)){case 2:this._innerCommentsState=2;case 1:L&&this.space()}_&&this.dedent()}noIndentInnerCommentsHere(){this._innerCommentsState&=-5}printSequence(_,D,F,O){this.printJoin(_,!0,D??!1,void 0,void 0,F,O)}printList(_,D,F,O,L,B){this.printJoin(_,F,O,L??C,D,B)}shouldPrintTrailingComma(_){if(!this.tokenMap)return null;const D=this.tokenMap.findLastIndex(this._currentNode,F=>this.tokenMap.matchesOriginal(F,typeof _=="number"?String.fromCharCode(_):_));return D<=0?null:this.tokenMap.matchesOriginal(this._tokens[D-1],",")}_shouldPrintComment(_,D){if(_.ignore||this._printedComments.has(_))return 0;if(this._noLineTerminator&&A.test(_.value))return 2;if(D&&this.tokenMap){const F=this.tokenMap.find(this._currentNode,O=>O.value===_.value);if(F&&F.start>D.start)return 2}return this._printedComments.add(_),this.format.shouldPrintComment(_.value)?1:0}_printComment(_,D){const F=this._noLineTerminator,O=_.type==="CommentBlock",L=O&&D!==1&&!F;switch(L&&this._buf.hasContent()&&D!==2&&this.newline(1),this.getLastChar(!0)){case 47:this._space();case 91:case 123:case 40:break;default:this.space()}let B;if(O){if(B=`/*${_.value}*/`,this.format.indent.adjustMultilineComment){var j;const M=(j=_.loc)==null?void 0:j.start.column;if(M){const ee=new RegExp("\\n\\s{1,"+M+"}","g");B=B.replace(ee,`
`)}if(this._flags&4)B=B.replace(/\n(?!$)/g,`
`);else{let ee=this.format.retainLines?0:this._buf.getCurrentColumn();(this._shouldIndent()||this.format.retainLines)&&(ee+=this._indent),B=B.replace(/\n(?!$)/g,`
${" ".repeat(ee)}`)}}}else F?B=`/*${_.value}*/`:B=`//${_.value}`;this.source("start",_.loc),this._append(B,O),!O&&!F&&this._newline(),L&&D!==3&&this.newline(1)}_printComments(_,D,F,O,L=0,B){const j=F.loc,M=D.length;let ee=!!j;const ue=ee?j.start.line:0,J=ee?j.end.line:0;let ae=0,oe=0;const{_noLineTerminator:re,_flags:X}=this;for(let H=0;H<M;H++){const Q=D[H],W=this._shouldPrintComment(Q,B);if(W===2)return H===0?0:1;if(ee&&Q.loc&&W===1){const Y=Q.loc.start.line,Z=Q.loc.end.line;if(_===0){let se=0;if(H===0?this._buf.hasContent()&&(Q.type==="CommentLine"||Y!==Z)&&(se=oe=1):se=Y-ae,ae=Z,se>0&&!re&&this.newline(se,X),this._printComment(Q,1),H+1===M){const me=Math.max(ue-ae,oe);me>0&&!re&&this.newline(me,X),ae=ue}}else if(_===1){const se=Y-(H===0?ue:ae);if(ae=Z,se>0&&!re&&this.newline(se,X),this._printComment(Q,1),H+1===M){const me=Math.min(1,J-ae);me>0&&!re&&this.newline(me,X),ae=J}}else{const se=Y-(H===0?J-L:ae);ae=Z,se>0&&!re&&this.newline(se,X),this._printComment(Q,1)}}else{if(ee=!1,W!==1)continue;if(M===1){const Y=Q.loc?Q.loc.start.line===Q.loc.end.line:!w.test(Q.value),Z=Y&&!c(F)&&!p(O)&&!d(O)&&!h(F);_===0?this._printComment(Q,Z&&F.type!=="ObjectExpression"||Y&&l(O)&&O.body===F?1:0):Z&&_===2?this._printComment(Q,1):this._printComment(Q,0)}else _===1&&!(F.type==="ObjectExpression"&&F.properties.length>1)&&F.type!=="ClassBody"&&F.type!=="TSInterfaceBody"?this._printComment(Q,H===0?2:H===M-1?3:0):this._printComment(Q,0)}}return _===2&&ee&&ae&&(this._lastCommentLine=ae),2}}Bh.default=S;function C(I,_){this.tokenChar(44,I),_||this.space()}return Bh}var xM;function Ose(){if(xM)return Rp;xM=1,Object.defineProperty(Rp,"__esModule",{value:!0}),Rp.default=void 0,Rp.generate=r;var n=bse(),e=kse();function t(s,i,a){var l;if(i.experimental_preserveFormat){if(typeof s!="string")throw new Error("`experimental_preserveFormat` requires the original `code` to be passed to @babel/generator as a string");if(!i.retainLines)throw new Error("`experimental_preserveFormat` requires `retainLines` to be set to `true`");if(i.compact&&i.compact!=="auto")throw new Error("`experimental_preserveFormat` is not compatible with the `compact` option");if(i.minified)throw new Error("`experimental_preserveFormat` is not compatible with the `minified` option");if(i.jsescOption)throw new Error("`experimental_preserveFormat` is not compatible with the `jsescOption` option");if(!Array.isArray(a.tokens))throw new Error("`experimental_preserveFormat` requires the AST to have attached the token of the input code. Make sure to enable the `tokens: true` parser option.")}const c={auxiliaryCommentBefore:i.auxiliaryCommentBefore,auxiliaryCommentAfter:i.auxiliaryCommentAfter,shouldPrintComment:i.shouldPrintComment,preserveFormat:i.experimental_preserveFormat,retainLines:i.retainLines,retainFunctionParens:i.retainFunctionParens,comments:i.comments==null||i.comments,compact:i.compact,minified:i.minified,concise:i.concise,indent:{adjustMultilineComment:!0,style:"  "},jsescOption:Object.assign({quotes:"double",wrap:!0,minimal:!1},i.jsescOption),topicToken:i.topicToken};c.decoratorsBeforeExport=i.decoratorsBeforeExport,c.jsescOption.json=i.jsonCompatibleStrings,c.recordAndTupleSyntaxType=(l=i.recordAndTupleSyntaxType)!=null?l:"hash",c.importAttributesKeyword=i.importAttributesKeyword,c.minified?(c.compact=!0,c.shouldPrintComment=c.shouldPrintComment||(()=>c.comments)):c.shouldPrintComment=c.shouldPrintComment||(m=>c.comments||m.includes("@license")||m.includes("@preserve")),c.compact==="auto"&&(c.compact=typeof s=="string"&&s.length>5e5,c.compact&&console.error(`[BABEL] Note: The code generator has deoptimised the styling of ${i.filename} as it exceeds the max of 500KB.`)),(c.compact||c.preserveFormat)&&(c.indent.adjustMultilineComment=!1);const{auxiliaryCommentBefore:p,auxiliaryCommentAfter:d,shouldPrintComment:h}=c;return p&&!h(p)&&(c.auxiliaryCommentBefore=void 0),d&&!h(d)&&(c.auxiliaryCommentAfter=void 0),c}Rp.CodeGenerator=class{constructor(i,a={},l){this._ast=void 0,this._format=void 0,this._map=void 0,this._ast=i,this._format=t(l,a,i),this._map=a.sourceMaps?new n.default(a,l):null}generate(){return new e.default(this._format,this._map).generate(this._ast)}};function r(s,i={},a){const l=t(a,i,s),c=i.sourceMaps?new n.default(i,a):null;return new e.default(l,c,s.tokens,typeof a=="string"?a:null).generate(s)}return Rp.default=r,Rp}var ra={},vM;function Lse(){if(vM)return ra;vM=1,Object.defineProperty(ra,"__esModule",{value:!0}),ra.find=r,ra.findParent=t,ra.getAncestry=c,ra.getDeepestCommonAncestorFrom=l,ra.getEarliestCommonAncestorFrom=a,ra.getFunctionParent=s,ra.getStatementParent=i,ra.inType=h,ra.isAncestor=p,ra.isDescendant=d;var n=vn();const{VISITOR_KEYS:e}=n;function t(m){let x=this;for(;x=x.parentPath;)if(m(x))return x;return null}function r(m){let x=this;do if(m(x))return x;while(x=x.parentPath);return null}function s(){return this.findParent(m=>m.isFunction())}function i(){let m=this;do{if(!m.parentPath||Array.isArray(m.container)&&m.isStatement())break;m=m.parentPath}while(m);if(m&&(m.isProgram()||m.isFile()))throw new Error("File/Program node, we can't possibly find a statement parent to this");return m}function a(m){return this.getDeepestCommonAncestorFrom(m,function(x,w,A){let P;const S=e[x.type];for(const C of A){const I=C[w+1];if(!P){P=I;continue}if(I.listKey&&P.listKey===I.listKey&&I.key<P.key){P=I;continue}const _=S.indexOf(P.parentKey),D=S.indexOf(I.parentKey);_>D&&(P=I)}return P})}function l(m,x){if(!m.length)return this;if(m.length===1)return m[0];let w=1/0,A,P;const S=m.map(I=>{const _=[];do _.unshift(I);while((I=I.parentPath)&&I!==this);return _.length<w&&(w=_.length),_}),C=S[0];e:for(let I=0;I<w;I++){const _=C[I];for(const D of S)if(D[I]!==_)break e;A=I,P=_}if(P)return x?x(P,A,S):P;throw new Error("Couldn't find intersection")}function c(){let m=this;const x=[];do x.push(m);while(m=m.parentPath);return x}function p(m){return m.isDescendant(this)}function d(m){return!!this.findParent(x=>x===m)}function h(...m){let x=this;for(;x;){if(m.includes(x.node.type))return!0;x=x.parentPath}return!1}return ra}var ku={},Nb={},$0={},W0={},TM;function lV(){if(TM)return W0;TM=1,Object.defineProperty(W0,"__esModule",{value:!0}),W0.createUnionType=a;var n=vn();const{createFlowUnionType:e,createTSUnionType:t,createUnionTypeAnnotation:r,isFlowType:s,isTSType:i}=n;function a(l){if(l.every(c=>s(c)))return e?e(l):r(l);if(l.every(c=>i(c))&&t)return t(l)}return W0}var SM;function Dse(){if(SM)return $0;SM=1,Object.defineProperty($0,"__esModule",{value:!0}),$0.default=a;var n=vn(),e=lV();const{BOOLEAN_NUMBER_BINARY_OPERATORS:t,createTypeAnnotationBasedOnTypeof:r,numberTypeAnnotation:s,voidTypeAnnotation:i}=n;function a(m){if(!this.isReferenced())return;const x=this.scope.getBinding(m.name);if(x)return x.identifier.typeAnnotation?x.identifier.typeAnnotation:l(x,this,m.name);if(m.name==="undefined")return i();if(m.name==="NaN"||m.name==="Infinity")return s();m.name}function l(m,x,w){const A=[],P=[];let S=c(m,x,P);const C=h(m,x,w);if(C){const I=c(m,C.ifStatement);S=S.filter(_=>!I.includes(_)),A.push(C.typeAnnotation)}if(S.length){S.push(...P);for(const I of S)A.push(I.getTypeAnnotation())}if(A.length)return(0,e.createUnionType)(A)}function c(m,x,w){const A=m.constantViolations.slice();return A.unshift(m.path),A.filter(P=>{P=P.resolve();const S=P._guessExecutionStatusRelativeTo(x);return w&&S==="unknown"&&w.push(P),S==="before"})}function p(m,x){const w=x.node.operator,A=x.get("right").resolve(),P=x.get("left").resolve();let S;if(P.isIdentifier({name:m})?S=A:A.isIdentifier({name:m})&&(S=P),S)return w==="==="?S.getTypeAnnotation():t.includes(w)?s():void 0;if(w!=="==="&&w!=="==")return;let C,I;if(P.isUnaryExpression({operator:"typeof"})?(C=P,I=A):A.isUnaryExpression({operator:"typeof"})&&(C=A,I=P),!C||!C.get("argument").isIdentifier({name:m})||(I=I.resolve(),!I.isLiteral()))return;const _=I.node.value;if(typeof _=="string")return r(_)}function d(m,x,w){let A;for(;A=x.parentPath;){if(A.isIfStatement()||A.isConditionalExpression())return x.key==="test"?void 0:A;if(A.isFunction()&&(w==null||A.parentPath.scope.getBinding(w)!==m))return;x=A}}function h(m,x,w){const A=d(m,x,w);if(!A)return;const S=[A.get("test")],C=[];for(let I=0;I<S.length;I++){const _=S[I];if(_.isLogicalExpression())_.node.operator==="&&"&&(S.push(_.get("left")),S.push(_.get("right")));else if(_.isBinaryExpression()){const D=p(w,_);D&&C.push(D)}}return C.length?{typeAnnotation:(0,e.createUnionType)(C),ifStatement:A}:h(m,A,w)}return $0}var bM;function Rse(){return bM||(bM=1,(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.ArrayExpression=Ce,n.AssignmentExpression=X,n.BinaryExpression=ue,n.BooleanLiteral=Y,n.CallExpression=it,n.ConditionalExpression=ae,n.ClassDeclaration=n.ClassExpression=n.FunctionDeclaration=n.ArrowFunctionExpression=n.FunctionExpression=Se,Object.defineProperty(n,"Identifier",{enumerable:!0,get:function(){return t.default}}),n.LogicalExpression=J,n.NewExpression=j,n.NullLiteral=Z,n.NumericLiteral=W,n.ObjectExpression=me,n.ParenthesizedExpression=re,n.RegExpLiteral=se,n.RestElement=be,n.SequenceExpression=oe,n.StringLiteral=Q,n.TSAsExpression=L,n.TSNonNullExpression=B,n.TaggedTemplateExpression=pt,n.TemplateLiteral=M,n.TypeCastExpression=O,n.UnaryExpression=ee,n.UpdateExpression=H,n.VariableDeclarator=F;var e=vn(),t=Dse(),r=lV();const{BOOLEAN_BINARY_OPERATORS:s,BOOLEAN_UNARY_OPERATORS:i,NUMBER_BINARY_OPERATORS:a,NUMBER_UNARY_OPERATORS:l,STRING_UNARY_OPERATORS:c,anyTypeAnnotation:p,arrayTypeAnnotation:d,booleanTypeAnnotation:h,buildMatchMemberExpression:m,genericTypeAnnotation:x,identifier:w,nullLiteralTypeAnnotation:A,numberTypeAnnotation:P,stringTypeAnnotation:S,tupleTypeAnnotation:C,unionTypeAnnotation:I,voidTypeAnnotation:_,isIdentifier:D}=e;function F(){if(this.get("id").isIdentifier())return this.get("init").getTypeAnnotation()}function O(ct){return ct.typeAnnotation}O.validParent=!0;function L(ct){return ct.typeAnnotation}L.validParent=!0;function B(){return this.get("expression").getTypeAnnotation()}function j(ct){if(ct.callee.type==="Identifier")return x(ct.callee)}function M(){return S()}function ee(ct){const Ye=ct.operator;if(Ye==="void")return _();if(l.includes(Ye))return P();if(c.includes(Ye))return S();if(i.includes(Ye))return h()}function ue(ct){const Ye=ct.operator;if(a.includes(Ye))return P();if(s.includes(Ye))return h();if(Ye==="+"){const We=this.get("right"),rt=this.get("left");return rt.isBaseType("number")&&We.isBaseType("number")?P():rt.isBaseType("string")||We.isBaseType("string")?S():I([S(),P()])}}function J(){const ct=[this.get("left").getTypeAnnotation(),this.get("right").getTypeAnnotation()];return(0,r.createUnionType)(ct)}function ae(){const ct=[this.get("consequent").getTypeAnnotation(),this.get("alternate").getTypeAnnotation()];return(0,r.createUnionType)(ct)}function oe(){return this.get("expressions").pop().getTypeAnnotation()}function re(){return this.get("expression").getTypeAnnotation()}function X(){return this.get("right").getTypeAnnotation()}function H(ct){const Ye=ct.operator;if(Ye==="++"||Ye==="--")return P()}function Q(){return S()}function W(){return P()}function Y(){return h()}function Z(){return A()}function se(){return x(w("RegExp"))}function me(){return x(w("Object"))}function Ce(){return x(w("Array"))}function be(){return Ce()}be.validParent=!0;function Se(){return x(w("Function"))}const Le=m("Array.from"),Ue=m("Object.keys"),st=m("Object.values"),Ze=m("Object.entries");function it(){const{callee:ct}=this.node;return Ue(ct)?d(S()):Le(ct)||st(ct)||D(ct,{name:"Array"})?d(p()):Ze(ct)?d(C([S(),p()])):It(this.get("callee"))}function pt(){return It(this.get("tag"))}function It(ct){if(ct=ct.resolve(),ct.isFunction()){const{node:Ye}=ct;if(Ye.async)return Ye.generator?x(w("AsyncIterator")):x(w("Promise"));if(Ye.generator)return x(w("Iterator"));if(ct.node.returnType)return ct.node.returnType}}})(Nb)),Nb}var wM;function Fse(){if(wM)return ku;wM=1,Object.defineProperty(ku,"__esModule",{value:!0}),ku._getTypeAnnotation=L,ku.baseTypeStrictlyMatches=ee,ku.couldBeBaseType=M,ku.getTypeAnnotation=F,ku.isBaseType=B,ku.isGenericType=ue;var n=Rse(),e=vn();const{anyTypeAnnotation:t,isAnyTypeAnnotation:r,isArrayTypeAnnotation:s,isBooleanTypeAnnotation:i,isEmptyTypeAnnotation:a,isFlowBaseAnnotation:l,isGenericTypeAnnotation:c,isIdentifier:p,isMixedTypeAnnotation:d,isNumberTypeAnnotation:h,isStringTypeAnnotation:m,isTSArrayType:x,isTSTypeAnnotation:w,isTSTypeReference:A,isTupleTypeAnnotation:P,isTypeAnnotation:S,isUnionTypeAnnotation:C,isVoidTypeAnnotation:I,stringTypeAnnotation:_,voidTypeAnnotation:D}=e;function F(){let J=this.getData("typeAnnotation");return J!=null||(J=L.call(this)||t(),(S(J)||w(J))&&(J=J.typeAnnotation),this.setData("typeAnnotation",J)),J}const O=new WeakSet;function L(){const J=this.node;if(!J)if(this.key==="init"&&this.parentPath.isVariableDeclarator()){const oe=this.parentPath.parentPath,re=oe.parentPath;return oe.key==="left"&&re.isForInStatement()?_():oe.key==="left"&&re.isForOfStatement()?t():D()}else return;if(J.typeAnnotation)return J.typeAnnotation;if(!O.has(J)){O.add(J);try{var ae;let oe=n[J.type];if(oe)return oe.call(this,J);if(oe=n[this.parentPath.type],(ae=oe)!=null&&ae.validParent)return this.parentPath.getTypeAnnotation()}finally{O.delete(J)}}}function B(J,ae){return j(J,this.getTypeAnnotation(),ae)}function j(J,ae,oe){if(J==="string")return m(ae);if(J==="number")return h(ae);if(J==="boolean")return i(ae);if(J==="any")return r(ae);if(J==="mixed")return d(ae);if(J==="empty")return a(ae);if(J==="void")return I(ae);if(oe)return!1;throw new Error(`Unknown base type ${J}`)}function M(J){const ae=this.getTypeAnnotation();if(r(ae))return!0;if(C(ae)){for(const oe of ae.types)if(r(oe)||j(J,oe,!0))return!0;return!1}else return j(J,ae,!0)}function ee(J){const ae=this.getTypeAnnotation(),oe=J.getTypeAnnotation();return!r(ae)&&l(ae)?oe.type===ae.type:!1}function ue(J){const ae=this.getTypeAnnotation();return J==="Array"&&(x(ae)||s(ae)||P(ae))?!0:c(ae)&&p(ae.id,{name:J})||A(ae)&&p(ae.typeName,{name:J})}return ku}var Ou={},Zd={},H0={exports:{}},EM;function Bse(){if(EM)return H0.exports;EM=1;var n=String,e=function(){return{isColorSupported:!1,reset:n,bold:n,dim:n,italic:n,underline:n,inverse:n,hidden:n,strikethrough:n,black:n,red:n,green:n,yellow:n,blue:n,magenta:n,cyan:n,white:n,gray:n,bgBlack:n,bgRed:n,bgGreen:n,bgYellow:n,bgBlue:n,bgMagenta:n,bgCyan:n,bgWhite:n,blackBright:n,redBright:n,greenBright:n,yellowBright:n,blueBright:n,magentaBright:n,cyanBright:n,whiteBright:n,bgBlackBright:n,bgRedBright:n,bgGreenBright:n,bgYellowBright:n,bgBlueBright:n,bgMagentaBright:n,bgCyanBright:n,bgWhiteBright:n}};return H0.exports=e(),H0.exports.createColors=e,H0.exports}var Uh={},PM;function Vse(){return PM||(PM=1,Object.defineProperty(Uh,"__esModule",{value:!0}),Uh.default=/((['"])(?:(?!\2|\\).|\\(?:\r\n|[\s\S]))*(\2)?|`(?:[^`\\$]|\\[\s\S]|\$(?!\{)|\$\{(?:[^{}]|\{[^}]*\}?)*\}?)*(`)?)|(\/\/.*)|(\/\*(?:[^*]|\*(?!\/))*(\*\/)?)|(\/(?!\*)(?:\[(?:(?![\]\\]).|\\.)*\]|(?![\/\]\\]).|\\.)+\/(?:(?!\s*(?:\b|[\u0080-\uFFFF$\\'"~({]|[+\-!](?!=)|\.?\d))|[gmiyus]{1,6}\b(?![\u0080-\uFFFF$\\]|\s*(?:[+\-*%&|^<>!=?({]|\/(?![\/*])))))|(0[xX][\da-fA-F]+|0[oO][0-7]+|0[bB][01]+|(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?)|((?!\d)(?:(?!\s)[$\w\u0080-\uFFFF]|\\u[\da-fA-F]{4}|\\u\{[\da-fA-F]+\})+)|(--|\+\+|&&|\|\||=>|\.{3}|(?:[+\-\/%&|^]|\*{1,2}|<{1,2}|>{1,3}|!=?|={1,2})=?|[?~.,:;[\](){}])|(\s+)|(^$|[\s\S])/g,Uh.matchToToken=function(n){var e={type:"invalid",value:n[0],closed:void 0};return n[1]?(e.type="string",e.closed=!!(n[3]||n[4])):n[5]?e.type="comment":n[6]?(e.type="comment",e.closed=!!n[7]):n[8]?e.type="regex":n[9]?e.type="number":n[10]?e.type="name":n[11]?e.type="punctuator":n[12]&&(e.type="whitespace"),e}),Uh}var AM;function uV(){if(AM)return Zd;AM=1;var n={};Object.defineProperty(Zd,"__esModule",{value:!0});var e=Bse(),t=Vse(),r=Lv();function s(){return typeof process=="object"&&(n.FORCE_COLOR==="0"||n.FORCE_COLOR==="false")?!1:e.isColorSupported}const i=(F,O)=>L=>F(O(L));function a(F){return{keyword:F.cyan,capitalized:F.yellow,jsxIdentifier:F.yellow,punctuator:F.yellow,number:F.magenta,string:F.green,regex:F.magenta,comment:F.gray,invalid:i(i(F.white,F.bgRed),F.bold),gutter:F.gray,marker:i(F.red,F.bold),message:i(F.red,F.bold),reset:F.reset}}const l=a(e.createColors(!0)),c=a(e.createColors(!1));function p(F){return F?l:c}const d=new Set(["as","async","from","get","of","set"]),h=/\r\n|[\n\r\u2028\u2029]/,m=/^[()[\]{}]$/;let x;const w=/^[a-z][\w-]*$/i,A=function(F,O,L){if(F.type==="name"){const B=F.value;if(r.isKeyword(B)||r.isStrictReservedWord(B,!0)||d.has(B))return"keyword";if(w.test(B)&&(L[O-1]==="<"||L.slice(O-2,O)==="</"))return"jsxIdentifier";const j=String.fromCodePoint(B.codePointAt(0));if(j!==j.toLowerCase())return"capitalized"}return F.type==="punctuator"&&m.test(F.value)?"bracket":F.type==="invalid"&&(F.value==="@"||F.value==="#")?"punctuator":F.type};x=function*(F){let O;for(;O=t.default.exec(F);){const L=t.matchToToken(O);yield{type:A(L,O.index,F),value:L.value}}};function P(F){if(F==="")return"";const O=p(!0);let L="";for(const{type:B,value:j}of x(F))B in O?L+=j.split(h).map(M=>O[B](M)).join(`
`):L+=j;return L}let S=!1;const C=/\r\n|[\n\r\u2028\u2029]/;function I(F,O,L,B){const j=Object.assign({column:0,line:-1},F.start),M=Object.assign({},j,F.end),{linesAbove:ee=2,linesBelow:ue=3}=L||{},J=j.line-B,ae=j.column,oe=M.line-B,re=M.column;let X=Math.max(J-(ee+1),0),H=Math.min(O.length,oe+ue);J===-1&&(X=0),oe===-1&&(H=O.length);const Q=oe-J,W={};if(Q)for(let Y=0;Y<=Q;Y++){const Z=Y+J;if(!ae)W[Z]=!0;else if(Y===0){const se=O[Z-1].length;W[Z]=[ae,se-ae+1]}else if(Y===Q)W[Z]=[0,re];else{const se=O[Z-Y].length;W[Z]=[0,se]}}else ae===re?ae?W[J]=[ae,0]:W[J]=!0:W[J]=[ae,re-ae];return{start:X,end:H,markerLines:W}}function _(F,O,L={}){const B=L.forceColor||s()&&L.highlightCode,j=(L.startLine||1)-1,M=p(B),ee=F.split(C),{start:ue,end:J,markerLines:ae}=I(O,ee,L,j),oe=O.start&&typeof O.start.column=="number",re=String(J+j).length;let H=(B?P(F):F).split(C,J).slice(ue,J).map((Q,W)=>{const Y=ue+1+W,se=` ${` ${Y+j}`.slice(-re)} |`,me=ae[Y],Ce=!ae[Y+1];if(me){let be="";if(Array.isArray(me)){const Se=Q.slice(0,Math.max(me[0]-1,0)).replace(/[^\t]/g," "),Le=me[1]||1;be=[`
 `,M.gutter(se.replace(/\d/g," "))," ",Se,M.marker("^").repeat(Le)].join(""),Ce&&L.message&&(be+=" "+M.message(L.message))}return[M.marker(">"),M.gutter(se),Q.length>0?` ${Q}`:"",be].join("")}else return` ${M.gutter(se)}${Q.length>0?` ${Q}`:""}`}).join(`
`);return L.message&&!oe&&(H=`${" ".repeat(re+1)}${L.message}
${H}`),B?M.reset(H):H}function D(F,O,L,B={}){if(!S){S=!0;const M="Passing lineNumber and colNumber is deprecated to @babel/code-frame. Please use `codeFrameColumns`.";if(process.emitWarning)process.emitWarning(M,"DeprecationWarning");else{const ee=new Error(M);ee.name="DeprecationWarning",console.warn(new Error(M))}}return L=Math.max(L,0),_(F,{start:{column:L,line:O}},B)}return Zd.codeFrameColumns=_,Zd.default=D,Zd.highlight=P,Zd}var sa={},Lu={},qh={},NM;function jse(){return NM||(NM=1,Object.defineProperty(qh,"__esModule",{value:!0}),qh.hooks=void 0,qh.hooks=[function(n,e){if(n.key==="test"&&(e.isWhile()||e.isSwitchCase())||n.key==="declaration"&&e.isExportDeclaration()||n.key==="body"&&e.isLabeledStatement()||n.listKey==="declarations"&&e.isVariableDeclaration()&&e.node.declarations.length===1||n.key==="expression"&&e.isExpressionStatement())return e.remove(),!0},function(n,e){if(e.isSequenceExpression()&&e.node.expressions.length===1)return e.replaceWith(e.node.expressions[0]),!0},function(n,e){if(e.isBinary())return n.key==="left"?e.replaceWith(e.node.right):e.replaceWith(e.node.left),!0},function(n,e){if(e.isIfStatement()&&n.key==="consequent"||n.key==="body"&&(e.isLoop()||e.isArrowFunctionExpression()))return n.replaceWith({type:"BlockStatement",directives:[],body:[]}),!0}]),qh}var _M;function vP(){if(_M)return Lu;_M=1,Object.defineProperty(Lu,"__esModule",{value:!0}),Lu._assertUnremoved=m,Lu._callRemovalHooks=p,Lu._markRemoved=h,Lu._remove=d,Lu._removeFromScope=c,Lu.remove=l;var n=jse(),e=zf(),t=cV(),r=ap(),s=vn(),i=TP(),a=al();function l(){var x;if(m.call(this),a.resync.call(this),p.call(this)){h.call(this);return}(x=this.opts)!=null&&x.noScope||c.call(this),this.shareCommentsWithSiblings(),d.call(this),h.call(this)}function c(){const x=s.getBindingIdentifiers(this.node,!1,!1,!0);Object.keys(x).forEach(w=>this.scope.removeBinding(w))}function p(){if(this.parentPath){for(const x of n.hooks)if(x(this,this.parentPath))return!0}}function d(){Array.isArray(this.container)?(this.container.splice(this.key,1),i.updateSiblingKeys.call(this,this.key,-1)):t._replaceWith.call(this,null)}function h(){if(this._traverseFlags|=r.SHOULD_SKIP|r.REMOVED,this.parent){var x;(x=(0,e.getCachedPaths)(this))==null||x.delete(this.node)}this.node=null}function m(){if(this.removed)throw this.buildCodeFrameError("NodePath has been removed so is read-only.")}return Lu}var $h={},CM;function zse(){if(CM)return $h;CM=1,Object.defineProperty($h,"__esModule",{value:!0}),$h.default=void 0;var n=vn(),e=n;const{react:t}=n,{cloneNode:r,jsxExpressionContainer:s,variableDeclaration:i,variableDeclarator:a}=e,l={ReferencedIdentifier(p,d){if(p.isJSXIdentifier()&&t.isCompatTag(p.node.name)&&!p.parentPath.isJSXMemberExpression())return;if(p.node.name==="this"){let m=p.scope;do if(m.path.isFunction()&&!m.path.isArrowFunctionExpression())break;while(m=m.parent);m&&d.breakOnScopePaths.push(m.path)}const h=p.scope.getBinding(p.node.name);if(h){for(const m of h.constantViolations)if(m.scope!==h.path.scope){d.mutableBinding=!0,p.stop();return}h===d.scope.getBinding(p.node.name)&&(d.bindings[p.node.name]=h)}}};class c{constructor(d,h){this.breakOnScopePaths=void 0,this.bindings=void 0,this.mutableBinding=void 0,this.scopes=void 0,this.scope=void 0,this.path=void 0,this.attachAfter=void 0,this.breakOnScopePaths=[],this.bindings={},this.mutableBinding=!1,this.scopes=[],this.scope=h,this.path=d,this.attachAfter=!1}isCompatibleScope(d){for(const h of Object.keys(this.bindings)){const m=this.bindings[h];if(!d.bindingIdentifierEquals(h,m.identifier))return!1}return!0}getCompatibleScopes(){let d=this.path.scope;do{if(this.isCompatibleScope(d))this.scopes.push(d);else break;if(this.breakOnScopePaths.includes(d.path))break}while(d=d.parent)}getAttachmentPath(){let d=this._getAttachmentPath();if(!d)return;let h=d.scope;if(h.path===d&&(h=d.scope.parent),h.path.isProgram()||h.path.isFunction())for(const m of Object.keys(this.bindings)){if(!h.hasOwnBinding(m))continue;const x=this.bindings[m];if(x.kind==="param"||x.path.parentKey==="params")continue;if(this.getAttachmentParentForPath(x.path).key>=d.key){this.attachAfter=!0,d=x.path;for(const A of x.constantViolations)this.getAttachmentParentForPath(A).key>d.key&&(d=A)}}return d}_getAttachmentPath(){const h=this.scopes.pop();if(h){if(h.path.isFunction())if(this.hasOwnParamBindings(h)){if(this.scope===h)return;const m=h.path.get("body").get("body");for(let x=0;x<m.length;x++)if(!m[x].node._blockHoist)return m[x]}else return this.getNextScopeAttachmentParent();else if(h.path.isProgram())return this.getNextScopeAttachmentParent()}}getNextScopeAttachmentParent(){const d=this.scopes.pop();if(d)return this.getAttachmentParentForPath(d.path)}getAttachmentParentForPath(d){do if(!d.parentPath||Array.isArray(d.container)&&d.isStatement())return d;while(d=d.parentPath);return d}hasOwnParamBindings(d){for(const h of Object.keys(this.bindings)){if(!d.hasOwnBinding(h))continue;const m=this.bindings[h];if(m.kind==="param"&&m.constant)return!0}return!1}run(){if(this.path.traverse(l,this),this.mutableBinding)return;this.getCompatibleScopes();const d=this.getAttachmentPath();if(!d||d.getFunctionParent()===this.path.getFunctionParent())return;let h=d.scope.generateUidIdentifier("ref");const m=a(h,this.path.node),x=this.attachAfter?"insertAfter":"insertBefore",[w]=d[x]([d.isVariableDeclarator()?m:i("var",[m])]),A=this.path.parentPath;return A.isJSXElement()&&this.path.container===A.node.children&&(h=s(h)),this.path.replaceWith(r(h)),w.isVariableDeclarator()?w.get("init"):w.get("declarations.0.init")}}return $h.default=c,$h}var IM;function TP(){if(IM)return sa;IM=1,Object.defineProperty(sa,"__esModule",{value:!0}),sa._containerInsert=F,sa._containerInsertAfter=L,sa._containerInsertBefore=O,sa._verifyNodeList=J,sa.insertAfter=ee,sa.insertBefore=D,sa.pushContainer=oe,sa.unshiftContainer=ae,sa.updateSiblingKeys=ue;var n=zf(),e=ap(),t=al(),r=vP(),s=vn(),i=zse();const{arrowFunctionExpression:a,assertExpression:l,assignmentExpression:c,blockStatement:p,callExpression:d,cloneNode:h,expressionStatement:m,isAssignmentExpression:x,isCallExpression:w,isExportNamedDeclaration:A,isExpression:P,isIdentifier:S,isSequenceExpression:C,isSuper:I,thisExpression:_}=s;function D(re){r._assertUnremoved.call(this);const X=J.call(this,re),{parentPath:H,parent:Q}=this;if(H.isExpressionStatement()||H.isLabeledStatement()||A(Q)||H.isExportDefaultDeclaration()&&this.isDeclaration())return H.insertBefore(X);if(this.isNodeType("Expression")&&!this.isJSXElement()||H.isForStatement()&&this.key==="init")return this.node&&X.push(this.node),this.replaceExpressionWithStatements(X);if(Array.isArray(this.container))return O.call(this,X);if(this.isStatementOrBlock()){const W=this.node,Y=W&&(!this.isExpressionStatement()||W.expression!=null),[Z]=this.replaceWith(p(Y?[W]:[]));return Z.unshiftContainer("body",X)}else throw new Error("We don't know what to do with this node type. We were previously a Statement but we can't fit in here?")}function F(re,X){ue.call(this,re,X.length);const H=[];this.container.splice(re,0,...X);for(let Y=0;Y<X.length;Y++){var Q;const Z=re+Y,se=this.getSibling(Z);H.push(se),(Q=this.context)!=null&&Q.queue&&t.pushContext.call(se,this.context)}const W=t._getQueueContexts.call(this);for(const Y of H){t.setScope.call(Y),Y.debug("Inserted.");for(const Z of W)Z.maybeQueue(Y,!0)}return H}function O(re){return F.call(this,this.key,re)}function L(re){return F.call(this,this.key+1,re)}const B=re=>re[re.length-1];function j(re){return C(re.parent)&&(B(re.parent.expressions)!==re.node||j(re.parentPath))}function M(re,X){if(!x(re)||!S(re.left))return!1;const H=X.getBlockParent();return H.hasOwnBinding(re.left.name)&&H.getOwnBinding(re.left.name).constantViolations.length<=1}function ee(re){if(r._assertUnremoved.call(this),this.isSequenceExpression())return B(this.get("expressions")).insertAfter(re);const X=J.call(this,re),{parentPath:H,parent:Q}=this;if(H.isExpressionStatement()||H.isLabeledStatement()||A(Q)||H.isExportDefaultDeclaration()&&this.isDeclaration())return H.insertAfter(X.map(W=>P(W)?m(W):W));if(this.isNodeType("Expression")&&!this.isJSXElement()&&!H.isJSXElement()||H.isForStatement()&&this.key==="init"){const W=this;if(W.node){const Y=W.node;let{scope:Z}=this;if(Z.path.isPattern())return l(Y),W.replaceWith(d(a([],Y),[])),W.get("callee.body").insertAfter(X),[W];if(j(W))X.unshift(Y);else if(w(Y)&&I(Y.callee))X.unshift(Y),X.push(_());else if(M(Y,Z))X.unshift(Y),X.push(h(Y.left));else if(Z.isPure(Y,!0))X.push(Y);else{H.isMethod({computed:!0,key:Y})&&(Z=Z.parent);const se=Z.generateDeclaredUidIdentifier();X.unshift(m(c("=",h(se),Y))),X.push(m(h(se)))}}return this.replaceExpressionWithStatements(X)}else{if(Array.isArray(this.container))return L.call(this,X);if(this.isStatementOrBlock()){const W=this.node,Y=W&&(!this.isExpressionStatement()||W.expression!=null),[Z]=this.replaceWith(p(Y?[W]:[]));return Z.pushContainer("body",X)}else throw new Error("We don't know what to do with this node type. We were previously a Statement but we can't fit in here?")}}function ue(re,X){if(!this.parent)return;const H=(0,n.getCachedPaths)(this);if(H)for(const[,Q]of H)typeof Q.key=="number"&&Q.container===this.container&&Q.key>=re&&(Q.key+=X)}function J(re){if(!re)return[];Array.isArray(re)||(re=[re]);for(let X=0;X<re.length;X++){const H=re[X];let Q;if(H?typeof H!="object"?Q="contains a non-object node":H.type?H instanceof e.default&&(Q="has a NodePath when it expected a raw object"):Q="without a type":Q="has falsy node",Q){const W=Array.isArray(H)?"array":typeof H;throw new Error(`Node list ${Q} with the index of ${X} and type of ${W}`)}}return re}function ae(re,X){r._assertUnremoved.call(this);const H=J.call(this,X),Q=this.node[re],W=e.default.get({parentPath:this,parent:this.node,container:Q,listKey:re,key:0}).setContext(this.context);return O.call(W,H)}function oe(re,X){r._assertUnremoved.call(this);const H=J.call(this,X),Q=this.node[re];return e.default.get({parentPath:this,parent:this.node,container:Q,listKey:re,key:Q.length}).setContext(this.context).replaceWithMultiple(H)}return sa.hoist=function(X=this.scope){return new i.default(this,X).run()},sa}var MM;function cV(){if(MM)return Ou;MM=1,Object.defineProperty(Ou,"__esModule",{value:!0}),Ou._replaceWith=Z,Ou.replaceExpressionWithStatements=se,Ou.replaceInline=Ce,Ou.replaceWith=Y,Ou.replaceWithMultiple=Q,Ou.replaceWithSourceString=W;var n=uV(),e=Zm(),t=ap(),r=zf(),s=TP(),i=dP(),a=vn(),l=al();const{FUNCTION_TYPES:c,arrowFunctionExpression:p,assignmentExpression:d,awaitExpression:h,blockStatement:m,buildUndefinedNode:x,callExpression:w,cloneNode:A,conditionalExpression:P,expressionStatement:S,getBindingIdentifiers:C,identifier:I,inheritLeadingComments:_,inheritTrailingComments:D,inheritsComments:F,isBlockStatement:O,isEmptyStatement:L,isExpression:B,isExpressionStatement:j,isIfStatement:M,isProgram:ee,isStatement:ue,isVariableDeclaration:J,removeComments:ae,returnStatement:oe,sequenceExpression:re,validate:X,yieldExpression:H}=a;function Q(be){var Se;l.resync.call(this);const Le=s._verifyNodeList.call(this,be);_(Le[0],this.node),D(Le[Le.length-1],this.node),(Se=(0,r.getCachedPaths)(this))==null||Se.delete(this.node),this.node=this.container[this.key]=null;const Ue=this.insertAfter(be);return this.node?this.requeue():this.remove(),Ue}function W(be){l.resync.call(this);let Se;try{be=`(${be})`,Se=(0,i.parse)(be)}catch(Ue){const st=Ue.loc;throw st&&(Ue.message+=` - make sure this is an expression.
`+(0,n.codeFrameColumns)(be,{start:{line:st.line,column:st.column+1}}),Ue.code="BABEL_REPLACE_SOURCE_ERROR"),Ue}const Le=Se.program.body[0].expression;return e.default.removeProperties(Le),this.replaceWith(Le)}function Y(be){if(l.resync.call(this),this.removed)throw new Error("You can't replace this node, we've already removed it");let Se=be instanceof t.default?be.node:be;if(!Se)throw new Error("You passed `path.replaceWith()` a falsy node, use `path.remove()` instead");if(this.node===Se)return[this];if(this.isProgram()&&!ee(Se))throw new Error("You can only replace a Program root node with another Program node");if(Array.isArray(Se))throw new Error("Don't use `path.replaceWith()` with an array of nodes, use `path.replaceWithMultiple()`");if(typeof Se=="string")throw new Error("Don't use `path.replaceWith()` with a source string, use `path.replaceWithSourceString()`");let Le="";if(this.isNodeType("Statement")&&B(Se)&&!this.canHaveVariableDeclarationOrExpression()&&!this.canSwapBetweenExpressionAndStatement(Se)&&!this.parentPath.isExportDefaultDeclaration()&&(Se=S(Se),Le="expression"),this.isNodeType("Expression")&&ue(Se)&&!this.canHaveVariableDeclarationOrExpression()&&!this.canSwapBetweenExpressionAndStatement(Se))return this.replaceExpressionWithStatements([Se]);const Ue=this.node;return Ue&&(F(Se,Ue),ae(Ue)),Z.call(this,Se),this.type=Se.type,l.setScope.call(this),this.requeue(),[Le?this.get(Le):this]}function Z(be){var Se;if(!this.container)throw new ReferenceError("Container is falsy");this.inList?X(this.parent,this.key,[be]):X(this.parent,this.key,be),this.debug(`Replace with ${be?.type}`),(Se=(0,r.getCachedPaths)(this))==null||Se.set(be,this).delete(this.node),this.node=be,this.container[this.key]=be}function se(be){l.resync.call(this);const Se=[],Le=me(be,Se);if(Le){for(const rt of Se)this.scope.push({id:rt});return this.replaceWith(Le)[0].get("expressions")}const Ue=this.getFunctionParent(),st=Ue?.node.async,Ze=Ue?.node.generator,it=p([],m(be));this.replaceWith(w(it,[]));const pt=this.get("callee");pt.get("body").scope.hoistVariables(rt=>this.scope.push({id:rt}));const It=pt.getCompletionRecords();for(const rt of It){if(!rt.isExpressionStatement())continue;const St=rt.findParent(Et=>Et.isLoop());if(St){let Et=St.getData("expressionReplacementReturnUid");Et?Et=I(Et.name):(Et=pt.scope.generateDeclaredUidIdentifier("ret"),pt.get("body").pushContainer("body",oe(A(Et))),St.setData("expressionReplacementReturnUid",Et)),rt.get("expression").replaceWith(d("=",A(Et),rt.node.expression))}else rt.replaceWith(oe(rt.node.expression))}pt.arrowFunctionToExpression();const ct=pt,Ye=st&&e.default.hasType(ct.node.body,"AwaitExpression",c),We=Ze&&e.default.hasType(ct.node.body,"YieldExpression",c);return Ye&&(ct.set("async",!0),We||this.replaceWith(h(this.node))),We&&(ct.set("generator",!0),this.replaceWith(H(this.node,!0))),ct.get("body.body")}function me(be,Se){const Le=[];let Ue=!0;for(const st of be)if(L(st)||(Ue=!1),B(st))Le.push(st);else if(j(st))Le.push(st.expression);else if(J(st)){if(st.kind!=="var")return;for(const Ze of st.declarations){const it=C(Ze);for(const pt of Object.keys(it))Se.push(A(it[pt]));Ze.init&&Le.push(d("=",Ze.id,Ze.init))}Ue=!0}else if(M(st)){const Ze=st.consequent?me([st.consequent],Se):x(),it=st.alternate?me([st.alternate],Se):x();if(!Ze||!it)return;Le.push(P(st.test,Ze,it))}else if(O(st)){const Ze=me(st.body,Se);if(!Ze)return;Le.push(Ze)}else if(L(st))be.indexOf(st)===0&&(Ue=!0);else return;return Ue&&Le.push(x()),Le.length===1?Le[0]:re(Le)}function Ce(be){if(l.resync.call(this),Array.isArray(be))if(Array.isArray(this.container)){be=s._verifyNodeList.call(this,be);const Se=s._containerInsertAfter.call(this,be);return this.remove(),Se}else return this.replaceWithMultiple(be);else return this.replaceWith(be)}return Ou}var Wh={},kM;function Use(){if(kM)return Wh;kM=1,Object.defineProperty(Wh,"__esModule",{value:!0}),Wh.evaluate=m,Wh.evaluateTruthy=a;const n=["Number","String","Math"],e=["isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent",null,null],t=["random"];function r(x){return n.includes(x)}function s(x){return e.includes(x)}function i(x){return t.includes(x)}function a(){const x=this.evaluate();if(x.confident)return!!x.value}function l(x,w){w.confident&&(w.deoptPath=x,w.confident=!1)}const c=new Map([["undefined",void 0],["Infinity",1/0],["NaN",NaN]]);function p(x,w){const{node:A}=x,{seen:P}=w;if(P.has(A)){const S=P.get(A);if(S.resolved)return S.value;l(x,w);return}else{const S={resolved:!1};P.set(A,S);const C=d(x,w);return w.confident&&(S.resolved=!0,S.value=C),C}}function d(x,w){if(w.confident){if(x.isSequenceExpression()){const P=x.get("expressions");return p(P[P.length-1],w)}if(x.isStringLiteral()||x.isNumericLiteral()||x.isBooleanLiteral())return x.node.value;if(x.isNullLiteral())return null;if(x.isTemplateLiteral())return h(x,x.node.quasis,w);if(x.isTaggedTemplateExpression()&&x.get("tag").isMemberExpression()){const P=x.get("tag.object"),{node:{name:S}}=P,C=x.get("tag.property");if(P.isIdentifier()&&S==="String"&&!x.scope.getBinding(S)&&C.isIdentifier()&&C.node.name==="raw")return h(x,x.node.quasi.quasis,w,!0)}if(x.isConditionalExpression()){const P=p(x.get("test"),w);return w.confident?p(P?x.get("consequent"):x.get("alternate"),w):void 0}if(x.isExpressionWrapper())return p(x.get("expression"),w);if(x.isMemberExpression()&&!x.parentPath.isCallExpression({callee:x.node})){const P=x.get("property"),S=x.get("object");if(S.isLiteral()){const C=S.node.value,I=typeof C;let _=null;if(x.node.computed){if(_=p(P,w),!w.confident)return}else P.isIdentifier()&&(_=P.node.name);if((I==="number"||I==="string")&&_!=null&&(typeof _=="number"||typeof _=="string"))return C[_]}}if(x.isReferencedIdentifier()){const P=x.scope.getBinding(x.node.name);if(P){if(P.constantViolations.length>0||x.node.start<P.path.node.end){l(P.path,w);return}const D=P.path.scope;if(P.kind==="var"&&D!==P.scope){let F=!D.path.parentPath.isBlockStatement();for(let O=D.parent;O;O=O.parent){var A;if(O===x.scope){if(F){l(P.path,w);return}break}(A=O.path.parentPath)!=null&&A.isBlockStatement()&&(F=!0)}}if(P.hasValue)return P.value}const S=x.node.name;if(c.has(S)){if(!P)return c.get(S);l(P.path,w);return}if(!P){l(x,w);return}const C=P.path;if(!C.isVariableDeclarator()){l(C,w);return}const I=C.get("init"),_=p(I,w);if(typeof _=="object"&&_!==null&&P.references>1){l(I,w);return}return _}if(x.isUnaryExpression({prefix:!0})){if(x.node.operator==="void")return;const P=x.get("argument");if(x.node.operator==="typeof"&&(P.isFunction()||P.isClass()))return"function";const S=p(P,w);if(!w.confident)return;switch(x.node.operator){case"!":return!S;case"+":return+S;case"-":return-S;case"~":return~S;case"typeof":return typeof S}}if(x.isArrayExpression()){const P=[],S=x.get("elements");for(const C of S){const I=C.evaluate();if(I.confident)P.push(I.value);else{l(I.deopt,w);return}}return P}if(x.isObjectExpression()){const P={},S=x.get("properties");for(const C of S){if(C.isObjectMethod()||C.isSpreadElement()){l(C,w);return}const I=C.get("key");let _;if(C.node.computed){if(_=I.evaluate(),!_.confident){l(_.deopt,w);return}_=_.value}else I.isIdentifier()?_=I.node.name:_=I.node.value;let F=C.get("value").evaluate();if(!F.confident){l(F.deopt,w);return}F=F.value,P[_]=F}return P}if(x.isLogicalExpression()){const P=w.confident,S=p(x.get("left"),w),C=w.confident;w.confident=P;const I=p(x.get("right"),w),_=w.confident;switch(x.node.operator){case"||":return w.confident=C&&(!!S||_),w.confident?S||I:void 0;case"&&":return w.confident=C&&(!S||_),w.confident?S&&I:void 0;case"??":return w.confident=C&&(S!=null||_),w.confident?S??I:void 0}}if(x.isBinaryExpression()){const P=p(x.get("left"),w);if(!w.confident)return;const S=p(x.get("right"),w);if(!w.confident)return;switch(x.node.operator){case"-":return P-S;case"+":return P+S;case"/":return P/S;case"*":return P*S;case"%":return P%S;case"**":return Math.pow(P,S);case"<":return P<S;case">":return P>S;case"<=":return P<=S;case">=":return P>=S;case"==":return P==S;case"!=":return P!=S;case"===":return P===S;case"!==":return P!==S;case"|":return P|S;case"&":return P&S;case"^":return P^S;case"<<":return P<<S;case">>":return P>>S;case">>>":return P>>>S}}if(x.isCallExpression()){const P=x.get("callee");let S,C;if(P.isIdentifier()&&!x.scope.getBinding(P.node.name)&&(r(P.node.name)||s(P.node.name))&&(C=nN[P.node.name]),P.isMemberExpression()){const I=P.get("object"),_=P.get("property");if(I.isIdentifier()&&_.isIdentifier()&&r(I.node.name)&&!i(_.node.name)){S=nN[I.node.name];const D=_.node.name;hasOwnProperty.call(S,D)&&(C=S[D])}if(I.isLiteral()&&_.isIdentifier()){const D=typeof I.node.value;(D==="string"||D==="number")&&(S=I.node.value,C=S[_.node.name])}}if(C){const I=x.get("arguments").map(_=>p(_,w));return w.confident?C.apply(S,I):void 0}}l(x,w)}}function h(x,w,A,P=!1){let S="",C=0;const I=x.isTemplateLiteral()?x.get("expressions"):x.get("quasi.expressions");for(const _ of w){if(!A.confident)break;S+=P?_.value.raw:_.value.cooked;const D=I[C++];D&&(S+=String(p(D,A)))}if(A.confident)return S}function m(){const x={confident:!0,deoptPath:null,seen:new Map};let w=p(this,x);return x.confident||(w=void 0),{confident:x.confident,deopt:x.deoptPath,value:w}}return Wh}var ql={},Zs={},ia={},OM;function qse(){if(OM)return ia;OM=1,Object.defineProperty(ia,"__esModule",{value:!0}),ia.statements=ia.statement=ia.smart=ia.program=ia.expression=void 0;var n=vn();const{assertExpressionStatement:e}=n;function t(s){return{code:i=>`/* @babel/template */;
${i}`,validate:()=>{},unwrap:i=>s(i.program.body.slice(1))}}ia.smart=t(s=>s.length>1?s:s[0]),ia.statements=t(s=>s),ia.statement=t(s=>{if(s.length===0)throw new Error("Found nothing to return.");if(s.length>1)throw new Error("Found multiple statements but wanted one");return s[0]});const r=ia.expression={code:s=>`(
${s}
)`,validate:s=>{if(s.program.body.length>1)throw new Error("Found multiple statements but wanted one");if(r.unwrap(s).start===0)throw new Error("Parse result included parens.")},unwrap:({program:s})=>{const[i]=s.body;return e(i),i.expression}};return ia.program={code:s=>s,validate:()=>{},unwrap:s=>s.program},ia}var K0={},Qd={},LM;function SP(){if(LM)return Qd;LM=1,Object.defineProperty(Qd,"__esModule",{value:!0}),Qd.merge=t,Qd.normalizeReplacements=s,Qd.validate=r;const n=["placeholderWhitelist","placeholderPattern","preserveComments","syntacticPlaceholders"];function e(i,a){if(i==null)return{};var l={};for(var c in i)if({}.hasOwnProperty.call(i,c)){if(a.indexOf(c)!==-1)continue;l[c]=i[c]}return l}function t(i,a){const{placeholderWhitelist:l=i.placeholderWhitelist,placeholderPattern:c=i.placeholderPattern,preserveComments:p=i.preserveComments,syntacticPlaceholders:d=i.syntacticPlaceholders}=a;return{parser:Object.assign({},i.parser,a.parser),placeholderWhitelist:l,placeholderPattern:c,preserveComments:p,syntacticPlaceholders:d}}function r(i){if(i!=null&&typeof i!="object")throw new Error("Unknown template options.");const a=i||{},{placeholderWhitelist:l,placeholderPattern:c,preserveComments:p,syntacticPlaceholders:d}=a,h=e(a,n);if(l!=null&&!(l instanceof Set))throw new Error("'.placeholderWhitelist' must be a Set, null, or undefined");if(c!=null&&!(c instanceof RegExp)&&c!==!1)throw new Error("'.placeholderPattern' must be a RegExp, false, null, or undefined");if(p!=null&&typeof p!="boolean")throw new Error("'.preserveComments' must be a boolean, null, or undefined");if(d!=null&&typeof d!="boolean")throw new Error("'.syntacticPlaceholders' must be a boolean, null, or undefined");if(d===!0&&(l!=null||c!=null))throw new Error("'.placeholderWhitelist' and '.placeholderPattern' aren't compatible with '.syntacticPlaceholders: true'");return{parser:h,placeholderWhitelist:l||void 0,placeholderPattern:c??void 0,preserveComments:p??void 0,syntacticPlaceholders:d??void 0}}function s(i){if(Array.isArray(i))return i.reduce((a,l,c)=>(a["$"+c]=l,a),{});if(typeof i=="object"||i==null)return i||void 0;throw new Error("Template replacements must be an array, object, null, or undefined")}return Qd}var X0={},G0={},DM;function pV(){if(DM)return G0;DM=1,Object.defineProperty(G0,"__esModule",{value:!0}),G0.default=A;var n=vn(),e=dP(),t=uV();const{isCallExpression:r,isExpressionStatement:s,isFunction:i,isIdentifier:a,isJSXIdentifier:l,isNewExpression:c,isPlaceholder:p,isStatement:d,isStringLiteral:h,removePropertiesDeep:m,traverse:x}=n,w=/^[_$A-Z0-9]+$/;function A(I,_,D){const{placeholderWhitelist:F,placeholderPattern:O,preserveComments:L,syntacticPlaceholders:B}=D,j=C(_,D.parser,B);m(j,{preserveComments:L}),I.validate(j);const M={syntactic:{placeholders:[],placeholderNames:new Set},legacy:{placeholders:[],placeholderNames:new Set},placeholderWhitelist:F,placeholderPattern:O,syntacticPlaceholders:B};return x(j,P,M),Object.assign({ast:j},M.syntactic.placeholders.length?M.syntactic:M.legacy)}function P(I,_,D){var F;let O,L=D.syntactic.placeholders.length>0;if(p(I)){if(D.syntacticPlaceholders===!1)throw new Error("%%foo%%-style placeholders can't be used when '.syntacticPlaceholders' is false.");O=I.name.name,L=!0}else{if(L||D.syntacticPlaceholders)return;if(a(I)||l(I))O=I.name;else if(h(I))O=I.value;else return}if(L&&(D.placeholderPattern!=null||D.placeholderWhitelist!=null))throw new Error("'.placeholderWhitelist' and '.placeholderPattern' aren't compatible with '.syntacticPlaceholders: true'");if(!L&&(D.placeholderPattern===!1||!(D.placeholderPattern||w).test(O))&&!((F=D.placeholderWhitelist)!=null&&F.has(O)))return;_=_.slice();const{node:B,key:j}=_[_.length-1];let M;h(I)||p(I,{expectedNode:"StringLiteral"})?M="string":c(B)&&j==="arguments"||r(B)&&j==="arguments"||i(B)&&j==="params"?M="param":s(B)&&!p(I)?(M="statement",_=_.slice(0,-1)):d(I)&&p(I)?M="statement":M="other";const{placeholders:ee,placeholderNames:ue}=L?D.syntactic:D.legacy;ee.push({name:O,type:M,resolve:J=>S(J,_),isDuplicate:ue.has(O)}),ue.add(O)}function S(I,_){let D=I;for(let L=0;L<_.length-1;L++){const{key:B,index:j}=_[L];j===void 0?D=D[B]:D=D[B][j]}const{key:F,index:O}=_[_.length-1];return{parent:D,key:F,index:O}}function C(I,_,D){const F=(_.plugins||[]).slice();D!==!1&&F.push("placeholders"),_=Object.assign({allowAwaitOutsideFunction:!0,allowReturnOutsideFunction:!0,allowNewTargetOutsideFunction:!0,allowSuperOutsideMethod:!0,allowYieldOutsideFunction:!0,sourceType:"module"},_,{plugins:F});try{return(0,e.parse)(I,_)}catch(O){const L=O.loc;throw L&&(O.message+=`
`+(0,t.codeFrameColumns)(I,{start:L}),O.code="BABEL_TEMPLATE_PARSE_ERROR"),O}}return G0}var Y0={},RM;function dV(){if(RM)return Y0;RM=1,Object.defineProperty(Y0,"__esModule",{value:!0}),Y0.default=d;var n=vn();const{blockStatement:e,cloneNode:t,emptyStatement:r,expressionStatement:s,identifier:i,isStatement:a,isStringLiteral:l,stringLiteral:c,validate:p}=n;function d(m,x){const w=t(m.ast);return x&&(m.placeholders.forEach(A=>{if(!hasOwnProperty.call(x,A.name)){const P=A.name;throw new Error(`Error: No substitution given for "${P}". If this is not meant to be a
            placeholder you may want to consider passing one of the following options to @babel/template:
            - { placeholderPattern: false, placeholderWhitelist: new Set(['${P}'])}
            - { placeholderPattern: /^${P}$/ }`)}}),Object.keys(x).forEach(A=>{if(!m.placeholderNames.has(A))throw new Error(`Unknown substitution "${A}" given`)})),m.placeholders.slice().reverse().forEach(A=>{try{var P;h(A,w,(P=x&&x[A.name])!=null?P:null)}catch(S){throw S.message=`@babel/template placeholder "${A.name}": ${S.message}`,S}}),w}function h(m,x,w){m.isDuplicate&&(Array.isArray(w)?w=w.map(I=>t(I)):typeof w=="object"&&(w=t(w)));const{parent:A,key:P,index:S}=m.resolve(x);if(m.type==="string"){if(typeof w=="string"&&(w=c(w)),!w||!l(w))throw new Error("Expected string substitution")}else if(m.type==="statement")S===void 0?w?Array.isArray(w)?w=e(w):typeof w=="string"?w=s(i(w)):a(w)||(w=s(w)):w=r():w&&!Array.isArray(w)&&(typeof w=="string"&&(w=i(w)),a(w)||(w=s(w)));else if(m.type==="param"){if(typeof w=="string"&&(w=i(w)),S===void 0)throw new Error("Assertion failure.")}else if(typeof w=="string"&&(w=i(w)),Array.isArray(w))throw new Error("Cannot replace single expression with an array.");function C(I,_,D){const F=I[_];I[_]=D,(F.type==="Identifier"||F.type==="Placeholder")&&(F.typeAnnotation&&(D.typeAnnotation=F.typeAnnotation),F.optional&&(D.optional=F.optional),F.decorators&&(D.decorators=F.decorators))}if(S===void 0)p(A,P,w),C(A,P,w);else{const I=A[P].slice();m.type==="statement"||m.type==="param"?w==null?I.splice(S,1):Array.isArray(w)?I.splice(S,1,...w):C(I,S,w):C(I,S,w),p(A,P,I),A[P]=I}}return Y0}var FM;function $se(){if(FM)return X0;FM=1,Object.defineProperty(X0,"__esModule",{value:!0}),X0.default=r;var n=SP(),e=pV(),t=dV();function r(s,i,a){i=s.code(i);let l;return c=>{const p=(0,n.normalizeReplacements)(c);return l||(l=(0,e.default)(s,i,a)),s.unwrap((0,t.default)(l,p))}}return X0}var J0={},BM;function Wse(){if(BM)return J0;BM=1,Object.defineProperty(J0,"__esModule",{value:!0}),J0.default=r;var n=SP(),e=pV(),t=dV();function r(a,l,c){const{metadata:p,names:d}=s(a,l,c);return h=>{const m={};return h.forEach((x,w)=>{m[d[w]]=x}),x=>{const w=(0,n.normalizeReplacements)(x);return w&&Object.keys(w).forEach(A=>{if(hasOwnProperty.call(m,A))throw new Error("Unexpected replacement overlap.")}),a.unwrap((0,t.default)(p,w?Object.assign(w,m):m))}}}function s(a,l,c){let p="BABEL_TPL$";const d=l.join("");do p="$$"+p;while(d.includes(p));const{names:h,code:m}=i(l,p);return{metadata:(0,e.default)(a,a.code(m),{parser:c.parser,placeholderWhitelist:new Set(h.concat(c.placeholderWhitelist?Array.from(c.placeholderWhitelist):[])),placeholderPattern:c.placeholderPattern,preserveComments:c.preserveComments,syntacticPlaceholders:c.syntacticPlaceholders}),names:h}}function i(a,l){const c=[];let p=a[0];for(let d=1;d<a.length;d++){const h=`${l}${d-1}`;c.push(h),p+=h+a[d]}return{names:c,code:p}}return J0}var VM;function Hse(){if(VM)return K0;VM=1,Object.defineProperty(K0,"__esModule",{value:!0}),K0.default=s;var n=SP(),e=$se(),t=Wse();const r=(0,n.validate)({placeholderPattern:!1});function s(a,l){const c=new WeakMap,p=new WeakMap,d=l||(0,n.validate)(null);return Object.assign((h,...m)=>{if(typeof h=="string"){if(m.length>1)throw new Error("Unexpected extra params.");return i((0,e.default)(a,h,(0,n.merge)(d,(0,n.validate)(m[0]))))}else if(Array.isArray(h)){let x=c.get(h);return x||(x=(0,t.default)(a,h,d),c.set(h,x)),i(x(m))}else if(typeof h=="object"&&h){if(m.length>0)throw new Error("Unexpected extra params.");return s(a,(0,n.merge)(d,(0,n.validate)(h)))}throw new Error(`Unexpected template param ${typeof h}`)},{ast:(h,...m)=>{if(typeof h=="string"){if(m.length>1)throw new Error("Unexpected extra params.");return(0,e.default)(a,h,(0,n.merge)((0,n.merge)(d,(0,n.validate)(m[0])),r))()}else if(Array.isArray(h)){let x=p.get(h);return x||(x=(0,t.default)(a,h,(0,n.merge)(d,r)),p.set(h,x)),x(m)()}throw new Error(`Unexpected template param ${typeof h}`)}})}function i(a){let l="";try{throw new Error}catch(c){c.stack&&(l=c.stack.split(`
`).slice(3).join(`
`))}return c=>{try{return a(c)}catch(p){throw p.stack+=`
    =============
${l}`,p}}}return K0}var jM;function Kse(){if(jM)return Zs;jM=1,Object.defineProperty(Zs,"__esModule",{value:!0}),Zs.statements=Zs.statement=Zs.smart=Zs.program=Zs.expression=Zs.default=void 0;var n=qse(),e=Hse();const t=Zs.smart=(0,e.default)(n.smart),r=Zs.statement=(0,e.default)(n.statement),s=Zs.statements=(0,e.default)(n.statements),i=Zs.expression=(0,e.default)(n.expression),a=Zs.program=(0,e.default)(n.program);return Zs.default=Object.assign(t.bind(void 0),{smart:t,statement:r,statements:s,expression:i,program:a,ast:t.ast}),Zs}var zM;function Xse(){if(zM)return ql;zM=1,Object.defineProperty(ql,"__esModule",{value:!0}),ql.arrowFunctionToExpression=Se,ql.ensureBlock=me,ql.ensureFunctionName=qt,ql.splitExportDeclaration=Et,ql.toComputedKey=se,ql.unwrapFunctionEnvironment=Ce;var n=vn(),e=Kse(),t=Fv(),r=al();const{arrowFunctionExpression:s,assignmentExpression:i,binaryExpression:a,blockStatement:l,callExpression:c,conditionalExpression:p,expressionStatement:d,identifier:h,isIdentifier:m,jsxIdentifier:x,logicalExpression:w,LOGICAL_OPERATORS:A,memberExpression:P,metaProperty:S,numericLiteral:C,objectExpression:I,restElement:_,returnStatement:D,sequenceExpression:F,spreadElement:O,stringLiteral:L,super:B,thisExpression:j,toExpression:M,unaryExpression:ee,toBindingIdentifierName:ue,isFunction:J,isAssignmentPattern:ae,isRestElement:oe,getFunctionName:re,cloneNode:X,variableDeclaration:H,variableDeclarator:Q,exportNamedDeclaration:W,exportSpecifier:Y,inherits:Z}=n;function se(){let Fe;if(this.isMemberExpression())Fe=this.node.property;else if(this.isProperty()||this.isMethod())Fe=this.node.key;else throw new ReferenceError("todo");return this.node.computed||m(Fe)&&(Fe=L(Fe.name)),Fe}function me(){const Fe=this.get("body"),Me=Fe.node;if(Array.isArray(Fe))throw new Error("Can't convert array path to a block statement");if(!Me)throw new Error("Can't convert node without a body");if(Fe.isBlockStatement())return Me;const ce=[];let we="body",De,$e;Fe.isStatement()?($e="body",De=0,ce.push(Fe.node)):(we+=".body.0",this.isFunction()?(De="argument",ce.push(D(Fe.node))):(De="expression",ce.push(d(Fe.node)))),this.node.body=l(ce);const nt=this.get(we);return r.setup.call(Fe,nt,$e?nt.node[$e]:nt.node,$e,De),this.node}ql.arrowFunctionToShadowed=function(){this.isArrowFunctionExpression()&&this.arrowFunctionToExpression()};function Ce(){if(!this.isArrowFunctionExpression()&&!this.isFunctionExpression()&&!this.isFunctionDeclaration())throw this.buildCodeFrameError("Can only unwrap the environment of a function.");Ue(this)}function be(Fe,Me){Fe.node.type=Me}function Se({allowInsertArrow:Fe=!0,allowInsertArrowWithRest:Me=Fe,noNewArrows:ce=!(we=>(we=arguments[0])==null?void 0:we.specCompliant)()}={}){if(!this.isArrowFunctionExpression())throw this.buildCodeFrameError("Cannot convert non-arrow function to a function expression.");let we=this;if(!ce){var De;we=(De=we.ensureFunctionName(!1))!=null?De:we}const{thisBinding:$e,fnPath:nt}=Ue(we,ce,Fe,Me);if(nt.ensureBlock(),be(nt,"FunctionExpression"),!ce){const ot=$e?null:nt.scope.generateUidIdentifier("arrowCheckId");return ot&&nt.parentPath.scope.push({id:ot,init:I([])}),nt.get("body").unshiftContainer("body",d(c(this.hub.addHelper("newArrowCheck"),[j(),h(ot?ot.name:$e)]))),nt.replaceWith(c(P(nt.node,h("bind")),[ot?h(ot.name):j()])),nt.get("callee.object")}return nt}const Le=(0,t.environmentVisitor)({CallExpression(Fe,{allSuperCalls:Me}){Fe.get("callee").isSuper()&&Me.push(Fe)}});function Ue(Fe,Me=!0,ce=!0,we=!0){let De,$e=Fe.findParent(Xe=>Xe.isArrowFunctionExpression()?(De??(De=Xe),!1):Xe.isFunction()||Xe.isProgram()||Xe.isClassProperty({static:!1})||Xe.isClassPrivateProperty({static:!1}));const nt=$e.isClassMethod({kind:"constructor"});if($e.isClassProperty()||$e.isClassPrivateProperty())if(De)$e=De;else if(ce)Fe.replaceWith(c(s([],M(Fe.node)),[])),$e=Fe.get("callee"),Fe=$e.get("body");else throw Fe.buildCodeFrameError("Unable to transform arrow inside class property");const{thisPaths:ot,argumentsPaths:Zt,newTargetPaths:fn,superProps:ut,superCalls:xn}=St(Fe);if(nt&&xn.length>0){if(!ce)throw xn[0].buildCodeFrameError("When using '@babel/plugin-transform-arrow-functions', it's not possible to compile `super()` in an arrow function without compiling classes.\nPlease add '@babel/plugin-transform-classes' to your Babel configuration.");if(!we)throw xn[0].buildCodeFrameError("When using '@babel/plugin-transform-parameters', it's not possible to compile `super()` in an arrow function with default or rest parameters without compiling classes.\nPlease add '@babel/plugin-transform-classes' to your Babel configuration.");const Xe=[];$e.traverse(Le,{allSuperCalls:Xe});const de=ct($e);Xe.forEach(Ke=>{const ht=h(de);ht.loc=Ke.node.callee.loc,Ke.get("callee").replaceWith(ht)})}if(Zt.length>0){const Xe=We($e,"arguments",()=>{const de=()=>h("arguments");return $e.scope.path.isProgram()?p(a("===",ee("typeof",de()),L("undefined")),$e.scope.buildUndefinedNode(),de()):de()});Zt.forEach(de=>{const Ke=h(Xe);Ke.loc=de.node.loc,de.replaceWith(Ke)})}if(fn.length>0){const Xe=We($e,"newtarget",()=>S(h("new"),h("target")));fn.forEach(de=>{const Ke=h(Xe);Ke.loc=de.node.loc,de.replaceWith(Ke)})}if(ut.length>0){if(!ce)throw ut[0].buildCodeFrameError("When using '@babel/plugin-transform-arrow-functions', it's not possible to compile `super.prop` in an arrow function without compiling classes.\nPlease add '@babel/plugin-transform-classes' to your Babel configuration.");ut.reduce((de,Ke)=>de.concat(Ze(Ke)),[]).forEach(de=>{const Ke=de.node.computed?"":de.get("property").node.name,ht=de.parentPath,ve=ht.isAssignmentExpression({left:de.node}),at=ht.isCallExpression({callee:de.node}),Pt=ht.isTaggedTemplateExpression({tag:de.node}),Mt=Ye($e,ve,Ke),Ht=[];if(de.node.computed&&Ht.push(de.get("property").node),ve){const _n=ht.node.right;Ht.push(_n)}const tn=c(h(Mt),Ht);at?(ht.unshiftContainer("arguments",j()),de.replaceWith(P(tn,h("call"))),ot.push(ht.get("arguments.0"))):ve?ht.replaceWith(tn):Pt?(de.replaceWith(c(P(tn,h("bind"),!1),[j()])),ot.push(de.get("arguments.0"))):de.replaceWith(tn)})}let Be;return(ot.length>0||!Me)&&(Be=It($e,nt),(Me||nt&&it($e))&&(ot.forEach(Xe=>{const de=Xe.isJSX()?x(Be):h(Be);de.loc=Xe.node.loc,Xe.replaceWith(de)}),Me||(Be=null))),{thisBinding:Be,fnPath:Fe}}function st(Fe){return A.includes(Fe)}function Ze(Fe){if(Fe.parentPath.isAssignmentExpression()&&Fe.parentPath.node.operator!=="="){const ce=Fe.parentPath,we=ce.node.operator.slice(0,-1),De=ce.node.right,$e=st(we);if(Fe.node.computed){const nt=Fe.scope.generateDeclaredUidIdentifier("tmp"),{object:ot,property:Zt}=Fe.node;ce.get("left").replaceWith(P(ot,i("=",nt,Zt),!0)),ce.get("right").replaceWith(Me($e?"=":we,P(ot,h(nt.name),!0),De))}else{const nt=Fe.node.object,ot=Fe.node.property;ce.get("left").replaceWith(P(nt,ot)),ce.get("right").replaceWith(Me($e?"=":we,P(nt,h(ot.name)),De))}return $e?ce.replaceWith(w(we,ce.node.left,ce.node.right)):ce.node.operator="=",[ce.get("left"),ce.get("right").get("left")]}else if(Fe.parentPath.isUpdateExpression()){const ce=Fe.parentPath,we=Fe.scope.generateDeclaredUidIdentifier("tmp"),De=Fe.node.computed?Fe.scope.generateDeclaredUidIdentifier("prop"):null,$e=[i("=",we,P(Fe.node.object,De?i("=",De,Fe.node.property):Fe.node.property,Fe.node.computed)),i("=",P(Fe.node.object,De?h(De.name):Fe.node.property,Fe.node.computed),a(Fe.parentPath.node.operator[0],h(we.name),C(1)))];Fe.parentPath.node.prefix||$e.push(h(we.name)),ce.replaceWith(F($e));const nt=ce.get("expressions.0.right"),ot=ce.get("expressions.1.left");return[nt,ot]}return[Fe];function Me(ce,we,De){return ce==="="?i("=",we,De):a(ce,we,De)}}function it(Fe){return Fe.isClassMethod()&&!!Fe.parentPath.parentPath.node.superClass}const pt=(0,t.environmentVisitor)({CallExpression(Fe,{supers:Me,thisBinding:ce}){Fe.get("callee").isSuper()&&(Me.has(Fe.node)||(Me.add(Fe.node),Fe.replaceWithMultiple([Fe.node,i("=",h(ce),h("this"))])))}});function It(Fe,Me){return We(Fe,"this",ce=>{if(!Me||!it(Fe))return j();Fe.traverse(pt,{supers:new WeakSet,thisBinding:ce})})}function ct(Fe){return We(Fe,"supercall",()=>{const Me=Fe.scope.generateUidIdentifier("args");return s([_(Me)],c(B(),[O(h(Me.name))]))})}function Ye(Fe,Me,ce){return We(Fe,`superprop_${Me?"set":"get"}:${ce||""}`,()=>{const De=[];let $e;if(ce)$e=P(B(),h(ce));else{const nt=Fe.scope.generateUidIdentifier("prop");De.unshift(nt),$e=P(B(),h(nt.name),!0)}if(Me){const nt=Fe.scope.generateUidIdentifier("value");De.push(nt),$e=i("=",$e,h(nt.name))}return s(De,$e)})}function We(Fe,Me,ce){const we="binding:"+Me;let De=Fe.getData(we);if(!De){const $e=Fe.scope.generateUidIdentifier(Me);De=$e.name,Fe.setData(we,De),Fe.scope.push({id:$e,init:ce(De)})}return De}const rt=(0,t.environmentVisitor)({ThisExpression(Fe,{thisPaths:Me}){Me.push(Fe)},JSXIdentifier(Fe,{thisPaths:Me}){Fe.node.name==="this"&&(!Fe.parentPath.isJSXMemberExpression({object:Fe.node})&&!Fe.parentPath.isJSXOpeningElement({name:Fe.node})||Me.push(Fe))},CallExpression(Fe,{superCalls:Me}){Fe.get("callee").isSuper()&&Me.push(Fe)},MemberExpression(Fe,{superProps:Me}){Fe.get("object").isSuper()&&Me.push(Fe)},Identifier(Fe,{argumentsPaths:Me}){if(!Fe.isReferencedIdentifier({name:"arguments"}))return;let ce=Fe.scope;do{if(ce.hasOwnBinding("arguments")){ce.rename("arguments");return}if(ce.path.isFunction()&&!ce.path.isArrowFunctionExpression())break}while(ce=ce.parent);Me.push(Fe)},MetaProperty(Fe,{newTargetPaths:Me}){Fe.get("meta").isIdentifier({name:"new"})&&Fe.get("property").isIdentifier({name:"target"})&&Me.push(Fe)}});function St(Fe){const Me=[],ce=[],we=[],De=[],$e=[];return Fe.traverse(rt,{thisPaths:Me,argumentsPaths:ce,newTargetPaths:we,superProps:De,superCalls:$e}),{thisPaths:Me,argumentsPaths:ce,newTargetPaths:we,superProps:De,superCalls:$e}}function Et(){if(!this.isExportDeclaration()||this.isExportAllDeclaration())throw new Error("Only default and named export declarations can be split.");if(this.isExportNamedDeclaration()&&this.get("specifiers").length>0)throw new Error("It doesn't make sense to split exported specifiers.");const Fe=this.get("declaration");if(this.isExportDefaultDeclaration()){const De=Fe.isFunctionDeclaration()||Fe.isClassDeclaration(),$e=Fe.isFunctionExpression()||Fe.isClassExpression(),nt=Fe.isScope()?Fe.scope.parent:Fe.scope;let ot=Fe.node.id,Zt=!1;ot?$e&&nt.hasBinding(ot.name)&&(Zt=!0,ot=nt.generateUidIdentifier(ot.name)):(Zt=!0,ot=nt.generateUidIdentifier("default"),(De||$e)&&(Fe.node.id=X(ot)));const fn=De?Fe.node:H("var",[Q(X(ot),Fe.node)]),ut=W(null,[Y(X(ot),h("default"))]);return this.insertAfter(ut),this.replaceWith(fn),Zt&&nt.registerDeclaration(this),this}else if(this.get("specifiers").length>0)throw new Error("It doesn't make sense to split exported specifiers.");const Me=Fe.getOuterBindingIdentifiers(),ce=Object.keys(Me).map(De=>Y(h(De),h(De))),we=W(null,ce);return this.insertAfter(we),this.replaceWith(Fe.node),this}const jt={"ReferencedIdentifier|BindingIdentifier"(Fe,Me){Fe.node.name===Me.name&&(Me.needsRename=!0,Fe.stop())},Scope(Fe,Me){Fe.scope.hasOwnBinding(Me.name)&&Fe.skip()}};function qt(Fe){if(this.node.id)return this;const Me=re(this.node,this.parent);if(Me==null)return this;let{name:ce}=Me;if(!Fe&&/[\uD800-\uDFFF]/.test(ce)||ce.startsWith("get ")||ce.startsWith("set "))return null;ce=ue(ce.replace(/[/ ]/g,"_"));const we=h(ce);Z(we,Me.originalNode);const De={needsRename:!1,name:ce},{scope:$e}=this,nt=$e.getOwnBinding(ce);if(nt?nt.kind==="param"&&(De.needsRename=!0):($e.parent.hasBinding(ce)||$e.hasGlobal(ce))&&this.traverse(jt,De),!De.needsRename)return this.node.id=we,$e.getProgramParent().references[we.name]=!0,this;if($e.hasBinding(we.name)&&!$e.hasGlobal(we.name))return $e.rename(we.name),this.node.id=we,$e.getProgramParent().references[we.name]=!0,this;if(!J(this.node))return null;const ot=$e.generateUidIdentifier(we.name),Zt=[];for(let ut=0,xn=mn(this.node);ut<xn;ut++)Zt.push($e.generateUidIdentifier("x"));const fn=e.default.expression.ast`
    (function (${ot}) {
      function ${we}(${Zt}) {
        return ${X(ot)}.apply(this, arguments);
      }

      ${X(we)}.toString = function () {
        return ${X(ot)}.toString();
      }

      return ${X(we)};
    })(${M(this.node)})
  `;return this.replaceWith(fn)[0].get("arguments.0")}function mn(Fe){const Me=Fe.params.findIndex(ce=>ae(ce)||oe(ce));return Me===-1?Fe.params.length:Me}return ql}var _b={},UM;function Gse(){return UM||(UM=1,(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n._guessExecutionStatusRelativeTo=B,n._resolve=J,n.canHaveVariableDeclarationOrExpression=w,n.canSwapBetweenExpressionAndStatement=A,n.getSource=I,n.isCompletionRecord=P,n.isConstantExpression=ae,n.isInStrictMode=oe,n.isNodeType=x,n.isStatementOrBlock=S,n.isStatic=m,n.matchesPattern=h,n.referencesImport=C,n.resolve=ue,n.willIMaybeExecuteBefore=_;var e=vn();const{STATEMENT_OR_BLOCK_KEYS:t,VISITOR_KEYS:r,isBlockStatement:s,isExpression:i,isIdentifier:a,isLiteral:l,isStringLiteral:c,isType:p,matchesPattern:d}=e;function h(re,X){return d(this.node,re,X)}n.has=function(X){var H;const Q=(H=this.node)==null?void 0:H[X];return Q&&Array.isArray(Q)?!!Q.length:!!Q};function m(){return this.scope.isStatic(this.node)}n.is=n.has,n.isnt=function(X){return!this.has(X)},n.equals=function(X,H){return this.node[X]===H};function x(re){return p(this.type,re)}function w(){return(this.key==="init"||this.key==="left")&&this.parentPath.isFor()}function A(re){return this.key!=="body"||!this.parentPath.isArrowFunctionExpression()?!1:this.isExpression()?s(re):this.isBlockStatement()?i(re):!1}function P(re){let X=this,H=!0;do{const{type:Q,container:W}=X;if(!H&&(X.isFunction()||Q==="StaticBlock"))return!!re;if(H=!1,Array.isArray(W)&&X.key!==W.length-1)return!1}while((X=X.parentPath)&&!X.isProgram()&&!X.isDoExpression());return!0}function S(){return this.parentPath.isLabeledStatement()||s(this.container)?!1:t.includes(this.key)}function C(re,X){if(!this.isReferencedIdentifier()){if(this.isJSXMemberExpression()&&this.node.property.name===X||(this.isMemberExpression()||this.isOptionalMemberExpression())&&(this.node.computed?c(this.node.property,{value:X}):this.node.property.name===X)){const Y=this.get("object");return Y.isReferencedIdentifier()&&Y.referencesImport(re,"*")}return!1}const H=this.scope.getBinding(this.node.name);if(H?.kind!=="module")return!1;const Q=H.path,W=Q.parentPath;if(!W.isImportDeclaration())return!1;if(W.node.source.value===re){if(!X)return!0}else return!1;return!!(Q.isImportDefaultSpecifier()&&X==="default"||Q.isImportNamespaceSpecifier()&&X==="*"||Q.isImportSpecifier()&&a(Q.node.imported,{name:X}))}function I(){const re=this.node;if(re.end){const X=this.hub.getCode();if(X)return X.slice(re.start,re.end)}return""}function _(re){return this._guessExecutionStatusRelativeTo(re)!=="after"}function D(re){return re.isProgram()?re:(re.parentPath.scope.getFunctionParent()||re.parentPath.scope.getProgramParent()).path}function F(re,X){switch(re){case"LogicalExpression":return X==="right";case"ConditionalExpression":case"IfStatement":return X==="consequent"||X==="alternate";case"WhileStatement":case"DoWhileStatement":case"ForInStatement":case"ForOfStatement":return X==="body";case"ForStatement":return X==="body"||X==="update";case"SwitchStatement":return X==="cases";case"TryStatement":return X==="handler";case"AssignmentPattern":return X==="right";case"OptionalMemberExpression":return X==="property";case"OptionalCallExpression":return X==="arguments";default:return!1}}function O(re,X){for(let H=0;H<X;H++){const Q=re[H];if(F(Q.parent.type,Q.parentKey))return!0}return!1}const L=Symbol();function B(re){return j(this,re,new Map)}function j(re,X,H){const Q={this:D(re),target:D(X)};if(Q.target.node!==Q.this.node)return ee(re,Q.target,H);const W={target:X.getAncestry(),this:re.getAncestry()};if(W.target.includes(re))return"after";if(W.this.includes(X))return"before";let Y;const Z={target:0,this:0};for(;!Y&&Z.this<W.this.length;){const be=W.this[Z.this];Z.target=W.target.indexOf(be),Z.target>=0?Y=be:Z.this++}if(!Y)throw new Error("Internal Babel error - The two compared nodes don't appear to belong to the same program.");if(O(W.this,Z.this-1)||O(W.target,Z.target-1))return"unknown";const se={this:W.this[Z.this-1],target:W.target[Z.target-1]};if(se.target.listKey&&se.this.listKey&&se.target.container===se.this.container)return se.target.key>se.this.key?"before":"after";const me=r[Y.type],Ce={this:me.indexOf(se.this.parentKey),target:me.indexOf(se.target.parentKey)};return Ce.target>Ce.this?"before":"after"}function M(re,X,H){if(X.isFunctionDeclaration()){if(X.parentPath.isExportDeclaration())return"unknown"}else return j(re,X,H)==="before"?"before":"unknown";const Q=X.scope.getBinding(X.node.id.name);if(!Q.references)return"before";const W=Q.referencePaths;let Y;for(const Z of W){if(!!Z.find(Ce=>Ce.node===X.node))continue;if(Z.key!=="callee"||!Z.parentPath.isCallExpression())return"unknown";const me=j(re,Z,H);if(Y&&Y!==me)return"unknown";Y=me}return Y}function ee(re,X,H){let Q=H.get(re.node),W;if(!Q)H.set(re.node,Q=new Map);else if(W=Q.get(X.node))return W===L?"unknown":W;Q.set(X.node,L);const Y=M(re,X,H);return Q.set(X.node,Y),Y}function ue(re,X){return J.call(this,re,X)||this}function J(re,X){var H;if(!((H=X)!=null&&H.includes(this)))if(X=X||[],X.push(this),this.isVariableDeclarator()){if(this.get("id").isIdentifier())return this.get("init").resolve(re,X)}else if(this.isReferencedIdentifier()){const Q=this.scope.getBinding(this.node.name);if(!Q||!Q.constant||Q.kind==="module")return;if(Q.path!==this){const W=Q.path.resolve(re,X);return this.find(Y=>Y.node===W.node)?void 0:W}}else{if(this.isTypeCastExpression())return this.get("expression").resolve(re,X);if(re&&this.isMemberExpression()){const Q=this.toComputedKey();if(!l(Q))return;const W=Q.value,Y=this.get("object").resolve(re,X);if(Y.isObjectExpression()){const Z=Y.get("properties");for(const se of Z){if(!se.isProperty())continue;const me=se.get("key");let Ce=se.isnt("computed")&&me.isIdentifier({name:W});if(Ce=Ce||me.isLiteral({value:W}),Ce)return se.get("value").resolve(re,X)}}else if(Y.isArrayExpression()&&!isNaN(+W)){const se=Y.get("elements")[W];if(se)return se.resolve(re,X)}}}}function ae(){if(this.isIdentifier()){const re=this.scope.getBinding(this.node.name);return re?re.constant:!1}if(this.isLiteral())return this.isRegExpLiteral()?!1:this.isTemplateLiteral()?this.get("expressions").every(re=>re.isConstantExpression()):!0;if(this.isUnaryExpression())return this.node.operator!=="void"?!1:this.get("argument").isConstantExpression();if(this.isBinaryExpression()){const{operator:re}=this.node;return re!=="in"&&re!=="instanceof"&&this.get("left").isConstantExpression()&&this.get("right").isConstantExpression()}return this.isMemberExpression()?!this.node.computed&&this.get("object").isIdentifier({name:"Symbol"})&&!this.scope.hasBinding("Symbol",{noGlobals:!0}):this.isCallExpression()?this.node.arguments.length===1&&this.get("callee").matchesPattern("Symbol.for")&&!this.scope.hasBinding("Symbol",{noGlobals:!0})&&this.get("arguments")[0].isStringLiteral():!1}function oe(){return!!(this.isProgram()?this:this.parentPath).find(H=>{if(H.isProgram({sourceType:"module"})||H.isClass())return!0;if(H.isArrowFunctionExpression()&&!H.get("body").isBlockStatement())return!1;let Q;if(H.isFunction())Q=H.node.body;else if(H.isProgram())Q=H.node;else return!1;for(const W of Q.directives)if(W.value.value==="use strict")return!0;return!1})}})(_b)),_b}var us={},qM;function Yse(){if(qM)return us;qM=1,Object.defineProperty(us,"__esModule",{value:!0}),us._getKey=B,us._getPattern=j,us.get=L,us.getAllNextSiblings=F,us.getAllPrevSiblings=O,us.getAssignmentIdentifiers=M,us.getBindingIdentifierPaths=J,us.getBindingIdentifiers=ee,us.getCompletionRecords=C,us.getNextSibling=D,us.getOpposite=h,us.getOuterBindingIdentifierPaths=ae,us.getOuterBindingIdentifiers=ue,us.getPrevSibling=_,us.getSibling=I;var n=ap(),e=vn();const{getAssignmentIdentifiers:t,getBindingIdentifiers:r,getOuterBindingIdentifiers:s,numericLiteral:i,unaryExpression:a}=e,l=0,c=1;function p(oe){return{type:l,path:oe}}function d(oe){return{type:c,path:oe}}function h(){return this.key==="left"?this.getSibling("right"):this.key==="right"?this.getSibling("left"):null}function m(oe,re,X){return oe&&re.push(...S(oe,X)),re}function x(oe,re,X){let H=[];for(let Q=0;Q<oe.length;Q++){const W=oe[Q],Y=S(W,X),Z=[],se=[];for(const me of Y)me.type===l&&Z.push(me),me.type===c&&se.push(me);Z.length&&(H=Z),re.push(...se)}return re.push(...H),re}function w(oe){oe.forEach(re=>{re.type=c})}function A(oe,re){oe.forEach(X=>{X.path.isBreakStatement({label:null})&&(re?X.path.replaceWith(a("void",i(0))):X.path.remove())})}function P(oe,re){const X=[];if(re.canHaveBreak){let H=[];for(let Q=0;Q<oe.length;Q++){const W=oe[Q],Y=Object.assign({},re,{inCaseClause:!1});W.isBlockStatement()&&(re.inCaseClause||re.shouldPopulateBreak)?Y.shouldPopulateBreak=!0:Y.shouldPopulateBreak=!1;const Z=S(W,Y);if(Z.length>0&&Z.every(se=>se.type===c)){H.length>0&&Z.every(se=>se.path.isBreakStatement({label:null}))?(w(H),X.push(...H),H.some(se=>se.path.isDeclaration())&&(X.push(...Z),re.shouldPreserveBreak||A(Z,!0)),re.shouldPreserveBreak||A(Z,!1)):(X.push(...Z),!re.shouldPopulateBreak&&!re.shouldPreserveBreak&&A(Z,!0));break}if(Q===oe.length-1)X.push(...Z);else{H=[];for(let se=0;se<Z.length;se++){const me=Z[se];me.type===c&&X.push(me),me.type===l&&H.push(me)}}}}else if(oe.length)for(let H=oe.length-1;H>=0;H--){const Q=S(oe[H],re);if(Q.length>1||Q.length===1&&!Q[0].path.isVariableDeclaration()&&!Q[0].path.isEmptyStatement()){X.push(...Q);break}}return X}function S(oe,re){let X=[];if(oe.isIfStatement())X=m(oe.get("consequent"),X,re),X=m(oe.get("alternate"),X,re);else{if(oe.isDoExpression()||oe.isFor()||oe.isWhile()||oe.isLabeledStatement())return m(oe.get("body"),X,re);if(oe.isProgram()||oe.isBlockStatement())return P(oe.get("body"),re);if(oe.isFunction())return S(oe.get("body"),re);if(oe.isTryStatement())X=m(oe.get("block"),X,re),X=m(oe.get("handler"),X,re);else{if(oe.isCatchClause())return m(oe.get("body"),X,re);if(oe.isSwitchStatement())return x(oe.get("cases"),X,re);if(oe.isSwitchCase())return P(oe.get("consequent"),{canHaveBreak:!0,shouldPopulateBreak:!1,inCaseClause:!0,shouldPreserveBreak:re.shouldPreserveBreak});oe.isBreakStatement()?X.push(d(oe)):X.push(p(oe))}}return X}function C(oe=!1){return S(this,{canHaveBreak:!1,shouldPopulateBreak:!1,inCaseClause:!1,shouldPreserveBreak:oe}).map(X=>X.path)}function I(oe){return n.default.get({parentPath:this.parentPath,parent:this.parent,container:this.container,listKey:this.listKey,key:oe}).setContext(this.context)}function _(){return this.getSibling(this.key-1)}function D(){return this.getSibling(this.key+1)}function F(){let oe=this.key,re=this.getSibling(++oe);const X=[];for(;re.node;)X.push(re),re=this.getSibling(++oe);return X}function O(){let oe=this.key,re=this.getSibling(--oe);const X=[];for(;re.node;)X.push(re),re=this.getSibling(--oe);return X}function L(oe,re=!0){re===!0&&(re=this.context);const X=oe.split(".");return X.length===1?B.call(this,oe,re):j.call(this,X,re)}function B(oe,re){const X=this.node,H=X[oe];return Array.isArray(H)?H.map((Q,W)=>n.default.get({listKey:oe,parentPath:this,parent:X,container:H,key:W}).setContext(re)):n.default.get({parentPath:this,parent:X,container:X,key:oe}).setContext(re)}function j(oe,re){let X=this;for(const H of oe)H==="."?X=X.parentPath:Array.isArray(X)?X=X[H]:X=X.get(H,re);return X}function M(){return t(this.node)}function ee(oe){return r(this.node,oe)}function ue(oe){return s(this.node,oe)}function J(oe=!1,re=!1){const H=[this],Q=Object.create(null);for(;H.length;){const W=H.shift();if(!W||!W.node)continue;const Y=r.keys[W.node.type];if(W.isIdentifier()){oe?(Q[W.node.name]=Q[W.node.name]||[]).push(W):Q[W.node.name]=W;continue}if(W.isExportDeclaration()){const Z=W.get("declaration");Z.isDeclaration()&&H.push(Z);continue}if(re){if(W.isFunctionDeclaration()){H.push(W.get("id"));continue}if(W.isFunctionExpression())continue}if(Y)for(let Z=0;Z<Y.length;Z++){const se=Y[Z],me=W.get(se);Array.isArray(me)?H.push(...me):me.node&&H.push(me)}}return Q}function ae(oe=!1){return this.getBindingIdentifierPaths(oe,!0)}return us}var ef={},$M;function Jse(){if($M)return ef;$M=1,Object.defineProperty(ef,"__esModule",{value:!0}),ef.addComment=i,ef.addComments=a,ef.shareCommentsWithSiblings=r;var n=vn();const{addComment:e,addComments:t}=n;function r(){if(typeof this.key=="string")return;const l=this.node;if(!l)return;const c=l.trailingComments,p=l.leadingComments;if(!c&&!p)return;const d=this.getSibling(this.key-1),h=this.getSibling(this.key+1),m=!!d.node,x=!!h.node;m&&(p&&d.addComments("trailing",s(p,d.node.trailingComments)),c&&!x&&d.addComments("trailing",c)),x&&(c&&h.addComments("leading",s(c,h.node.leadingComments)),p&&!m&&h.addComments("leading",p))}function s(l,c){if(!(c!=null&&c.length))return l;const p=new Set(c);return l.filter(d=>!p.has(d))}function i(l,c,p){e(this.node,l,c,p)}function a(l,c){t(this.node,l,c)}return ef}var WM;function ap(){if(WM)return Uo;WM=1,Object.defineProperty(Uo,"__esModule",{value:!0}),Uo.default=Uo.SHOULD_STOP=Uo.SHOULD_SKIP=Uo.REMOVED=void 0;var n=k4(),e=dre(),t=Zm(),r=Q4(),s=vn(),i=s,a=zf(),l=Ose(),c=Lse(),p=Fse(),d=cV(),h=Use(),m=Xse(),x=Gse(),w=al(),A=w,P=vP(),S=TP(),C=Yse(),I=Jse(),_=Z4();const{validate:D}=s,F=e("babel");Uo.REMOVED=1,Uo.SHOULD_STOP=2,Uo.SHOULD_SKIP=4;const O=Uo.default=class fV{constructor(j,M){this.contexts=[],this.state=null,this._traverseFlags=0,this.skipKeys=null,this.parentPath=null,this.container=null,this.listKey=null,this.key=null,this.node=null,this.type=null,this._store=null,this.parent=M,this.hub=j,this.data=null,this.context=null,this.scope=null}get removed(){return(this._traverseFlags&1)>0}set removed(j){j?this._traverseFlags|=1:this._traverseFlags&=-2}get shouldStop(){return(this._traverseFlags&2)>0}set shouldStop(j){j?this._traverseFlags|=2:this._traverseFlags&=-3}get shouldSkip(){return(this._traverseFlags&4)>0}set shouldSkip(j){j?this._traverseFlags|=4:this._traverseFlags&=-5}static get({hub:j,parentPath:M,parent:ee,container:ue,listKey:J,key:ae}){if(!j&&M&&(j=M.hub),!ee)throw new Error("To get a node path the parent needs to exist");const oe=ue[ae],re=a.getOrCreateCachedPaths(ee,M);let X=re.get(oe);return X||(X=new fV(j,ee),oe&&re.set(oe,X)),w.setup.call(X,M,ue,J,ae),X}getScope(j){return this.isScope()?new r.default(this):j}setData(j,M){return this.data==null&&(this.data=Object.create(null)),this.data[j]=M}getData(j,M){this.data==null&&(this.data=Object.create(null));let ee=this.data[j];return ee===void 0&&M!==void 0&&(ee=this.data[j]=M),ee}hasNode(){return this.node!=null}buildCodeFrameError(j,M=SyntaxError){return this.hub.buildError(this.node,j,M)}traverse(j,M){(0,t.default)(this.node,j,this.scope,M,this)}set(j,M){D(this.node,j,M),this.node[j]=M}getPathLocation(){const j=[];let M=this;do{let ee=M.key;M.inList&&(ee=`${M.listKey}[${ee}]`),j.unshift(ee)}while(M=M.parentPath);return j.join(".")}debug(j){F.enabled&&F(`${this.getPathLocation()} ${this.type}: ${j}`)}toString(){return(0,l.default)(this.node).code}get inList(){return!!this.listKey}set inList(j){j||(this.listKey=null)}get parentKey(){return this.listKey||this.key}},L={findParent:c.findParent,find:c.find,getFunctionParent:c.getFunctionParent,getStatementParent:c.getStatementParent,getEarliestCommonAncestorFrom:c.getEarliestCommonAncestorFrom,getDeepestCommonAncestorFrom:c.getDeepestCommonAncestorFrom,getAncestry:c.getAncestry,isAncestor:c.isAncestor,isDescendant:c.isDescendant,inType:c.inType,getTypeAnnotation:p.getTypeAnnotation,isBaseType:p.isBaseType,couldBeBaseType:p.couldBeBaseType,baseTypeStrictlyMatches:p.baseTypeStrictlyMatches,isGenericType:p.isGenericType,replaceWithMultiple:d.replaceWithMultiple,replaceWithSourceString:d.replaceWithSourceString,replaceWith:d.replaceWith,replaceExpressionWithStatements:d.replaceExpressionWithStatements,replaceInline:d.replaceInline,evaluateTruthy:h.evaluateTruthy,evaluate:h.evaluate,toComputedKey:m.toComputedKey,ensureBlock:m.ensureBlock,unwrapFunctionEnvironment:m.unwrapFunctionEnvironment,arrowFunctionToExpression:m.arrowFunctionToExpression,splitExportDeclaration:m.splitExportDeclaration,ensureFunctionName:m.ensureFunctionName,matchesPattern:x.matchesPattern,isStatic:x.isStatic,isNodeType:x.isNodeType,canHaveVariableDeclarationOrExpression:x.canHaveVariableDeclarationOrExpression,canSwapBetweenExpressionAndStatement:x.canSwapBetweenExpressionAndStatement,isCompletionRecord:x.isCompletionRecord,isStatementOrBlock:x.isStatementOrBlock,referencesImport:x.referencesImport,getSource:x.getSource,willIMaybeExecuteBefore:x.willIMaybeExecuteBefore,_guessExecutionStatusRelativeTo:x._guessExecutionStatusRelativeTo,resolve:x.resolve,isConstantExpression:x.isConstantExpression,isInStrictMode:x.isInStrictMode,isDenylisted:A.isDenylisted,visit:A.visit,skip:A.skip,skipKey:A.skipKey,stop:A.stop,setContext:A.setContext,requeue:A.requeue,requeueComputedKeyAndDecorators:A.requeueComputedKeyAndDecorators,remove:P.remove,insertBefore:S.insertBefore,insertAfter:S.insertAfter,unshiftContainer:S.unshiftContainer,pushContainer:S.pushContainer,getOpposite:C.getOpposite,getCompletionRecords:C.getCompletionRecords,getSibling:C.getSibling,getPrevSibling:C.getPrevSibling,getNextSibling:C.getNextSibling,getAllNextSiblings:C.getAllNextSiblings,getAllPrevSiblings:C.getAllPrevSiblings,get:C.get,getAssignmentIdentifiers:C.getAssignmentIdentifiers,getBindingIdentifiers:C.getBindingIdentifiers,getOuterBindingIdentifiers:C.getOuterBindingIdentifiers,getBindingIdentifierPaths:C.getBindingIdentifierPaths,getOuterBindingIdentifierPaths:C.getOuterBindingIdentifierPaths,shareCommentsWithSiblings:I.shareCommentsWithSiblings,addComment:I.addComment,addComments:I.addComments};Object.assign(O.prototype,L),O.prototype.arrowFunctionToShadowed=m.arrowFunctionToShadowed,Object.assign(O.prototype,{has:x.has,is:x.is,isnt:x.isnt,equals:x.equals,hoist:S.hoist,updateSiblingKeys:S.updateSiblingKeys,call:A.call,isBlacklisted:A.isBlacklisted,setScope:A.setScope,resync:A.resync,popContext:A.popContext,pushContext:A.pushContext,setup:A.setup,setKey:A.setKey}),O.prototype._guessExecutionStatusRelativeToDifferentFunctions=x._guessExecutionStatusRelativeTo,O.prototype._guessExecutionStatusRelativeToDifferentFunctions=x._guessExecutionStatusRelativeTo,Object.assign(O.prototype,{_getTypeAnnotation:p._getTypeAnnotation,_replaceWith:d._replaceWith,_resolve:x._resolve,_call:A._call,_resyncParent:A._resyncParent,_resyncKey:A._resyncKey,_resyncList:A._resyncList,_resyncRemoved:A._resyncRemoved,_getQueueContexts:A._getQueueContexts,_removeFromScope:P._removeFromScope,_callRemovalHooks:P._callRemovalHooks,_remove:P._remove,_markRemoved:P._markRemoved,_assertUnremoved:P._assertUnremoved,_containerInsert:S._containerInsert,_containerInsertBefore:S._containerInsertBefore,_containerInsertAfter:S._containerInsertAfter,_verifyNodeList:S._verifyNodeList,_getKey:C._getKey,_getPattern:C._getPattern});for(const B of i.TYPES){const j=`is${B}`,M=i[j];O.prototype[j]=function(ee){return M(this.node,ee)},O.prototype[`assert${B}`]=function(ee){if(!M(this.node,ee))throw new TypeError(`Expected node path of type ${B}`)}}Object.assign(O.prototype,_);for(const B of Object.keys(n))B.startsWith("_")||i.TYPES.includes(B)||i.TYPES.push(B);return Uo}var Hh={},HM;function hV(){if(HM)return Hh;HM=1,Object.defineProperty(Hh,"__esModule",{value:!0}),Hh.default=void 0;class n{getCode(){}getScope(){}addHelper(){throw new Error("Helpers are not supported by the default hub.")}buildError(t,r,s=TypeError){return new s(r)}}return Hh.default=n,Hh}var KM;function Zse(){if(KM)return Ah;KM=1,Object.defineProperty(Ah,"__esModule",{value:!0}),Ah.default=void 0;var n=ap(),e=vn(),t=al(),r=hV();const{VISITOR_KEYS:s}=e;class i{constructor(l,c,p,d){this.queue=null,this.priorityQueue=null,this.parentPath=d,this.scope=l,this.state=p,this.opts=c}shouldVisit(l){const c=this.opts;if(c.enter||c.exit||c[l.type])return!0;const p=s[l.type];if(!(p!=null&&p.length))return!1;for(const d of p)if(l[d])return!0;return!1}create(l,c,p,d){const{parentPath:h}=this,m=h==null?l.type==="Program"||l.type==="File"?new r.default:void 0:h.hub;return n.default.get({parentPath:h,parent:l,container:c,key:p,listKey:d,hub:m})}maybeQueue(l,c){this.queue&&(c?this.queue.push(l):this.priorityQueue.push(l))}visitMultiple(l,c,p){if(l.length===0)return!1;const d=[];for(let h=0;h<l.length;h++){const m=l[h];m&&this.shouldVisit(m)&&d.push(this.create(c,l,h,p))}return this.visitQueue(d)}visitSingle(l,c){return this.shouldVisit(l[c])?this.visitQueue([this.create(l,l,c)]):!1}visitQueue(l){this.queue=l,this.priorityQueue=[];const c=new WeakSet;let p=!1,d=0;for(;d<l.length;){const h=l[d];if(d++,t.resync.call(h),(h.contexts.length===0||h.contexts[h.contexts.length-1]!==this)&&t.pushContext.call(h,this),h.key===null)continue;const{node:m}=h;if(!c.has(m)){if(m&&c.add(m),h.visit()){p=!0;break}if(this.priorityQueue.length&&(p=this.visitQueue(this.priorityQueue),this.priorityQueue=[],this.queue=l,p))break}}for(let h=0;h<d;h++)t.popContext.call(l[h]);return this.queue=null,p}visit(l,c){const p=l[c];return p?Array.isArray(p)?this.visitMultiple(p,l,c):this.visitSingle(l,c):!1}}return Ah.default=i,Ah}var XM;function bP(){if(XM)return Rg;XM=1,Object.defineProperty(Rg,"__esModule",{value:!0}),Rg.traverseNode=r;var n=Zse();ap();var e=vn();al();const{VISITOR_KEYS:t}=e;function r(s,i,a,l,c,p,d){const h=t[s.type];if(!h)return!1;const m=new n.default(a,i,l,c);if(d)return p!=null&&p[c.parentKey]?!1:m.visitQueue([c]);for(const x of h)if(!(p!=null&&p[x])&&m.visit(s,x))return!0;return!1}return Rg}var GM;function al(){if(GM)return er;GM=1,Object.defineProperty(er,"__esModule",{value:!0}),er._call=i,er._forceSetScope=m,er._getQueueContexts=j,er._resyncKey=S,er._resyncList=C,er._resyncParent=P,er._resyncRemoved=I,er.call=s,er.isDenylisted=a,er.popContext=_,er.pushContext=D,er.requeue=L,er.requeueComputedKeyAndDecorators=B,er.resync=A,er.setContext=w,er.setKey=O,er.setScope=x,er.setup=F,er.skip=p,er.skipKey=d,er.stop=h,er.visit=c;var n=bP(),e=ap(),t=vP(),r=vn();function s(M){const ee=this.opts;if(this.debug(M),this.node&&i.call(this,ee[M]))return!0;if(this.node){var ue;return i.call(this,(ue=ee[this.node.type])==null?void 0:ue[M])}return!1}function i(M){if(!M)return!1;for(const ee of M){if(!ee)continue;const ue=this.node;if(!ue)return!0;const J=ee.call(this.state,this,this.state);if(J&&typeof J=="object"&&typeof J.then=="function")throw new Error("You appear to be using a plugin with an async traversal visitor, which your current version of Babel does not support. If you're using a published plugin, you may need to upgrade your @babel/core version.");if(J)throw new Error(`Unexpected return value from visitor method ${ee}`);if(this.node!==ue||this._traverseFlags>0)return!0}return!1}function a(){var M;const ee=(M=this.opts.denylist)!=null?M:this.opts.blacklist;return ee?.includes(this.node.type)}er.isBlacklisted=a;function l(M,ee){M.context!==ee&&(M.context=ee,M.state=ee.state,M.opts=ee.opts)}function c(){var M,ee;if(!this.node||this.isDenylisted()||(M=(ee=this.opts).shouldSkip)!=null&&M.call(ee,this))return!1;const ue=this.context;return this.shouldSkip||s.call(this,"enter")?(this.debug("Skip..."),this.shouldStop):(l(this,ue),this.debug("Recursing into..."),this.shouldStop=(0,n.traverseNode)(this.node,this.opts,this.scope,this.state,this,this.skipKeys),l(this,ue),s.call(this,"exit"),this.shouldStop)}function p(){this.shouldSkip=!0}function d(M){this.skipKeys==null&&(this.skipKeys={}),this.skipKeys[M]=!0}function h(){this._traverseFlags|=e.SHOULD_SKIP|e.SHOULD_STOP}function m(){var M;let ee=this.parentPath;((this.key==="key"||this.listKey==="decorators")&&ee.isMethod()||this.key==="discriminant"&&ee.isSwitchStatement())&&(ee=ee.parentPath);let ue;for(;ee&&!ue;)ue=ee.scope,ee=ee.parentPath;this.scope=this.getScope(ue),(M=this.scope)==null||M.init()}function x(){var M,ee;if((M=this.opts)!=null&&M.noScope)return;let ue=this.parentPath;((this.key==="key"||this.listKey==="decorators")&&ue.isMethod()||this.key==="discriminant"&&ue.isSwitchStatement())&&(ue=ue.parentPath);let J;for(;ue&&!J;){var ae;if((ae=ue.opts)!=null&&ae.noScope)return;J=ue.scope,ue=ue.parentPath}this.scope=this.getScope(J),(ee=this.scope)==null||ee.init()}function w(M){return this.skipKeys!=null&&(this.skipKeys={}),this._traverseFlags=0,M&&(this.context=M,this.state=M.state,this.opts=M.opts),x.call(this),this}function A(){this.removed||(P.call(this),C.call(this),S.call(this))}function P(){this.parentPath&&(this.parent=this.parentPath.node)}function S(){if(this.container&&this.node!==this.container[this.key]){if(Array.isArray(this.container)){for(let M=0;M<this.container.length;M++)if(this.container[M]===this.node){O.call(this,M);return}}else for(const M of Object.keys(this.container))if(this.container[M]===this.node){O.call(this,M);return}this.key=null}}function C(){if(!this.parent||!this.inList)return;const M=this.parent[this.listKey];this.container!==M&&(this.container=M||null)}function I(){(this.key==null||!this.container||this.container[this.key]!==this.node)&&t._markRemoved.call(this)}function _(){this.contexts.pop(),this.contexts.length>0?this.setContext(this.contexts[this.contexts.length-1]):this.setContext(void 0)}function D(M){this.contexts.push(M),this.setContext(M)}function F(M,ee,ue,J){this.listKey=ue,this.container=ee,this.parentPath=M||this.parentPath,O.call(this,J)}function O(M){var ee;this.key=M,this.node=this.container[this.key],this.type=(ee=this.node)==null?void 0:ee.type}function L(M=this){if(M.removed)return;const ee=this.contexts;for(const ue of ee)ue.maybeQueue(M)}function B(){const{context:M,node:ee}=this;if(!r.isPrivate(ee)&&ee.computed&&M.maybeQueue(this.get("key")),ee.decorators)for(const ue of this.get("decorators"))M.maybeQueue(ue)}function j(){let M=this,ee=this.contexts;for(;!ee.length&&(M=M.parentPath,!!M);)ee=M.contexts;return ee}return er}var YM;function Zm(){return YM||(YM=1,(function(n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"Hub",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(n,"NodePath",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(n,"Scope",{enumerable:!0,get:function(){return a.default}}),n.visitors=n.default=void 0,al();var e=Fv();n.visitors=e;var t=vn(),r=zf(),s=bP(),i=ap(),a=Q4(),l=hV();const{VISITOR_KEYS:c,removeProperties:p,traverseFast:d}=t;function h(m,x={},w,A,P,S){if(m){if(!x.noScope&&!w&&m.type!=="Program"&&m.type!=="File")throw new Error(`You must pass a scope and parentPath unless traversing a Program/File. Instead of that you tried to traverse a ${m.type} node without passing scope and parentPath.`);if(!P&&S)throw new Error("visitSelf can only be used when providing a NodePath.");c[m.type]&&(e.explode(x),(0,s.traverseNode)(m,x,w,A,P,void 0,S))}}n.default=h,h.visitors=e,h.verify=e.verify,h.explode=e.explode,h.cheap=function(m,x){d(m,x)},h.node=function(m,x,w,A,P,S){(0,s.traverseNode)(m,x,w,A,P,S)},h.clearNode=function(m,x){p(m,x)},h.removeProperties=function(m,x){return d(m,h.clearNode,x),m},h.hasType=function(m,x,w){return w!=null&&w.includes(m.type)?!1:m.type===x?!0:d(m,function(A){if(w!=null&&w.includes(A.type))return d.skip;if(A.type===x)return d.stop})},h.cache=r})(gb)),gb}var Qse=Zm();const Cb=wm(Qse);var _r=vn();const eie=typeof Cb.default=="function"?Cb.default:Cb;function tie(n,e=ds){if(!n.trim())return{nodes:[],edges:[],errors:[]};let t;try{t=ure.parse(n,{sourceType:"module",plugins:["typescript"],errorRecovery:!0})}catch(l){const c=l;return{nodes:[],edges:[],errors:[{message:c.message,line:c.loc?.line}]}}const r=new Map,s=[],i=[];let a=!1;try{eie(t,{VariableDeclarator(l){if(!_r.isIdentifier(l.node.id))return;const c=l.node.id.name,p=l.node.init;if(p){if(_r.isIdentifier(p)){const d=T4.get(p.name);if(d){const h=pa();s.push(fx(h,d,c)),r.set(c,h)}return}_r.isCallExpression(p)&&nie(p,c,s,i,r)}},ReturnStatement(l){if(a)return;const c=l.node.argument;if(!c)return;const p=ds.get("output");if(!p)return;const d=pa();if(s.push(fx(d,p,"Output")),a=!0,_r.isIdentifier(c)){const h=r.get(c.name);h&&i.push({id:`e-${h}-${d}-color`,source:h,sourceHandle:"out",target:d,targetHandle:"color",type:"typed",animated:!0,data:{dataType:"any"}})}}})}catch(l){const c=l instanceof Error?l.message:String(l);return{nodes:[],edges:[],errors:[{message:c}]}}if(!a){const l=ds.get("output");l&&s.push(fx(pa(),l,"Output"))}return{nodes:s,edges:i,errors:[]}}function nie(n,e,t,r,s){let i,a;if(_r.isIdentifier(n.callee)?i=n.callee.name:_r.isMemberExpression(n.callee)&&_r.isIdentifier(n.callee.property)&&(i=n.callee.property.name,_r.isIdentifier(n.callee.object)&&(a=n.callee.object.name)),!i)return;let l=T4.get(i);if(l||(l=ds.get(i)),!l)return;const c=pa();if(t.push(fx(c,l,e)),s.set(e,c),l.tslImportModule==="tsl-textures"&&n.arguments.length===1&&_r.isObjectExpression(n.arguments[0])){rie(n.arguments[0],c,l,t,r,s);return}let p=0;if(a&&l.inputs.length>0){const h=s.get(a);h&&r.push({id:`e-${h}-${c}-${l.inputs[0].id}`,source:h,sourceHandle:"out",target:c,targetHandle:l.inputs[0].id,type:"typed",animated:!0,data:{dataType:l.inputs[0].dataType}}),p=1}const d={};for(let h=0;h<n.arguments.length;h++){const m=n.arguments[h],x=l.inputs[p+h],w=qo(m);if(_r.isIdentifier(m)){if(!x)break;const A=s.get(m.name);A&&r.push({id:`e-${A}-${c}-${x.id}`,source:A,sourceHandle:"out",target:c,targetHandle:x.id,type:"typed",animated:!0,data:{dataType:x.dataType}})}else if(w!==void 0)if(l.inputs.length===0&&l.defaultValues){const A=Object.keys(l.defaultValues)[h]??"value";A==="hex"&&typeof w=="number"?d[A]="#"+Math.round(w).toString(16).padStart(6,"0"):d[A]=w}else x&&(d[x.id]=w)}if(Object.keys(d).length>0){const h=t.find(m=>m.id===c);if(h){const m=h.data;m.values={...m.values,...d}}}}function rie(n,e,t,r,s,i){const a={};for(const l of n.properties){if(!_r.isObjectProperty(l)||!_r.isIdentifier(l.key))continue;const c=l.key.name,p=l.value;if(_r.isIdentifier(p)){const m=i.get(p.name),x=t.inputs.find(w=>w.id===c);m&&x&&s.push({id:`e-${m}-${e}-${x.id}`,source:m,sourceHandle:"out",target:e,targetHandle:x.id,type:"typed",animated:!0,data:{dataType:x.dataType}});continue}const d=sie(p);if(d){d.type==="color"?a[c]=d.hex:d.type==="vec3"?(a[`${c}_x`]=d.x,a[`${c}_y`]=d.y,a[`${c}_z`]=d.z):d.type==="vec2"&&(a[`${c}_x`]=d.x,a[`${c}_y`]=d.y);continue}const h=qo(p);h!==void 0&&(a[c]=h)}if(Object.keys(a).length>0){const l=r.find(c=>c.id===e);if(l){const c=l.data;c.values={...c.values,...a}}}}function sie(n){if(!_r.isNewExpression(n))return null;let e;if(_r.isIdentifier(n.callee)?e=n.callee.name:_r.isMemberExpression(n.callee)&&_r.isIdentifier(n.callee.property)&&(e=n.callee.property.name),!e)return null;const t=n.arguments;if(e==="Color"){if(t.length===1){const r=qo(t[0]);if(typeof r=="number")return{type:"color",hex:"#"+Math.round(r).toString(16).padStart(6,"0")};if(typeof r=="string")return{type:"color",hex:r.startsWith("#")?r:`#${r}`}}else if(t.length===3){const r=qo(t[0])??0,s=qo(t[1])??0,i=qo(t[2])??0,a=Math.round(Number(r)*255).toString(16).padStart(2,"0"),l=Math.round(Number(s)*255).toString(16).padStart(2,"0"),c=Math.round(Number(i)*255).toString(16).padStart(2,"0");return{type:"color",hex:`#${a}${l}${c}`}}return{type:"color",hex:"#ff0000"}}if(e==="Vector3"){const r=Number(qo(t[0])??0),s=Number(qo(t[1])??0),i=Number(qo(t[2])??0);return{type:"vec3",x:r,y:s,z:i}}if(e==="Vector2"){const r=Number(qo(t[0])??0),s=Number(qo(t[1])??0);return{type:"vec2",x:r,y:s}}return null}function qo(n){if(_r.isNumericLiteral(n)||_r.isStringLiteral(n))return n.value;if(_r.isUnaryExpression(n)&&n.operator==="-"&&_r.isNumericLiteral(n.argument))return-n.argument.value}function fx(n,e,t){const s=kv.costs[e.type]??(e.category==="texture"?50:0);return{id:n,type:e.type==="output"?"output":e.type==="color"?"color":e.category==="noise"?"preview":e.type==="sin"||e.type==="cos"?"mathPreview":"shader",position:{x:0,y:0},data:{registryType:e.type,label:t,cost:s,values:{...e.defaultValues}}}}var Ib,JM;function wP(){if(JM)return Ib;JM=1;var n="\0",e="\0",t="";class r{_isDirected=!0;_isMultigraph=!1;_isCompound=!1;_label;_defaultNodeLabelFn=()=>{};_defaultEdgeLabelFn=()=>{};_nodes={};_in={};_preds={};_out={};_sucs={};_edgeObjs={};_edgeLabels={};_nodeCount=0;_edgeCount=0;_parent;_children;constructor(d){d&&(this._isDirected=Object.hasOwn(d,"directed")?d.directed:!0,this._isMultigraph=Object.hasOwn(d,"multigraph")?d.multigraph:!1,this._isCompound=Object.hasOwn(d,"compound")?d.compound:!1),this._isCompound&&(this._parent={},this._children={},this._children[e]={})}isDirected(){return this._isDirected}isMultigraph(){return this._isMultigraph}isCompound(){return this._isCompound}setGraph(d){return this._label=d,this}graph(){return this._label}setDefaultNodeLabel(d){return this._defaultNodeLabelFn=d,typeof d!="function"&&(this._defaultNodeLabelFn=()=>d),this}nodeCount(){return this._nodeCount}nodes(){return Object.keys(this._nodes)}sources(){var d=this;return this.nodes().filter(h=>Object.keys(d._in[h]).length===0)}sinks(){var d=this;return this.nodes().filter(h=>Object.keys(d._out[h]).length===0)}setNodes(d,h){var m=arguments,x=this;return d.forEach(function(w){m.length>1?x.setNode(w,h):x.setNode(w)}),this}setNode(d,h){return Object.hasOwn(this._nodes,d)?(arguments.length>1&&(this._nodes[d]=h),this):(this._nodes[d]=arguments.length>1?h:this._defaultNodeLabelFn(d),this._isCompound&&(this._parent[d]=e,this._children[d]={},this._children[e][d]=!0),this._in[d]={},this._preds[d]={},this._out[d]={},this._sucs[d]={},++this._nodeCount,this)}node(d){return this._nodes[d]}hasNode(d){return Object.hasOwn(this._nodes,d)}removeNode(d){var h=this;if(Object.hasOwn(this._nodes,d)){var m=x=>h.removeEdge(h._edgeObjs[x]);delete this._nodes[d],this._isCompound&&(this._removeFromParentsChildList(d),delete this._parent[d],this.children(d).forEach(function(x){h.setParent(x)}),delete this._children[d]),Object.keys(this._in[d]).forEach(m),delete this._in[d],delete this._preds[d],Object.keys(this._out[d]).forEach(m),delete this._out[d],delete this._sucs[d],--this._nodeCount}return this}setParent(d,h){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(h===void 0)h=e;else{h+="";for(var m=h;m!==void 0;m=this.parent(m))if(m===d)throw new Error("Setting "+h+" as parent of "+d+" would create a cycle");this.setNode(h)}return this.setNode(d),this._removeFromParentsChildList(d),this._parent[d]=h,this._children[h][d]=!0,this}_removeFromParentsChildList(d){delete this._children[this._parent[d]][d]}parent(d){if(this._isCompound){var h=this._parent[d];if(h!==e)return h}}children(d=e){if(this._isCompound){var h=this._children[d];if(h)return Object.keys(h)}else{if(d===e)return this.nodes();if(this.hasNode(d))return[]}}predecessors(d){var h=this._preds[d];if(h)return Object.keys(h)}successors(d){var h=this._sucs[d];if(h)return Object.keys(h)}neighbors(d){var h=this.predecessors(d);if(h){const x=new Set(h);for(var m of this.successors(d))x.add(m);return Array.from(x.values())}}isLeaf(d){var h;return this.isDirected()?h=this.successors(d):h=this.neighbors(d),h.length===0}filterNodes(d){var h=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});h.setGraph(this.graph());var m=this;Object.entries(this._nodes).forEach(function([A,P]){d(A)&&h.setNode(A,P)}),Object.values(this._edgeObjs).forEach(function(A){h.hasNode(A.v)&&h.hasNode(A.w)&&h.setEdge(A,m.edge(A))});var x={};function w(A){var P=m.parent(A);return P===void 0||h.hasNode(P)?(x[A]=P,P):P in x?x[P]:w(P)}return this._isCompound&&h.nodes().forEach(A=>h.setParent(A,w(A))),h}setDefaultEdgeLabel(d){return this._defaultEdgeLabelFn=d,typeof d!="function"&&(this._defaultEdgeLabelFn=()=>d),this}edgeCount(){return this._edgeCount}edges(){return Object.values(this._edgeObjs)}setPath(d,h){var m=this,x=arguments;return d.reduce(function(w,A){return x.length>1?m.setEdge(w,A,h):m.setEdge(w,A),A}),this}setEdge(){var d,h,m,x,w=!1,A=arguments[0];typeof A=="object"&&A!==null&&"v"in A?(d=A.v,h=A.w,m=A.name,arguments.length===2&&(x=arguments[1],w=!0)):(d=A,h=arguments[1],m=arguments[3],arguments.length>2&&(x=arguments[2],w=!0)),d=""+d,h=""+h,m!==void 0&&(m=""+m);var P=a(this._isDirected,d,h,m);if(Object.hasOwn(this._edgeLabels,P))return w&&(this._edgeLabels[P]=x),this;if(m!==void 0&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(d),this.setNode(h),this._edgeLabels[P]=w?x:this._defaultEdgeLabelFn(d,h,m);var S=l(this._isDirected,d,h,m);return d=S.v,h=S.w,Object.freeze(S),this._edgeObjs[P]=S,s(this._preds[h],d),s(this._sucs[d],h),this._in[h][P]=S,this._out[d][P]=S,this._edgeCount++,this}edge(d,h,m){var x=arguments.length===1?c(this._isDirected,arguments[0]):a(this._isDirected,d,h,m);return this._edgeLabels[x]}edgeAsObj(){const d=this.edge(...arguments);return typeof d!="object"?{label:d}:d}hasEdge(d,h,m){var x=arguments.length===1?c(this._isDirected,arguments[0]):a(this._isDirected,d,h,m);return Object.hasOwn(this._edgeLabels,x)}removeEdge(d,h,m){var x=arguments.length===1?c(this._isDirected,arguments[0]):a(this._isDirected,d,h,m),w=this._edgeObjs[x];return w&&(d=w.v,h=w.w,delete this._edgeLabels[x],delete this._edgeObjs[x],i(this._preds[h],d),i(this._sucs[d],h),delete this._in[h][x],delete this._out[d][x],this._edgeCount--),this}inEdges(d,h){var m=this._in[d];if(m){var x=Object.values(m);return h?x.filter(w=>w.v===h):x}}outEdges(d,h){var m=this._out[d];if(m){var x=Object.values(m);return h?x.filter(w=>w.w===h):x}}nodeEdges(d,h){var m=this.inEdges(d,h);if(m)return m.concat(this.outEdges(d,h))}}function s(p,d){p[d]?p[d]++:p[d]=1}function i(p,d){--p[d]||delete p[d]}function a(p,d,h,m){var x=""+d,w=""+h;if(!p&&x>w){var A=x;x=w,w=A}return x+t+w+t+(m===void 0?n:m)}function l(p,d,h,m){var x=""+d,w=""+h;if(!p&&x>w){var A=x;x=w,w=A}var P={v:x,w};return m&&(P.name=m),P}function c(p,d){return a(p,d.v,d.w,d.name)}return Ib=r,Ib}var Mb,ZM;function iie(){return ZM||(ZM=1,Mb="2.2.4"),Mb}var kb,QM;function aie(){return QM||(QM=1,kb={Graph:wP(),version:iie()}),kb}var Ob,ek;function oie(){if(ek)return Ob;ek=1;var n=wP();Ob={write:e,read:s};function e(i){var a={options:{directed:i.isDirected(),multigraph:i.isMultigraph(),compound:i.isCompound()},nodes:t(i),edges:r(i)};return i.graph()!==void 0&&(a.value=structuredClone(i.graph())),a}function t(i){return i.nodes().map(function(a){var l=i.node(a),c=i.parent(a),p={v:a};return l!==void 0&&(p.value=l),c!==void 0&&(p.parent=c),p})}function r(i){return i.edges().map(function(a){var l=i.edge(a),c={v:a.v,w:a.w};return a.name!==void 0&&(c.name=a.name),l!==void 0&&(c.value=l),c})}function s(i){var a=new n(i.options).setGraph(i.value);return i.nodes.forEach(function(l){a.setNode(l.v,l.value),l.parent&&a.setParent(l.v,l.parent)}),i.edges.forEach(function(l){a.setEdge({v:l.v,w:l.w,name:l.name},l.value)}),a}return Ob}var Lb,tk;function lie(){if(tk)return Lb;tk=1,Lb=n;function n(e){var t={},r=[],s;function i(a){Object.hasOwn(t,a)||(t[a]=!0,s.push(a),e.successors(a).forEach(i),e.predecessors(a).forEach(i))}return e.nodes().forEach(function(a){s=[],i(a),s.length&&r.push(s)}),r}return Lb}var Db,nk;function mV(){if(nk)return Db;nk=1;class n{_arr=[];_keyIndices={};size(){return this._arr.length}keys(){return this._arr.map(function(t){return t.key})}has(t){return Object.hasOwn(this._keyIndices,t)}priority(t){var r=this._keyIndices[t];if(r!==void 0)return this._arr[r].priority}min(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key}add(t,r){var s=this._keyIndices;if(t=String(t),!Object.hasOwn(s,t)){var i=this._arr,a=i.length;return s[t]=a,i.push({key:t,priority:r}),this._decrease(a),!0}return!1}removeMin(){this._swap(0,this._arr.length-1);var t=this._arr.pop();return delete this._keyIndices[t.key],this._heapify(0),t.key}decrease(t,r){var s=this._keyIndices[t];if(r>this._arr[s].priority)throw new Error("New priority is greater than current priority. Key: "+t+" Old: "+this._arr[s].priority+" New: "+r);this._arr[s].priority=r,this._decrease(s)}_heapify(t){var r=this._arr,s=2*t,i=s+1,a=t;s<r.length&&(a=r[s].priority<r[a].priority?s:a,i<r.length&&(a=r[i].priority<r[a].priority?i:a),a!==t&&(this._swap(t,a),this._heapify(a)))}_decrease(t){for(var r=this._arr,s=r[t].priority,i;t!==0&&(i=t>>1,!(r[i].priority<s));)this._swap(t,i),t=i}_swap(t,r){var s=this._arr,i=this._keyIndices,a=s[t],l=s[r];s[t]=l,s[r]=a,i[l.key]=t,i[a.key]=r}}return Db=n,Db}var Rb,rk;function yV(){if(rk)return Rb;rk=1;var n=mV();Rb=t;var e=()=>1;function t(s,i,a,l){return r(s,String(i),a||e,l||function(c){return s.outEdges(c)})}function r(s,i,a,l){var c={},p=new n,d,h,m=function(x){var w=x.v!==d?x.v:x.w,A=c[w],P=a(x),S=h.distance+P;if(P<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+x+" Weight: "+P);S<A.distance&&(A.distance=S,A.predecessor=d,p.decrease(w,S))};for(s.nodes().forEach(function(x){var w=x===i?0:Number.POSITIVE_INFINITY;c[x]={distance:w},p.add(x,w)});p.size()>0&&(d=p.removeMin(),h=c[d],h.distance!==Number.POSITIVE_INFINITY);)l(d).forEach(m);return c}return Rb}var Fb,sk;function uie(){if(sk)return Fb;sk=1;var n=yV();Fb=e;function e(t,r,s){return t.nodes().reduce(function(i,a){return i[a]=n(t,a,r,s),i},{})}return Fb}var Bb,ik;function gV(){if(ik)return Bb;ik=1,Bb=n;function n(e){var t=0,r=[],s={},i=[];function a(l){var c=s[l]={onStack:!0,lowlink:t,index:t++};if(r.push(l),e.successors(l).forEach(function(h){Object.hasOwn(s,h)?s[h].onStack&&(c.lowlink=Math.min(c.lowlink,s[h].index)):(a(h),c.lowlink=Math.min(c.lowlink,s[h].lowlink))}),c.lowlink===c.index){var p=[],d;do d=r.pop(),s[d].onStack=!1,p.push(d);while(l!==d);i.push(p)}}return e.nodes().forEach(function(l){Object.hasOwn(s,l)||a(l)}),i}return Bb}var Vb,ak;function cie(){if(ak)return Vb;ak=1;var n=gV();Vb=e;function e(t){return n(t).filter(function(r){return r.length>1||r.length===1&&t.hasEdge(r[0],r[0])})}return Vb}var jb,ok;function pie(){if(ok)return jb;ok=1,jb=e;var n=()=>1;function e(r,s,i){return t(r,s||n,i||function(a){return r.outEdges(a)})}function t(r,s,i){var a={},l=r.nodes();return l.forEach(function(c){a[c]={},a[c][c]={distance:0},l.forEach(function(p){c!==p&&(a[c][p]={distance:Number.POSITIVE_INFINITY})}),i(c).forEach(function(p){var d=p.v===c?p.w:p.v,h=s(p);a[c][d]={distance:h,predecessor:c}})}),l.forEach(function(c){var p=a[c];l.forEach(function(d){var h=a[d];l.forEach(function(m){var x=h[c],w=p[m],A=h[m],P=x.distance+w.distance;P<A.distance&&(A.distance=P,A.predecessor=w.predecessor)})})}),a}return jb}var zb,lk;function xV(){if(lk)return zb;lk=1;function n(t){var r={},s={},i=[];function a(l){if(Object.hasOwn(s,l))throw new e;Object.hasOwn(r,l)||(s[l]=!0,r[l]=!0,t.predecessors(l).forEach(a),delete s[l],i.push(l))}if(t.sinks().forEach(a),Object.keys(r).length!==t.nodeCount())throw new e;return i}class e extends Error{constructor(){super(...arguments)}}return zb=n,n.CycleException=e,zb}var Ub,uk;function die(){if(uk)return Ub;uk=1;var n=xV();Ub=e;function e(t){try{n(t)}catch(r){if(r instanceof n.CycleException)return!1;throw r}return!0}return Ub}var qb,ck;function vV(){if(ck)return qb;ck=1,qb=n;function n(s,i,a){Array.isArray(i)||(i=[i]);var l=s.isDirected()?h=>s.successors(h):h=>s.neighbors(h),c=a==="post"?e:t,p=[],d={};return i.forEach(h=>{if(!s.hasNode(h))throw new Error("Graph does not have node: "+h);c(h,l,d,p)}),p}function e(s,i,a,l){for(var c=[[s,!1]];c.length>0;){var p=c.pop();p[1]?l.push(p[0]):Object.hasOwn(a,p[0])||(a[p[0]]=!0,c.push([p[0],!0]),r(i(p[0]),d=>c.push([d,!1])))}}function t(s,i,a,l){for(var c=[s];c.length>0;){var p=c.pop();Object.hasOwn(a,p)||(a[p]=!0,l.push(p),r(i(p),d=>c.push(d)))}}function r(s,i){for(var a=s.length;a--;)i(s[a],a,s);return s}return qb}var $b,pk;function fie(){if(pk)return $b;pk=1;var n=vV();$b=e;function e(t,r){return n(t,r,"post")}return $b}var Wb,dk;function hie(){if(dk)return Wb;dk=1;var n=vV();Wb=e;function e(t,r){return n(t,r,"pre")}return Wb}var Hb,fk;function mie(){if(fk)return Hb;fk=1;var n=wP(),e=mV();Hb=t;function t(r,s){var i=new n,a={},l=new e,c;function p(h){var m=h.v===c?h.w:h.v,x=l.priority(m);if(x!==void 0){var w=s(h);w<x&&(a[m]=c,l.decrease(m,w))}}if(r.nodeCount()===0)return i;r.nodes().forEach(function(h){l.add(h,Number.POSITIVE_INFINITY),i.setNode(h)}),l.decrease(r.nodes()[0],0);for(var d=!1;l.size()>0;){if(c=l.removeMin(),Object.hasOwn(a,c))i.setEdge(c,a[c]);else{if(d)throw new Error("Input graph is not connected: "+r);d=!0}r.nodeEdges(c).forEach(p)}return i}return Hb}var Kb,hk;function yie(){return hk||(hk=1,Kb={components:lie(),dijkstra:yV(),dijkstraAll:uie(),findCycles:cie(),floydWarshall:pie(),isAcyclic:die(),postorder:fie(),preorder:hie(),prim:mie(),tarjan:gV(),topsort:xV()}),Kb}var Xb,mk;function rl(){if(mk)return Xb;mk=1;var n=aie();return Xb={Graph:n.Graph,json:oie(),alg:yie(),version:n.version},Xb}var Gb,yk;function gie(){if(yk)return Gb;yk=1;class n{constructor(){let s={};s._next=s._prev=s,this._sentinel=s}dequeue(){let s=this._sentinel,i=s._prev;if(i!==s)return e(i),i}enqueue(s){let i=this._sentinel;s._prev&&s._next&&e(s),s._next=i._next,i._next._prev=s,i._next=s,s._prev=i}toString(){let s=[],i=this._sentinel,a=i._prev;for(;a!==i;)s.push(JSON.stringify(a,t)),a=a._prev;return"["+s.join(", ")+"]"}}function e(r){r._prev._next=r._next,r._next._prev=r._prev,delete r._next,delete r._prev}function t(r,s){if(r!=="_next"&&r!=="_prev")return s}return Gb=n,Gb}var Yb,gk;function xie(){if(gk)return Yb;gk=1;let n=rl().Graph,e=gie();Yb=r;let t=()=>1;function r(p,d){if(p.nodeCount()<=1)return[];let h=a(p,d||t);return s(h.graph,h.buckets,h.zeroIdx).flatMap(x=>p.outEdges(x.v,x.w))}function s(p,d,h){let m=[],x=d[d.length-1],w=d[0],A;for(;p.nodeCount();){for(;A=w.dequeue();)i(p,d,h,A);for(;A=x.dequeue();)i(p,d,h,A);if(p.nodeCount()){for(let P=d.length-2;P>0;--P)if(A=d[P].dequeue(),A){m=m.concat(i(p,d,h,A,!0));break}}}return m}function i(p,d,h,m,x){let w=x?[]:void 0;return p.inEdges(m.v).forEach(A=>{let P=p.edge(A),S=p.node(A.v);x&&w.push({v:A.v,w:A.w}),S.out-=P,l(d,h,S)}),p.outEdges(m.v).forEach(A=>{let P=p.edge(A),S=A.w,C=p.node(S);C.in-=P,l(d,h,C)}),p.removeNode(m.v),w}function a(p,d){let h=new n,m=0,x=0;p.nodes().forEach(P=>{h.setNode(P,{v:P,in:0,out:0})}),p.edges().forEach(P=>{let S=h.edge(P.v,P.w)||0,C=d(P),I=S+C;h.setEdge(P.v,P.w,I),x=Math.max(x,h.node(P.v).out+=C),m=Math.max(m,h.node(P.w).in+=C)});let w=c(x+m+3).map(()=>new e),A=m+1;return h.nodes().forEach(P=>{l(w,A,h.node(P))}),{graph:h,buckets:w,zeroIdx:A}}function l(p,d,h){h.out?h.in?p[h.out-h.in+d].enqueue(h):p[p.length-1].enqueue(h):p[0].enqueue(h)}function c(p){const d=[];for(let h=0;h<p;h++)d.push(h);return d}return Yb}var Jb,xk;function Ur(){if(xk)return Jb;xk=1;let n=rl().Graph;Jb={addBorderNode:d,addDummyNode:e,applyWithChunking:x,asNonCompoundGraph:r,buildLayerMatrix:l,intersectRect:a,mapValues:F,maxRank:w,normalizeRanks:c,notime:S,partition:A,pick:D,predecessorWeights:i,range:_,removeEmptyRanks:p,simplify:t,successorWeights:s,time:P,uniqueId:I,zipObject:O};function e(L,B,j,M){for(var ee=M;L.hasNode(ee);)ee=I(M);return j.dummy=B,L.setNode(ee,j),ee}function t(L){let B=new n().setGraph(L.graph());return L.nodes().forEach(j=>B.setNode(j,L.node(j))),L.edges().forEach(j=>{let M=B.edge(j.v,j.w)||{weight:0,minlen:1},ee=L.edge(j);B.setEdge(j.v,j.w,{weight:M.weight+ee.weight,minlen:Math.max(M.minlen,ee.minlen)})}),B}function r(L){let B=new n({multigraph:L.isMultigraph()}).setGraph(L.graph());return L.nodes().forEach(j=>{L.children(j).length||B.setNode(j,L.node(j))}),L.edges().forEach(j=>{B.setEdge(j,L.edge(j))}),B}function s(L){let B=L.nodes().map(j=>{let M={};return L.outEdges(j).forEach(ee=>{M[ee.w]=(M[ee.w]||0)+L.edge(ee).weight}),M});return O(L.nodes(),B)}function i(L){let B=L.nodes().map(j=>{let M={};return L.inEdges(j).forEach(ee=>{M[ee.v]=(M[ee.v]||0)+L.edge(ee).weight}),M});return O(L.nodes(),B)}function a(L,B){let j=L.x,M=L.y,ee=B.x-j,ue=B.y-M,J=L.width/2,ae=L.height/2;if(!ee&&!ue)throw new Error("Not possible to find intersection inside of the rectangle");let oe,re;return Math.abs(ue)*J>Math.abs(ee)*ae?(ue<0&&(ae=-ae),oe=ae*ee/ue,re=ae):(ee<0&&(J=-J),oe=J,re=J*ue/ee),{x:j+oe,y:M+re}}function l(L){let B=_(w(L)+1).map(()=>[]);return L.nodes().forEach(j=>{let M=L.node(j),ee=M.rank;ee!==void 0&&(B[ee][M.order]=j)}),B}function c(L){let B=L.nodes().map(M=>{let ee=L.node(M).rank;return ee===void 0?Number.MAX_VALUE:ee}),j=x(Math.min,B);L.nodes().forEach(M=>{let ee=L.node(M);Object.hasOwn(ee,"rank")&&(ee.rank-=j)})}function p(L){let B=L.nodes().map(J=>L.node(J).rank),j=x(Math.min,B),M=[];L.nodes().forEach(J=>{let ae=L.node(J).rank-j;M[ae]||(M[ae]=[]),M[ae].push(J)});let ee=0,ue=L.graph().nodeRankFactor;Array.from(M).forEach((J,ae)=>{J===void 0&&ae%ue!==0?--ee:J!==void 0&&ee&&J.forEach(oe=>L.node(oe).rank+=ee)})}function d(L,B,j,M){let ee={width:0,height:0};return arguments.length>=4&&(ee.rank=j,ee.order=M),e(L,"border",ee,B)}function h(L,B=m){const j=[];for(let M=0;M<L.length;M+=B){const ee=L.slice(M,M+B);j.push(ee)}return j}const m=65535;function x(L,B){if(B.length>m){const j=h(B);return L.apply(null,j.map(M=>L.apply(null,M)))}else return L.apply(null,B)}function w(L){const j=L.nodes().map(M=>{let ee=L.node(M).rank;return ee===void 0?Number.MIN_VALUE:ee});return x(Math.max,j)}function A(L,B){let j={lhs:[],rhs:[]};return L.forEach(M=>{B(M)?j.lhs.push(M):j.rhs.push(M)}),j}function P(L,B){let j=Date.now();try{return B()}finally{console.log(L+" time: "+(Date.now()-j)+"ms")}}function S(L,B){return B()}let C=0;function I(L){var B=++C;return L+(""+B)}function _(L,B,j=1){B==null&&(B=L,L=0);let M=ue=>ue<B;j<0&&(M=ue=>B<ue);const ee=[];for(let ue=L;M(ue);ue+=j)ee.push(ue);return ee}function D(L,B){const j={};for(const M of B)L[M]!==void 0&&(j[M]=L[M]);return j}function F(L,B){let j=B;return typeof B=="string"&&(j=M=>M[B]),Object.entries(L).reduce((M,[ee,ue])=>(M[ee]=j(ue,ee),M),{})}function O(L,B){return L.reduce((j,M,ee)=>(j[M]=B[ee],j),{})}return Jb}var Zb,vk;function vie(){if(vk)return Zb;vk=1;let n=xie(),e=Ur().uniqueId;Zb={run:t,undo:s};function t(i){(i.graph().acyclicer==="greedy"?n(i,l(i)):r(i)).forEach(c=>{let p=i.edge(c);i.removeEdge(c),p.forwardName=c.name,p.reversed=!0,i.setEdge(c.w,c.v,p,e("rev"))});function l(c){return p=>c.edge(p).weight}}function r(i){let a=[],l={},c={};function p(d){Object.hasOwn(c,d)||(c[d]=!0,l[d]=!0,i.outEdges(d).forEach(h=>{Object.hasOwn(l,h.w)?a.push(h):p(h.w)}),delete l[d])}return i.nodes().forEach(p),a}function s(i){i.edges().forEach(a=>{let l=i.edge(a);if(l.reversed){i.removeEdge(a);let c=l.forwardName;delete l.reversed,delete l.forwardName,i.setEdge(a.w,a.v,l,c)}})}return Zb}var Qb,Tk;function Tie(){if(Tk)return Qb;Tk=1;let n=Ur();Qb={run:e,undo:r};function e(s){s.graph().dummyChains=[],s.edges().forEach(i=>t(s,i))}function t(s,i){let a=i.v,l=s.node(a).rank,c=i.w,p=s.node(c).rank,d=i.name,h=s.edge(i),m=h.labelRank;if(p===l+1)return;s.removeEdge(i);let x,w,A;for(A=0,++l;l<p;++A,++l)h.points=[],w={width:0,height:0,edgeLabel:h,edgeObj:i,rank:l},x=n.addDummyNode(s,"edge",w,"_d"),l===m&&(w.width=h.width,w.height=h.height,w.dummy="edge-label",w.labelpos=h.labelpos),s.setEdge(a,x,{weight:h.weight},d),A===0&&s.graph().dummyChains.push(x),a=x;s.setEdge(a,c,{weight:h.weight},d)}function r(s){s.graph().dummyChains.forEach(i=>{let a=s.node(i),l=a.edgeLabel,c;for(s.setEdge(a.edgeObj,l);a.dummy;)c=s.successors(i)[0],s.removeNode(i),l.points.push({x:a.x,y:a.y}),a.dummy==="edge-label"&&(l.x=a.x,l.y=a.y,l.width=a.width,l.height=a.height),i=c,a=s.node(i)})}return Qb}var e1,Sk;function qx(){if(Sk)return e1;Sk=1;const{applyWithChunking:n}=Ur();e1={longestPath:e,slack:t};function e(r){var s={};function i(a){var l=r.node(a);if(Object.hasOwn(s,a))return l.rank;s[a]=!0;let c=r.outEdges(a).map(d=>d==null?Number.POSITIVE_INFINITY:i(d.w)-r.edge(d).minlen);var p=n(Math.min,c);return p===Number.POSITIVE_INFINITY&&(p=0),l.rank=p}r.sources().forEach(i)}function t(r,s){return r.node(s.w).rank-r.node(s.v).rank-r.edge(s).minlen}return e1}var t1,bk;function TV(){if(bk)return t1;bk=1;var n=rl().Graph,e=qx().slack;t1=t;function t(a){var l=new n({directed:!1}),c=a.nodes()[0],p=a.nodeCount();l.setNode(c,{});for(var d,h;r(l,a)<p;)d=s(l,a),h=l.hasNode(d.v)?e(a,d):-e(a,d),i(l,a,h);return l}function r(a,l){function c(p){l.nodeEdges(p).forEach(d=>{var h=d.v,m=p===h?d.w:h;!a.hasNode(m)&&!e(l,d)&&(a.setNode(m,{}),a.setEdge(p,m,{}),c(m))})}return a.nodes().forEach(c),a.nodeCount()}function s(a,l){return l.edges().reduce((p,d)=>{let h=Number.POSITIVE_INFINITY;return a.hasNode(d.v)!==a.hasNode(d.w)&&(h=e(l,d)),h<p[0]?[h,d]:p},[Number.POSITIVE_INFINITY,null])[1]}function i(a,l,c){a.nodes().forEach(p=>l.node(p).rank+=c)}return t1}var n1,wk;function Sie(){if(wk)return n1;wk=1;var n=TV(),e=qx().slack,t=qx().longestPath,r=rl().alg.preorder,s=rl().alg.postorder,i=Ur().simplify;n1=a,a.initLowLimValues=d,a.initCutValues=l,a.calcCutValue=p,a.leaveEdge=m,a.enterEdge=x,a.exchangeEdges=w;function a(C){C=i(C),t(C);var I=n(C);d(I),l(I,C);for(var _,D;_=m(I);)D=x(I,C,_),w(I,C,_,D)}function l(C,I){var _=s(C,C.nodes());_=_.slice(0,_.length-1),_.forEach(D=>c(C,I,D))}function c(C,I,_){var D=C.node(_),F=D.parent;C.edge(_,F).cutvalue=p(C,I,_)}function p(C,I,_){var D=C.node(_),F=D.parent,O=!0,L=I.edge(_,F),B=0;return L||(O=!1,L=I.edge(F,_)),B=L.weight,I.nodeEdges(_).forEach(j=>{var M=j.v===_,ee=M?j.w:j.v;if(ee!==F){var ue=M===O,J=I.edge(j).weight;if(B+=ue?J:-J,P(C,_,ee)){var ae=C.edge(_,ee).cutvalue;B+=ue?-ae:ae}}}),B}function d(C,I){arguments.length<2&&(I=C.nodes()[0]),h(C,{},1,I)}function h(C,I,_,D,F){var O=_,L=C.node(D);return I[D]=!0,C.neighbors(D).forEach(B=>{Object.hasOwn(I,B)||(_=h(C,I,_,B,D))}),L.low=O,L.lim=_++,F?L.parent=F:delete L.parent,_}function m(C){return C.edges().find(I=>C.edge(I).cutvalue<0)}function x(C,I,_){var D=_.v,F=_.w;I.hasEdge(D,F)||(D=_.w,F=_.v);var O=C.node(D),L=C.node(F),B=O,j=!1;O.lim>L.lim&&(B=L,j=!0);var M=I.edges().filter(ee=>j===S(C,C.node(ee.v),B)&&j!==S(C,C.node(ee.w),B));return M.reduce((ee,ue)=>e(I,ue)<e(I,ee)?ue:ee)}function w(C,I,_,D){var F=_.v,O=_.w;C.removeEdge(F,O),C.setEdge(D.v,D.w,{}),d(C),l(C,I),A(C,I)}function A(C,I){var _=C.nodes().find(F=>!I.node(F).parent),D=r(C,_);D=D.slice(1),D.forEach(F=>{var O=C.node(F).parent,L=I.edge(F,O),B=!1;L||(L=I.edge(O,F),B=!0),I.node(F).rank=I.node(O).rank+(B?L.minlen:-L.minlen)})}function P(C,I,_){return C.hasEdge(I,_)}function S(C,I,_){return _.low<=I.lim&&I.lim<=_.lim}return n1}var r1,Ek;function bie(){if(Ek)return r1;Ek=1;var n=qx(),e=n.longestPath,t=TV(),r=Sie();r1=s;function s(c){var p=c.graph().ranker;if(p instanceof Function)return p(c);switch(c.graph().ranker){case"network-simplex":l(c);break;case"tight-tree":a(c);break;case"longest-path":i(c);break;case"none":break;default:l(c)}}var i=e;function a(c){e(c),t(c)}function l(c){r(c)}return r1}var s1,Pk;function wie(){if(Pk)return s1;Pk=1,s1=n;function n(r){let s=t(r);r.graph().dummyChains.forEach(i=>{let a=r.node(i),l=a.edgeObj,c=e(r,s,l.v,l.w),p=c.path,d=c.lca,h=0,m=p[h],x=!0;for(;i!==l.w;){if(a=r.node(i),x){for(;(m=p[h])!==d&&r.node(m).maxRank<a.rank;)h++;m===d&&(x=!1)}if(!x){for(;h<p.length-1&&r.node(m=p[h+1]).minRank<=a.rank;)h++;m=p[h]}r.setParent(i,m),i=r.successors(i)[0]}})}function e(r,s,i,a){let l=[],c=[],p=Math.min(s[i].low,s[a].low),d=Math.max(s[i].lim,s[a].lim),h,m;h=i;do h=r.parent(h),l.push(h);while(h&&(s[h].low>p||d>s[h].lim));for(m=h,h=a;(h=r.parent(h))!==m;)c.push(h);return{path:l.concat(c.reverse()),lca:m}}function t(r){let s={},i=0;function a(l){let c=i;r.children(l).forEach(a),s[l]={low:c,lim:i++}}return r.children().forEach(a),s}return s1}var i1,Ak;function Eie(){if(Ak)return i1;Ak=1;let n=Ur();i1={run:e,cleanup:i};function e(a){let l=n.addDummyNode(a,"root",{},"_root"),c=r(a),p=Object.values(c),d=n.applyWithChunking(Math.max,p)-1,h=2*d+1;a.graph().nestingRoot=l,a.edges().forEach(x=>a.edge(x).minlen*=h);let m=s(a)+1;a.children().forEach(x=>t(a,l,h,m,d,c,x)),a.graph().nodeRankFactor=h}function t(a,l,c,p,d,h,m){let x=a.children(m);if(!x.length){m!==l&&a.setEdge(l,m,{weight:0,minlen:c});return}let w=n.addBorderNode(a,"_bt"),A=n.addBorderNode(a,"_bb"),P=a.node(m);a.setParent(w,m),P.borderTop=w,a.setParent(A,m),P.borderBottom=A,x.forEach(S=>{t(a,l,c,p,d,h,S);let C=a.node(S),I=C.borderTop?C.borderTop:S,_=C.borderBottom?C.borderBottom:S,D=C.borderTop?p:2*p,F=I!==_?1:d-h[m]+1;a.setEdge(w,I,{weight:D,minlen:F,nestingEdge:!0}),a.setEdge(_,A,{weight:D,minlen:F,nestingEdge:!0})}),a.parent(m)||a.setEdge(l,w,{weight:0,minlen:d+h[m]})}function r(a){var l={};function c(p,d){var h=a.children(p);h&&h.length&&h.forEach(m=>c(m,d+1)),l[p]=d}return a.children().forEach(p=>c(p,1)),l}function s(a){return a.edges().reduce((l,c)=>l+a.edge(c).weight,0)}function i(a){var l=a.graph();a.removeNode(l.nestingRoot),delete l.nestingRoot,a.edges().forEach(c=>{var p=a.edge(c);p.nestingEdge&&a.removeEdge(c)})}return i1}var a1,Nk;function Pie(){if(Nk)return a1;Nk=1;let n=Ur();a1=e;function e(r){function s(i){let a=r.children(i),l=r.node(i);if(a.length&&a.forEach(s),Object.hasOwn(l,"minRank")){l.borderLeft=[],l.borderRight=[];for(let c=l.minRank,p=l.maxRank+1;c<p;++c)t(r,"borderLeft","_bl",i,l,c),t(r,"borderRight","_br",i,l,c)}}r.children().forEach(s)}function t(r,s,i,a,l,c){let p={width:0,height:0,rank:c,borderType:s},d=l[s][c-1],h=n.addDummyNode(r,"border",p,i);l[s][c]=h,r.setParent(h,a),d&&r.setEdge(d,h,{weight:1})}return a1}var o1,_k;function Aie(){if(_k)return o1;_k=1,o1={adjust:n,undo:e};function n(c){let p=c.graph().rankdir.toLowerCase();(p==="lr"||p==="rl")&&t(c)}function e(c){let p=c.graph().rankdir.toLowerCase();(p==="bt"||p==="rl")&&s(c),(p==="lr"||p==="rl")&&(a(c),t(c))}function t(c){c.nodes().forEach(p=>r(c.node(p))),c.edges().forEach(p=>r(c.edge(p)))}function r(c){let p=c.width;c.width=c.height,c.height=p}function s(c){c.nodes().forEach(p=>i(c.node(p))),c.edges().forEach(p=>{let d=c.edge(p);d.points.forEach(i),Object.hasOwn(d,"y")&&i(d)})}function i(c){c.y=-c.y}function a(c){c.nodes().forEach(p=>l(c.node(p))),c.edges().forEach(p=>{let d=c.edge(p);d.points.forEach(l),Object.hasOwn(d,"x")&&l(d)})}function l(c){let p=c.x;c.x=c.y,c.y=p}return o1}var l1,Ck;function Nie(){if(Ck)return l1;Ck=1;let n=Ur();l1=e;function e(t){let r={},s=t.nodes().filter(d=>!t.children(d).length),i=s.map(d=>t.node(d).rank),a=n.applyWithChunking(Math.max,i),l=n.range(a+1).map(()=>[]);function c(d){if(r[d])return;r[d]=!0;let h=t.node(d);l[h.rank].push(d),t.successors(d).forEach(c)}return s.sort((d,h)=>t.node(d).rank-t.node(h).rank).forEach(c),l}return l1}var u1,Ik;function _ie(){if(Ik)return u1;Ik=1;let n=Ur().zipObject;u1=e;function e(r,s){let i=0;for(let a=1;a<s.length;++a)i+=t(r,s[a-1],s[a]);return i}function t(r,s,i){let a=n(i,i.map((m,x)=>x)),l=s.flatMap(m=>r.outEdges(m).map(x=>({pos:a[x.w],weight:r.edge(x).weight})).sort((x,w)=>x.pos-w.pos)),c=1;for(;c<i.length;)c<<=1;let p=2*c-1;c-=1;let d=new Array(p).fill(0),h=0;return l.forEach(m=>{let x=m.pos+c;d[x]+=m.weight;let w=0;for(;x>0;)x%2&&(w+=d[x+1]),x=x-1>>1,d[x]+=m.weight;h+=m.weight*w}),h}return u1}var c1,Mk;function Cie(){if(Mk)return c1;Mk=1,c1=n;function n(e,t=[]){return t.map(r=>{let s=e.inEdges(r);if(s.length){let i=s.reduce((a,l)=>{let c=e.edge(l),p=e.node(l.v);return{sum:a.sum+c.weight*p.order,weight:a.weight+c.weight}},{sum:0,weight:0});return{v:r,barycenter:i.sum/i.weight,weight:i.weight}}else return{v:r}})}return c1}var p1,kk;function Iie(){if(kk)return p1;kk=1;let n=Ur();p1=e;function e(s,i){let a={};s.forEach((c,p)=>{let d=a[c.v]={indegree:0,in:[],out:[],vs:[c.v],i:p};c.barycenter!==void 0&&(d.barycenter=c.barycenter,d.weight=c.weight)}),i.edges().forEach(c=>{let p=a[c.v],d=a[c.w];p!==void 0&&d!==void 0&&(d.indegree++,p.out.push(a[c.w]))});let l=Object.values(a).filter(c=>!c.indegree);return t(l)}function t(s){let i=[];function a(c){return p=>{p.merged||(p.barycenter===void 0||c.barycenter===void 0||p.barycenter>=c.barycenter)&&r(c,p)}}function l(c){return p=>{p.in.push(c),--p.indegree===0&&s.push(p)}}for(;s.length;){let c=s.pop();i.push(c),c.in.reverse().forEach(a(c)),c.out.forEach(l(c))}return i.filter(c=>!c.merged).map(c=>n.pick(c,["vs","i","barycenter","weight"]))}function r(s,i){let a=0,l=0;s.weight&&(a+=s.barycenter*s.weight,l+=s.weight),i.weight&&(a+=i.barycenter*i.weight,l+=i.weight),s.vs=i.vs.concat(s.vs),s.barycenter=a/l,s.weight=l,s.i=Math.min(i.i,s.i),i.merged=!0}return p1}var d1,Ok;function Mie(){if(Ok)return d1;Ok=1;let n=Ur();d1=e;function e(s,i){let a=n.partition(s,w=>Object.hasOwn(w,"barycenter")),l=a.lhs,c=a.rhs.sort((w,A)=>A.i-w.i),p=[],d=0,h=0,m=0;l.sort(r(!!i)),m=t(p,c,m),l.forEach(w=>{m+=w.vs.length,p.push(w.vs),d+=w.barycenter*w.weight,h+=w.weight,m=t(p,c,m)});let x={vs:p.flat(!0)};return h&&(x.barycenter=d/h,x.weight=h),x}function t(s,i,a){let l;for(;i.length&&(l=i[i.length-1]).i<=a;)i.pop(),s.push(l.vs),a++;return a}function r(s){return(i,a)=>i.barycenter<a.barycenter?-1:i.barycenter>a.barycenter?1:s?a.i-i.i:i.i-a.i}return d1}var f1,Lk;function kie(){if(Lk)return f1;Lk=1;let n=Cie(),e=Iie(),t=Mie();f1=r;function r(a,l,c,p){let d=a.children(l),h=a.node(l),m=h?h.borderLeft:void 0,x=h?h.borderRight:void 0,w={};m&&(d=d.filter(C=>C!==m&&C!==x));let A=n(a,d);A.forEach(C=>{if(a.children(C.v).length){let I=r(a,C.v,c,p);w[C.v]=I,Object.hasOwn(I,"barycenter")&&i(C,I)}});let P=e(A,c);s(P,w);let S=t(P,p);if(m&&(S.vs=[m,S.vs,x].flat(!0),a.predecessors(m).length)){let C=a.node(a.predecessors(m)[0]),I=a.node(a.predecessors(x)[0]);Object.hasOwn(S,"barycenter")||(S.barycenter=0,S.weight=0),S.barycenter=(S.barycenter*S.weight+C.order+I.order)/(S.weight+2),S.weight+=2}return S}function s(a,l){a.forEach(c=>{c.vs=c.vs.flatMap(p=>l[p]?l[p].vs:p)})}function i(a,l){a.barycenter!==void 0?(a.barycenter=(a.barycenter*a.weight+l.barycenter*l.weight)/(a.weight+l.weight),a.weight+=l.weight):(a.barycenter=l.barycenter,a.weight=l.weight)}return f1}var h1,Dk;function Oie(){if(Dk)return h1;Dk=1;let n=rl().Graph,e=Ur();h1=t;function t(s,i,a,l){l||(l=s.nodes());let c=r(s),p=new n({compound:!0}).setGraph({root:c}).setDefaultNodeLabel(d=>s.node(d));return l.forEach(d=>{let h=s.node(d),m=s.parent(d);(h.rank===i||h.minRank<=i&&i<=h.maxRank)&&(p.setNode(d),p.setParent(d,m||c),s[a](d).forEach(x=>{let w=x.v===d?x.w:x.v,A=p.edge(w,d),P=A!==void 0?A.weight:0;p.setEdge(w,d,{weight:s.edge(x).weight+P})}),Object.hasOwn(h,"minRank")&&p.setNode(d,{borderLeft:h.borderLeft[i],borderRight:h.borderRight[i]}))}),p}function r(s){for(var i;s.hasNode(i=e.uniqueId("_root")););return i}return h1}var m1,Rk;function Lie(){if(Rk)return m1;Rk=1,m1=n;function n(e,t,r){let s={},i;r.forEach(a=>{let l=e.parent(a),c,p;for(;l;){if(c=e.parent(l),c?(p=s[c],s[c]=l):(p=i,i=l),p&&p!==l){t.setEdge(p,l);return}l=c}})}return m1}var y1,Fk;function Die(){if(Fk)return y1;Fk=1;let n=Nie(),e=_ie(),t=kie(),r=Oie(),s=Lie(),i=rl().Graph,a=Ur();y1=l;function l(h,m){if(m&&typeof m.customOrder=="function"){m.customOrder(h,l);return}let x=a.maxRank(h),w=c(h,a.range(1,x+1),"inEdges"),A=c(h,a.range(x-1,-1,-1),"outEdges"),P=n(h);if(d(h,P),m&&m.disableOptimalOrderHeuristic)return;let S=Number.POSITIVE_INFINITY,C;for(let I=0,_=0;_<4;++I,++_){p(I%2?w:A,I%4>=2),P=a.buildLayerMatrix(h);let D=e(h,P);D<S&&(_=0,C=Object.assign({},P),S=D)}d(h,C)}function c(h,m,x){const w=new Map,A=(P,S)=>{w.has(P)||w.set(P,[]),w.get(P).push(S)};for(const P of h.nodes()){const S=h.node(P);if(typeof S.rank=="number"&&A(S.rank,P),typeof S.minRank=="number"&&typeof S.maxRank=="number")for(let C=S.minRank;C<=S.maxRank;C++)C!==S.rank&&A(C,P)}return m.map(function(P){return r(h,P,x,w.get(P)||[])})}function p(h,m){let x=new i;h.forEach(function(w){let A=w.graph().root,P=t(w,A,x,m);P.vs.forEach((S,C)=>w.node(S).order=C),s(w,x,P.vs)})}function d(h,m){Object.values(m).forEach(x=>x.forEach((w,A)=>h.node(w).order=A))}return y1}var g1,Bk;function Rie(){if(Bk)return g1;Bk=1;let n=rl().Graph,e=Ur();g1={positionX:x,findType1Conflicts:t,findType2Conflicts:r,addConflict:i,hasConflict:a,verticalAlignment:l,horizontalCompaction:c,alignCoordinates:h,findSmallestWidthAlignment:d,balance:m};function t(P,S){let C={};function I(_,D){let F=0,O=0,L=_.length,B=D[D.length-1];return D.forEach((j,M)=>{let ee=s(P,j),ue=ee?P.node(ee).order:L;(ee||j===B)&&(D.slice(O,M+1).forEach(J=>{P.predecessors(J).forEach(ae=>{let oe=P.node(ae),re=oe.order;(re<F||ue<re)&&!(oe.dummy&&P.node(J).dummy)&&i(C,ae,J)})}),O=M+1,F=ue)}),D}return S.length&&S.reduce(I),C}function r(P,S){let C={};function I(D,F,O,L,B){let j;e.range(F,O).forEach(M=>{j=D[M],P.node(j).dummy&&P.predecessors(j).forEach(ee=>{let ue=P.node(ee);ue.dummy&&(ue.order<L||ue.order>B)&&i(C,ee,j)})})}function _(D,F){let O=-1,L,B=0;return F.forEach((j,M)=>{if(P.node(j).dummy==="border"){let ee=P.predecessors(j);ee.length&&(L=P.node(ee[0]).order,I(F,B,M,O,L),B=M,O=L)}I(F,B,F.length,L,D.length)}),F}return S.length&&S.reduce(_),C}function s(P,S){if(P.node(S).dummy)return P.predecessors(S).find(C=>P.node(C).dummy)}function i(P,S,C){if(S>C){let _=S;S=C,C=_}let I=P[S];I||(P[S]=I={}),I[C]=!0}function a(P,S,C){if(S>C){let I=S;S=C,C=I}return!!P[S]&&Object.hasOwn(P[S],C)}function l(P,S,C,I){let _={},D={},F={};return S.forEach(O=>{O.forEach((L,B)=>{_[L]=L,D[L]=L,F[L]=B})}),S.forEach(O=>{let L=-1;O.forEach(B=>{let j=I(B);if(j.length){j=j.sort((ee,ue)=>F[ee]-F[ue]);let M=(j.length-1)/2;for(let ee=Math.floor(M),ue=Math.ceil(M);ee<=ue;++ee){let J=j[ee];D[B]===B&&L<F[J]&&!a(C,B,J)&&(D[J]=B,D[B]=_[B]=_[J],L=F[J])}}})}),{root:_,align:D}}function c(P,S,C,I,_){let D={},F=p(P,S,C,_),O=_?"borderLeft":"borderRight";function L(M,ee){let ue=F.nodes(),J=ue.pop(),ae={};for(;J;)ae[J]?M(J):(ae[J]=!0,ue.push(J),ue=ue.concat(ee(J))),J=ue.pop()}function B(M){D[M]=F.inEdges(M).reduce((ee,ue)=>Math.max(ee,D[ue.v]+F.edge(ue)),0)}function j(M){let ee=F.outEdges(M).reduce((J,ae)=>Math.min(J,D[ae.w]-F.edge(ae)),Number.POSITIVE_INFINITY),ue=P.node(M);ee!==Number.POSITIVE_INFINITY&&ue.borderType!==O&&(D[M]=Math.max(D[M],ee))}return L(B,F.predecessors.bind(F)),L(j,F.successors.bind(F)),Object.keys(I).forEach(M=>D[M]=D[C[M]]),D}function p(P,S,C,I){let _=new n,D=P.graph(),F=w(D.nodesep,D.edgesep,I);return S.forEach(O=>{let L;O.forEach(B=>{let j=C[B];if(_.setNode(j),L){var M=C[L],ee=_.edge(M,j);_.setEdge(M,j,Math.max(F(P,B,L),ee||0))}L=B})}),_}function d(P,S){return Object.values(S).reduce((C,I)=>{let _=Number.NEGATIVE_INFINITY,D=Number.POSITIVE_INFINITY;Object.entries(I).forEach(([O,L])=>{let B=A(P,O)/2;_=Math.max(L+B,_),D=Math.min(L-B,D)});const F=_-D;return F<C[0]&&(C=[F,I]),C},[Number.POSITIVE_INFINITY,null])[1]}function h(P,S){let C=Object.values(S),I=e.applyWithChunking(Math.min,C),_=e.applyWithChunking(Math.max,C);["u","d"].forEach(D=>{["l","r"].forEach(F=>{let O=D+F,L=P[O];if(L===S)return;let B=Object.values(L),j=I-e.applyWithChunking(Math.min,B);F!=="l"&&(j=_-e.applyWithChunking(Math.max,B)),j&&(P[O]=e.mapValues(L,M=>M+j))})})}function m(P,S){return e.mapValues(P.ul,(C,I)=>{if(S)return P[S.toLowerCase()][I];{let _=Object.values(P).map(D=>D[I]).sort((D,F)=>D-F);return(_[1]+_[2])/2}})}function x(P){let S=e.buildLayerMatrix(P),C=Object.assign(t(P,S),r(P,S)),I={},_;["u","d"].forEach(F=>{_=F==="u"?S:Object.values(S).reverse(),["l","r"].forEach(O=>{O==="r"&&(_=_.map(M=>Object.values(M).reverse()));let L=(F==="u"?P.predecessors:P.successors).bind(P),B=l(P,_,C,L),j=c(P,_,B.root,B.align,O==="r");O==="r"&&(j=e.mapValues(j,M=>-M)),I[F+O]=j})});let D=d(P,I);return h(I,D),m(I,P.graph().align)}function w(P,S,C){return(I,_,D)=>{let F=I.node(_),O=I.node(D),L=0,B;if(L+=F.width/2,Object.hasOwn(F,"labelpos"))switch(F.labelpos.toLowerCase()){case"l":B=-F.width/2;break;case"r":B=F.width/2;break}if(B&&(L+=C?B:-B),B=0,L+=(F.dummy?S:P)/2,L+=(O.dummy?S:P)/2,L+=O.width/2,Object.hasOwn(O,"labelpos"))switch(O.labelpos.toLowerCase()){case"l":B=O.width/2;break;case"r":B=-O.width/2;break}return B&&(L+=C?B:-B),B=0,L}}function A(P,S){return P.node(S).width}return g1}var x1,Vk;function Fie(){if(Vk)return x1;Vk=1;let n=Ur(),e=Rie().positionX;x1=t;function t(s){s=n.asNonCompoundGraph(s),r(s),Object.entries(e(s)).forEach(([i,a])=>s.node(i).x=a)}function r(s){let i=n.buildLayerMatrix(s),a=s.graph().ranksep,l=0;i.forEach(c=>{const p=c.reduce((d,h)=>{const m=s.node(h).height;return d>m?d:m},0);c.forEach(d=>s.node(d).y=l+p/2),l+=p+a})}return x1}var v1,jk;function Bie(){if(jk)return v1;jk=1;let n=vie(),e=Tie(),t=bie(),r=Ur().normalizeRanks,s=wie(),i=Ur().removeEmptyRanks,a=Eie(),l=Pie(),c=Aie(),p=Die(),d=Fie(),h=Ur(),m=rl().Graph;v1=x;function x(Z,se){let me=se&&se.debugTiming?h.time:h.notime;me("layout",()=>{let Ce=me("  buildLayoutGraph",()=>L(Z));me("  runLayout",()=>w(Ce,me,se)),me("  updateInputGraph",()=>A(Z,Ce))})}function w(Z,se,me){se("    makeSpaceForEdgeLabels",()=>B(Z)),se("    removeSelfEdges",()=>X(Z)),se("    acyclic",()=>n.run(Z)),se("    nestingGraph.run",()=>a.run(Z)),se("    rank",()=>t(h.asNonCompoundGraph(Z))),se("    injectEdgeLabelProxies",()=>j(Z)),se("    removeEmptyRanks",()=>i(Z)),se("    nestingGraph.cleanup",()=>a.cleanup(Z)),se("    normalizeRanks",()=>r(Z)),se("    assignRankMinMax",()=>M(Z)),se("    removeEdgeLabelProxies",()=>ee(Z)),se("    normalize.run",()=>e.run(Z)),se("    parentDummyChains",()=>s(Z)),se("    addBorderSegments",()=>l(Z)),se("    order",()=>p(Z,me)),se("    insertSelfEdges",()=>H(Z)),se("    adjustCoordinateSystem",()=>c.adjust(Z)),se("    position",()=>d(Z)),se("    positionSelfEdges",()=>Q(Z)),se("    removeBorderNodes",()=>re(Z)),se("    normalize.undo",()=>e.undo(Z)),se("    fixupEdgeLabelCoords",()=>ae(Z)),se("    undoCoordinateSystem",()=>c.undo(Z)),se("    translateGraph",()=>ue(Z)),se("    assignNodeIntersects",()=>J(Z)),se("    reversePoints",()=>oe(Z)),se("    acyclic.undo",()=>n.undo(Z))}function A(Z,se){Z.nodes().forEach(me=>{let Ce=Z.node(me),be=se.node(me);Ce&&(Ce.x=be.x,Ce.y=be.y,Ce.rank=be.rank,se.children(me).length&&(Ce.width=be.width,Ce.height=be.height))}),Z.edges().forEach(me=>{let Ce=Z.edge(me),be=se.edge(me);Ce.points=be.points,Object.hasOwn(be,"x")&&(Ce.x=be.x,Ce.y=be.y)}),Z.graph().width=se.graph().width,Z.graph().height=se.graph().height}let P=["nodesep","edgesep","ranksep","marginx","marginy"],S={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},C=["acyclicer","ranker","rankdir","align"],I=["width","height","rank"],_={width:0,height:0},D=["minlen","weight","width","height","labeloffset"],F={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},O=["labelpos"];function L(Z){let se=new m({multigraph:!0,compound:!0}),me=Y(Z.graph());return se.setGraph(Object.assign({},S,W(me,P),h.pick(me,C))),Z.nodes().forEach(Ce=>{let be=Y(Z.node(Ce));const Se=W(be,I);Object.keys(_).forEach(Le=>{Se[Le]===void 0&&(Se[Le]=_[Le])}),se.setNode(Ce,Se),se.setParent(Ce,Z.parent(Ce))}),Z.edges().forEach(Ce=>{let be=Y(Z.edge(Ce));se.setEdge(Ce,Object.assign({},F,W(be,D),h.pick(be,O)))}),se}function B(Z){let se=Z.graph();se.ranksep/=2,Z.edges().forEach(me=>{let Ce=Z.edge(me);Ce.minlen*=2,Ce.labelpos.toLowerCase()!=="c"&&(se.rankdir==="TB"||se.rankdir==="BT"?Ce.width+=Ce.labeloffset:Ce.height+=Ce.labeloffset)})}function j(Z){Z.edges().forEach(se=>{let me=Z.edge(se);if(me.width&&me.height){let Ce=Z.node(se.v),Se={rank:(Z.node(se.w).rank-Ce.rank)/2+Ce.rank,e:se};h.addDummyNode(Z,"edge-proxy",Se,"_ep")}})}function M(Z){let se=0;Z.nodes().forEach(me=>{let Ce=Z.node(me);Ce.borderTop&&(Ce.minRank=Z.node(Ce.borderTop).rank,Ce.maxRank=Z.node(Ce.borderBottom).rank,se=Math.max(se,Ce.maxRank))}),Z.graph().maxRank=se}function ee(Z){Z.nodes().forEach(se=>{let me=Z.node(se);me.dummy==="edge-proxy"&&(Z.edge(me.e).labelRank=me.rank,Z.removeNode(se))})}function ue(Z){let se=Number.POSITIVE_INFINITY,me=0,Ce=Number.POSITIVE_INFINITY,be=0,Se=Z.graph(),Le=Se.marginx||0,Ue=Se.marginy||0;function st(Ze){let it=Ze.x,pt=Ze.y,It=Ze.width,ct=Ze.height;se=Math.min(se,it-It/2),me=Math.max(me,it+It/2),Ce=Math.min(Ce,pt-ct/2),be=Math.max(be,pt+ct/2)}Z.nodes().forEach(Ze=>st(Z.node(Ze))),Z.edges().forEach(Ze=>{let it=Z.edge(Ze);Object.hasOwn(it,"x")&&st(it)}),se-=Le,Ce-=Ue,Z.nodes().forEach(Ze=>{let it=Z.node(Ze);it.x-=se,it.y-=Ce}),Z.edges().forEach(Ze=>{let it=Z.edge(Ze);it.points.forEach(pt=>{pt.x-=se,pt.y-=Ce}),Object.hasOwn(it,"x")&&(it.x-=se),Object.hasOwn(it,"y")&&(it.y-=Ce)}),Se.width=me-se+Le,Se.height=be-Ce+Ue}function J(Z){Z.edges().forEach(se=>{let me=Z.edge(se),Ce=Z.node(se.v),be=Z.node(se.w),Se,Le;me.points?(Se=me.points[0],Le=me.points[me.points.length-1]):(me.points=[],Se=be,Le=Ce),me.points.unshift(h.intersectRect(Ce,Se)),me.points.push(h.intersectRect(be,Le))})}function ae(Z){Z.edges().forEach(se=>{let me=Z.edge(se);if(Object.hasOwn(me,"x"))switch((me.labelpos==="l"||me.labelpos==="r")&&(me.width-=me.labeloffset),me.labelpos){case"l":me.x-=me.width/2+me.labeloffset;break;case"r":me.x+=me.width/2+me.labeloffset;break}})}function oe(Z){Z.edges().forEach(se=>{let me=Z.edge(se);me.reversed&&me.points.reverse()})}function re(Z){Z.nodes().forEach(se=>{if(Z.children(se).length){let me=Z.node(se),Ce=Z.node(me.borderTop),be=Z.node(me.borderBottom),Se=Z.node(me.borderLeft[me.borderLeft.length-1]),Le=Z.node(me.borderRight[me.borderRight.length-1]);me.width=Math.abs(Le.x-Se.x),me.height=Math.abs(be.y-Ce.y),me.x=Se.x+me.width/2,me.y=Ce.y+me.height/2}}),Z.nodes().forEach(se=>{Z.node(se).dummy==="border"&&Z.removeNode(se)})}function X(Z){Z.edges().forEach(se=>{if(se.v===se.w){var me=Z.node(se.v);me.selfEdges||(me.selfEdges=[]),me.selfEdges.push({e:se,label:Z.edge(se)}),Z.removeEdge(se)}})}function H(Z){var se=h.buildLayerMatrix(Z);se.forEach(me=>{var Ce=0;me.forEach((be,Se)=>{var Le=Z.node(be);Le.order=Se+Ce,(Le.selfEdges||[]).forEach(Ue=>{h.addDummyNode(Z,"selfedge",{width:Ue.label.width,height:Ue.label.height,rank:Le.rank,order:Se+ ++Ce,e:Ue.e,label:Ue.label},"_se")}),delete Le.selfEdges})})}function Q(Z){Z.nodes().forEach(se=>{var me=Z.node(se);if(me.dummy==="selfedge"){var Ce=Z.node(me.e.v),be=Ce.x+Ce.width/2,Se=Ce.y,Le=me.x-be,Ue=Ce.height/2;Z.setEdge(me.e,me.label),Z.removeNode(se),me.label.points=[{x:be+2*Le/3,y:Se-Ue},{x:be+5*Le/6,y:Se-Ue},{x:be+Le,y:Se},{x:be+5*Le/6,y:Se+Ue},{x:be+2*Le/3,y:Se+Ue}],me.label.x=me.x,me.label.y=me.y}})}function W(Z,se){return h.mapValues(h.pick(Z,se),Number)}function Y(Z){var se={};return Z&&Object.entries(Z).forEach(([me,Ce])=>{typeof me=="string"&&(me=me.toLowerCase()),se[me]=Ce}),se}return v1}var T1,zk;function Vie(){if(zk)return T1;zk=1;let n=Ur(),e=rl().Graph;T1={debugOrdering:t};function t(r){let s=n.buildLayerMatrix(r),i=new e({compound:!0,multigraph:!0}).setGraph({});return r.nodes().forEach(a=>{i.setNode(a,{label:a}),i.setParent(a,"layer"+r.node(a).rank)}),r.edges().forEach(a=>i.setEdge(a.v,a.w,{},a.name)),s.forEach((a,l)=>{let c="layer"+l;i.setNode(c,{rank:"same"}),a.reduce((p,d)=>(i.setEdge(p,d,{style:"invis"}),d))}),i}return T1}var S1,Uk;function jie(){return Uk||(Uk=1,S1="1.1.8"),S1}var b1,qk;function zie(){return qk||(qk=1,b1={graphlib:rl(),layout:Bie(),debug:Vie(),util:{time:Ur().time,notime:Ur().notime},version:jie()}),b1}var Uie=zie();const $k=wm(Uie),qie=90,$ie=40;function Wie(n,e,t="LR"){if(n.length===0)return n;const r=new $k.graphlib.Graph().setDefaultEdgeLabel(()=>({}));r.setGraph({rankdir:t,nodesep:25,ranksep:60});for(const s of n){const i=Hm(s.data.cost??0);r.setNode(s.id,{width:qie*i,height:$ie*i})}for(const s of e)r.setEdge(s.source,s.target);return $k.layout(r),n.map(s=>{const i=r.node(s.id);return i?{...s,position:{x:i.x-i.width/2,y:i.y-i.height/2}}:s})}function Hie(n){return/model\.material\.\w+Node\s*=/.test(n)}const w1=100,Wk=40;function Kie(n){const e=n.length>0?n.reduce((r,s)=>r+s.x,0)/n.length:0,t=n.length>0?n.reduce((r,s)=>r+s.y,0)/n.length:0;for(let r=1;r<20;r++)for(let s=-r;s<=r;s++)for(let i=-r;i<=r;i++){if(Math.abs(s)!==r&&Math.abs(i)!==r)continue;const a=e+s*(w1+40),l=t+i*(Wk+30);if(!n.some(p=>Math.abs(p.x-a)<w1+20&&Math.abs(p.y-l)<Wk+20))return{x:a,y:l}}return{x:e+n.length*(w1+40),y:t}}function Xie(){const n=_t(C=>C.nodes),e=_t(C=>C.edges),t=_t(C=>C.code),r=_t(C=>C.syncSource),s=_t(C=>C.syncInProgress),i=_t(C=>C.setCode),a=_t(C=>C.setNodes),l=_t(C=>C.setEdges),c=_t(C=>C.setCodeErrors),p=_t(C=>C.setTotalCost),d=_t(C=>C.setSyncInProgress),h=_t(C=>C.setActiveScript),m=_t(C=>C.codeSyncRequested),x=_e.useRef(""),w=_e.useRef(null);_e.useEffect(()=>{const C=I=>{!(I.metaKey||I.ctrlKey)||I.key.toLowerCase()!=="z"||document.activeElement?.closest(".monaco-editor")||(I.preventDefault(),I.shiftKey?_t.getState().redo():_t.getState().undo())};return window.addEventListener("keydown",C),()=>window.removeEventListener("keydown",C)},[]);const A=_e.useRef(n),P=_e.useRef(e);_e.useEffect(()=>{if(!(r!=="graph"||s)&&!(n===A.current&&e===P.current)){A.current=n,P.current=e,d(!0);try{const C=are(n,e,ds);i(C.code,"graph"),x.current=C.code}finally{d(!1),_t.getState().isUndoRedo&&_t.setState({isUndoRedo:!1})}}},[n,e,r,s,i,d]);const S=_e.useCallback((C,I=!1)=>{if(Hie(C)){h(C),c([]);return}h(null),d(!0);try{const _=tie(C,ds);if(_.errors.length===0&&_.nodes.length>0){I||_t.getState().pushHistory();const D=_t.getState().nodes,F=new Map,O=new Set,L=[];for(const ee of _.nodes){const ue=D.find(J=>!O.has(J.id)&&J.data.label===ee.data.label&&J.data.registryType===ee.data.registryType);ue&&(O.add(ue.id),F.set(ee.id,ue.id),L.push({...ee,id:ue.id,position:{...ue.position}}))}const B=[];for(const ee of _.nodes){if(F.has(ee.id))continue;const ue=D.find(J=>!O.has(J.id)&&J.data.registryType===ee.data.registryType);ue?(O.add(ue.id),F.set(ee.id,ue.id),L.push({...ee,id:ue.id,position:{...ue.position}})):B.push(ee)}const j=_.edges.map(ee=>{const ue=F.get(ee.source)??ee.source,J=F.get(ee.target)??ee.target;return{...ee,source:ue,target:J,id:`e-${ue}-${J}-${ee.targetHandle}`}});let M;if(B.length>0&&L.length===0)M=Wie([...B],j,"LR");else{if(B.length>0){const ee=L.map(ue=>ue.position);for(const ue of B)ue.position=Kie(ee),ee.push(ue.position),L.push(ue)}M=L}a(M,"code"),l(j,"code")}I||c(_.errors)}finally{d(!1)}},[a,l,c,d,h]);_e.useEffect(()=>{!m||s||(_t.setState({codeSyncRequested:!1}),x.current=t,S(t))},[m,s,S,t]),_e.useEffect(()=>{if(!s&&t!==x.current&&t.trim())return w.current&&clearTimeout(w.current),w.current=setTimeout(()=>{x.current=t,S(t,!0)},600),()=>{w.current&&clearTimeout(w.current)}},[t,s,S]),_e.useEffect(()=>{const C=kv.costs,I=n.find(D=>D.data.registryType==="output");let _=0;if(I){const D=new Set,F=[I.id];for(;F.length>0;){const O=F.shift();if(!D.has(O)){D.add(O);for(const L of e)L.target===O&&!D.has(L.source)&&F.push(L.source)}}for(const O of n)D.has(O.id)&&O.id!==I.id&&(_+=C[O.data.registryType]??0)}p(_),I&&I.data.cost!==_&&_t.setState(D=>({nodes:D.nodes.map(F=>F.id===I.id?{...F,data:{...F.data,cost:_}}:F)}))},[n,e,p])}function Gie(){return Xie(),null}function Yie(){const n=kv.costs,e=pa(),t=pa(),r=pa(),s=pa(),i=pa(),a=[{id:e,type:"shader",position:{x:0,y:100},data:{registryType:"positionGeometry",label:"Position",cost:n.positionGeometry,values:{}}},{id:t,type:"preview",position:{x:160,y:60},data:{registryType:"noise",label:"Noise",cost:n.noise,values:{}}},{id:r,type:"color",position:{x:160,y:200},data:{registryType:"color",label:"Color",cost:n.color,values:{hex:"#6C63FF"}}},{id:s,type:"shader",position:{x:320,y:120},data:{registryType:"mix",label:"Mix",cost:n.mix,values:{}}},{id:i,type:"output",position:{x:480,y:120},data:{registryType:"output",label:"Output",cost:0}}],l=[{id:qc(e,"out",t,"pos"),source:e,target:t,sourceHandle:"out",targetHandle:"pos",type:"typed",animated:!0,data:{dataType:"vec3"}},{id:qc(t,"out",s,"t"),source:t,target:s,sourceHandle:"out",targetHandle:"t",type:"typed",animated:!0,data:{dataType:"float"}},{id:qc(r,"out",s,"a"),source:r,target:s,sourceHandle:"out",targetHandle:"a",type:"typed",animated:!0,data:{dataType:"color"}},{id:qc(s,"out",i,"color"),source:s,target:i,sourceHandle:"out",targetHandle:"color",type:"typed",animated:!0,data:{dataType:"any"}}];return{nodes:a,edges:l}}function Jie(){const n=_e.useRef(!1);return _e.useEffect(()=>{if(n.current)return;n.current=!0;const e=E7(),{nodes:t,edges:r}=e??Yie();_t.getState().setNodes(t,"graph"),_t.getState().setEdges(r,"graph")},[]),he.jsxs(M3,{children:[he.jsx(Gie,{}),he.jsx(sre,{})]})}c5.createRoot(document.getElementById("root")).render(he.jsx(Ha.StrictMode,{children:he.jsx(Jie,{})}));
